[2025-09-01 11:13:09] [DATABASE ERROR] Preparando query: 
            SELECT 
                p.id, 
                p.nome, 
                p.estoque_atual, 
                c.nome AS categoria, 
                f.razao_social AS fornecedor
            FROM produtos p
            LEFT JOIN categorias c ON p.categoria_id = c.id
            LEFT JOIN fornecedores f ON p.fornecedor_principal_id = f.id
            WHERE p.ativo = TRUE
                AND (:produto_id_null IS NULL OR p.id = :produto_id)
                AND (:categoria_id_null IS NULL OR p.categoria_id = :categoria_id)
                AND (:fornecedor_id_null IS NULL OR p.fornecedor_principal_id = :fornecedor_id)
            ORDER BY p.nome ASC;
         com parâmetros: {":produto_id_null":null,":produto_id":null,":categoria_id_null":null,":categoria_id":null,":fornecedor_id_null":null,":fornecedor_id":null}
[2025-09-01 11:13:09] [DATABASE ERROR] Parâmetro associado: :produto_id_null = NULL (tipo: 0)
[2025-09-01 11:13:09] [DATABASE ERROR] Parâmetro associado: :produto_id = NULL (tipo: 0)
[2025-09-01 11:13:09] [DATABASE ERROR] Parâmetro associado: :categoria_id_null = NULL (tipo: 0)
[2025-09-01 11:13:09] [DATABASE ERROR] Parâmetro associado: :categoria_id = NULL (tipo: 0)
[2025-09-01 11:13:09] [DATABASE ERROR] Parâmetro associado: :fornecedor_id_null = NULL (tipo: 0)
[2025-09-01 11:13:09] [DATABASE ERROR] Parâmetro associado: :fornecedor_id = NULL (tipo: 0)
[2025-09-01 11:13:09] [DATABASE ERROR] Debug PDO após binding: SQL: [684] 
            SELECT 
                p.id, 
                p.nome, 
                p.estoque_atual, 
                c.nome AS categoria, 
                f.razao_social AS fornecedor
            FROM produtos p
            LEFT JOIN categorias c ON p.categoria_id = c.id
            LEFT JOIN fornecedores f ON p.fornecedor_principal_id = f.id
            WHERE p.ativo = TRUE
                AND (:produto_id_null IS NULL OR p.id = :produto_id)
                AND (:categoria_id_null IS NULL OR p.categoria_id = :categoria_id)
                AND (:fornecedor_id_null IS NULL OR p.fornecedor_principal_id = :fornecedor_id)
            ORDER BY p.nome ASC;
        
Params:  6
Key: Name: [16] :produto_id_null
paramno=0
name=[16] ":produto_id_null"
is_param=1
param_type=0
Key: Name: [11] :produto_id
paramno=1
name=[11] ":produto_id"
is_param=1
param_type=0
Key: Name: [18] :categoria_id_null
paramno=2
name=[18] ":categoria_id_null"
is_param=1
param_type=0
Key: Name: [13] :categoria_id
paramno=3
name=[13] ":categoria_id"
is_param=1
param_type=0
Key: Name: [19] :fornecedor_id_null
paramno=4
name=[19] ":fornecedor_id_null"
is_param=1
param_type=0
Key: Name: [14] :fornecedor_id
paramno=5
name=[14] ":fornecedor_id"
is_param=1
param_type=0

[2025-09-01 11:13:09] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
         com parâmetros: {":produto_id":6,":data_fim_a":"2025-08-30",":data_fim":"2025-08-30"}
[2025-09-01 11:13:09] [DATABASE ERROR] Parâmetro associado: :produto_id = 6 (tipo: 1)
[2025-09-01 11:13:09] [DATABASE ERROR] Parâmetro associado: :data_fim_a = 2025-08-30 (tipo: 2)
[2025-09-01 11:13:09] [DATABASE ERROR] Parâmetro associado: :data_fim = 2025-08-30 (tipo: 2)
[2025-09-01 11:13:09] [DATABASE ERROR] Debug PDO após binding: SQL: [538] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=2
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=2

[2025-09-01 11:13:09] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":6}
[2025-09-01 11:13:09] [DATABASE ERROR] Parâmetro associado: :id = 6 (tipo: 1)
[2025-09-01 11:13:09] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-01 11:13:09] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
         com parâmetros: {":produto_id":3,":data_fim_a":"2025-08-30",":data_fim":"2025-08-30"}
[2025-09-01 11:13:09] [DATABASE ERROR] Parâmetro associado: :produto_id = 3 (tipo: 1)
[2025-09-01 11:13:09] [DATABASE ERROR] Parâmetro associado: :data_fim_a = 2025-08-30 (tipo: 2)
[2025-09-01 11:13:09] [DATABASE ERROR] Parâmetro associado: :data_fim = 2025-08-30 (tipo: 2)
[2025-09-01 11:13:09] [DATABASE ERROR] Debug PDO após binding: SQL: [538] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=2
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=2

[2025-09-01 11:13:09] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":3}
[2025-09-01 11:13:09] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-01 11:13:09] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-01 11:13:09] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
         com parâmetros: {":produto_id":4,":data_fim_a":"2025-08-30",":data_fim":"2025-08-30"}
[2025-09-01 11:13:09] [DATABASE ERROR] Parâmetro associado: :produto_id = 4 (tipo: 1)
[2025-09-01 11:13:09] [DATABASE ERROR] Parâmetro associado: :data_fim_a = 2025-08-30 (tipo: 2)
[2025-09-01 11:13:09] [DATABASE ERROR] Parâmetro associado: :data_fim = 2025-08-30 (tipo: 2)
[2025-09-01 11:13:09] [DATABASE ERROR] Debug PDO após binding: SQL: [538] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=2
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=2

[2025-09-01 11:13:09] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":4}
[2025-09-01 11:13:09] [DATABASE ERROR] Parâmetro associado: :id = 4 (tipo: 1)
[2025-09-01 11:13:09] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-01 11:13:09] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
         com parâmetros: {":produto_id":5,":data_fim_a":"2025-08-30",":data_fim":"2025-08-30"}
[2025-09-01 11:13:09] [DATABASE ERROR] Parâmetro associado: :produto_id = 5 (tipo: 1)
[2025-09-01 11:13:09] [DATABASE ERROR] Parâmetro associado: :data_fim_a = 2025-08-30 (tipo: 2)
[2025-09-01 11:13:09] [DATABASE ERROR] Parâmetro associado: :data_fim = 2025-08-30 (tipo: 2)
[2025-09-01 11:13:09] [DATABASE ERROR] Debug PDO após binding: SQL: [538] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=2
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=2

[2025-09-01 11:13:09] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":5}
[2025-09-01 11:13:09] [DATABASE ERROR] Parâmetro associado: :id = 5 (tipo: 1)
[2025-09-01 11:13:09] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-01 11:13:09] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
         com parâmetros: {":produto_id":2,":data_fim_a":"2025-08-30",":data_fim":"2025-08-30"}
[2025-09-01 11:13:09] [DATABASE ERROR] Parâmetro associado: :produto_id = 2 (tipo: 1)
[2025-09-01 11:13:09] [DATABASE ERROR] Parâmetro associado: :data_fim_a = 2025-08-30 (tipo: 2)
[2025-09-01 11:13:09] [DATABASE ERROR] Parâmetro associado: :data_fim = 2025-08-30 (tipo: 2)
[2025-09-01 11:13:09] [DATABASE ERROR] Debug PDO após binding: SQL: [538] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=2
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=2

[2025-09-01 11:13:09] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":2}
[2025-09-01 11:13:09] [DATABASE ERROR] Parâmetro associado: :id = 2 (tipo: 1)
[2025-09-01 11:13:09] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-01 11:15:07] [DATABASE ERROR] Preparando query: 
            SELECT 
                p.id, 
                p.nome, 
                p.estoque_atual, 
                c.nome AS categoria, 
                f.razao_social AS fornecedor
            FROM produtos p
            LEFT JOIN categorias c ON p.categoria_id = c.id
            LEFT JOIN fornecedores f ON p.fornecedor_principal_id = f.id
            WHERE p.ativo = TRUE
                AND (:produto_id_null IS NULL OR p.id = :produto_id)
                AND (:categoria_id_null IS NULL OR p.categoria_id = :categoria_id)
                AND (:fornecedor_id_null IS NULL OR p.fornecedor_principal_id = :fornecedor_id)
            ORDER BY p.nome ASC;
         com parâmetros: {":produto_id_null":null,":produto_id":null,":categoria_id_null":null,":categoria_id":null,":fornecedor_id_null":null,":fornecedor_id":null}
[2025-09-01 11:15:07] [DATABASE ERROR] Parâmetro associado: :produto_id_null = NULL (tipo: 0)
[2025-09-01 11:15:07] [DATABASE ERROR] Parâmetro associado: :produto_id = NULL (tipo: 0)
[2025-09-01 11:15:07] [DATABASE ERROR] Parâmetro associado: :categoria_id_null = NULL (tipo: 0)
[2025-09-01 11:15:07] [DATABASE ERROR] Parâmetro associado: :categoria_id = NULL (tipo: 0)
[2025-09-01 11:15:07] [DATABASE ERROR] Parâmetro associado: :fornecedor_id_null = NULL (tipo: 0)
[2025-09-01 11:15:07] [DATABASE ERROR] Parâmetro associado: :fornecedor_id = NULL (tipo: 0)
[2025-09-01 11:15:07] [DATABASE ERROR] Debug PDO após binding: SQL: [684] 
            SELECT 
                p.id, 
                p.nome, 
                p.estoque_atual, 
                c.nome AS categoria, 
                f.razao_social AS fornecedor
            FROM produtos p
            LEFT JOIN categorias c ON p.categoria_id = c.id
            LEFT JOIN fornecedores f ON p.fornecedor_principal_id = f.id
            WHERE p.ativo = TRUE
                AND (:produto_id_null IS NULL OR p.id = :produto_id)
                AND (:categoria_id_null IS NULL OR p.categoria_id = :categoria_id)
                AND (:fornecedor_id_null IS NULL OR p.fornecedor_principal_id = :fornecedor_id)
            ORDER BY p.nome ASC;
        
Params:  6
Key: Name: [16] :produto_id_null
paramno=0
name=[16] ":produto_id_null"
is_param=1
param_type=0
Key: Name: [11] :produto_id
paramno=1
name=[11] ":produto_id"
is_param=1
param_type=0
Key: Name: [18] :categoria_id_null
paramno=2
name=[18] ":categoria_id_null"
is_param=1
param_type=0
Key: Name: [13] :categoria_id
paramno=3
name=[13] ":categoria_id"
is_param=1
param_type=0
Key: Name: [19] :fornecedor_id_null
paramno=4
name=[19] ":fornecedor_id_null"
is_param=1
param_type=0
Key: Name: [14] :fornecedor_id
paramno=5
name=[14] ":fornecedor_id"
is_param=1
param_type=0

[2025-09-01 11:16:06] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
         com parâmetros: {":produto_id":6,":data_fim_a":"2025-08-30",":data_fim":"2025-08-30"}
[2025-09-01 11:16:06] [DATABASE ERROR] Parâmetro associado: :produto_id = 6 (tipo: 1)
[2025-09-01 11:16:06] [DATABASE ERROR] Parâmetro associado: :data_fim_a = 2025-08-30 (tipo: 2)
[2025-09-01 11:16:06] [DATABASE ERROR] Parâmetro associado: :data_fim = 2025-08-30 (tipo: 2)
[2025-09-01 11:16:06] [DATABASE ERROR] Debug PDO após binding: SQL: [538] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=2
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=2

[2025-09-01 11:16:06] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":6}
[2025-09-01 11:16:06] [DATABASE ERROR] Parâmetro associado: :id = 6 (tipo: 1)
[2025-09-01 11:16:06] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-01 11:16:07] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
         com parâmetros: {":produto_id":3,":data_fim_a":"2025-08-30",":data_fim":"2025-08-30"}
[2025-09-01 11:16:07] [DATABASE ERROR] Parâmetro associado: :produto_id = 3 (tipo: 1)
[2025-09-01 11:16:07] [DATABASE ERROR] Parâmetro associado: :data_fim_a = 2025-08-30 (tipo: 2)
[2025-09-01 11:16:07] [DATABASE ERROR] Parâmetro associado: :data_fim = 2025-08-30 (tipo: 2)
[2025-09-01 11:16:07] [DATABASE ERROR] Debug PDO após binding: SQL: [538] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=2
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=2

[2025-09-01 11:16:07] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":3}
[2025-09-01 11:16:07] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-01 11:16:07] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-01 11:16:08] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
         com parâmetros: {":produto_id":4,":data_fim_a":"2025-08-30",":data_fim":"2025-08-30"}
[2025-09-01 11:16:08] [DATABASE ERROR] Parâmetro associado: :produto_id = 4 (tipo: 1)
[2025-09-01 11:16:08] [DATABASE ERROR] Parâmetro associado: :data_fim_a = 2025-08-30 (tipo: 2)
[2025-09-01 11:16:08] [DATABASE ERROR] Parâmetro associado: :data_fim = 2025-08-30 (tipo: 2)
[2025-09-01 11:16:08] [DATABASE ERROR] Debug PDO após binding: SQL: [538] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=2
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=2

[2025-09-01 11:16:08] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":4}
[2025-09-01 11:16:08] [DATABASE ERROR] Parâmetro associado: :id = 4 (tipo: 1)
[2025-09-01 11:16:08] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-01 11:16:08] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
         com parâmetros: {":produto_id":5,":data_fim_a":"2025-08-30",":data_fim":"2025-08-30"}
[2025-09-01 11:16:08] [DATABASE ERROR] Parâmetro associado: :produto_id = 5 (tipo: 1)
[2025-09-01 11:16:08] [DATABASE ERROR] Parâmetro associado: :data_fim_a = 2025-08-30 (tipo: 2)
[2025-09-01 11:16:08] [DATABASE ERROR] Parâmetro associado: :data_fim = 2025-08-30 (tipo: 2)
[2025-09-01 11:16:08] [DATABASE ERROR] Debug PDO após binding: SQL: [538] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=2
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=2

[2025-09-01 11:16:08] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":5}
[2025-09-01 11:16:08] [DATABASE ERROR] Parâmetro associado: :id = 5 (tipo: 1)
[2025-09-01 11:16:08] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-01 11:16:08] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
         com parâmetros: {":produto_id":2,":data_fim_a":"2025-08-30",":data_fim":"2025-08-30"}
[2025-09-01 11:16:08] [DATABASE ERROR] Parâmetro associado: :produto_id = 2 (tipo: 1)
[2025-09-01 11:16:08] [DATABASE ERROR] Parâmetro associado: :data_fim_a = 2025-08-30 (tipo: 2)
[2025-09-01 11:16:08] [DATABASE ERROR] Parâmetro associado: :data_fim = 2025-08-30 (tipo: 2)
[2025-09-01 11:16:08] [DATABASE ERROR] Debug PDO após binding: SQL: [538] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=2
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=2

[2025-09-01 11:16:08] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":2}
[2025-09-01 11:16:08] [DATABASE ERROR] Parâmetro associado: :id = 2 (tipo: 1)
[2025-09-01 11:16:08] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-01 11:16:52] [DATABASE ERROR] Preparando query: 
            SELECT 
                p.id, 
                p.nome, 
                p.estoque_atual, 
                c.nome AS categoria, 
                f.razao_social AS fornecedor
            FROM produtos p
            LEFT JOIN categorias c ON p.categoria_id = c.id
            LEFT JOIN fornecedores f ON p.fornecedor_principal_id = f.id
            WHERE p.ativo = TRUE
                AND (:produto_id_null IS NULL OR p.id = :produto_id)
                AND (:categoria_id_null IS NULL OR p.categoria_id = :categoria_id)
                AND (:fornecedor_id_null IS NULL OR p.fornecedor_principal_id = :fornecedor_id)
            ORDER BY p.nome ASC;
         com parâmetros: {":produto_id_null":null,":produto_id":null,":categoria_id_null":null,":categoria_id":null,":fornecedor_id_null":null,":fornecedor_id":null}
[2025-09-01 11:16:52] [DATABASE ERROR] Parâmetro associado: :produto_id_null = NULL (tipo: 0)
[2025-09-01 11:16:52] [DATABASE ERROR] Parâmetro associado: :produto_id = NULL (tipo: 0)
[2025-09-01 11:16:52] [DATABASE ERROR] Parâmetro associado: :categoria_id_null = NULL (tipo: 0)
[2025-09-01 11:16:52] [DATABASE ERROR] Parâmetro associado: :categoria_id = NULL (tipo: 0)
[2025-09-01 11:16:52] [DATABASE ERROR] Parâmetro associado: :fornecedor_id_null = NULL (tipo: 0)
[2025-09-01 11:16:52] [DATABASE ERROR] Parâmetro associado: :fornecedor_id = NULL (tipo: 0)
[2025-09-01 11:16:52] [DATABASE ERROR] Debug PDO após binding: SQL: [684] 
            SELECT 
                p.id, 
                p.nome, 
                p.estoque_atual, 
                c.nome AS categoria, 
                f.razao_social AS fornecedor
            FROM produtos p
            LEFT JOIN categorias c ON p.categoria_id = c.id
            LEFT JOIN fornecedores f ON p.fornecedor_principal_id = f.id
            WHERE p.ativo = TRUE
                AND (:produto_id_null IS NULL OR p.id = :produto_id)
                AND (:categoria_id_null IS NULL OR p.categoria_id = :categoria_id)
                AND (:fornecedor_id_null IS NULL OR p.fornecedor_principal_id = :fornecedor_id)
            ORDER BY p.nome ASC;
        
Params:  6
Key: Name: [16] :produto_id_null
paramno=0
name=[16] ":produto_id_null"
is_param=1
param_type=0
Key: Name: [11] :produto_id
paramno=1
name=[11] ":produto_id"
is_param=1
param_type=0
Key: Name: [18] :categoria_id_null
paramno=2
name=[18] ":categoria_id_null"
is_param=1
param_type=0
Key: Name: [13] :categoria_id
paramno=3
name=[13] ":categoria_id"
is_param=1
param_type=0
Key: Name: [19] :fornecedor_id_null
paramno=4
name=[19] ":fornecedor_id_null"
is_param=1
param_type=0
Key: Name: [14] :fornecedor_id
paramno=5
name=[14] ":fornecedor_id"
is_param=1
param_type=0

[2025-09-01 11:17:00] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
         com parâmetros: {":produto_id":6,":data_fim_a":"2025-08-30",":data_fim":"2025-08-30"}
[2025-09-01 11:17:00] [DATABASE ERROR] Parâmetro associado: :produto_id = 6 (tipo: 1)
[2025-09-01 11:17:00] [DATABASE ERROR] Parâmetro associado: :data_fim_a = 2025-08-30 (tipo: 2)
[2025-09-01 11:17:00] [DATABASE ERROR] Parâmetro associado: :data_fim = 2025-08-30 (tipo: 2)
[2025-09-01 11:17:00] [DATABASE ERROR] Debug PDO após binding: SQL: [538] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=2
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=2

[2025-09-01 11:17:00] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":6}
[2025-09-01 11:17:00] [DATABASE ERROR] Parâmetro associado: :id = 6 (tipo: 1)
[2025-09-01 11:17:00] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-01 11:17:00] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
         com parâmetros: {":produto_id":3,":data_fim_a":"2025-08-30",":data_fim":"2025-08-30"}
[2025-09-01 11:17:00] [DATABASE ERROR] Parâmetro associado: :produto_id = 3 (tipo: 1)
[2025-09-01 11:17:00] [DATABASE ERROR] Parâmetro associado: :data_fim_a = 2025-08-30 (tipo: 2)
[2025-09-01 11:17:00] [DATABASE ERROR] Parâmetro associado: :data_fim = 2025-08-30 (tipo: 2)
[2025-09-01 11:17:00] [DATABASE ERROR] Debug PDO após binding: SQL: [538] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=2
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=2

[2025-09-01 11:17:00] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":3}
[2025-09-01 11:17:00] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-01 11:17:00] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-01 11:17:00] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
         com parâmetros: {":produto_id":4,":data_fim_a":"2025-08-30",":data_fim":"2025-08-30"}
[2025-09-01 11:17:00] [DATABASE ERROR] Parâmetro associado: :produto_id = 4 (tipo: 1)
[2025-09-01 11:17:00] [DATABASE ERROR] Parâmetro associado: :data_fim_a = 2025-08-30 (tipo: 2)
[2025-09-01 11:17:00] [DATABASE ERROR] Parâmetro associado: :data_fim = 2025-08-30 (tipo: 2)
[2025-09-01 11:17:00] [DATABASE ERROR] Debug PDO após binding: SQL: [538] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=2
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=2

[2025-09-01 11:17:00] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":4}
[2025-09-01 11:17:00] [DATABASE ERROR] Parâmetro associado: :id = 4 (tipo: 1)
[2025-09-01 11:17:00] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-01 11:17:00] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
         com parâmetros: {":produto_id":5,":data_fim_a":"2025-08-30",":data_fim":"2025-08-30"}
[2025-09-01 11:17:00] [DATABASE ERROR] Parâmetro associado: :produto_id = 5 (tipo: 1)
[2025-09-01 11:17:00] [DATABASE ERROR] Parâmetro associado: :data_fim_a = 2025-08-30 (tipo: 2)
[2025-09-01 11:17:00] [DATABASE ERROR] Parâmetro associado: :data_fim = 2025-08-30 (tipo: 2)
[2025-09-01 11:17:00] [DATABASE ERROR] Debug PDO após binding: SQL: [538] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=2
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=2

[2025-09-01 11:17:00] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":5}
[2025-09-01 11:17:00] [DATABASE ERROR] Parâmetro associado: :id = 5 (tipo: 1)
[2025-09-01 11:17:00] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-01 11:17:00] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
         com parâmetros: {":produto_id":2,":data_fim_a":"2025-08-30",":data_fim":"2025-08-30"}
[2025-09-01 11:17:00] [DATABASE ERROR] Parâmetro associado: :produto_id = 2 (tipo: 1)
[2025-09-01 11:17:00] [DATABASE ERROR] Parâmetro associado: :data_fim_a = 2025-08-30 (tipo: 2)
[2025-09-01 11:17:00] [DATABASE ERROR] Parâmetro associado: :data_fim = 2025-08-30 (tipo: 2)
[2025-09-01 11:17:00] [DATABASE ERROR] Debug PDO após binding: SQL: [538] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=2
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=2

[2025-09-01 11:17:00] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":2}
[2025-09-01 11:17:00] [DATABASE ERROR] Parâmetro associado: :id = 2 (tipo: 1)
[2025-09-01 11:17:00] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-01 11:21:11] [DATABASE ERROR] Preparando query: 
            SELECT 
                p.id, 
                p.nome, 
                p.estoque_atual, 
                c.nome AS categoria, 
                f.razao_social AS fornecedor
            FROM produtos p
            LEFT JOIN categorias c ON p.categoria_id = c.id
            LEFT JOIN fornecedores f ON p.fornecedor_principal_id = f.id
            WHERE p.ativo = TRUE
                AND (:produto_id_null IS NULL OR p.id = :produto_id)
                AND (:categoria_id_null IS NULL OR p.categoria_id = :categoria_id)
                AND (:fornecedor_id_null IS NULL OR p.fornecedor_principal_id = :fornecedor_id)
            ORDER BY p.nome ASC;
         com parâmetros: {":produto_id_null":null,":produto_id":null,":categoria_id_null":null,":categoria_id":null,":fornecedor_id_null":null,":fornecedor_id":null}
[2025-09-01 11:21:11] [DATABASE ERROR] Parâmetro associado: :produto_id_null = NULL (tipo: 0)
[2025-09-01 11:21:11] [DATABASE ERROR] Parâmetro associado: :produto_id = NULL (tipo: 0)
[2025-09-01 11:21:11] [DATABASE ERROR] Parâmetro associado: :categoria_id_null = NULL (tipo: 0)
[2025-09-01 11:21:11] [DATABASE ERROR] Parâmetro associado: :categoria_id = NULL (tipo: 0)
[2025-09-01 11:21:11] [DATABASE ERROR] Parâmetro associado: :fornecedor_id_null = NULL (tipo: 0)
[2025-09-01 11:21:11] [DATABASE ERROR] Parâmetro associado: :fornecedor_id = NULL (tipo: 0)
[2025-09-01 11:21:11] [DATABASE ERROR] Debug PDO após binding: SQL: [684] 
            SELECT 
                p.id, 
                p.nome, 
                p.estoque_atual, 
                c.nome AS categoria, 
                f.razao_social AS fornecedor
            FROM produtos p
            LEFT JOIN categorias c ON p.categoria_id = c.id
            LEFT JOIN fornecedores f ON p.fornecedor_principal_id = f.id
            WHERE p.ativo = TRUE
                AND (:produto_id_null IS NULL OR p.id = :produto_id)
                AND (:categoria_id_null IS NULL OR p.categoria_id = :categoria_id)
                AND (:fornecedor_id_null IS NULL OR p.fornecedor_principal_id = :fornecedor_id)
            ORDER BY p.nome ASC;
        
Params:  6
Key: Name: [16] :produto_id_null
paramno=0
name=[16] ":produto_id_null"
is_param=1
param_type=0
Key: Name: [11] :produto_id
paramno=1
name=[11] ":produto_id"
is_param=1
param_type=0
Key: Name: [18] :categoria_id_null
paramno=2
name=[18] ":categoria_id_null"
is_param=1
param_type=0
Key: Name: [13] :categoria_id
paramno=3
name=[13] ":categoria_id"
is_param=1
param_type=0
Key: Name: [19] :fornecedor_id_null
paramno=4
name=[19] ":fornecedor_id_null"
is_param=1
param_type=0
Key: Name: [14] :fornecedor_id
paramno=5
name=[14] ":fornecedor_id"
is_param=1
param_type=0

[2025-09-01 11:21:11] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
         com parâmetros: {":produto_id":6,":data_fim_a":"2025-08-30",":data_fim":"2025-08-30"}
[2025-09-01 11:21:11] [DATABASE ERROR] Parâmetro associado: :produto_id = 6 (tipo: 1)
[2025-09-01 11:21:11] [DATABASE ERROR] Parâmetro associado: :data_fim_a = 2025-08-30 (tipo: 2)
[2025-09-01 11:21:11] [DATABASE ERROR] Parâmetro associado: :data_fim = 2025-08-30 (tipo: 2)
[2025-09-01 11:21:11] [DATABASE ERROR] Debug PDO após binding: SQL: [538] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=2
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=2

[2025-09-01 11:21:11] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":6}
[2025-09-01 11:21:11] [DATABASE ERROR] Parâmetro associado: :id = 6 (tipo: 1)
[2025-09-01 11:21:11] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-01 11:21:11] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
         com parâmetros: {":produto_id":3,":data_fim_a":"2025-08-30",":data_fim":"2025-08-30"}
[2025-09-01 11:21:11] [DATABASE ERROR] Parâmetro associado: :produto_id = 3 (tipo: 1)
[2025-09-01 11:21:11] [DATABASE ERROR] Parâmetro associado: :data_fim_a = 2025-08-30 (tipo: 2)
[2025-09-01 11:21:11] [DATABASE ERROR] Parâmetro associado: :data_fim = 2025-08-30 (tipo: 2)
[2025-09-01 11:21:11] [DATABASE ERROR] Debug PDO após binding: SQL: [538] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=2
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=2

[2025-09-01 11:21:11] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":3}
[2025-09-01 11:21:11] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-01 11:21:11] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-01 11:21:11] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
         com parâmetros: {":produto_id":4,":data_fim_a":"2025-08-30",":data_fim":"2025-08-30"}
[2025-09-01 11:21:11] [DATABASE ERROR] Parâmetro associado: :produto_id = 4 (tipo: 1)
[2025-09-01 11:21:11] [DATABASE ERROR] Parâmetro associado: :data_fim_a = 2025-08-30 (tipo: 2)
[2025-09-01 11:21:11] [DATABASE ERROR] Parâmetro associado: :data_fim = 2025-08-30 (tipo: 2)
[2025-09-01 11:21:11] [DATABASE ERROR] Debug PDO após binding: SQL: [538] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=2
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=2

[2025-09-01 11:21:11] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":4}
[2025-09-01 11:21:11] [DATABASE ERROR] Parâmetro associado: :id = 4 (tipo: 1)
[2025-09-01 11:21:11] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-01 11:21:11] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
         com parâmetros: {":produto_id":5,":data_fim_a":"2025-08-30",":data_fim":"2025-08-30"}
[2025-09-01 11:21:11] [DATABASE ERROR] Parâmetro associado: :produto_id = 5 (tipo: 1)
[2025-09-01 11:21:11] [DATABASE ERROR] Parâmetro associado: :data_fim_a = 2025-08-30 (tipo: 2)
[2025-09-01 11:21:11] [DATABASE ERROR] Parâmetro associado: :data_fim = 2025-08-30 (tipo: 2)
[2025-09-01 11:21:11] [DATABASE ERROR] Debug PDO após binding: SQL: [538] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=2
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=2

[2025-09-01 11:21:11] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":5}
[2025-09-01 11:21:11] [DATABASE ERROR] Parâmetro associado: :id = 5 (tipo: 1)
[2025-09-01 11:21:11] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-01 11:21:11] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
         com parâmetros: {":produto_id":2,":data_fim_a":"2025-08-30",":data_fim":"2025-08-30"}
[2025-09-01 11:21:11] [DATABASE ERROR] Parâmetro associado: :produto_id = 2 (tipo: 1)
[2025-09-01 11:21:11] [DATABASE ERROR] Parâmetro associado: :data_fim_a = 2025-08-30 (tipo: 2)
[2025-09-01 11:21:11] [DATABASE ERROR] Parâmetro associado: :data_fim = 2025-08-30 (tipo: 2)
[2025-09-01 11:21:11] [DATABASE ERROR] Debug PDO após binding: SQL: [538] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=2
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=2

[2025-09-01 11:21:11] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":2}
[2025-09-01 11:21:11] [DATABASE ERROR] Parâmetro associado: :id = 2 (tipo: 1)
[2025-09-01 11:21:11] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-01 11:23:10] [DATABASE ERROR] Preparando query: 
            SELECT 
                p.id, 
                p.nome, 
                p.estoque_atual, 
                c.nome AS categoria, 
                f.razao_social AS fornecedor
            FROM produtos p
            LEFT JOIN categorias c ON p.categoria_id = c.id
            LEFT JOIN fornecedores f ON p.fornecedor_principal_id = f.id
            WHERE p.ativo = TRUE
                AND (:produto_id_null IS NULL OR p.id = :produto_id)
                AND (:categoria_id_null IS NULL OR p.categoria_id = :categoria_id)
                AND (:fornecedor_id_null IS NULL OR p.fornecedor_principal_id = :fornecedor_id)
            ORDER BY p.nome ASC;
         com parâmetros: {":produto_id_null":null,":produto_id":null,":categoria_id_null":null,":categoria_id":null,":fornecedor_id_null":null,":fornecedor_id":null}
[2025-09-01 11:23:10] [DATABASE ERROR] Parâmetro associado: :produto_id_null = NULL (tipo: 0)
[2025-09-01 11:23:10] [DATABASE ERROR] Parâmetro associado: :produto_id = NULL (tipo: 0)
[2025-09-01 11:23:10] [DATABASE ERROR] Parâmetro associado: :categoria_id_null = NULL (tipo: 0)
[2025-09-01 11:23:10] [DATABASE ERROR] Parâmetro associado: :categoria_id = NULL (tipo: 0)
[2025-09-01 11:23:10] [DATABASE ERROR] Parâmetro associado: :fornecedor_id_null = NULL (tipo: 0)
[2025-09-01 11:23:10] [DATABASE ERROR] Parâmetro associado: :fornecedor_id = NULL (tipo: 0)
[2025-09-01 11:23:10] [DATABASE ERROR] Debug PDO após binding: SQL: [684] 
            SELECT 
                p.id, 
                p.nome, 
                p.estoque_atual, 
                c.nome AS categoria, 
                f.razao_social AS fornecedor
            FROM produtos p
            LEFT JOIN categorias c ON p.categoria_id = c.id
            LEFT JOIN fornecedores f ON p.fornecedor_principal_id = f.id
            WHERE p.ativo = TRUE
                AND (:produto_id_null IS NULL OR p.id = :produto_id)
                AND (:categoria_id_null IS NULL OR p.categoria_id = :categoria_id)
                AND (:fornecedor_id_null IS NULL OR p.fornecedor_principal_id = :fornecedor_id)
            ORDER BY p.nome ASC;
        
Params:  6
Key: Name: [16] :produto_id_null
paramno=0
name=[16] ":produto_id_null"
is_param=1
param_type=0
Key: Name: [11] :produto_id
paramno=1
name=[11] ":produto_id"
is_param=1
param_type=0
Key: Name: [18] :categoria_id_null
paramno=2
name=[18] ":categoria_id_null"
is_param=1
param_type=0
Key: Name: [13] :categoria_id
paramno=3
name=[13] ":categoria_id"
is_param=1
param_type=0
Key: Name: [19] :fornecedor_id_null
paramno=4
name=[19] ":fornecedor_id_null"
is_param=1
param_type=0
Key: Name: [14] :fornecedor_id
paramno=5
name=[14] ":fornecedor_id"
is_param=1
param_type=0

[2025-09-01 11:23:10] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
         com parâmetros: {":produto_id":6,":data_fim_a":"2025-08-30",":data_fim":"2025-08-30"}
[2025-09-01 11:23:10] [DATABASE ERROR] Parâmetro associado: :produto_id = 6 (tipo: 1)
[2025-09-01 11:23:10] [DATABASE ERROR] Parâmetro associado: :data_fim_a = 2025-08-30 (tipo: 2)
[2025-09-01 11:23:10] [DATABASE ERROR] Parâmetro associado: :data_fim = 2025-08-30 (tipo: 2)
[2025-09-01 11:23:10] [DATABASE ERROR] Debug PDO após binding: SQL: [538] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=2
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=2

[2025-09-01 11:23:10] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":6}
[2025-09-01 11:23:10] [DATABASE ERROR] Parâmetro associado: :id = 6 (tipo: 1)
[2025-09-01 11:23:10] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-01 11:23:10] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
         com parâmetros: {":produto_id":3,":data_fim_a":"2025-08-30",":data_fim":"2025-08-30"}
[2025-09-01 11:23:10] [DATABASE ERROR] Parâmetro associado: :produto_id = 3 (tipo: 1)
[2025-09-01 11:23:10] [DATABASE ERROR] Parâmetro associado: :data_fim_a = 2025-08-30 (tipo: 2)
[2025-09-01 11:23:10] [DATABASE ERROR] Parâmetro associado: :data_fim = 2025-08-30 (tipo: 2)
[2025-09-01 11:23:10] [DATABASE ERROR] Debug PDO após binding: SQL: [538] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=2
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=2

[2025-09-01 11:23:10] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":3}
[2025-09-01 11:23:10] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-01 11:23:10] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-01 11:23:10] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
         com parâmetros: {":produto_id":4,":data_fim_a":"2025-08-30",":data_fim":"2025-08-30"}
[2025-09-01 11:23:10] [DATABASE ERROR] Parâmetro associado: :produto_id = 4 (tipo: 1)
[2025-09-01 11:23:10] [DATABASE ERROR] Parâmetro associado: :data_fim_a = 2025-08-30 (tipo: 2)
[2025-09-01 11:23:10] [DATABASE ERROR] Parâmetro associado: :data_fim = 2025-08-30 (tipo: 2)
[2025-09-01 11:23:10] [DATABASE ERROR] Debug PDO após binding: SQL: [538] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=2
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=2

[2025-09-01 11:23:10] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":4}
[2025-09-01 11:23:10] [DATABASE ERROR] Parâmetro associado: :id = 4 (tipo: 1)
[2025-09-01 11:23:10] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-01 11:23:10] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
         com parâmetros: {":produto_id":5,":data_fim_a":"2025-08-30",":data_fim":"2025-08-30"}
[2025-09-01 11:23:10] [DATABASE ERROR] Parâmetro associado: :produto_id = 5 (tipo: 1)
[2025-09-01 11:23:10] [DATABASE ERROR] Parâmetro associado: :data_fim_a = 2025-08-30 (tipo: 2)
[2025-09-01 11:23:10] [DATABASE ERROR] Parâmetro associado: :data_fim = 2025-08-30 (tipo: 2)
[2025-09-01 11:23:10] [DATABASE ERROR] Debug PDO após binding: SQL: [538] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=2
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=2

[2025-09-01 11:23:10] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":5}
[2025-09-01 11:23:10] [DATABASE ERROR] Parâmetro associado: :id = 5 (tipo: 1)
[2025-09-01 11:23:10] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-01 11:23:10] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
         com parâmetros: {":produto_id":2,":data_fim_a":"2025-08-30",":data_fim":"2025-08-30"}
[2025-09-01 11:23:10] [DATABASE ERROR] Parâmetro associado: :produto_id = 2 (tipo: 1)
[2025-09-01 11:23:10] [DATABASE ERROR] Parâmetro associado: :data_fim_a = 2025-08-30 (tipo: 2)
[2025-09-01 11:23:10] [DATABASE ERROR] Parâmetro associado: :data_fim = 2025-08-30 (tipo: 2)
[2025-09-01 11:23:10] [DATABASE ERROR] Debug PDO após binding: SQL: [538] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=2
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=2

[2025-09-01 11:23:10] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":2}
[2025-09-01 11:23:10] [DATABASE ERROR] Parâmetro associado: :id = 2 (tipo: 1)
[2025-09-01 11:23:10] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-01 11:23:58] [DATABASE ERROR] Preparando query: 
            SELECT 
                p.id, 
                p.nome, 
                p.estoque_atual, 
                c.nome AS categoria, 
                f.razao_social AS fornecedor
            FROM produtos p
            LEFT JOIN categorias c ON p.categoria_id = c.id
            LEFT JOIN fornecedores f ON p.fornecedor_principal_id = f.id
            WHERE p.ativo = TRUE
                AND (:produto_id_null IS NULL OR p.id = :produto_id)
                AND (:categoria_id_null IS NULL OR p.categoria_id = :categoria_id)
                AND (:fornecedor_id_null IS NULL OR p.fornecedor_principal_id = :fornecedor_id)
            ORDER BY p.nome ASC;
         com parâmetros: {":produto_id_null":null,":produto_id":null,":categoria_id_null":null,":categoria_id":null,":fornecedor_id_null":null,":fornecedor_id":null}
[2025-09-01 11:23:58] [DATABASE ERROR] Parâmetro associado: :produto_id_null = NULL (tipo: 0)
[2025-09-01 11:23:58] [DATABASE ERROR] Parâmetro associado: :produto_id = NULL (tipo: 0)
[2025-09-01 11:23:58] [DATABASE ERROR] Parâmetro associado: :categoria_id_null = NULL (tipo: 0)
[2025-09-01 11:23:58] [DATABASE ERROR] Parâmetro associado: :categoria_id = NULL (tipo: 0)
[2025-09-01 11:23:58] [DATABASE ERROR] Parâmetro associado: :fornecedor_id_null = NULL (tipo: 0)
[2025-09-01 11:23:58] [DATABASE ERROR] Parâmetro associado: :fornecedor_id = NULL (tipo: 0)
[2025-09-01 11:23:58] [DATABASE ERROR] Debug PDO após binding: SQL: [684] 
            SELECT 
                p.id, 
                p.nome, 
                p.estoque_atual, 
                c.nome AS categoria, 
                f.razao_social AS fornecedor
            FROM produtos p
            LEFT JOIN categorias c ON p.categoria_id = c.id
            LEFT JOIN fornecedores f ON p.fornecedor_principal_id = f.id
            WHERE p.ativo = TRUE
                AND (:produto_id_null IS NULL OR p.id = :produto_id)
                AND (:categoria_id_null IS NULL OR p.categoria_id = :categoria_id)
                AND (:fornecedor_id_null IS NULL OR p.fornecedor_principal_id = :fornecedor_id)
            ORDER BY p.nome ASC;
        
Params:  6
Key: Name: [16] :produto_id_null
paramno=0
name=[16] ":produto_id_null"
is_param=1
param_type=0
Key: Name: [11] :produto_id
paramno=1
name=[11] ":produto_id"
is_param=1
param_type=0
Key: Name: [18] :categoria_id_null
paramno=2
name=[18] ":categoria_id_null"
is_param=1
param_type=0
Key: Name: [13] :categoria_id
paramno=3
name=[13] ":categoria_id"
is_param=1
param_type=0
Key: Name: [19] :fornecedor_id_null
paramno=4
name=[19] ":fornecedor_id_null"
is_param=1
param_type=0
Key: Name: [14] :fornecedor_id
paramno=5
name=[14] ":fornecedor_id"
is_param=1
param_type=0

[2025-09-01 11:23:58] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
         com parâmetros: {":produto_id":6,":data_fim_a":"2025-08-30",":data_fim":"2025-08-30"}
[2025-09-01 11:23:58] [DATABASE ERROR] Parâmetro associado: :produto_id = 6 (tipo: 1)
[2025-09-01 11:23:58] [DATABASE ERROR] Parâmetro associado: :data_fim_a = 2025-08-30 (tipo: 2)
[2025-09-01 11:23:58] [DATABASE ERROR] Parâmetro associado: :data_fim = 2025-08-30 (tipo: 2)
[2025-09-01 11:23:58] [DATABASE ERROR] Debug PDO após binding: SQL: [538] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=2
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=2

[2025-09-01 11:23:58] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":6}
[2025-09-01 11:23:58] [DATABASE ERROR] Parâmetro associado: :id = 6 (tipo: 1)
[2025-09-01 11:23:58] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-01 11:23:58] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
         com parâmetros: {":produto_id":3,":data_fim_a":"2025-08-30",":data_fim":"2025-08-30"}
[2025-09-01 11:23:58] [DATABASE ERROR] Parâmetro associado: :produto_id = 3 (tipo: 1)
[2025-09-01 11:23:58] [DATABASE ERROR] Parâmetro associado: :data_fim_a = 2025-08-30 (tipo: 2)
[2025-09-01 11:23:58] [DATABASE ERROR] Parâmetro associado: :data_fim = 2025-08-30 (tipo: 2)
[2025-09-01 11:23:58] [DATABASE ERROR] Debug PDO após binding: SQL: [538] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=2
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=2

[2025-09-01 11:23:58] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":3}
[2025-09-01 11:23:58] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-01 11:23:58] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-01 11:23:58] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
         com parâmetros: {":produto_id":4,":data_fim_a":"2025-08-30",":data_fim":"2025-08-30"}
[2025-09-01 11:23:58] [DATABASE ERROR] Parâmetro associado: :produto_id = 4 (tipo: 1)
[2025-09-01 11:23:58] [DATABASE ERROR] Parâmetro associado: :data_fim_a = 2025-08-30 (tipo: 2)
[2025-09-01 11:23:58] [DATABASE ERROR] Parâmetro associado: :data_fim = 2025-08-30 (tipo: 2)
[2025-09-01 11:23:58] [DATABASE ERROR] Debug PDO após binding: SQL: [538] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=2
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=2

[2025-09-01 11:23:58] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":4}
[2025-09-01 11:23:58] [DATABASE ERROR] Parâmetro associado: :id = 4 (tipo: 1)
[2025-09-01 11:23:58] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-01 11:23:58] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
         com parâmetros: {":produto_id":5,":data_fim_a":"2025-08-30",":data_fim":"2025-08-30"}
[2025-09-01 11:23:58] [DATABASE ERROR] Parâmetro associado: :produto_id = 5 (tipo: 1)
[2025-09-01 11:23:58] [DATABASE ERROR] Parâmetro associado: :data_fim_a = 2025-08-30 (tipo: 2)
[2025-09-01 11:23:58] [DATABASE ERROR] Parâmetro associado: :data_fim = 2025-08-30 (tipo: 2)
[2025-09-01 11:23:58] [DATABASE ERROR] Debug PDO após binding: SQL: [538] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=2
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=2

[2025-09-01 11:23:58] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":5}
[2025-09-01 11:23:58] [DATABASE ERROR] Parâmetro associado: :id = 5 (tipo: 1)
[2025-09-01 11:23:58] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-01 11:23:58] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
         com parâmetros: {":produto_id":2,":data_fim_a":"2025-08-30",":data_fim":"2025-08-30"}
[2025-09-01 11:23:58] [DATABASE ERROR] Parâmetro associado: :produto_id = 2 (tipo: 1)
[2025-09-01 11:23:58] [DATABASE ERROR] Parâmetro associado: :data_fim_a = 2025-08-30 (tipo: 2)
[2025-09-01 11:23:58] [DATABASE ERROR] Parâmetro associado: :data_fim = 2025-08-30 (tipo: 2)
[2025-09-01 11:23:58] [DATABASE ERROR] Debug PDO após binding: SQL: [538] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=2
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=2

[2025-09-01 11:23:58] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":2}
[2025-09-01 11:23:58] [DATABASE ERROR] Parâmetro associado: :id = 2 (tipo: 1)
[2025-09-01 11:23:58] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-01 11:38:38] [DATABASE ERROR] Preparando query: 
            SELECT 
                p.id, 
                p.nome, 
                p.estoque_atual, 
                c.nome AS categoria, 
                f.razao_social AS fornecedor
            FROM produtos p
            LEFT JOIN categorias c ON p.categoria_id = c.id
            LEFT JOIN fornecedores f ON p.fornecedor_principal_id = f.id
            WHERE p.ativo = TRUE
                AND (:produto_id_null IS NULL OR p.id = :produto_id)
                AND (:categoria_id_null IS NULL OR p.categoria_id = :categoria_id)
                AND (:fornecedor_id_null IS NULL OR p.fornecedor_principal_id = :fornecedor_id)
            ORDER BY p.nome ASC;
         com parâmetros: {":produto_id_null":null,":produto_id":null,":categoria_id_null":null,":categoria_id":null,":fornecedor_id_null":null,":fornecedor_id":null}
[2025-09-01 11:38:38] [DATABASE ERROR] Parâmetro associado: :produto_id_null = NULL (tipo: 0)
[2025-09-01 11:38:38] [DATABASE ERROR] Parâmetro associado: :produto_id = NULL (tipo: 0)
[2025-09-01 11:38:38] [DATABASE ERROR] Parâmetro associado: :categoria_id_null = NULL (tipo: 0)
[2025-09-01 11:38:38] [DATABASE ERROR] Parâmetro associado: :categoria_id = NULL (tipo: 0)
[2025-09-01 11:38:38] [DATABASE ERROR] Parâmetro associado: :fornecedor_id_null = NULL (tipo: 0)
[2025-09-01 11:38:38] [DATABASE ERROR] Parâmetro associado: :fornecedor_id = NULL (tipo: 0)
[2025-09-01 11:38:38] [DATABASE ERROR] Debug PDO após binding: SQL: [684] 
            SELECT 
                p.id, 
                p.nome, 
                p.estoque_atual, 
                c.nome AS categoria, 
                f.razao_social AS fornecedor
            FROM produtos p
            LEFT JOIN categorias c ON p.categoria_id = c.id
            LEFT JOIN fornecedores f ON p.fornecedor_principal_id = f.id
            WHERE p.ativo = TRUE
                AND (:produto_id_null IS NULL OR p.id = :produto_id)
                AND (:categoria_id_null IS NULL OR p.categoria_id = :categoria_id)
                AND (:fornecedor_id_null IS NULL OR p.fornecedor_principal_id = :fornecedor_id)
            ORDER BY p.nome ASC;
        
Params:  6
Key: Name: [16] :produto_id_null
paramno=0
name=[16] ":produto_id_null"
is_param=1
param_type=0
Key: Name: [11] :produto_id
paramno=1
name=[11] ":produto_id"
is_param=1
param_type=0
Key: Name: [18] :categoria_id_null
paramno=2
name=[18] ":categoria_id_null"
is_param=1
param_type=0
Key: Name: [13] :categoria_id
paramno=3
name=[13] ":categoria_id"
is_param=1
param_type=0
Key: Name: [19] :fornecedor_id_null
paramno=4
name=[19] ":fornecedor_id_null"
is_param=1
param_type=0
Key: Name: [14] :fornecedor_id
paramno=5
name=[14] ":fornecedor_id"
is_param=1
param_type=0

[2025-09-01 11:38:38] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
         com parâmetros: {":produto_id":6,":data_fim_a":"2025-08-30",":data_fim":"2025-08-30"}
[2025-09-01 11:38:38] [DATABASE ERROR] Parâmetro associado: :produto_id = 6 (tipo: 1)
[2025-09-01 11:38:38] [DATABASE ERROR] Parâmetro associado: :data_fim_a = 2025-08-30 (tipo: 2)
[2025-09-01 11:38:38] [DATABASE ERROR] Parâmetro associado: :data_fim = 2025-08-30 (tipo: 2)
[2025-09-01 11:38:38] [DATABASE ERROR] Debug PDO após binding: SQL: [538] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=2
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=2

[2025-09-01 11:38:38] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":6}
[2025-09-01 11:38:38] [DATABASE ERROR] Parâmetro associado: :id = 6 (tipo: 1)
[2025-09-01 11:38:38] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-01 11:38:38] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
         com parâmetros: {":produto_id":3,":data_fim_a":"2025-08-30",":data_fim":"2025-08-30"}
[2025-09-01 11:38:38] [DATABASE ERROR] Parâmetro associado: :produto_id = 3 (tipo: 1)
[2025-09-01 11:38:38] [DATABASE ERROR] Parâmetro associado: :data_fim_a = 2025-08-30 (tipo: 2)
[2025-09-01 11:38:38] [DATABASE ERROR] Parâmetro associado: :data_fim = 2025-08-30 (tipo: 2)
[2025-09-01 11:38:38] [DATABASE ERROR] Debug PDO após binding: SQL: [538] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=2
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=2

[2025-09-01 11:38:38] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":3}
[2025-09-01 11:38:38] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-01 11:38:38] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-01 11:38:38] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
         com parâmetros: {":produto_id":4,":data_fim_a":"2025-08-30",":data_fim":"2025-08-30"}
[2025-09-01 11:38:38] [DATABASE ERROR] Parâmetro associado: :produto_id = 4 (tipo: 1)
[2025-09-01 11:38:38] [DATABASE ERROR] Parâmetro associado: :data_fim_a = 2025-08-30 (tipo: 2)
[2025-09-01 11:38:38] [DATABASE ERROR] Parâmetro associado: :data_fim = 2025-08-30 (tipo: 2)
[2025-09-01 11:38:38] [DATABASE ERROR] Debug PDO após binding: SQL: [538] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=2
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=2

[2025-09-01 11:38:38] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":4}
[2025-09-01 11:38:38] [DATABASE ERROR] Parâmetro associado: :id = 4 (tipo: 1)
[2025-09-01 11:38:38] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-01 11:38:38] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
         com parâmetros: {":produto_id":5,":data_fim_a":"2025-08-30",":data_fim":"2025-08-30"}
[2025-09-01 11:38:38] [DATABASE ERROR] Parâmetro associado: :produto_id = 5 (tipo: 1)
[2025-09-01 11:38:38] [DATABASE ERROR] Parâmetro associado: :data_fim_a = 2025-08-30 (tipo: 2)
[2025-09-01 11:38:38] [DATABASE ERROR] Parâmetro associado: :data_fim = 2025-08-30 (tipo: 2)
[2025-09-01 11:38:38] [DATABASE ERROR] Debug PDO após binding: SQL: [538] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=2
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=2

[2025-09-01 11:38:38] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":5}
[2025-09-01 11:38:38] [DATABASE ERROR] Parâmetro associado: :id = 5 (tipo: 1)
[2025-09-01 11:38:38] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-01 11:38:38] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
         com parâmetros: {":produto_id":2,":data_fim_a":"2025-08-30",":data_fim":"2025-08-30"}
[2025-09-01 11:38:38] [DATABASE ERROR] Parâmetro associado: :produto_id = 2 (tipo: 1)
[2025-09-01 11:38:38] [DATABASE ERROR] Parâmetro associado: :data_fim_a = 2025-08-30 (tipo: 2)
[2025-09-01 11:38:38] [DATABASE ERROR] Parâmetro associado: :data_fim = 2025-08-30 (tipo: 2)
[2025-09-01 11:38:38] [DATABASE ERROR] Debug PDO após binding: SQL: [538] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=2
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=2

[2025-09-01 11:38:38] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":2}
[2025-09-01 11:38:38] [DATABASE ERROR] Parâmetro associado: :id = 2 (tipo: 1)
[2025-09-01 11:38:38] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-01 11:40:38] [DATABASE ERROR] Preparando query: 
            SELECT 
                p.id, 
                p.nome, 
                p.estoque_atual, 
                c.nome AS categoria, 
                f.razao_social AS fornecedor
            FROM produtos p
            LEFT JOIN categorias c ON p.categoria_id = c.id
            LEFT JOIN fornecedores f ON p.fornecedor_principal_id = f.id
            WHERE p.ativo = TRUE
                AND (:produto_id_null IS NULL OR p.id = :produto_id)
                AND (:categoria_id_null IS NULL OR p.categoria_id = :categoria_id)
                AND (:fornecedor_id_null IS NULL OR p.fornecedor_principal_id = :fornecedor_id)
            ORDER BY p.nome ASC;
         com parâmetros: {":produto_id_null":null,":produto_id":null,":categoria_id_null":null,":categoria_id":null,":fornecedor_id_null":null,":fornecedor_id":null}
[2025-09-01 11:40:38] [DATABASE ERROR] Parâmetro associado: :produto_id_null = NULL (tipo: 0)
[2025-09-01 11:40:38] [DATABASE ERROR] Parâmetro associado: :produto_id = NULL (tipo: 0)
[2025-09-01 11:40:38] [DATABASE ERROR] Parâmetro associado: :categoria_id_null = NULL (tipo: 0)
[2025-09-01 11:40:38] [DATABASE ERROR] Parâmetro associado: :categoria_id = NULL (tipo: 0)
[2025-09-01 11:40:38] [DATABASE ERROR] Parâmetro associado: :fornecedor_id_null = NULL (tipo: 0)
[2025-09-01 11:40:38] [DATABASE ERROR] Parâmetro associado: :fornecedor_id = NULL (tipo: 0)
[2025-09-01 11:40:38] [DATABASE ERROR] Debug PDO após binding: SQL: [684] 
            SELECT 
                p.id, 
                p.nome, 
                p.estoque_atual, 
                c.nome AS categoria, 
                f.razao_social AS fornecedor
            FROM produtos p
            LEFT JOIN categorias c ON p.categoria_id = c.id
            LEFT JOIN fornecedores f ON p.fornecedor_principal_id = f.id
            WHERE p.ativo = TRUE
                AND (:produto_id_null IS NULL OR p.id = :produto_id)
                AND (:categoria_id_null IS NULL OR p.categoria_id = :categoria_id)
                AND (:fornecedor_id_null IS NULL OR p.fornecedor_principal_id = :fornecedor_id)
            ORDER BY p.nome ASC;
        
Params:  6
Key: Name: [16] :produto_id_null
paramno=0
name=[16] ":produto_id_null"
is_param=1
param_type=0
Key: Name: [11] :produto_id
paramno=1
name=[11] ":produto_id"
is_param=1
param_type=0
Key: Name: [18] :categoria_id_null
paramno=2
name=[18] ":categoria_id_null"
is_param=1
param_type=0
Key: Name: [13] :categoria_id
paramno=3
name=[13] ":categoria_id"
is_param=1
param_type=0
Key: Name: [19] :fornecedor_id_null
paramno=4
name=[19] ":fornecedor_id_null"
is_param=1
param_type=0
Key: Name: [14] :fornecedor_id
paramno=5
name=[14] ":fornecedor_id"
is_param=1
param_type=0

[2025-09-01 11:40:38] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
         com parâmetros: {":produto_id":6,":data_fim_a":"2025-08-30",":data_fim":"2025-08-30"}
[2025-09-01 11:40:38] [DATABASE ERROR] Parâmetro associado: :produto_id = 6 (tipo: 1)
[2025-09-01 11:40:38] [DATABASE ERROR] Parâmetro associado: :data_fim_a = 2025-08-30 (tipo: 2)
[2025-09-01 11:40:38] [DATABASE ERROR] Parâmetro associado: :data_fim = 2025-08-30 (tipo: 2)
[2025-09-01 11:40:38] [DATABASE ERROR] Debug PDO após binding: SQL: [538] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=2
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=2

[2025-09-01 11:40:38] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":6}
[2025-09-01 11:40:38] [DATABASE ERROR] Parâmetro associado: :id = 6 (tipo: 1)
[2025-09-01 11:40:38] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-01 11:40:38] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
         com parâmetros: {":produto_id":3,":data_fim_a":"2025-08-30",":data_fim":"2025-08-30"}
[2025-09-01 11:40:38] [DATABASE ERROR] Parâmetro associado: :produto_id = 3 (tipo: 1)
[2025-09-01 11:40:38] [DATABASE ERROR] Parâmetro associado: :data_fim_a = 2025-08-30 (tipo: 2)
[2025-09-01 11:40:38] [DATABASE ERROR] Parâmetro associado: :data_fim = 2025-08-30 (tipo: 2)
[2025-09-01 11:40:38] [DATABASE ERROR] Debug PDO após binding: SQL: [538] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=2
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=2

[2025-09-01 11:40:38] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":3}
[2025-09-01 11:40:38] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-01 11:40:38] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-01 11:40:38] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
         com parâmetros: {":produto_id":4,":data_fim_a":"2025-08-30",":data_fim":"2025-08-30"}
[2025-09-01 11:40:38] [DATABASE ERROR] Parâmetro associado: :produto_id = 4 (tipo: 1)
[2025-09-01 11:40:38] [DATABASE ERROR] Parâmetro associado: :data_fim_a = 2025-08-30 (tipo: 2)
[2025-09-01 11:40:38] [DATABASE ERROR] Parâmetro associado: :data_fim = 2025-08-30 (tipo: 2)
[2025-09-01 11:40:38] [DATABASE ERROR] Debug PDO após binding: SQL: [538] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=2
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=2

[2025-09-01 11:40:38] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":4}
[2025-09-01 11:40:38] [DATABASE ERROR] Parâmetro associado: :id = 4 (tipo: 1)
[2025-09-01 11:40:38] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-01 11:40:38] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
         com parâmetros: {":produto_id":5,":data_fim_a":"2025-08-30",":data_fim":"2025-08-30"}
[2025-09-01 11:40:38] [DATABASE ERROR] Parâmetro associado: :produto_id = 5 (tipo: 1)
[2025-09-01 11:40:38] [DATABASE ERROR] Parâmetro associado: :data_fim_a = 2025-08-30 (tipo: 2)
[2025-09-01 11:40:38] [DATABASE ERROR] Parâmetro associado: :data_fim = 2025-08-30 (tipo: 2)
[2025-09-01 11:40:38] [DATABASE ERROR] Debug PDO após binding: SQL: [538] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=2
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=2

[2025-09-01 11:40:38] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":5}
[2025-09-01 11:40:38] [DATABASE ERROR] Parâmetro associado: :id = 5 (tipo: 1)
[2025-09-01 11:40:38] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-01 11:40:38] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
         com parâmetros: {":produto_id":2,":data_fim_a":"2025-08-30",":data_fim":"2025-08-30"}
[2025-09-01 11:40:38] [DATABASE ERROR] Parâmetro associado: :produto_id = 2 (tipo: 1)
[2025-09-01 11:40:38] [DATABASE ERROR] Parâmetro associado: :data_fim_a = 2025-08-30 (tipo: 2)
[2025-09-01 11:40:38] [DATABASE ERROR] Parâmetro associado: :data_fim = 2025-08-30 (tipo: 2)
[2025-09-01 11:40:38] [DATABASE ERROR] Debug PDO após binding: SQL: [538] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=2
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=2

[2025-09-01 11:40:38] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":2}
[2025-09-01 11:40:38] [DATABASE ERROR] Parâmetro associado: :id = 2 (tipo: 1)
[2025-09-01 11:40:38] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-01 11:42:44] [DATABASE ERROR] Preparando query: 
            SELECT 
                p.id, 
                p.nome, 
                p.estoque_atual, 
                c.nome AS categoria, 
                f.razao_social AS fornecedor
            FROM produtos p
            LEFT JOIN categorias c ON p.categoria_id = c.id
            LEFT JOIN fornecedores f ON p.fornecedor_principal_id = f.id
            WHERE p.ativo = TRUE
                AND (:produto_id_null IS NULL OR p.id = :produto_id)
                AND (:categoria_id_null IS NULL OR p.categoria_id = :categoria_id)
                AND (:fornecedor_id_null IS NULL OR p.fornecedor_principal_id = :fornecedor_id)
            ORDER BY p.nome ASC;
         com parâmetros: {":produto_id_null":null,":produto_id":null,":categoria_id_null":null,":categoria_id":null,":fornecedor_id_null":null,":fornecedor_id":null}
[2025-09-01 11:42:44] [DATABASE ERROR] Parâmetro associado: :produto_id_null = NULL (tipo: 0)
[2025-09-01 11:42:44] [DATABASE ERROR] Parâmetro associado: :produto_id = NULL (tipo: 0)
[2025-09-01 11:42:44] [DATABASE ERROR] Parâmetro associado: :categoria_id_null = NULL (tipo: 0)
[2025-09-01 11:42:44] [DATABASE ERROR] Parâmetro associado: :categoria_id = NULL (tipo: 0)
[2025-09-01 11:42:44] [DATABASE ERROR] Parâmetro associado: :fornecedor_id_null = NULL (tipo: 0)
[2025-09-01 11:42:44] [DATABASE ERROR] Parâmetro associado: :fornecedor_id = NULL (tipo: 0)
[2025-09-01 11:42:44] [DATABASE ERROR] Debug PDO após binding: SQL: [684] 
            SELECT 
                p.id, 
                p.nome, 
                p.estoque_atual, 
                c.nome AS categoria, 
                f.razao_social AS fornecedor
            FROM produtos p
            LEFT JOIN categorias c ON p.categoria_id = c.id
            LEFT JOIN fornecedores f ON p.fornecedor_principal_id = f.id
            WHERE p.ativo = TRUE
                AND (:produto_id_null IS NULL OR p.id = :produto_id)
                AND (:categoria_id_null IS NULL OR p.categoria_id = :categoria_id)
                AND (:fornecedor_id_null IS NULL OR p.fornecedor_principal_id = :fornecedor_id)
            ORDER BY p.nome ASC;
        
Params:  6
Key: Name: [16] :produto_id_null
paramno=0
name=[16] ":produto_id_null"
is_param=1
param_type=0
Key: Name: [11] :produto_id
paramno=1
name=[11] ":produto_id"
is_param=1
param_type=0
Key: Name: [18] :categoria_id_null
paramno=2
name=[18] ":categoria_id_null"
is_param=1
param_type=0
Key: Name: [13] :categoria_id
paramno=3
name=[13] ":categoria_id"
is_param=1
param_type=0
Key: Name: [19] :fornecedor_id_null
paramno=4
name=[19] ":fornecedor_id_null"
is_param=1
param_type=0
Key: Name: [14] :fornecedor_id
paramno=5
name=[14] ":fornecedor_id"
is_param=1
param_type=0

[2025-09-01 11:42:44] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
         com parâmetros: {":produto_id":6,":data_fim_a":"2025-08-30",":data_fim":"2025-08-30"}
[2025-09-01 11:42:44] [DATABASE ERROR] Parâmetro associado: :produto_id = 6 (tipo: 1)
[2025-09-01 11:42:44] [DATABASE ERROR] Parâmetro associado: :data_fim_a = 2025-08-30 (tipo: 2)
[2025-09-01 11:42:44] [DATABASE ERROR] Parâmetro associado: :data_fim = 2025-08-30 (tipo: 2)
[2025-09-01 11:42:44] [DATABASE ERROR] Debug PDO após binding: SQL: [538] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=2
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=2

[2025-09-01 11:42:44] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":6}
[2025-09-01 11:42:44] [DATABASE ERROR] Parâmetro associado: :id = 6 (tipo: 1)
[2025-09-01 11:42:44] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-01 11:42:44] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
         com parâmetros: {":produto_id":3,":data_fim_a":"2025-08-30",":data_fim":"2025-08-30"}
[2025-09-01 11:42:44] [DATABASE ERROR] Parâmetro associado: :produto_id = 3 (tipo: 1)
[2025-09-01 11:42:44] [DATABASE ERROR] Parâmetro associado: :data_fim_a = 2025-08-30 (tipo: 2)
[2025-09-01 11:42:44] [DATABASE ERROR] Parâmetro associado: :data_fim = 2025-08-30 (tipo: 2)
[2025-09-01 11:42:44] [DATABASE ERROR] Debug PDO após binding: SQL: [538] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=2
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=2

[2025-09-01 11:42:44] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":3}
[2025-09-01 11:42:44] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-01 11:42:44] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-01 11:42:44] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
         com parâmetros: {":produto_id":4,":data_fim_a":"2025-08-30",":data_fim":"2025-08-30"}
[2025-09-01 11:42:44] [DATABASE ERROR] Parâmetro associado: :produto_id = 4 (tipo: 1)
[2025-09-01 11:42:44] [DATABASE ERROR] Parâmetro associado: :data_fim_a = 2025-08-30 (tipo: 2)
[2025-09-01 11:42:44] [DATABASE ERROR] Parâmetro associado: :data_fim = 2025-08-30 (tipo: 2)
[2025-09-01 11:42:44] [DATABASE ERROR] Debug PDO após binding: SQL: [538] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=2
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=2

[2025-09-01 11:42:44] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":4}
[2025-09-01 11:42:44] [DATABASE ERROR] Parâmetro associado: :id = 4 (tipo: 1)
[2025-09-01 11:42:44] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-01 11:42:44] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
         com parâmetros: {":produto_id":5,":data_fim_a":"2025-08-30",":data_fim":"2025-08-30"}
[2025-09-01 11:42:44] [DATABASE ERROR] Parâmetro associado: :produto_id = 5 (tipo: 1)
[2025-09-01 11:42:44] [DATABASE ERROR] Parâmetro associado: :data_fim_a = 2025-08-30 (tipo: 2)
[2025-09-01 11:42:44] [DATABASE ERROR] Parâmetro associado: :data_fim = 2025-08-30 (tipo: 2)
[2025-09-01 11:42:44] [DATABASE ERROR] Debug PDO após binding: SQL: [538] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=2
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=2

[2025-09-01 11:42:44] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":5}
[2025-09-01 11:42:44] [DATABASE ERROR] Parâmetro associado: :id = 5 (tipo: 1)
[2025-09-01 11:42:44] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-01 11:42:44] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
         com parâmetros: {":produto_id":2,":data_fim_a":"2025-08-30",":data_fim":"2025-08-30"}
[2025-09-01 11:42:44] [DATABASE ERROR] Parâmetro associado: :produto_id = 2 (tipo: 1)
[2025-09-01 11:42:44] [DATABASE ERROR] Parâmetro associado: :data_fim_a = 2025-08-30 (tipo: 2)
[2025-09-01 11:42:44] [DATABASE ERROR] Parâmetro associado: :data_fim = 2025-08-30 (tipo: 2)
[2025-09-01 11:42:44] [DATABASE ERROR] Debug PDO após binding: SQL: [538] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=2
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=2

[2025-09-01 11:42:44] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":2}
[2025-09-01 11:42:44] [DATABASE ERROR] Parâmetro associado: :id = 2 (tipo: 1)
[2025-09-01 11:42:44] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-01 11:42:58] [DATABASE ERROR] Preparando query: SELECT * FROM categorias WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-01 11:42:58] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-01 11:42:58] [DATABASE ERROR] Debug PDO após binding: SQL: [45] SELECT * FROM categorias WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-01 11:42:58] [DATABASE ERROR] Preparando query: SELECT * FROM fornecedores WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-01 11:42:58] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-01 11:42:58] [DATABASE ERROR] Debug PDO após binding: SQL: [47] SELECT * FROM fornecedores WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-01 11:42:58] [DATABASE ERROR] Preparando query: SELECT * FROM tipos_movimentacao com parâmetros: []
[2025-09-01 11:42:58] [DATABASE ERROR] Debug PDO após binding: SQL: [32] SELECT * FROM tipos_movimentacao
Params:  0

[2025-09-01 11:43:03] [DATABASE ERROR] Preparando query: 
            SELECT 
                p.id, 
                p.nome, 
                p.estoque_atual, 
                c.nome AS categoria, 
                f.razao_social AS fornecedor
            FROM produtos p
            LEFT JOIN categorias c ON p.categoria_id = c.id
            LEFT JOIN fornecedores f ON p.fornecedor_principal_id = f.id
            WHERE p.ativo = TRUE
                AND (:produto_id_null IS NULL OR p.id = :produto_id)
                AND (:categoria_id_null IS NULL OR p.categoria_id = :categoria_id)
                AND (:fornecedor_id_null IS NULL OR p.fornecedor_principal_id = :fornecedor_id)
            ORDER BY p.nome ASC;
         com parâmetros: {":produto_id_null":null,":produto_id":null,":categoria_id_null":null,":categoria_id":null,":fornecedor_id_null":1,":fornecedor_id":1}
[2025-09-01 11:43:03] [DATABASE ERROR] Parâmetro associado: :produto_id_null = NULL (tipo: 0)
[2025-09-01 11:43:03] [DATABASE ERROR] Parâmetro associado: :produto_id = NULL (tipo: 0)
[2025-09-01 11:43:03] [DATABASE ERROR] Parâmetro associado: :categoria_id_null = NULL (tipo: 0)
[2025-09-01 11:43:03] [DATABASE ERROR] Parâmetro associado: :categoria_id = NULL (tipo: 0)
[2025-09-01 11:43:03] [DATABASE ERROR] Parâmetro associado: :fornecedor_id_null = 1 (tipo: 1)
[2025-09-01 11:43:03] [DATABASE ERROR] Parâmetro associado: :fornecedor_id = 1 (tipo: 1)
[2025-09-01 11:43:03] [DATABASE ERROR] Debug PDO após binding: SQL: [684] 
            SELECT 
                p.id, 
                p.nome, 
                p.estoque_atual, 
                c.nome AS categoria, 
                f.razao_social AS fornecedor
            FROM produtos p
            LEFT JOIN categorias c ON p.categoria_id = c.id
            LEFT JOIN fornecedores f ON p.fornecedor_principal_id = f.id
            WHERE p.ativo = TRUE
                AND (:produto_id_null IS NULL OR p.id = :produto_id)
                AND (:categoria_id_null IS NULL OR p.categoria_id = :categoria_id)
                AND (:fornecedor_id_null IS NULL OR p.fornecedor_principal_id = :fornecedor_id)
            ORDER BY p.nome ASC;
        
Params:  6
Key: Name: [16] :produto_id_null
paramno=0
name=[16] ":produto_id_null"
is_param=1
param_type=0
Key: Name: [11] :produto_id
paramno=1
name=[11] ":produto_id"
is_param=1
param_type=0
Key: Name: [18] :categoria_id_null
paramno=2
name=[18] ":categoria_id_null"
is_param=1
param_type=0
Key: Name: [13] :categoria_id
paramno=3
name=[13] ":categoria_id"
is_param=1
param_type=0
Key: Name: [19] :fornecedor_id_null
paramno=4
name=[19] ":fornecedor_id_null"
is_param=1
param_type=1
Key: Name: [14] :fornecedor_id
paramno=5
name=[14] ":fornecedor_id"
is_param=1
param_type=1

[2025-09-01 11:43:03] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
         com parâmetros: {":produto_id":3,":data_fim_a":"2025-08-30",":data_fim":"2025-08-30"}
[2025-09-01 11:43:03] [DATABASE ERROR] Parâmetro associado: :produto_id = 3 (tipo: 1)
[2025-09-01 11:43:03] [DATABASE ERROR] Parâmetro associado: :data_fim_a = 2025-08-30 (tipo: 2)
[2025-09-01 11:43:03] [DATABASE ERROR] Parâmetro associado: :data_fim = 2025-08-30 (tipo: 2)
[2025-09-01 11:43:03] [DATABASE ERROR] Debug PDO após binding: SQL: [538] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=2
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=2

[2025-09-01 11:43:03] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":3}
[2025-09-01 11:43:03] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-01 11:43:03] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-01 11:43:03] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
         com parâmetros: {":produto_id":4,":data_fim_a":"2025-08-30",":data_fim":"2025-08-30"}
[2025-09-01 11:43:03] [DATABASE ERROR] Parâmetro associado: :produto_id = 4 (tipo: 1)
[2025-09-01 11:43:03] [DATABASE ERROR] Parâmetro associado: :data_fim_a = 2025-08-30 (tipo: 2)
[2025-09-01 11:43:03] [DATABASE ERROR] Parâmetro associado: :data_fim = 2025-08-30 (tipo: 2)
[2025-09-01 11:43:03] [DATABASE ERROR] Debug PDO após binding: SQL: [538] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=2
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=2

[2025-09-01 11:43:03] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":4}
[2025-09-01 11:43:03] [DATABASE ERROR] Parâmetro associado: :id = 4 (tipo: 1)
[2025-09-01 11:43:03] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-01 11:43:03] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
         com parâmetros: {":produto_id":5,":data_fim_a":"2025-08-30",":data_fim":"2025-08-30"}
[2025-09-01 11:43:03] [DATABASE ERROR] Parâmetro associado: :produto_id = 5 (tipo: 1)
[2025-09-01 11:43:03] [DATABASE ERROR] Parâmetro associado: :data_fim_a = 2025-08-30 (tipo: 2)
[2025-09-01 11:43:03] [DATABASE ERROR] Parâmetro associado: :data_fim = 2025-08-30 (tipo: 2)
[2025-09-01 11:43:03] [DATABASE ERROR] Debug PDO após binding: SQL: [538] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=2
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=2

[2025-09-01 11:43:03] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":5}
[2025-09-01 11:43:03] [DATABASE ERROR] Parâmetro associado: :id = 5 (tipo: 1)
[2025-09-01 11:43:03] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-01 11:43:03] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
         com parâmetros: {":produto_id":2,":data_fim_a":"2025-08-30",":data_fim":"2025-08-30"}
[2025-09-01 11:43:03] [DATABASE ERROR] Parâmetro associado: :produto_id = 2 (tipo: 1)
[2025-09-01 11:43:03] [DATABASE ERROR] Parâmetro associado: :data_fim_a = 2025-08-30 (tipo: 2)
[2025-09-01 11:43:03] [DATABASE ERROR] Parâmetro associado: :data_fim = 2025-08-30 (tipo: 2)
[2025-09-01 11:43:03] [DATABASE ERROR] Debug PDO após binding: SQL: [538] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=2
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=2

[2025-09-01 11:43:03] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":2}
[2025-09-01 11:43:03] [DATABASE ERROR] Parâmetro associado: :id = 2 (tipo: 1)
[2025-09-01 11:43:03] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-01 11:43:09] [DATABASE ERROR] Preparando query: 
            SELECT 
                p.id, 
                p.nome, 
                p.estoque_atual, 
                c.nome AS categoria, 
                f.razao_social AS fornecedor
            FROM produtos p
            LEFT JOIN categorias c ON p.categoria_id = c.id
            LEFT JOIN fornecedores f ON p.fornecedor_principal_id = f.id
            WHERE p.ativo = TRUE
                AND (:produto_id_null IS NULL OR p.id = :produto_id)
                AND (:categoria_id_null IS NULL OR p.categoria_id = :categoria_id)
                AND (:fornecedor_id_null IS NULL OR p.fornecedor_principal_id = :fornecedor_id)
            ORDER BY p.nome ASC;
         com parâmetros: {":produto_id_null":null,":produto_id":null,":categoria_id_null":null,":categoria_id":null,":fornecedor_id_null":3,":fornecedor_id":3}
[2025-09-01 11:43:09] [DATABASE ERROR] Parâmetro associado: :produto_id_null = NULL (tipo: 0)
[2025-09-01 11:43:09] [DATABASE ERROR] Parâmetro associado: :produto_id = NULL (tipo: 0)
[2025-09-01 11:43:09] [DATABASE ERROR] Parâmetro associado: :categoria_id_null = NULL (tipo: 0)
[2025-09-01 11:43:09] [DATABASE ERROR] Parâmetro associado: :categoria_id = NULL (tipo: 0)
[2025-09-01 11:43:09] [DATABASE ERROR] Parâmetro associado: :fornecedor_id_null = 3 (tipo: 1)
[2025-09-01 11:43:09] [DATABASE ERROR] Parâmetro associado: :fornecedor_id = 3 (tipo: 1)
[2025-09-01 11:43:09] [DATABASE ERROR] Debug PDO após binding: SQL: [684] 
            SELECT 
                p.id, 
                p.nome, 
                p.estoque_atual, 
                c.nome AS categoria, 
                f.razao_social AS fornecedor
            FROM produtos p
            LEFT JOIN categorias c ON p.categoria_id = c.id
            LEFT JOIN fornecedores f ON p.fornecedor_principal_id = f.id
            WHERE p.ativo = TRUE
                AND (:produto_id_null IS NULL OR p.id = :produto_id)
                AND (:categoria_id_null IS NULL OR p.categoria_id = :categoria_id)
                AND (:fornecedor_id_null IS NULL OR p.fornecedor_principal_id = :fornecedor_id)
            ORDER BY p.nome ASC;
        
Params:  6
Key: Name: [16] :produto_id_null
paramno=0
name=[16] ":produto_id_null"
is_param=1
param_type=0
Key: Name: [11] :produto_id
paramno=1
name=[11] ":produto_id"
is_param=1
param_type=0
Key: Name: [18] :categoria_id_null
paramno=2
name=[18] ":categoria_id_null"
is_param=1
param_type=0
Key: Name: [13] :categoria_id
paramno=3
name=[13] ":categoria_id"
is_param=1
param_type=0
Key: Name: [19] :fornecedor_id_null
paramno=4
name=[19] ":fornecedor_id_null"
is_param=1
param_type=1
Key: Name: [14] :fornecedor_id
paramno=5
name=[14] ":fornecedor_id"
is_param=1
param_type=1

[2025-09-01 11:43:15] [DATABASE ERROR] Preparando query: 
            SELECT 
                p.id, 
                p.nome, 
                p.estoque_atual, 
                c.nome AS categoria, 
                f.razao_social AS fornecedor
            FROM produtos p
            LEFT JOIN categorias c ON p.categoria_id = c.id
            LEFT JOIN fornecedores f ON p.fornecedor_principal_id = f.id
            WHERE p.ativo = TRUE
                AND (:produto_id_null IS NULL OR p.id = :produto_id)
                AND (:categoria_id_null IS NULL OR p.categoria_id = :categoria_id)
                AND (:fornecedor_id_null IS NULL OR p.fornecedor_principal_id = :fornecedor_id)
            ORDER BY p.nome ASC;
         com parâmetros: {":produto_id_null":null,":produto_id":null,":categoria_id_null":null,":categoria_id":null,":fornecedor_id_null":null,":fornecedor_id":null}
[2025-09-01 11:43:15] [DATABASE ERROR] Parâmetro associado: :produto_id_null = NULL (tipo: 0)
[2025-09-01 11:43:15] [DATABASE ERROR] Parâmetro associado: :produto_id = NULL (tipo: 0)
[2025-09-01 11:43:15] [DATABASE ERROR] Parâmetro associado: :categoria_id_null = NULL (tipo: 0)
[2025-09-01 11:43:15] [DATABASE ERROR] Parâmetro associado: :categoria_id = NULL (tipo: 0)
[2025-09-01 11:43:15] [DATABASE ERROR] Parâmetro associado: :fornecedor_id_null = NULL (tipo: 0)
[2025-09-01 11:43:15] [DATABASE ERROR] Parâmetro associado: :fornecedor_id = NULL (tipo: 0)
[2025-09-01 11:43:15] [DATABASE ERROR] Debug PDO após binding: SQL: [684] 
            SELECT 
                p.id, 
                p.nome, 
                p.estoque_atual, 
                c.nome AS categoria, 
                f.razao_social AS fornecedor
            FROM produtos p
            LEFT JOIN categorias c ON p.categoria_id = c.id
            LEFT JOIN fornecedores f ON p.fornecedor_principal_id = f.id
            WHERE p.ativo = TRUE
                AND (:produto_id_null IS NULL OR p.id = :produto_id)
                AND (:categoria_id_null IS NULL OR p.categoria_id = :categoria_id)
                AND (:fornecedor_id_null IS NULL OR p.fornecedor_principal_id = :fornecedor_id)
            ORDER BY p.nome ASC;
        
Params:  6
Key: Name: [16] :produto_id_null
paramno=0
name=[16] ":produto_id_null"
is_param=1
param_type=0
Key: Name: [11] :produto_id
paramno=1
name=[11] ":produto_id"
is_param=1
param_type=0
Key: Name: [18] :categoria_id_null
paramno=2
name=[18] ":categoria_id_null"
is_param=1
param_type=0
Key: Name: [13] :categoria_id
paramno=3
name=[13] ":categoria_id"
is_param=1
param_type=0
Key: Name: [19] :fornecedor_id_null
paramno=4
name=[19] ":fornecedor_id_null"
is_param=1
param_type=0
Key: Name: [14] :fornecedor_id
paramno=5
name=[14] ":fornecedor_id"
is_param=1
param_type=0

[2025-09-01 11:43:15] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
         com parâmetros: {":produto_id":6,":data_fim_a":"2025-08-30",":data_fim":"2025-08-30"}
[2025-09-01 11:43:15] [DATABASE ERROR] Parâmetro associado: :produto_id = 6 (tipo: 1)
[2025-09-01 11:43:15] [DATABASE ERROR] Parâmetro associado: :data_fim_a = 2025-08-30 (tipo: 2)
[2025-09-01 11:43:15] [DATABASE ERROR] Parâmetro associado: :data_fim = 2025-08-30 (tipo: 2)
[2025-09-01 11:43:15] [DATABASE ERROR] Debug PDO após binding: SQL: [538] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=2
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=2

[2025-09-01 11:43:15] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":6}
[2025-09-01 11:43:15] [DATABASE ERROR] Parâmetro associado: :id = 6 (tipo: 1)
[2025-09-01 11:43:15] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-01 11:43:15] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
         com parâmetros: {":produto_id":3,":data_fim_a":"2025-08-30",":data_fim":"2025-08-30"}
[2025-09-01 11:43:15] [DATABASE ERROR] Parâmetro associado: :produto_id = 3 (tipo: 1)
[2025-09-01 11:43:15] [DATABASE ERROR] Parâmetro associado: :data_fim_a = 2025-08-30 (tipo: 2)
[2025-09-01 11:43:15] [DATABASE ERROR] Parâmetro associado: :data_fim = 2025-08-30 (tipo: 2)
[2025-09-01 11:43:15] [DATABASE ERROR] Debug PDO após binding: SQL: [538] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=2
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=2

[2025-09-01 11:43:15] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":3}
[2025-09-01 11:43:15] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-01 11:43:15] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-01 11:43:15] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
         com parâmetros: {":produto_id":4,":data_fim_a":"2025-08-30",":data_fim":"2025-08-30"}
[2025-09-01 11:43:15] [DATABASE ERROR] Parâmetro associado: :produto_id = 4 (tipo: 1)
[2025-09-01 11:43:15] [DATABASE ERROR] Parâmetro associado: :data_fim_a = 2025-08-30 (tipo: 2)
[2025-09-01 11:43:15] [DATABASE ERROR] Parâmetro associado: :data_fim = 2025-08-30 (tipo: 2)
[2025-09-01 11:43:15] [DATABASE ERROR] Debug PDO após binding: SQL: [538] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=2
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=2

[2025-09-01 11:43:15] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":4}
[2025-09-01 11:43:15] [DATABASE ERROR] Parâmetro associado: :id = 4 (tipo: 1)
[2025-09-01 11:43:15] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-01 11:43:15] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
         com parâmetros: {":produto_id":5,":data_fim_a":"2025-08-30",":data_fim":"2025-08-30"}
[2025-09-01 11:43:15] [DATABASE ERROR] Parâmetro associado: :produto_id = 5 (tipo: 1)
[2025-09-01 11:43:15] [DATABASE ERROR] Parâmetro associado: :data_fim_a = 2025-08-30 (tipo: 2)
[2025-09-01 11:43:15] [DATABASE ERROR] Parâmetro associado: :data_fim = 2025-08-30 (tipo: 2)
[2025-09-01 11:43:15] [DATABASE ERROR] Debug PDO após binding: SQL: [538] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=2
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=2

[2025-09-01 11:43:15] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":5}
[2025-09-01 11:43:15] [DATABASE ERROR] Parâmetro associado: :id = 5 (tipo: 1)
[2025-09-01 11:43:15] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-01 11:43:15] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
         com parâmetros: {":produto_id":2,":data_fim_a":"2025-08-30",":data_fim":"2025-08-30"}
[2025-09-01 11:43:15] [DATABASE ERROR] Parâmetro associado: :produto_id = 2 (tipo: 1)
[2025-09-01 11:43:15] [DATABASE ERROR] Parâmetro associado: :data_fim_a = 2025-08-30 (tipo: 2)
[2025-09-01 11:43:15] [DATABASE ERROR] Parâmetro associado: :data_fim = 2025-08-30 (tipo: 2)
[2025-09-01 11:43:15] [DATABASE ERROR] Debug PDO após binding: SQL: [538] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=2
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=2

[2025-09-01 11:43:15] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":2}
[2025-09-01 11:43:15] [DATABASE ERROR] Parâmetro associado: :id = 2 (tipo: 1)
[2025-09-01 11:43:15] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-01 11:43:21] [DATABASE ERROR] Preparando query: 
            SELECT 
                p.id, 
                p.nome, 
                p.estoque_atual, 
                c.nome AS categoria, 
                f.razao_social AS fornecedor
            FROM produtos p
            LEFT JOIN categorias c ON p.categoria_id = c.id
            LEFT JOIN fornecedores f ON p.fornecedor_principal_id = f.id
            WHERE p.ativo = TRUE
                AND (:produto_id_null IS NULL OR p.id = :produto_id)
                AND (:categoria_id_null IS NULL OR p.categoria_id = :categoria_id)
                AND (:fornecedor_id_null IS NULL OR p.fornecedor_principal_id = :fornecedor_id)
            ORDER BY p.nome ASC;
         com parâmetros: {":produto_id_null":null,":produto_id":null,":categoria_id_null":null,":categoria_id":null,":fornecedor_id_null":null,":fornecedor_id":null}
[2025-09-01 11:43:21] [DATABASE ERROR] Parâmetro associado: :produto_id_null = NULL (tipo: 0)
[2025-09-01 11:43:21] [DATABASE ERROR] Parâmetro associado: :produto_id = NULL (tipo: 0)
[2025-09-01 11:43:21] [DATABASE ERROR] Parâmetro associado: :categoria_id_null = NULL (tipo: 0)
[2025-09-01 11:43:21] [DATABASE ERROR] Parâmetro associado: :categoria_id = NULL (tipo: 0)
[2025-09-01 11:43:21] [DATABASE ERROR] Parâmetro associado: :fornecedor_id_null = NULL (tipo: 0)
[2025-09-01 11:43:21] [DATABASE ERROR] Parâmetro associado: :fornecedor_id = NULL (tipo: 0)
[2025-09-01 11:43:21] [DATABASE ERROR] Debug PDO após binding: SQL: [684] 
            SELECT 
                p.id, 
                p.nome, 
                p.estoque_atual, 
                c.nome AS categoria, 
                f.razao_social AS fornecedor
            FROM produtos p
            LEFT JOIN categorias c ON p.categoria_id = c.id
            LEFT JOIN fornecedores f ON p.fornecedor_principal_id = f.id
            WHERE p.ativo = TRUE
                AND (:produto_id_null IS NULL OR p.id = :produto_id)
                AND (:categoria_id_null IS NULL OR p.categoria_id = :categoria_id)
                AND (:fornecedor_id_null IS NULL OR p.fornecedor_principal_id = :fornecedor_id)
            ORDER BY p.nome ASC;
        
Params:  6
Key: Name: [16] :produto_id_null
paramno=0
name=[16] ":produto_id_null"
is_param=1
param_type=0
Key: Name: [11] :produto_id
paramno=1
name=[11] ":produto_id"
is_param=1
param_type=0
Key: Name: [18] :categoria_id_null
paramno=2
name=[18] ":categoria_id_null"
is_param=1
param_type=0
Key: Name: [13] :categoria_id
paramno=3
name=[13] ":categoria_id"
is_param=1
param_type=0
Key: Name: [19] :fornecedor_id_null
paramno=4
name=[19] ":fornecedor_id_null"
is_param=1
param_type=0
Key: Name: [14] :fornecedor_id
paramno=5
name=[14] ":fornecedor_id"
is_param=1
param_type=0

[2025-09-01 11:43:21] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
         com parâmetros: {":produto_id":6,":data_fim_a":"2025-08-30",":data_fim":"2025-08-30"}
[2025-09-01 11:43:21] [DATABASE ERROR] Parâmetro associado: :produto_id = 6 (tipo: 1)
[2025-09-01 11:43:21] [DATABASE ERROR] Parâmetro associado: :data_fim_a = 2025-08-30 (tipo: 2)
[2025-09-01 11:43:21] [DATABASE ERROR] Parâmetro associado: :data_fim = 2025-08-30 (tipo: 2)
[2025-09-01 11:43:21] [DATABASE ERROR] Debug PDO após binding: SQL: [538] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=2
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=2

[2025-09-01 11:43:21] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":6}
[2025-09-01 11:43:21] [DATABASE ERROR] Parâmetro associado: :id = 6 (tipo: 1)
[2025-09-01 11:43:21] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-01 11:43:21] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
         com parâmetros: {":produto_id":3,":data_fim_a":"2025-08-30",":data_fim":"2025-08-30"}
[2025-09-01 11:43:21] [DATABASE ERROR] Parâmetro associado: :produto_id = 3 (tipo: 1)
[2025-09-01 11:43:21] [DATABASE ERROR] Parâmetro associado: :data_fim_a = 2025-08-30 (tipo: 2)
[2025-09-01 11:43:21] [DATABASE ERROR] Parâmetro associado: :data_fim = 2025-08-30 (tipo: 2)
[2025-09-01 11:43:21] [DATABASE ERROR] Debug PDO após binding: SQL: [538] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=2
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=2

[2025-09-01 11:43:21] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":3}
[2025-09-01 11:43:21] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-01 11:43:21] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-01 11:43:21] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
         com parâmetros: {":produto_id":4,":data_fim_a":"2025-08-30",":data_fim":"2025-08-30"}
[2025-09-01 11:43:21] [DATABASE ERROR] Parâmetro associado: :produto_id = 4 (tipo: 1)
[2025-09-01 11:43:21] [DATABASE ERROR] Parâmetro associado: :data_fim_a = 2025-08-30 (tipo: 2)
[2025-09-01 11:43:21] [DATABASE ERROR] Parâmetro associado: :data_fim = 2025-08-30 (tipo: 2)
[2025-09-01 11:43:21] [DATABASE ERROR] Debug PDO após binding: SQL: [538] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=2
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=2

[2025-09-01 11:43:21] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":4}
[2025-09-01 11:43:21] [DATABASE ERROR] Parâmetro associado: :id = 4 (tipo: 1)
[2025-09-01 11:43:21] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-01 11:43:21] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
         com parâmetros: {":produto_id":5,":data_fim_a":"2025-08-30",":data_fim":"2025-08-30"}
[2025-09-01 11:43:21] [DATABASE ERROR] Parâmetro associado: :produto_id = 5 (tipo: 1)
[2025-09-01 11:43:21] [DATABASE ERROR] Parâmetro associado: :data_fim_a = 2025-08-30 (tipo: 2)
[2025-09-01 11:43:21] [DATABASE ERROR] Parâmetro associado: :data_fim = 2025-08-30 (tipo: 2)
[2025-09-01 11:43:21] [DATABASE ERROR] Debug PDO após binding: SQL: [538] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=2
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=2

[2025-09-01 11:43:21] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":5}
[2025-09-01 11:43:21] [DATABASE ERROR] Parâmetro associado: :id = 5 (tipo: 1)
[2025-09-01 11:43:21] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-01 11:43:21] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
         com parâmetros: {":produto_id":2,":data_fim_a":"2025-08-30",":data_fim":"2025-08-30"}
[2025-09-01 11:43:21] [DATABASE ERROR] Parâmetro associado: :produto_id = 2 (tipo: 1)
[2025-09-01 11:43:21] [DATABASE ERROR] Parâmetro associado: :data_fim_a = 2025-08-30 (tipo: 2)
[2025-09-01 11:43:21] [DATABASE ERROR] Parâmetro associado: :data_fim = 2025-08-30 (tipo: 2)
[2025-09-01 11:43:21] [DATABASE ERROR] Debug PDO após binding: SQL: [538] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=2
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=2

[2025-09-01 11:43:21] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":2}
[2025-09-01 11:43:21] [DATABASE ERROR] Parâmetro associado: :id = 2 (tipo: 1)
[2025-09-01 11:43:21] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-01 11:43:24] [DATABASE ERROR] Preparando query: 
            SELECT 
                p.id, 
                p.nome, 
                p.estoque_atual, 
                c.nome AS categoria, 
                f.razao_social AS fornecedor
            FROM produtos p
            LEFT JOIN categorias c ON p.categoria_id = c.id
            LEFT JOIN fornecedores f ON p.fornecedor_principal_id = f.id
            WHERE p.ativo = TRUE
                AND (:produto_id_null IS NULL OR p.id = :produto_id)
                AND (:categoria_id_null IS NULL OR p.categoria_id = :categoria_id)
                AND (:fornecedor_id_null IS NULL OR p.fornecedor_principal_id = :fornecedor_id)
            ORDER BY p.nome ASC;
         com parâmetros: {":produto_id_null":null,":produto_id":null,":categoria_id_null":null,":categoria_id":null,":fornecedor_id_null":null,":fornecedor_id":null}
[2025-09-01 11:43:24] [DATABASE ERROR] Parâmetro associado: :produto_id_null = NULL (tipo: 0)
[2025-09-01 11:43:24] [DATABASE ERROR] Parâmetro associado: :produto_id = NULL (tipo: 0)
[2025-09-01 11:43:24] [DATABASE ERROR] Parâmetro associado: :categoria_id_null = NULL (tipo: 0)
[2025-09-01 11:43:24] [DATABASE ERROR] Parâmetro associado: :categoria_id = NULL (tipo: 0)
[2025-09-01 11:43:24] [DATABASE ERROR] Parâmetro associado: :fornecedor_id_null = NULL (tipo: 0)
[2025-09-01 11:43:24] [DATABASE ERROR] Parâmetro associado: :fornecedor_id = NULL (tipo: 0)
[2025-09-01 11:43:24] [DATABASE ERROR] Debug PDO após binding: SQL: [684] 
            SELECT 
                p.id, 
                p.nome, 
                p.estoque_atual, 
                c.nome AS categoria, 
                f.razao_social AS fornecedor
            FROM produtos p
            LEFT JOIN categorias c ON p.categoria_id = c.id
            LEFT JOIN fornecedores f ON p.fornecedor_principal_id = f.id
            WHERE p.ativo = TRUE
                AND (:produto_id_null IS NULL OR p.id = :produto_id)
                AND (:categoria_id_null IS NULL OR p.categoria_id = :categoria_id)
                AND (:fornecedor_id_null IS NULL OR p.fornecedor_principal_id = :fornecedor_id)
            ORDER BY p.nome ASC;
        
Params:  6
Key: Name: [16] :produto_id_null
paramno=0
name=[16] ":produto_id_null"
is_param=1
param_type=0
Key: Name: [11] :produto_id
paramno=1
name=[11] ":produto_id"
is_param=1
param_type=0
Key: Name: [18] :categoria_id_null
paramno=2
name=[18] ":categoria_id_null"
is_param=1
param_type=0
Key: Name: [13] :categoria_id
paramno=3
name=[13] ":categoria_id"
is_param=1
param_type=0
Key: Name: [19] :fornecedor_id_null
paramno=4
name=[19] ":fornecedor_id_null"
is_param=1
param_type=0
Key: Name: [14] :fornecedor_id
paramno=5
name=[14] ":fornecedor_id"
is_param=1
param_type=0

[2025-09-01 11:43:24] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
         com parâmetros: {":produto_id":6,":data_fim_a":"2025-08-30",":data_fim":"2025-08-30"}
[2025-09-01 11:43:24] [DATABASE ERROR] Parâmetro associado: :produto_id = 6 (tipo: 1)
[2025-09-01 11:43:24] [DATABASE ERROR] Parâmetro associado: :data_fim_a = 2025-08-30 (tipo: 2)
[2025-09-01 11:43:24] [DATABASE ERROR] Parâmetro associado: :data_fim = 2025-08-30 (tipo: 2)
[2025-09-01 11:43:24] [DATABASE ERROR] Debug PDO após binding: SQL: [538] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=2
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=2

[2025-09-01 11:43:24] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":6}
[2025-09-01 11:43:24] [DATABASE ERROR] Parâmetro associado: :id = 6 (tipo: 1)
[2025-09-01 11:43:24] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-01 11:43:24] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
         com parâmetros: {":produto_id":3,":data_fim_a":"2025-08-30",":data_fim":"2025-08-30"}
[2025-09-01 11:43:24] [DATABASE ERROR] Parâmetro associado: :produto_id = 3 (tipo: 1)
[2025-09-01 11:43:24] [DATABASE ERROR] Parâmetro associado: :data_fim_a = 2025-08-30 (tipo: 2)
[2025-09-01 11:43:24] [DATABASE ERROR] Parâmetro associado: :data_fim = 2025-08-30 (tipo: 2)
[2025-09-01 11:43:24] [DATABASE ERROR] Debug PDO após binding: SQL: [538] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=2
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=2

[2025-09-01 11:43:24] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":3}
[2025-09-01 11:43:24] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-01 11:43:24] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-01 11:43:24] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
         com parâmetros: {":produto_id":4,":data_fim_a":"2025-08-30",":data_fim":"2025-08-30"}
[2025-09-01 11:43:24] [DATABASE ERROR] Parâmetro associado: :produto_id = 4 (tipo: 1)
[2025-09-01 11:43:24] [DATABASE ERROR] Parâmetro associado: :data_fim_a = 2025-08-30 (tipo: 2)
[2025-09-01 11:43:24] [DATABASE ERROR] Parâmetro associado: :data_fim = 2025-08-30 (tipo: 2)
[2025-09-01 11:43:24] [DATABASE ERROR] Debug PDO após binding: SQL: [538] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=2
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=2

[2025-09-01 11:43:24] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":4}
[2025-09-01 11:43:24] [DATABASE ERROR] Parâmetro associado: :id = 4 (tipo: 1)
[2025-09-01 11:43:24] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-01 11:43:24] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
         com parâmetros: {":produto_id":5,":data_fim_a":"2025-08-30",":data_fim":"2025-08-30"}
[2025-09-01 11:43:24] [DATABASE ERROR] Parâmetro associado: :produto_id = 5 (tipo: 1)
[2025-09-01 11:43:24] [DATABASE ERROR] Parâmetro associado: :data_fim_a = 2025-08-30 (tipo: 2)
[2025-09-01 11:43:24] [DATABASE ERROR] Parâmetro associado: :data_fim = 2025-08-30 (tipo: 2)
[2025-09-01 11:43:24] [DATABASE ERROR] Debug PDO após binding: SQL: [538] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=2
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=2

[2025-09-01 11:43:24] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":5}
[2025-09-01 11:43:24] [DATABASE ERROR] Parâmetro associado: :id = 5 (tipo: 1)
[2025-09-01 11:43:24] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-01 11:43:24] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
         com parâmetros: {":produto_id":2,":data_fim_a":"2025-08-30",":data_fim":"2025-08-30"}
[2025-09-01 11:43:24] [DATABASE ERROR] Parâmetro associado: :produto_id = 2 (tipo: 1)
[2025-09-01 11:43:24] [DATABASE ERROR] Parâmetro associado: :data_fim_a = 2025-08-30 (tipo: 2)
[2025-09-01 11:43:24] [DATABASE ERROR] Parâmetro associado: :data_fim = 2025-08-30 (tipo: 2)
[2025-09-01 11:43:24] [DATABASE ERROR] Debug PDO após binding: SQL: [538] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=2
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=2

[2025-09-01 11:43:24] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":2}
[2025-09-01 11:43:24] [DATABASE ERROR] Parâmetro associado: :id = 2 (tipo: 1)
[2025-09-01 11:43:24] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-01 11:43:32] [DATABASE ERROR] Preparando query: 
            SELECT 
                p.id, 
                p.nome, 
                p.estoque_atual, 
                c.nome AS categoria, 
                f.razao_social AS fornecedor
            FROM produtos p
            LEFT JOIN categorias c ON p.categoria_id = c.id
            LEFT JOIN fornecedores f ON p.fornecedor_principal_id = f.id
            WHERE p.ativo = TRUE
                AND (:produto_id_null IS NULL OR p.id = :produto_id)
                AND (:categoria_id_null IS NULL OR p.categoria_id = :categoria_id)
                AND (:fornecedor_id_null IS NULL OR p.fornecedor_principal_id = :fornecedor_id)
            ORDER BY p.nome ASC;
         com parâmetros: {":produto_id_null":null,":produto_id":null,":categoria_id_null":null,":categoria_id":null,":fornecedor_id_null":null,":fornecedor_id":null}
[2025-09-01 11:43:32] [DATABASE ERROR] Parâmetro associado: :produto_id_null = NULL (tipo: 0)
[2025-09-01 11:43:32] [DATABASE ERROR] Parâmetro associado: :produto_id = NULL (tipo: 0)
[2025-09-01 11:43:32] [DATABASE ERROR] Parâmetro associado: :categoria_id_null = NULL (tipo: 0)
[2025-09-01 11:43:32] [DATABASE ERROR] Parâmetro associado: :categoria_id = NULL (tipo: 0)
[2025-09-01 11:43:32] [DATABASE ERROR] Parâmetro associado: :fornecedor_id_null = NULL (tipo: 0)
[2025-09-01 11:43:32] [DATABASE ERROR] Parâmetro associado: :fornecedor_id = NULL (tipo: 0)
[2025-09-01 11:43:32] [DATABASE ERROR] Debug PDO após binding: SQL: [684] 
            SELECT 
                p.id, 
                p.nome, 
                p.estoque_atual, 
                c.nome AS categoria, 
                f.razao_social AS fornecedor
            FROM produtos p
            LEFT JOIN categorias c ON p.categoria_id = c.id
            LEFT JOIN fornecedores f ON p.fornecedor_principal_id = f.id
            WHERE p.ativo = TRUE
                AND (:produto_id_null IS NULL OR p.id = :produto_id)
                AND (:categoria_id_null IS NULL OR p.categoria_id = :categoria_id)
                AND (:fornecedor_id_null IS NULL OR p.fornecedor_principal_id = :fornecedor_id)
            ORDER BY p.nome ASC;
        
Params:  6
Key: Name: [16] :produto_id_null
paramno=0
name=[16] ":produto_id_null"
is_param=1
param_type=0
Key: Name: [11] :produto_id
paramno=1
name=[11] ":produto_id"
is_param=1
param_type=0
Key: Name: [18] :categoria_id_null
paramno=2
name=[18] ":categoria_id_null"
is_param=1
param_type=0
Key: Name: [13] :categoria_id
paramno=3
name=[13] ":categoria_id"
is_param=1
param_type=0
Key: Name: [19] :fornecedor_id_null
paramno=4
name=[19] ":fornecedor_id_null"
is_param=1
param_type=0
Key: Name: [14] :fornecedor_id
paramno=5
name=[14] ":fornecedor_id"
is_param=1
param_type=0

[2025-09-01 11:43:32] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
         com parâmetros: {":produto_id":6,":data_fim_a":"2025-08-30",":data_fim":"2025-08-30"}
[2025-09-01 11:43:32] [DATABASE ERROR] Parâmetro associado: :produto_id = 6 (tipo: 1)
[2025-09-01 11:43:32] [DATABASE ERROR] Parâmetro associado: :data_fim_a = 2025-08-30 (tipo: 2)
[2025-09-01 11:43:32] [DATABASE ERROR] Parâmetro associado: :data_fim = 2025-08-30 (tipo: 2)
[2025-09-01 11:43:32] [DATABASE ERROR] Debug PDO após binding: SQL: [538] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=2
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=2

[2025-09-01 11:43:32] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":6}
[2025-09-01 11:43:32] [DATABASE ERROR] Parâmetro associado: :id = 6 (tipo: 1)
[2025-09-01 11:43:32] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-01 11:43:32] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
         com parâmetros: {":produto_id":3,":data_fim_a":"2025-08-30",":data_fim":"2025-08-30"}
[2025-09-01 11:43:32] [DATABASE ERROR] Parâmetro associado: :produto_id = 3 (tipo: 1)
[2025-09-01 11:43:32] [DATABASE ERROR] Parâmetro associado: :data_fim_a = 2025-08-30 (tipo: 2)
[2025-09-01 11:43:32] [DATABASE ERROR] Parâmetro associado: :data_fim = 2025-08-30 (tipo: 2)
[2025-09-01 11:43:32] [DATABASE ERROR] Debug PDO após binding: SQL: [538] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=2
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=2

[2025-09-01 11:43:32] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":3}
[2025-09-01 11:43:32] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-01 11:43:32] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-01 11:43:32] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
         com parâmetros: {":produto_id":4,":data_fim_a":"2025-08-30",":data_fim":"2025-08-30"}
[2025-09-01 11:43:32] [DATABASE ERROR] Parâmetro associado: :produto_id = 4 (tipo: 1)
[2025-09-01 11:43:32] [DATABASE ERROR] Parâmetro associado: :data_fim_a = 2025-08-30 (tipo: 2)
[2025-09-01 11:43:32] [DATABASE ERROR] Parâmetro associado: :data_fim = 2025-08-30 (tipo: 2)
[2025-09-01 11:43:32] [DATABASE ERROR] Debug PDO após binding: SQL: [538] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=2
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=2

[2025-09-01 11:43:32] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":4}
[2025-09-01 11:43:32] [DATABASE ERROR] Parâmetro associado: :id = 4 (tipo: 1)
[2025-09-01 11:43:32] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-01 11:43:32] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
         com parâmetros: {":produto_id":5,":data_fim_a":"2025-08-30",":data_fim":"2025-08-30"}
[2025-09-01 11:43:32] [DATABASE ERROR] Parâmetro associado: :produto_id = 5 (tipo: 1)
[2025-09-01 11:43:32] [DATABASE ERROR] Parâmetro associado: :data_fim_a = 2025-08-30 (tipo: 2)
[2025-09-01 11:43:32] [DATABASE ERROR] Parâmetro associado: :data_fim = 2025-08-30 (tipo: 2)
[2025-09-01 11:43:32] [DATABASE ERROR] Debug PDO após binding: SQL: [538] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=2
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=2

[2025-09-01 11:43:32] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":5}
[2025-09-01 11:43:32] [DATABASE ERROR] Parâmetro associado: :id = 5 (tipo: 1)
[2025-09-01 11:43:32] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-01 11:43:32] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
         com parâmetros: {":produto_id":2,":data_fim_a":"2025-08-30",":data_fim":"2025-08-30"}
[2025-09-01 11:43:32] [DATABASE ERROR] Parâmetro associado: :produto_id = 2 (tipo: 1)
[2025-09-01 11:43:32] [DATABASE ERROR] Parâmetro associado: :data_fim_a = 2025-08-30 (tipo: 2)
[2025-09-01 11:43:32] [DATABASE ERROR] Parâmetro associado: :data_fim = 2025-08-30 (tipo: 2)
[2025-09-01 11:43:32] [DATABASE ERROR] Debug PDO após binding: SQL: [538] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=2
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=2

[2025-09-01 11:43:32] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":2}
[2025-09-01 11:43:32] [DATABASE ERROR] Parâmetro associado: :id = 2 (tipo: 1)
[2025-09-01 11:43:32] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-01 11:44:37] [DATABASE ERROR] Preparando query: 
            SELECT 
                p.id, 
                p.nome, 
                p.estoque_atual, 
                c.nome AS categoria, 
                f.razao_social AS fornecedor
            FROM produtos p
            LEFT JOIN categorias c ON p.categoria_id = c.id
            LEFT JOIN fornecedores f ON p.fornecedor_principal_id = f.id
            WHERE p.ativo = TRUE
                AND (:produto_id_null IS NULL OR p.id = :produto_id)
                AND (:categoria_id_null IS NULL OR p.categoria_id = :categoria_id)
                AND (:fornecedor_id_null IS NULL OR p.fornecedor_principal_id = :fornecedor_id)
            ORDER BY p.nome ASC;
         com parâmetros: {":produto_id_null":null,":produto_id":null,":categoria_id_null":null,":categoria_id":null,":fornecedor_id_null":null,":fornecedor_id":null}
[2025-09-01 11:44:37] [DATABASE ERROR] Parâmetro associado: :produto_id_null = NULL (tipo: 0)
[2025-09-01 11:44:37] [DATABASE ERROR] Parâmetro associado: :produto_id = NULL (tipo: 0)
[2025-09-01 11:44:37] [DATABASE ERROR] Parâmetro associado: :categoria_id_null = NULL (tipo: 0)
[2025-09-01 11:44:37] [DATABASE ERROR] Parâmetro associado: :categoria_id = NULL (tipo: 0)
[2025-09-01 11:44:37] [DATABASE ERROR] Parâmetro associado: :fornecedor_id_null = NULL (tipo: 0)
[2025-09-01 11:44:37] [DATABASE ERROR] Parâmetro associado: :fornecedor_id = NULL (tipo: 0)
[2025-09-01 11:44:37] [DATABASE ERROR] Debug PDO após binding: SQL: [684] 
            SELECT 
                p.id, 
                p.nome, 
                p.estoque_atual, 
                c.nome AS categoria, 
                f.razao_social AS fornecedor
            FROM produtos p
            LEFT JOIN categorias c ON p.categoria_id = c.id
            LEFT JOIN fornecedores f ON p.fornecedor_principal_id = f.id
            WHERE p.ativo = TRUE
                AND (:produto_id_null IS NULL OR p.id = :produto_id)
                AND (:categoria_id_null IS NULL OR p.categoria_id = :categoria_id)
                AND (:fornecedor_id_null IS NULL OR p.fornecedor_principal_id = :fornecedor_id)
            ORDER BY p.nome ASC;
        
Params:  6
Key: Name: [16] :produto_id_null
paramno=0
name=[16] ":produto_id_null"
is_param=1
param_type=0
Key: Name: [11] :produto_id
paramno=1
name=[11] ":produto_id"
is_param=1
param_type=0
Key: Name: [18] :categoria_id_null
paramno=2
name=[18] ":categoria_id_null"
is_param=1
param_type=0
Key: Name: [13] :categoria_id
paramno=3
name=[13] ":categoria_id"
is_param=1
param_type=0
Key: Name: [19] :fornecedor_id_null
paramno=4
name=[19] ":fornecedor_id_null"
is_param=1
param_type=0
Key: Name: [14] :fornecedor_id
paramno=5
name=[14] ":fornecedor_id"
is_param=1
param_type=0

[2025-09-01 11:44:37] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
         com parâmetros: {":produto_id":6,":data_fim_a":"2025-08-30",":data_fim":"2025-08-30"}
[2025-09-01 11:44:37] [DATABASE ERROR] Parâmetro associado: :produto_id = 6 (tipo: 1)
[2025-09-01 11:44:37] [DATABASE ERROR] Parâmetro associado: :data_fim_a = 2025-08-30 (tipo: 2)
[2025-09-01 11:44:37] [DATABASE ERROR] Parâmetro associado: :data_fim = 2025-08-30 (tipo: 2)
[2025-09-01 11:44:37] [DATABASE ERROR] Debug PDO após binding: SQL: [538] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=2
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=2

[2025-09-01 11:44:50] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":6}
[2025-09-01 11:44:50] [DATABASE ERROR] Parâmetro associado: :id = 6 (tipo: 1)
[2025-09-01 11:44:50] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-01 11:46:27] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
         com parâmetros: {":produto_id":3,":data_fim_a":"2025-08-30",":data_fim":"2025-08-30"}
[2025-09-01 11:46:27] [DATABASE ERROR] Parâmetro associado: :produto_id = 3 (tipo: 1)
[2025-09-01 11:46:27] [DATABASE ERROR] Parâmetro associado: :data_fim_a = 2025-08-30 (tipo: 2)
[2025-09-01 11:46:27] [DATABASE ERROR] Parâmetro associado: :data_fim = 2025-08-30 (tipo: 2)
[2025-09-01 11:46:27] [DATABASE ERROR] Debug PDO após binding: SQL: [538] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=2
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=2

[2025-09-01 11:46:31] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":3}
[2025-09-01 11:46:31] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-01 11:46:31] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-01 11:46:31] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
         com parâmetros: {":produto_id":4,":data_fim_a":"2025-08-30",":data_fim":"2025-08-30"}
[2025-09-01 11:46:31] [DATABASE ERROR] Parâmetro associado: :produto_id = 4 (tipo: 1)
[2025-09-01 11:46:31] [DATABASE ERROR] Parâmetro associado: :data_fim_a = 2025-08-30 (tipo: 2)
[2025-09-01 11:46:31] [DATABASE ERROR] Parâmetro associado: :data_fim = 2025-08-30 (tipo: 2)
[2025-09-01 11:46:31] [DATABASE ERROR] Debug PDO após binding: SQL: [538] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=2
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=2

[2025-09-01 11:46:31] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":4}
[2025-09-01 11:46:31] [DATABASE ERROR] Parâmetro associado: :id = 4 (tipo: 1)
[2025-09-01 11:46:31] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-01 11:46:31] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
         com parâmetros: {":produto_id":5,":data_fim_a":"2025-08-30",":data_fim":"2025-08-30"}
[2025-09-01 11:46:31] [DATABASE ERROR] Parâmetro associado: :produto_id = 5 (tipo: 1)
[2025-09-01 11:46:31] [DATABASE ERROR] Parâmetro associado: :data_fim_a = 2025-08-30 (tipo: 2)
[2025-09-01 11:46:31] [DATABASE ERROR] Parâmetro associado: :data_fim = 2025-08-30 (tipo: 2)
[2025-09-01 11:46:31] [DATABASE ERROR] Debug PDO após binding: SQL: [538] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=2
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=2

[2025-09-01 11:46:31] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":5}
[2025-09-01 11:46:31] [DATABASE ERROR] Parâmetro associado: :id = 5 (tipo: 1)
[2025-09-01 11:46:31] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-01 11:46:31] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
         com parâmetros: {":produto_id":2,":data_fim_a":"2025-08-30",":data_fim":"2025-08-30"}
[2025-09-01 11:46:31] [DATABASE ERROR] Parâmetro associado: :produto_id = 2 (tipo: 1)
[2025-09-01 11:46:31] [DATABASE ERROR] Parâmetro associado: :data_fim_a = 2025-08-30 (tipo: 2)
[2025-09-01 11:46:31] [DATABASE ERROR] Parâmetro associado: :data_fim = 2025-08-30 (tipo: 2)
[2025-09-01 11:46:31] [DATABASE ERROR] Debug PDO após binding: SQL: [538] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=2
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=2

[2025-09-01 11:46:31] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":2}
[2025-09-01 11:46:31] [DATABASE ERROR] Parâmetro associado: :id = 2 (tipo: 1)
[2025-09-01 11:46:31] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-01 11:47:52] [DATABASE ERROR] Preparando query: 
            SELECT 
                p.id, 
                p.nome, 
                p.estoque_atual, 
                c.nome AS categoria, 
                f.razao_social AS fornecedor
            FROM produtos p
            LEFT JOIN categorias c ON p.categoria_id = c.id
            LEFT JOIN fornecedores f ON p.fornecedor_principal_id = f.id
            WHERE p.ativo = TRUE
                AND (:produto_id_null IS NULL OR p.id = :produto_id)
                AND (:categoria_id_null IS NULL OR p.categoria_id = :categoria_id)
                AND (:fornecedor_id_null IS NULL OR p.fornecedor_principal_id = :fornecedor_id)
            ORDER BY p.nome ASC;
         com parâmetros: {":produto_id_null":null,":produto_id":null,":categoria_id_null":null,":categoria_id":null,":fornecedor_id_null":null,":fornecedor_id":null}
[2025-09-01 11:47:52] [DATABASE ERROR] Parâmetro associado: :produto_id_null = NULL (tipo: 0)
[2025-09-01 11:47:52] [DATABASE ERROR] Parâmetro associado: :produto_id = NULL (tipo: 0)
[2025-09-01 11:47:52] [DATABASE ERROR] Parâmetro associado: :categoria_id_null = NULL (tipo: 0)
[2025-09-01 11:47:52] [DATABASE ERROR] Parâmetro associado: :categoria_id = NULL (tipo: 0)
[2025-09-01 11:47:52] [DATABASE ERROR] Parâmetro associado: :fornecedor_id_null = NULL (tipo: 0)
[2025-09-01 11:47:52] [DATABASE ERROR] Parâmetro associado: :fornecedor_id = NULL (tipo: 0)
[2025-09-01 11:47:52] [DATABASE ERROR] Debug PDO após binding: SQL: [684] 
            SELECT 
                p.id, 
                p.nome, 
                p.estoque_atual, 
                c.nome AS categoria, 
                f.razao_social AS fornecedor
            FROM produtos p
            LEFT JOIN categorias c ON p.categoria_id = c.id
            LEFT JOIN fornecedores f ON p.fornecedor_principal_id = f.id
            WHERE p.ativo = TRUE
                AND (:produto_id_null IS NULL OR p.id = :produto_id)
                AND (:categoria_id_null IS NULL OR p.categoria_id = :categoria_id)
                AND (:fornecedor_id_null IS NULL OR p.fornecedor_principal_id = :fornecedor_id)
            ORDER BY p.nome ASC;
        
Params:  6
Key: Name: [16] :produto_id_null
paramno=0
name=[16] ":produto_id_null"
is_param=1
param_type=0
Key: Name: [11] :produto_id
paramno=1
name=[11] ":produto_id"
is_param=1
param_type=0
Key: Name: [18] :categoria_id_null
paramno=2
name=[18] ":categoria_id_null"
is_param=1
param_type=0
Key: Name: [13] :categoria_id
paramno=3
name=[13] ":categoria_id"
is_param=1
param_type=0
Key: Name: [19] :fornecedor_id_null
paramno=4
name=[19] ":fornecedor_id_null"
is_param=1
param_type=0
Key: Name: [14] :fornecedor_id
paramno=5
name=[14] ":fornecedor_id"
is_param=1
param_type=0

[2025-09-01 11:47:52] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
         com parâmetros: {":produto_id":6,":data_fim_a":"2025-08-30",":data_fim":"2025-08-30"}
[2025-09-01 11:47:52] [DATABASE ERROR] Parâmetro associado: :produto_id = 6 (tipo: 1)
[2025-09-01 11:47:52] [DATABASE ERROR] Parâmetro associado: :data_fim_a = 2025-08-30 (tipo: 2)
[2025-09-01 11:47:52] [DATABASE ERROR] Parâmetro associado: :data_fim = 2025-08-30 (tipo: 2)
[2025-09-01 11:47:52] [DATABASE ERROR] Debug PDO após binding: SQL: [538] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=2
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=2

[2025-09-01 11:47:52] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":6}
[2025-09-01 11:47:52] [DATABASE ERROR] Parâmetro associado: :id = 6 (tipo: 1)
[2025-09-01 11:47:52] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-01 11:47:52] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
         com parâmetros: {":produto_id":3,":data_fim_a":"2025-08-30",":data_fim":"2025-08-30"}
[2025-09-01 11:47:52] [DATABASE ERROR] Parâmetro associado: :produto_id = 3 (tipo: 1)
[2025-09-01 11:47:52] [DATABASE ERROR] Parâmetro associado: :data_fim_a = 2025-08-30 (tipo: 2)
[2025-09-01 11:47:52] [DATABASE ERROR] Parâmetro associado: :data_fim = 2025-08-30 (tipo: 2)
[2025-09-01 11:47:52] [DATABASE ERROR] Debug PDO após binding: SQL: [538] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=2
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=2

[2025-09-01 11:47:52] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":3}
[2025-09-01 11:47:52] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-01 11:47:52] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-01 11:47:52] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
         com parâmetros: {":produto_id":4,":data_fim_a":"2025-08-30",":data_fim":"2025-08-30"}
[2025-09-01 11:47:52] [DATABASE ERROR] Parâmetro associado: :produto_id = 4 (tipo: 1)
[2025-09-01 11:47:52] [DATABASE ERROR] Parâmetro associado: :data_fim_a = 2025-08-30 (tipo: 2)
[2025-09-01 11:47:52] [DATABASE ERROR] Parâmetro associado: :data_fim = 2025-08-30 (tipo: 2)
[2025-09-01 11:47:52] [DATABASE ERROR] Debug PDO após binding: SQL: [538] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=2
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=2

[2025-09-01 11:47:52] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":4}
[2025-09-01 11:47:52] [DATABASE ERROR] Parâmetro associado: :id = 4 (tipo: 1)
[2025-09-01 11:47:52] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-01 11:47:52] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
         com parâmetros: {":produto_id":5,":data_fim_a":"2025-08-30",":data_fim":"2025-08-30"}
[2025-09-01 11:47:52] [DATABASE ERROR] Parâmetro associado: :produto_id = 5 (tipo: 1)
[2025-09-01 11:47:52] [DATABASE ERROR] Parâmetro associado: :data_fim_a = 2025-08-30 (tipo: 2)
[2025-09-01 11:47:52] [DATABASE ERROR] Parâmetro associado: :data_fim = 2025-08-30 (tipo: 2)
[2025-09-01 11:47:52] [DATABASE ERROR] Debug PDO após binding: SQL: [538] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=2
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=2

[2025-09-01 11:47:52] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":5}
[2025-09-01 11:47:52] [DATABASE ERROR] Parâmetro associado: :id = 5 (tipo: 1)
[2025-09-01 11:47:52] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-01 11:47:52] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
         com parâmetros: {":produto_id":2,":data_fim_a":"2025-08-30",":data_fim":"2025-08-30"}
[2025-09-01 11:47:52] [DATABASE ERROR] Parâmetro associado: :produto_id = 2 (tipo: 1)
[2025-09-01 11:47:52] [DATABASE ERROR] Parâmetro associado: :data_fim_a = 2025-08-30 (tipo: 2)
[2025-09-01 11:47:52] [DATABASE ERROR] Parâmetro associado: :data_fim = 2025-08-30 (tipo: 2)
[2025-09-01 11:47:52] [DATABASE ERROR] Debug PDO após binding: SQL: [538] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=2
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=2

[2025-09-01 11:47:52] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":2}
[2025-09-01 11:47:52] [DATABASE ERROR] Parâmetro associado: :id = 2 (tipo: 1)
[2025-09-01 11:47:52] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-01 11:48:56] [DATABASE ERROR] Preparando query: 
            SELECT 
                p.id, 
                p.nome, 
                p.estoque_atual, 
                c.nome AS categoria, 
                f.razao_social AS fornecedor
            FROM produtos p
            LEFT JOIN categorias c ON p.categoria_id = c.id
            LEFT JOIN fornecedores f ON p.fornecedor_principal_id = f.id
            WHERE p.ativo = TRUE
                AND (:produto_id_null IS NULL OR p.id = :produto_id)
                AND (:categoria_id_null IS NULL OR p.categoria_id = :categoria_id)
                AND (:fornecedor_id_null IS NULL OR p.fornecedor_principal_id = :fornecedor_id)
            ORDER BY p.nome ASC;
         com parâmetros: {":produto_id_null":null,":produto_id":null,":categoria_id_null":null,":categoria_id":null,":fornecedor_id_null":2,":fornecedor_id":2}
[2025-09-01 11:48:56] [DATABASE ERROR] Parâmetro associado: :produto_id_null = NULL (tipo: 0)
[2025-09-01 11:48:56] [DATABASE ERROR] Parâmetro associado: :produto_id = NULL (tipo: 0)
[2025-09-01 11:48:56] [DATABASE ERROR] Parâmetro associado: :categoria_id_null = NULL (tipo: 0)
[2025-09-01 11:48:56] [DATABASE ERROR] Parâmetro associado: :categoria_id = NULL (tipo: 0)
[2025-09-01 11:48:56] [DATABASE ERROR] Parâmetro associado: :fornecedor_id_null = 2 (tipo: 1)
[2025-09-01 11:48:56] [DATABASE ERROR] Parâmetro associado: :fornecedor_id = 2 (tipo: 1)
[2025-09-01 11:48:56] [DATABASE ERROR] Debug PDO após binding: SQL: [684] 
            SELECT 
                p.id, 
                p.nome, 
                p.estoque_atual, 
                c.nome AS categoria, 
                f.razao_social AS fornecedor
            FROM produtos p
            LEFT JOIN categorias c ON p.categoria_id = c.id
            LEFT JOIN fornecedores f ON p.fornecedor_principal_id = f.id
            WHERE p.ativo = TRUE
                AND (:produto_id_null IS NULL OR p.id = :produto_id)
                AND (:categoria_id_null IS NULL OR p.categoria_id = :categoria_id)
                AND (:fornecedor_id_null IS NULL OR p.fornecedor_principal_id = :fornecedor_id)
            ORDER BY p.nome ASC;
        
Params:  6
Key: Name: [16] :produto_id_null
paramno=0
name=[16] ":produto_id_null"
is_param=1
param_type=0
Key: Name: [11] :produto_id
paramno=1
name=[11] ":produto_id"
is_param=1
param_type=0
Key: Name: [18] :categoria_id_null
paramno=2
name=[18] ":categoria_id_null"
is_param=1
param_type=0
Key: Name: [13] :categoria_id
paramno=3
name=[13] ":categoria_id"
is_param=1
param_type=0
Key: Name: [19] :fornecedor_id_null
paramno=4
name=[19] ":fornecedor_id_null"
is_param=1
param_type=1
Key: Name: [14] :fornecedor_id
paramno=5
name=[14] ":fornecedor_id"
is_param=1
param_type=1

[2025-09-01 11:48:56] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
         com parâmetros: {":produto_id":6,":data_fim_a":"2025-08-30",":data_fim":"2025-08-30"}
[2025-09-01 11:48:56] [DATABASE ERROR] Parâmetro associado: :produto_id = 6 (tipo: 1)
[2025-09-01 11:48:56] [DATABASE ERROR] Parâmetro associado: :data_fim_a = 2025-08-30 (tipo: 2)
[2025-09-01 11:48:56] [DATABASE ERROR] Parâmetro associado: :data_fim = 2025-08-30 (tipo: 2)
[2025-09-01 11:48:56] [DATABASE ERROR] Debug PDO após binding: SQL: [538] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=2
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=2

[2025-09-01 11:48:56] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":6}
[2025-09-01 11:48:56] [DATABASE ERROR] Parâmetro associado: :id = 6 (tipo: 1)
[2025-09-01 11:48:56] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-01 11:49:01] [DATABASE ERROR] Preparando query: 
            SELECT 
                p.id, 
                p.nome, 
                p.estoque_atual, 
                c.nome AS categoria, 
                f.razao_social AS fornecedor
            FROM produtos p
            LEFT JOIN categorias c ON p.categoria_id = c.id
            LEFT JOIN fornecedores f ON p.fornecedor_principal_id = f.id
            WHERE p.ativo = TRUE
                AND (:produto_id_null IS NULL OR p.id = :produto_id)
                AND (:categoria_id_null IS NULL OR p.categoria_id = :categoria_id)
                AND (:fornecedor_id_null IS NULL OR p.fornecedor_principal_id = :fornecedor_id)
            ORDER BY p.nome ASC;
         com parâmetros: {":produto_id_null":null,":produto_id":null,":categoria_id_null":null,":categoria_id":null,":fornecedor_id_null":null,":fornecedor_id":null}
[2025-09-01 11:49:01] [DATABASE ERROR] Parâmetro associado: :produto_id_null = NULL (tipo: 0)
[2025-09-01 11:49:01] [DATABASE ERROR] Parâmetro associado: :produto_id = NULL (tipo: 0)
[2025-09-01 11:49:01] [DATABASE ERROR] Parâmetro associado: :categoria_id_null = NULL (tipo: 0)
[2025-09-01 11:49:01] [DATABASE ERROR] Parâmetro associado: :categoria_id = NULL (tipo: 0)
[2025-09-01 11:49:01] [DATABASE ERROR] Parâmetro associado: :fornecedor_id_null = NULL (tipo: 0)
[2025-09-01 11:49:01] [DATABASE ERROR] Parâmetro associado: :fornecedor_id = NULL (tipo: 0)
[2025-09-01 11:49:01] [DATABASE ERROR] Debug PDO após binding: SQL: [684] 
            SELECT 
                p.id, 
                p.nome, 
                p.estoque_atual, 
                c.nome AS categoria, 
                f.razao_social AS fornecedor
            FROM produtos p
            LEFT JOIN categorias c ON p.categoria_id = c.id
            LEFT JOIN fornecedores f ON p.fornecedor_principal_id = f.id
            WHERE p.ativo = TRUE
                AND (:produto_id_null IS NULL OR p.id = :produto_id)
                AND (:categoria_id_null IS NULL OR p.categoria_id = :categoria_id)
                AND (:fornecedor_id_null IS NULL OR p.fornecedor_principal_id = :fornecedor_id)
            ORDER BY p.nome ASC;
        
Params:  6
Key: Name: [16] :produto_id_null
paramno=0
name=[16] ":produto_id_null"
is_param=1
param_type=0
Key: Name: [11] :produto_id
paramno=1
name=[11] ":produto_id"
is_param=1
param_type=0
Key: Name: [18] :categoria_id_null
paramno=2
name=[18] ":categoria_id_null"
is_param=1
param_type=0
Key: Name: [13] :categoria_id
paramno=3
name=[13] ":categoria_id"
is_param=1
param_type=0
Key: Name: [19] :fornecedor_id_null
paramno=4
name=[19] ":fornecedor_id_null"
is_param=1
param_type=0
Key: Name: [14] :fornecedor_id
paramno=5
name=[14] ":fornecedor_id"
is_param=1
param_type=0

[2025-09-01 11:49:01] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
         com parâmetros: {":produto_id":6,":data_fim_a":"2025-08-30",":data_fim":"2025-08-30"}
[2025-09-01 11:49:01] [DATABASE ERROR] Parâmetro associado: :produto_id = 6 (tipo: 1)
[2025-09-01 11:49:01] [DATABASE ERROR] Parâmetro associado: :data_fim_a = 2025-08-30 (tipo: 2)
[2025-09-01 11:49:01] [DATABASE ERROR] Parâmetro associado: :data_fim = 2025-08-30 (tipo: 2)
[2025-09-01 11:49:01] [DATABASE ERROR] Debug PDO após binding: SQL: [538] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=2
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=2

[2025-09-01 11:49:01] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":6}
[2025-09-01 11:49:01] [DATABASE ERROR] Parâmetro associado: :id = 6 (tipo: 1)
[2025-09-01 11:49:01] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-01 11:49:01] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
         com parâmetros: {":produto_id":3,":data_fim_a":"2025-08-30",":data_fim":"2025-08-30"}
[2025-09-01 11:49:01] [DATABASE ERROR] Parâmetro associado: :produto_id = 3 (tipo: 1)
[2025-09-01 11:49:01] [DATABASE ERROR] Parâmetro associado: :data_fim_a = 2025-08-30 (tipo: 2)
[2025-09-01 11:49:01] [DATABASE ERROR] Parâmetro associado: :data_fim = 2025-08-30 (tipo: 2)
[2025-09-01 11:49:01] [DATABASE ERROR] Debug PDO após binding: SQL: [538] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=2
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=2

[2025-09-01 11:49:01] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":3}
[2025-09-01 11:49:01] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-01 11:49:01] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-01 11:49:01] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
         com parâmetros: {":produto_id":4,":data_fim_a":"2025-08-30",":data_fim":"2025-08-30"}
[2025-09-01 11:49:01] [DATABASE ERROR] Parâmetro associado: :produto_id = 4 (tipo: 1)
[2025-09-01 11:49:01] [DATABASE ERROR] Parâmetro associado: :data_fim_a = 2025-08-30 (tipo: 2)
[2025-09-01 11:49:01] [DATABASE ERROR] Parâmetro associado: :data_fim = 2025-08-30 (tipo: 2)
[2025-09-01 11:49:01] [DATABASE ERROR] Debug PDO após binding: SQL: [538] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=2
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=2

[2025-09-01 11:49:01] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":4}
[2025-09-01 11:49:01] [DATABASE ERROR] Parâmetro associado: :id = 4 (tipo: 1)
[2025-09-01 11:49:01] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-01 11:49:01] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
         com parâmetros: {":produto_id":5,":data_fim_a":"2025-08-30",":data_fim":"2025-08-30"}
[2025-09-01 11:49:01] [DATABASE ERROR] Parâmetro associado: :produto_id = 5 (tipo: 1)
[2025-09-01 11:49:01] [DATABASE ERROR] Parâmetro associado: :data_fim_a = 2025-08-30 (tipo: 2)
[2025-09-01 11:49:01] [DATABASE ERROR] Parâmetro associado: :data_fim = 2025-08-30 (tipo: 2)
[2025-09-01 11:49:01] [DATABASE ERROR] Debug PDO após binding: SQL: [538] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=2
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=2

[2025-09-01 11:49:01] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":5}
[2025-09-01 11:49:01] [DATABASE ERROR] Parâmetro associado: :id = 5 (tipo: 1)
[2025-09-01 11:49:01] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-01 11:49:01] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
         com parâmetros: {":produto_id":2,":data_fim_a":"2025-08-30",":data_fim":"2025-08-30"}
[2025-09-01 11:49:01] [DATABASE ERROR] Parâmetro associado: :produto_id = 2 (tipo: 1)
[2025-09-01 11:49:01] [DATABASE ERROR] Parâmetro associado: :data_fim_a = 2025-08-30 (tipo: 2)
[2025-09-01 11:49:01] [DATABASE ERROR] Parâmetro associado: :data_fim = 2025-08-30 (tipo: 2)
[2025-09-01 11:49:01] [DATABASE ERROR] Debug PDO após binding: SQL: [538] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=2
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=2

[2025-09-01 11:49:01] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":2}
[2025-09-01 11:49:01] [DATABASE ERROR] Parâmetro associado: :id = 2 (tipo: 1)
[2025-09-01 11:49:01] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-01 11:49:08] [DATABASE ERROR] Preparando query: 
            SELECT 
                p.id, 
                p.nome, 
                p.estoque_atual, 
                c.nome AS categoria, 
                f.razao_social AS fornecedor
            FROM produtos p
            LEFT JOIN categorias c ON p.categoria_id = c.id
            LEFT JOIN fornecedores f ON p.fornecedor_principal_id = f.id
            WHERE p.ativo = TRUE
                AND (:produto_id_null IS NULL OR p.id = :produto_id)
                AND (:categoria_id_null IS NULL OR p.categoria_id = :categoria_id)
                AND (:fornecedor_id_null IS NULL OR p.fornecedor_principal_id = :fornecedor_id)
            ORDER BY p.nome ASC;
         com parâmetros: {":produto_id_null":null,":produto_id":null,":categoria_id_null":null,":categoria_id":null,":fornecedor_id_null":1,":fornecedor_id":1}
[2025-09-01 11:49:08] [DATABASE ERROR] Parâmetro associado: :produto_id_null = NULL (tipo: 0)
[2025-09-01 11:49:08] [DATABASE ERROR] Parâmetro associado: :produto_id = NULL (tipo: 0)
[2025-09-01 11:49:08] [DATABASE ERROR] Parâmetro associado: :categoria_id_null = NULL (tipo: 0)
[2025-09-01 11:49:08] [DATABASE ERROR] Parâmetro associado: :categoria_id = NULL (tipo: 0)
[2025-09-01 11:49:08] [DATABASE ERROR] Parâmetro associado: :fornecedor_id_null = 1 (tipo: 1)
[2025-09-01 11:49:08] [DATABASE ERROR] Parâmetro associado: :fornecedor_id = 1 (tipo: 1)
[2025-09-01 11:49:08] [DATABASE ERROR] Debug PDO após binding: SQL: [684] 
            SELECT 
                p.id, 
                p.nome, 
                p.estoque_atual, 
                c.nome AS categoria, 
                f.razao_social AS fornecedor
            FROM produtos p
            LEFT JOIN categorias c ON p.categoria_id = c.id
            LEFT JOIN fornecedores f ON p.fornecedor_principal_id = f.id
            WHERE p.ativo = TRUE
                AND (:produto_id_null IS NULL OR p.id = :produto_id)
                AND (:categoria_id_null IS NULL OR p.categoria_id = :categoria_id)
                AND (:fornecedor_id_null IS NULL OR p.fornecedor_principal_id = :fornecedor_id)
            ORDER BY p.nome ASC;
        
Params:  6
Key: Name: [16] :produto_id_null
paramno=0
name=[16] ":produto_id_null"
is_param=1
param_type=0
Key: Name: [11] :produto_id
paramno=1
name=[11] ":produto_id"
is_param=1
param_type=0
Key: Name: [18] :categoria_id_null
paramno=2
name=[18] ":categoria_id_null"
is_param=1
param_type=0
Key: Name: [13] :categoria_id
paramno=3
name=[13] ":categoria_id"
is_param=1
param_type=0
Key: Name: [19] :fornecedor_id_null
paramno=4
name=[19] ":fornecedor_id_null"
is_param=1
param_type=1
Key: Name: [14] :fornecedor_id
paramno=5
name=[14] ":fornecedor_id"
is_param=1
param_type=1

[2025-09-01 11:49:08] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
         com parâmetros: {":produto_id":3,":data_fim_a":"2025-08-30",":data_fim":"2025-08-30"}
[2025-09-01 11:49:08] [DATABASE ERROR] Parâmetro associado: :produto_id = 3 (tipo: 1)
[2025-09-01 11:49:08] [DATABASE ERROR] Parâmetro associado: :data_fim_a = 2025-08-30 (tipo: 2)
[2025-09-01 11:49:08] [DATABASE ERROR] Parâmetro associado: :data_fim = 2025-08-30 (tipo: 2)
[2025-09-01 11:49:08] [DATABASE ERROR] Debug PDO após binding: SQL: [538] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=2
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=2

[2025-09-01 11:49:08] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":3}
[2025-09-01 11:49:08] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-01 11:49:08] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-01 11:49:08] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
         com parâmetros: {":produto_id":4,":data_fim_a":"2025-08-30",":data_fim":"2025-08-30"}
[2025-09-01 11:49:08] [DATABASE ERROR] Parâmetro associado: :produto_id = 4 (tipo: 1)
[2025-09-01 11:49:08] [DATABASE ERROR] Parâmetro associado: :data_fim_a = 2025-08-30 (tipo: 2)
[2025-09-01 11:49:08] [DATABASE ERROR] Parâmetro associado: :data_fim = 2025-08-30 (tipo: 2)
[2025-09-01 11:49:08] [DATABASE ERROR] Debug PDO após binding: SQL: [538] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=2
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=2

[2025-09-01 11:49:08] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":4}
[2025-09-01 11:49:08] [DATABASE ERROR] Parâmetro associado: :id = 4 (tipo: 1)
[2025-09-01 11:49:08] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-01 11:49:08] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
         com parâmetros: {":produto_id":5,":data_fim_a":"2025-08-30",":data_fim":"2025-08-30"}
[2025-09-01 11:49:08] [DATABASE ERROR] Parâmetro associado: :produto_id = 5 (tipo: 1)
[2025-09-01 11:49:08] [DATABASE ERROR] Parâmetro associado: :data_fim_a = 2025-08-30 (tipo: 2)
[2025-09-01 11:49:08] [DATABASE ERROR] Parâmetro associado: :data_fim = 2025-08-30 (tipo: 2)
[2025-09-01 11:49:08] [DATABASE ERROR] Debug PDO após binding: SQL: [538] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=2
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=2

[2025-09-01 11:49:08] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":5}
[2025-09-01 11:49:08] [DATABASE ERROR] Parâmetro associado: :id = 5 (tipo: 1)
[2025-09-01 11:49:08] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-01 11:49:08] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
         com parâmetros: {":produto_id":2,":data_fim_a":"2025-08-30",":data_fim":"2025-08-30"}
[2025-09-01 11:49:08] [DATABASE ERROR] Parâmetro associado: :produto_id = 2 (tipo: 1)
[2025-09-01 11:49:08] [DATABASE ERROR] Parâmetro associado: :data_fim_a = 2025-08-30 (tipo: 2)
[2025-09-01 11:49:08] [DATABASE ERROR] Parâmetro associado: :data_fim = 2025-08-30 (tipo: 2)
[2025-09-01 11:49:08] [DATABASE ERROR] Debug PDO após binding: SQL: [538] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=2
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=2

[2025-09-01 11:49:08] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":2}
[2025-09-01 11:49:08] [DATABASE ERROR] Parâmetro associado: :id = 2 (tipo: 1)
[2025-09-01 11:49:08] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-01 11:50:30] [DATABASE ERROR] Preparando query: SELECT * FROM categorias WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-01 11:50:30] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-01 11:50:30] [DATABASE ERROR] Debug PDO após binding: SQL: [45] SELECT * FROM categorias WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-01 11:50:30] [DATABASE ERROR] Preparando query: SELECT * FROM fornecedores WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-01 11:50:30] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-01 11:50:30] [DATABASE ERROR] Debug PDO após binding: SQL: [47] SELECT * FROM fornecedores WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-01 11:50:30] [DATABASE ERROR] Preparando query: SELECT * FROM tipos_movimentacao com parâmetros: []
[2025-09-01 11:50:30] [DATABASE ERROR] Debug PDO após binding: SQL: [32] SELECT * FROM tipos_movimentacao
Params:  0

[2025-09-01 11:51:37] [DATABASE ERROR] Preparando query: 
            SELECT 
                p.id, 
                p.nome, 
                p.estoque_atual, 
                c.nome AS categoria, 
                f.razao_social AS fornecedor
            FROM produtos p
            LEFT JOIN categorias c ON p.categoria_id = c.id
            LEFT JOIN fornecedores f ON p.fornecedor_principal_id = f.id
            WHERE p.ativo = TRUE
                AND (:produto_id_null IS NULL OR p.id = :produto_id)
                AND (:categoria_id_null IS NULL OR p.categoria_id = :categoria_id)
                AND (:fornecedor_id_null IS NULL OR p.fornecedor_principal_id = :fornecedor_id)
            ORDER BY p.nome ASC;
         com parâmetros: {":produto_id_null":null,":produto_id":null,":categoria_id_null":null,":categoria_id":null,":fornecedor_id_null":null,":fornecedor_id":null}
[2025-09-01 11:51:37] [DATABASE ERROR] Parâmetro associado: :produto_id_null = NULL (tipo: 0)
[2025-09-01 11:51:37] [DATABASE ERROR] Parâmetro associado: :produto_id = NULL (tipo: 0)
[2025-09-01 11:51:37] [DATABASE ERROR] Parâmetro associado: :categoria_id_null = NULL (tipo: 0)
[2025-09-01 11:51:37] [DATABASE ERROR] Parâmetro associado: :categoria_id = NULL (tipo: 0)
[2025-09-01 11:51:37] [DATABASE ERROR] Parâmetro associado: :fornecedor_id_null = NULL (tipo: 0)
[2025-09-01 11:51:37] [DATABASE ERROR] Parâmetro associado: :fornecedor_id = NULL (tipo: 0)
[2025-09-01 11:51:37] [DATABASE ERROR] Debug PDO após binding: SQL: [684] 
            SELECT 
                p.id, 
                p.nome, 
                p.estoque_atual, 
                c.nome AS categoria, 
                f.razao_social AS fornecedor
            FROM produtos p
            LEFT JOIN categorias c ON p.categoria_id = c.id
            LEFT JOIN fornecedores f ON p.fornecedor_principal_id = f.id
            WHERE p.ativo = TRUE
                AND (:produto_id_null IS NULL OR p.id = :produto_id)
                AND (:categoria_id_null IS NULL OR p.categoria_id = :categoria_id)
                AND (:fornecedor_id_null IS NULL OR p.fornecedor_principal_id = :fornecedor_id)
            ORDER BY p.nome ASC;
        
Params:  6
Key: Name: [16] :produto_id_null
paramno=0
name=[16] ":produto_id_null"
is_param=1
param_type=0
Key: Name: [11] :produto_id
paramno=1
name=[11] ":produto_id"
is_param=1
param_type=0
Key: Name: [18] :categoria_id_null
paramno=2
name=[18] ":categoria_id_null"
is_param=1
param_type=0
Key: Name: [13] :categoria_id
paramno=3
name=[13] ":categoria_id"
is_param=1
param_type=0
Key: Name: [19] :fornecedor_id_null
paramno=4
name=[19] ":fornecedor_id_null"
is_param=1
param_type=0
Key: Name: [14] :fornecedor_id
paramno=5
name=[14] ":fornecedor_id"
is_param=1
param_type=0

[2025-09-01 11:51:37] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
         com parâmetros: {":produto_id":6,":data_fim_a":"2025-08-30",":data_fim":"2025-08-30"}
[2025-09-01 11:51:37] [DATABASE ERROR] Parâmetro associado: :produto_id = 6 (tipo: 1)
[2025-09-01 11:51:37] [DATABASE ERROR] Parâmetro associado: :data_fim_a = 2025-08-30 (tipo: 2)
[2025-09-01 11:51:37] [DATABASE ERROR] Parâmetro associado: :data_fim = 2025-08-30 (tipo: 2)
[2025-09-01 11:51:37] [DATABASE ERROR] Debug PDO após binding: SQL: [538] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=2
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=2

[2025-09-01 11:51:37] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":6}
[2025-09-01 11:51:37] [DATABASE ERROR] Parâmetro associado: :id = 6 (tipo: 1)
[2025-09-01 11:51:37] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-01 11:51:37] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
         com parâmetros: {":produto_id":3,":data_fim_a":"2025-08-30",":data_fim":"2025-08-30"}
[2025-09-01 11:51:37] [DATABASE ERROR] Parâmetro associado: :produto_id = 3 (tipo: 1)
[2025-09-01 11:51:37] [DATABASE ERROR] Parâmetro associado: :data_fim_a = 2025-08-30 (tipo: 2)
[2025-09-01 11:51:37] [DATABASE ERROR] Parâmetro associado: :data_fim = 2025-08-30 (tipo: 2)
[2025-09-01 11:51:37] [DATABASE ERROR] Debug PDO após binding: SQL: [538] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=2
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=2

[2025-09-01 11:51:37] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":3}
[2025-09-01 11:51:37] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-01 11:51:37] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-01 11:51:37] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
         com parâmetros: {":produto_id":4,":data_fim_a":"2025-08-30",":data_fim":"2025-08-30"}
[2025-09-01 11:51:37] [DATABASE ERROR] Parâmetro associado: :produto_id = 4 (tipo: 1)
[2025-09-01 11:51:37] [DATABASE ERROR] Parâmetro associado: :data_fim_a = 2025-08-30 (tipo: 2)
[2025-09-01 11:51:37] [DATABASE ERROR] Parâmetro associado: :data_fim = 2025-08-30 (tipo: 2)
[2025-09-01 11:51:37] [DATABASE ERROR] Debug PDO após binding: SQL: [538] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=2
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=2

[2025-09-01 11:51:37] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":4}
[2025-09-01 11:51:37] [DATABASE ERROR] Parâmetro associado: :id = 4 (tipo: 1)
[2025-09-01 11:51:37] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-01 11:51:37] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
         com parâmetros: {":produto_id":5,":data_fim_a":"2025-08-30",":data_fim":"2025-08-30"}
[2025-09-01 11:51:37] [DATABASE ERROR] Parâmetro associado: :produto_id = 5 (tipo: 1)
[2025-09-01 11:51:37] [DATABASE ERROR] Parâmetro associado: :data_fim_a = 2025-08-30 (tipo: 2)
[2025-09-01 11:51:37] [DATABASE ERROR] Parâmetro associado: :data_fim = 2025-08-30 (tipo: 2)
[2025-09-01 11:51:37] [DATABASE ERROR] Debug PDO após binding: SQL: [538] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=2
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=2

[2025-09-01 11:51:37] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":5}
[2025-09-01 11:51:37] [DATABASE ERROR] Parâmetro associado: :id = 5 (tipo: 1)
[2025-09-01 11:51:37] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-01 11:51:37] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
         com parâmetros: {":produto_id":2,":data_fim_a":"2025-08-30",":data_fim":"2025-08-30"}
[2025-09-01 11:51:37] [DATABASE ERROR] Parâmetro associado: :produto_id = 2 (tipo: 1)
[2025-09-01 11:51:37] [DATABASE ERROR] Parâmetro associado: :data_fim_a = 2025-08-30 (tipo: 2)
[2025-09-01 11:51:37] [DATABASE ERROR] Parâmetro associado: :data_fim = 2025-08-30 (tipo: 2)
[2025-09-01 11:51:37] [DATABASE ERROR] Debug PDO após binding: SQL: [538] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=2
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=2

[2025-09-01 11:51:37] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":2}
[2025-09-01 11:51:37] [DATABASE ERROR] Parâmetro associado: :id = 2 (tipo: 1)
[2025-09-01 11:51:37] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-01 11:54:24] [DATABASE ERROR] Preparando query: SELECT * FROM categorias WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-01 11:54:24] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-01 11:54:24] [DATABASE ERROR] Debug PDO após binding: SQL: [45] SELECT * FROM categorias WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-01 11:54:24] [DATABASE ERROR] Preparando query: SELECT * FROM fornecedores WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-01 11:54:24] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-01 11:54:24] [DATABASE ERROR] Debug PDO após binding: SQL: [47] SELECT * FROM fornecedores WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-01 11:54:24] [DATABASE ERROR] Preparando query: SELECT * FROM tipos_movimentacao com parâmetros: []
[2025-09-01 11:54:24] [DATABASE ERROR] Debug PDO após binding: SQL: [32] SELECT * FROM tipos_movimentacao
Params:  0

[2025-09-01 11:54:54] [DATABASE ERROR] Preparando query: 
            SELECT 
                p.id, 
                p.nome, 
                p.estoque_atual, 
                c.nome AS categoria, 
                f.razao_social AS fornecedor
            FROM produtos p
            LEFT JOIN categorias c ON p.categoria_id = c.id
            LEFT JOIN fornecedores f ON p.fornecedor_principal_id = f.id
            WHERE p.ativo = TRUE
                AND (:produto_id_null IS NULL OR p.id = :produto_id)
                AND (:categoria_id_null IS NULL OR p.categoria_id = :categoria_id)
                AND (:fornecedor_id_null IS NULL OR p.fornecedor_principal_id = :fornecedor_id)
            ORDER BY p.nome ASC;
         com parâmetros: {":produto_id_null":null,":produto_id":null,":categoria_id_null":null,":categoria_id":null,":fornecedor_id_null":null,":fornecedor_id":null}
[2025-09-01 11:54:54] [DATABASE ERROR] Parâmetro associado: :produto_id_null = NULL (tipo: 0)
[2025-09-01 11:54:54] [DATABASE ERROR] Parâmetro associado: :produto_id = NULL (tipo: 0)
[2025-09-01 11:54:54] [DATABASE ERROR] Parâmetro associado: :categoria_id_null = NULL (tipo: 0)
[2025-09-01 11:54:54] [DATABASE ERROR] Parâmetro associado: :categoria_id = NULL (tipo: 0)
[2025-09-01 11:54:54] [DATABASE ERROR] Parâmetro associado: :fornecedor_id_null = NULL (tipo: 0)
[2025-09-01 11:54:54] [DATABASE ERROR] Parâmetro associado: :fornecedor_id = NULL (tipo: 0)
[2025-09-01 11:54:54] [DATABASE ERROR] Debug PDO após binding: SQL: [684] 
            SELECT 
                p.id, 
                p.nome, 
                p.estoque_atual, 
                c.nome AS categoria, 
                f.razao_social AS fornecedor
            FROM produtos p
            LEFT JOIN categorias c ON p.categoria_id = c.id
            LEFT JOIN fornecedores f ON p.fornecedor_principal_id = f.id
            WHERE p.ativo = TRUE
                AND (:produto_id_null IS NULL OR p.id = :produto_id)
                AND (:categoria_id_null IS NULL OR p.categoria_id = :categoria_id)
                AND (:fornecedor_id_null IS NULL OR p.fornecedor_principal_id = :fornecedor_id)
            ORDER BY p.nome ASC;
        
Params:  6
Key: Name: [16] :produto_id_null
paramno=0
name=[16] ":produto_id_null"
is_param=1
param_type=0
Key: Name: [11] :produto_id
paramno=1
name=[11] ":produto_id"
is_param=1
param_type=0
Key: Name: [18] :categoria_id_null
paramno=2
name=[18] ":categoria_id_null"
is_param=1
param_type=0
Key: Name: [13] :categoria_id
paramno=3
name=[13] ":categoria_id"
is_param=1
param_type=0
Key: Name: [19] :fornecedor_id_null
paramno=4
name=[19] ":fornecedor_id_null"
is_param=1
param_type=0
Key: Name: [14] :fornecedor_id
paramno=5
name=[14] ":fornecedor_id"
is_param=1
param_type=0

[2025-09-01 11:54:54] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
         com parâmetros: {":produto_id":6,":data_fim_a":"2025-08-31",":data_fim":"2025-08-31"}
[2025-09-01 11:54:54] [DATABASE ERROR] Parâmetro associado: :produto_id = 6 (tipo: 1)
[2025-09-01 11:54:54] [DATABASE ERROR] Parâmetro associado: :data_fim_a = 2025-08-31 (tipo: 2)
[2025-09-01 11:54:54] [DATABASE ERROR] Parâmetro associado: :data_fim = 2025-08-31 (tipo: 2)
[2025-09-01 11:54:54] [DATABASE ERROR] Debug PDO após binding: SQL: [538] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=2
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=2

[2025-09-01 11:54:54] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":6}
[2025-09-01 11:54:54] [DATABASE ERROR] Parâmetro associado: :id = 6 (tipo: 1)
[2025-09-01 11:54:54] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-01 11:54:54] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
         com parâmetros: {":produto_id":3,":data_fim_a":"2025-08-31",":data_fim":"2025-08-31"}
[2025-09-01 11:54:54] [DATABASE ERROR] Parâmetro associado: :produto_id = 3 (tipo: 1)
[2025-09-01 11:54:54] [DATABASE ERROR] Parâmetro associado: :data_fim_a = 2025-08-31 (tipo: 2)
[2025-09-01 11:54:54] [DATABASE ERROR] Parâmetro associado: :data_fim = 2025-08-31 (tipo: 2)
[2025-09-01 11:54:54] [DATABASE ERROR] Debug PDO após binding: SQL: [538] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=2
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=2

[2025-09-01 11:54:54] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":3}
[2025-09-01 11:54:54] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-01 11:54:54] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-01 11:54:54] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
         com parâmetros: {":produto_id":4,":data_fim_a":"2025-08-31",":data_fim":"2025-08-31"}
[2025-09-01 11:54:54] [DATABASE ERROR] Parâmetro associado: :produto_id = 4 (tipo: 1)
[2025-09-01 11:54:54] [DATABASE ERROR] Parâmetro associado: :data_fim_a = 2025-08-31 (tipo: 2)
[2025-09-01 11:54:54] [DATABASE ERROR] Parâmetro associado: :data_fim = 2025-08-31 (tipo: 2)
[2025-09-01 11:54:54] [DATABASE ERROR] Debug PDO após binding: SQL: [538] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=2
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=2

[2025-09-01 11:54:54] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":4}
[2025-09-01 11:54:54] [DATABASE ERROR] Parâmetro associado: :id = 4 (tipo: 1)
[2025-09-01 11:54:54] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-01 11:54:54] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
         com parâmetros: {":produto_id":5,":data_fim_a":"2025-08-31",":data_fim":"2025-08-31"}
[2025-09-01 11:54:54] [DATABASE ERROR] Parâmetro associado: :produto_id = 5 (tipo: 1)
[2025-09-01 11:54:54] [DATABASE ERROR] Parâmetro associado: :data_fim_a = 2025-08-31 (tipo: 2)
[2025-09-01 11:54:54] [DATABASE ERROR] Parâmetro associado: :data_fim = 2025-08-31 (tipo: 2)
[2025-09-01 11:54:54] [DATABASE ERROR] Debug PDO após binding: SQL: [538] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=2
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=2

[2025-09-01 11:54:54] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":5}
[2025-09-01 11:54:54] [DATABASE ERROR] Parâmetro associado: :id = 5 (tipo: 1)
[2025-09-01 11:54:54] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-01 11:54:54] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
         com parâmetros: {":produto_id":2,":data_fim_a":"2025-08-31",":data_fim":"2025-08-31"}
[2025-09-01 11:54:54] [DATABASE ERROR] Parâmetro associado: :produto_id = 2 (tipo: 1)
[2025-09-01 11:54:54] [DATABASE ERROR] Parâmetro associado: :data_fim_a = 2025-08-31 (tipo: 2)
[2025-09-01 11:54:54] [DATABASE ERROR] Parâmetro associado: :data_fim = 2025-08-31 (tipo: 2)
[2025-09-01 11:54:54] [DATABASE ERROR] Debug PDO após binding: SQL: [538] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=2
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=2

[2025-09-01 11:54:54] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":2}
[2025-09-01 11:54:54] [DATABASE ERROR] Parâmetro associado: :id = 2 (tipo: 1)
[2025-09-01 11:54:54] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-01 11:54:57] [DATABASE ERROR] Preparando query: 
            SELECT 
                p.id, 
                p.nome, 
                p.estoque_atual, 
                c.nome AS categoria, 
                f.razao_social AS fornecedor
            FROM produtos p
            LEFT JOIN categorias c ON p.categoria_id = c.id
            LEFT JOIN fornecedores f ON p.fornecedor_principal_id = f.id
            WHERE p.ativo = TRUE
                AND (:produto_id_null IS NULL OR p.id = :produto_id)
                AND (:categoria_id_null IS NULL OR p.categoria_id = :categoria_id)
                AND (:fornecedor_id_null IS NULL OR p.fornecedor_principal_id = :fornecedor_id)
            ORDER BY p.nome ASC;
         com parâmetros: {":produto_id_null":null,":produto_id":null,":categoria_id_null":null,":categoria_id":null,":fornecedor_id_null":null,":fornecedor_id":null}
[2025-09-01 11:54:57] [DATABASE ERROR] Parâmetro associado: :produto_id_null = NULL (tipo: 0)
[2025-09-01 11:54:57] [DATABASE ERROR] Parâmetro associado: :produto_id = NULL (tipo: 0)
[2025-09-01 11:54:57] [DATABASE ERROR] Parâmetro associado: :categoria_id_null = NULL (tipo: 0)
[2025-09-01 11:54:57] [DATABASE ERROR] Parâmetro associado: :categoria_id = NULL (tipo: 0)
[2025-09-01 11:54:57] [DATABASE ERROR] Parâmetro associado: :fornecedor_id_null = NULL (tipo: 0)
[2025-09-01 11:54:57] [DATABASE ERROR] Parâmetro associado: :fornecedor_id = NULL (tipo: 0)
[2025-09-01 11:54:57] [DATABASE ERROR] Debug PDO após binding: SQL: [684] 
            SELECT 
                p.id, 
                p.nome, 
                p.estoque_atual, 
                c.nome AS categoria, 
                f.razao_social AS fornecedor
            FROM produtos p
            LEFT JOIN categorias c ON p.categoria_id = c.id
            LEFT JOIN fornecedores f ON p.fornecedor_principal_id = f.id
            WHERE p.ativo = TRUE
                AND (:produto_id_null IS NULL OR p.id = :produto_id)
                AND (:categoria_id_null IS NULL OR p.categoria_id = :categoria_id)
                AND (:fornecedor_id_null IS NULL OR p.fornecedor_principal_id = :fornecedor_id)
            ORDER BY p.nome ASC;
        
Params:  6
Key: Name: [16] :produto_id_null
paramno=0
name=[16] ":produto_id_null"
is_param=1
param_type=0
Key: Name: [11] :produto_id
paramno=1
name=[11] ":produto_id"
is_param=1
param_type=0
Key: Name: [18] :categoria_id_null
paramno=2
name=[18] ":categoria_id_null"
is_param=1
param_type=0
Key: Name: [13] :categoria_id
paramno=3
name=[13] ":categoria_id"
is_param=1
param_type=0
Key: Name: [19] :fornecedor_id_null
paramno=4
name=[19] ":fornecedor_id_null"
is_param=1
param_type=0
Key: Name: [14] :fornecedor_id
paramno=5
name=[14] ":fornecedor_id"
is_param=1
param_type=0

[2025-09-01 11:54:57] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
         com parâmetros: {":produto_id":6,":data_fim_a":"2025-08-31",":data_fim":"2025-08-31"}
[2025-09-01 11:54:57] [DATABASE ERROR] Parâmetro associado: :produto_id = 6 (tipo: 1)
[2025-09-01 11:54:57] [DATABASE ERROR] Parâmetro associado: :data_fim_a = 2025-08-31 (tipo: 2)
[2025-09-01 11:54:57] [DATABASE ERROR] Parâmetro associado: :data_fim = 2025-08-31 (tipo: 2)
[2025-09-01 11:54:57] [DATABASE ERROR] Debug PDO após binding: SQL: [538] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=2
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=2

[2025-09-01 11:54:57] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":6}
[2025-09-01 11:54:57] [DATABASE ERROR] Parâmetro associado: :id = 6 (tipo: 1)
[2025-09-01 11:54:57] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-01 11:54:57] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
         com parâmetros: {":produto_id":3,":data_fim_a":"2025-08-31",":data_fim":"2025-08-31"}
[2025-09-01 11:54:57] [DATABASE ERROR] Parâmetro associado: :produto_id = 3 (tipo: 1)
[2025-09-01 11:54:57] [DATABASE ERROR] Parâmetro associado: :data_fim_a = 2025-08-31 (tipo: 2)
[2025-09-01 11:54:57] [DATABASE ERROR] Parâmetro associado: :data_fim = 2025-08-31 (tipo: 2)
[2025-09-01 11:54:57] [DATABASE ERROR] Debug PDO após binding: SQL: [538] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=2
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=2

[2025-09-01 11:54:57] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":3}
[2025-09-01 11:54:57] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-01 11:54:57] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-01 11:54:57] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
         com parâmetros: {":produto_id":4,":data_fim_a":"2025-08-31",":data_fim":"2025-08-31"}
[2025-09-01 11:54:57] [DATABASE ERROR] Parâmetro associado: :produto_id = 4 (tipo: 1)
[2025-09-01 11:54:57] [DATABASE ERROR] Parâmetro associado: :data_fim_a = 2025-08-31 (tipo: 2)
[2025-09-01 11:54:57] [DATABASE ERROR] Parâmetro associado: :data_fim = 2025-08-31 (tipo: 2)
[2025-09-01 11:54:57] [DATABASE ERROR] Debug PDO após binding: SQL: [538] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=2
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=2

[2025-09-01 11:54:57] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":4}
[2025-09-01 11:54:57] [DATABASE ERROR] Parâmetro associado: :id = 4 (tipo: 1)
[2025-09-01 11:54:57] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-01 11:54:57] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
         com parâmetros: {":produto_id":5,":data_fim_a":"2025-08-31",":data_fim":"2025-08-31"}
[2025-09-01 11:54:57] [DATABASE ERROR] Parâmetro associado: :produto_id = 5 (tipo: 1)
[2025-09-01 11:54:57] [DATABASE ERROR] Parâmetro associado: :data_fim_a = 2025-08-31 (tipo: 2)
[2025-09-01 11:54:57] [DATABASE ERROR] Parâmetro associado: :data_fim = 2025-08-31 (tipo: 2)
[2025-09-01 11:54:57] [DATABASE ERROR] Debug PDO após binding: SQL: [538] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=2
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=2

[2025-09-01 11:54:57] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":5}
[2025-09-01 11:54:57] [DATABASE ERROR] Parâmetro associado: :id = 5 (tipo: 1)
[2025-09-01 11:54:57] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-01 11:54:57] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
         com parâmetros: {":produto_id":2,":data_fim_a":"2025-08-31",":data_fim":"2025-08-31"}
[2025-09-01 11:54:57] [DATABASE ERROR] Parâmetro associado: :produto_id = 2 (tipo: 1)
[2025-09-01 11:54:57] [DATABASE ERROR] Parâmetro associado: :data_fim_a = 2025-08-31 (tipo: 2)
[2025-09-01 11:54:57] [DATABASE ERROR] Parâmetro associado: :data_fim = 2025-08-31 (tipo: 2)
[2025-09-01 11:54:57] [DATABASE ERROR] Debug PDO após binding: SQL: [538] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=2
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=2

[2025-09-01 11:54:57] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":2}
[2025-09-01 11:54:57] [DATABASE ERROR] Parâmetro associado: :id = 2 (tipo: 1)
[2025-09-01 11:54:57] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-01 11:56:41] [DATABASE ERROR] Preparando query: 
            SELECT 
                p.id, 
                p.nome, 
                p.estoque_atual, 
                c.nome AS categoria, 
                f.razao_social AS fornecedor
            FROM produtos p
            LEFT JOIN categorias c ON p.categoria_id = c.id
            LEFT JOIN fornecedores f ON p.fornecedor_principal_id = f.id
            WHERE p.ativo = TRUE
                AND (:produto_id_null IS NULL OR p.id = :produto_id)
                AND (:categoria_id_null IS NULL OR p.categoria_id = :categoria_id)
                AND (:fornecedor_id_null IS NULL OR p.fornecedor_principal_id = :fornecedor_id)
            ORDER BY p.nome ASC;
         com parâmetros: {":produto_id_null":null,":produto_id":null,":categoria_id_null":null,":categoria_id":null,":fornecedor_id_null":null,":fornecedor_id":null}
[2025-09-01 11:56:41] [DATABASE ERROR] Parâmetro associado: :produto_id_null = NULL (tipo: 0)
[2025-09-01 11:56:41] [DATABASE ERROR] Parâmetro associado: :produto_id = NULL (tipo: 0)
[2025-09-01 11:56:41] [DATABASE ERROR] Parâmetro associado: :categoria_id_null = NULL (tipo: 0)
[2025-09-01 11:56:41] [DATABASE ERROR] Parâmetro associado: :categoria_id = NULL (tipo: 0)
[2025-09-01 11:56:41] [DATABASE ERROR] Parâmetro associado: :fornecedor_id_null = NULL (tipo: 0)
[2025-09-01 11:56:41] [DATABASE ERROR] Parâmetro associado: :fornecedor_id = NULL (tipo: 0)
[2025-09-01 11:56:41] [DATABASE ERROR] Debug PDO após binding: SQL: [684] 
            SELECT 
                p.id, 
                p.nome, 
                p.estoque_atual, 
                c.nome AS categoria, 
                f.razao_social AS fornecedor
            FROM produtos p
            LEFT JOIN categorias c ON p.categoria_id = c.id
            LEFT JOIN fornecedores f ON p.fornecedor_principal_id = f.id
            WHERE p.ativo = TRUE
                AND (:produto_id_null IS NULL OR p.id = :produto_id)
                AND (:categoria_id_null IS NULL OR p.categoria_id = :categoria_id)
                AND (:fornecedor_id_null IS NULL OR p.fornecedor_principal_id = :fornecedor_id)
            ORDER BY p.nome ASC;
        
Params:  6
Key: Name: [16] :produto_id_null
paramno=0
name=[16] ":produto_id_null"
is_param=1
param_type=0
Key: Name: [11] :produto_id
paramno=1
name=[11] ":produto_id"
is_param=1
param_type=0
Key: Name: [18] :categoria_id_null
paramno=2
name=[18] ":categoria_id_null"
is_param=1
param_type=0
Key: Name: [13] :categoria_id
paramno=3
name=[13] ":categoria_id"
is_param=1
param_type=0
Key: Name: [19] :fornecedor_id_null
paramno=4
name=[19] ":fornecedor_id_null"
is_param=1
param_type=0
Key: Name: [14] :fornecedor_id
paramno=5
name=[14] ":fornecedor_id"
is_param=1
param_type=0

[2025-09-01 11:56:41] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
         com parâmetros: {":produto_id":6,":data_fim_a":"2025-08-31",":data_fim":"2025-08-31"}
[2025-09-01 11:56:41] [DATABASE ERROR] Parâmetro associado: :produto_id = 6 (tipo: 1)
[2025-09-01 11:56:41] [DATABASE ERROR] Parâmetro associado: :data_fim_a = 2025-08-31 (tipo: 2)
[2025-09-01 11:56:41] [DATABASE ERROR] Parâmetro associado: :data_fim = 2025-08-31 (tipo: 2)
[2025-09-01 11:56:41] [DATABASE ERROR] Debug PDO após binding: SQL: [538] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=2
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=2

[2025-09-01 11:56:41] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":6}
[2025-09-01 11:56:41] [DATABASE ERROR] Parâmetro associado: :id = 6 (tipo: 1)
[2025-09-01 11:56:41] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-01 11:56:41] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
         com parâmetros: {":produto_id":3,":data_fim_a":"2025-08-31",":data_fim":"2025-08-31"}
[2025-09-01 11:56:41] [DATABASE ERROR] Parâmetro associado: :produto_id = 3 (tipo: 1)
[2025-09-01 11:56:41] [DATABASE ERROR] Parâmetro associado: :data_fim_a = 2025-08-31 (tipo: 2)
[2025-09-01 11:56:41] [DATABASE ERROR] Parâmetro associado: :data_fim = 2025-08-31 (tipo: 2)
[2025-09-01 11:56:41] [DATABASE ERROR] Debug PDO após binding: SQL: [538] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=2
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=2

[2025-09-01 11:56:41] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":3}
[2025-09-01 11:56:41] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-01 11:56:41] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-01 11:56:41] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
         com parâmetros: {":produto_id":4,":data_fim_a":"2025-08-31",":data_fim":"2025-08-31"}
[2025-09-01 11:56:41] [DATABASE ERROR] Parâmetro associado: :produto_id = 4 (tipo: 1)
[2025-09-01 11:56:41] [DATABASE ERROR] Parâmetro associado: :data_fim_a = 2025-08-31 (tipo: 2)
[2025-09-01 11:56:41] [DATABASE ERROR] Parâmetro associado: :data_fim = 2025-08-31 (tipo: 2)
[2025-09-01 11:56:41] [DATABASE ERROR] Debug PDO após binding: SQL: [538] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=2
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=2

[2025-09-01 11:56:41] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":4}
[2025-09-01 11:56:41] [DATABASE ERROR] Parâmetro associado: :id = 4 (tipo: 1)
[2025-09-01 11:56:41] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-01 11:56:41] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
         com parâmetros: {":produto_id":5,":data_fim_a":"2025-08-31",":data_fim":"2025-08-31"}
[2025-09-01 11:56:41] [DATABASE ERROR] Parâmetro associado: :produto_id = 5 (tipo: 1)
[2025-09-01 11:56:41] [DATABASE ERROR] Parâmetro associado: :data_fim_a = 2025-08-31 (tipo: 2)
[2025-09-01 11:56:41] [DATABASE ERROR] Parâmetro associado: :data_fim = 2025-08-31 (tipo: 2)
[2025-09-01 11:56:41] [DATABASE ERROR] Debug PDO após binding: SQL: [538] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=2
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=2

[2025-09-01 11:56:41] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":5}
[2025-09-01 11:56:41] [DATABASE ERROR] Parâmetro associado: :id = 5 (tipo: 1)
[2025-09-01 11:56:41] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-01 11:56:41] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
         com parâmetros: {":produto_id":2,":data_fim_a":"2025-08-31",":data_fim":"2025-08-31"}
[2025-09-01 11:56:41] [DATABASE ERROR] Parâmetro associado: :produto_id = 2 (tipo: 1)
[2025-09-01 11:56:41] [DATABASE ERROR] Parâmetro associado: :data_fim_a = 2025-08-31 (tipo: 2)
[2025-09-01 11:56:41] [DATABASE ERROR] Parâmetro associado: :data_fim = 2025-08-31 (tipo: 2)
[2025-09-01 11:56:41] [DATABASE ERROR] Debug PDO após binding: SQL: [538] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=2
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=2

[2025-09-01 11:56:41] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":2}
[2025-09-01 11:56:41] [DATABASE ERROR] Parâmetro associado: :id = 2 (tipo: 1)
[2025-09-01 11:56:41] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-01 11:56:57] [DATABASE ERROR] Preparando query: 
            SELECT 
                p.id, 
                p.nome, 
                p.estoque_atual, 
                c.nome AS categoria, 
                f.razao_social AS fornecedor
            FROM produtos p
            LEFT JOIN categorias c ON p.categoria_id = c.id
            LEFT JOIN fornecedores f ON p.fornecedor_principal_id = f.id
            WHERE p.ativo = TRUE
                AND (:produto_id_null IS NULL OR p.id = :produto_id)
                AND (:categoria_id_null IS NULL OR p.categoria_id = :categoria_id)
                AND (:fornecedor_id_null IS NULL OR p.fornecedor_principal_id = :fornecedor_id)
            ORDER BY p.nome ASC;
         com parâmetros: {":produto_id_null":null,":produto_id":null,":categoria_id_null":null,":categoria_id":null,":fornecedor_id_null":null,":fornecedor_id":null}
[2025-09-01 11:56:57] [DATABASE ERROR] Parâmetro associado: :produto_id_null = NULL (tipo: 0)
[2025-09-01 11:56:57] [DATABASE ERROR] Parâmetro associado: :produto_id = NULL (tipo: 0)
[2025-09-01 11:56:57] [DATABASE ERROR] Parâmetro associado: :categoria_id_null = NULL (tipo: 0)
[2025-09-01 11:56:57] [DATABASE ERROR] Parâmetro associado: :categoria_id = NULL (tipo: 0)
[2025-09-01 11:56:57] [DATABASE ERROR] Parâmetro associado: :fornecedor_id_null = NULL (tipo: 0)
[2025-09-01 11:56:57] [DATABASE ERROR] Parâmetro associado: :fornecedor_id = NULL (tipo: 0)
[2025-09-01 11:56:57] [DATABASE ERROR] Debug PDO após binding: SQL: [684] 
            SELECT 
                p.id, 
                p.nome, 
                p.estoque_atual, 
                c.nome AS categoria, 
                f.razao_social AS fornecedor
            FROM produtos p
            LEFT JOIN categorias c ON p.categoria_id = c.id
            LEFT JOIN fornecedores f ON p.fornecedor_principal_id = f.id
            WHERE p.ativo = TRUE
                AND (:produto_id_null IS NULL OR p.id = :produto_id)
                AND (:categoria_id_null IS NULL OR p.categoria_id = :categoria_id)
                AND (:fornecedor_id_null IS NULL OR p.fornecedor_principal_id = :fornecedor_id)
            ORDER BY p.nome ASC;
        
Params:  6
Key: Name: [16] :produto_id_null
paramno=0
name=[16] ":produto_id_null"
is_param=1
param_type=0
Key: Name: [11] :produto_id
paramno=1
name=[11] ":produto_id"
is_param=1
param_type=0
Key: Name: [18] :categoria_id_null
paramno=2
name=[18] ":categoria_id_null"
is_param=1
param_type=0
Key: Name: [13] :categoria_id
paramno=3
name=[13] ":categoria_id"
is_param=1
param_type=0
Key: Name: [19] :fornecedor_id_null
paramno=4
name=[19] ":fornecedor_id_null"
is_param=1
param_type=0
Key: Name: [14] :fornecedor_id
paramno=5
name=[14] ":fornecedor_id"
is_param=1
param_type=0

[2025-09-01 11:56:57] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
         com parâmetros: {":produto_id":6,":data_fim_a":"2025-08-31",":data_fim":"2025-08-31"}
[2025-09-01 11:56:57] [DATABASE ERROR] Parâmetro associado: :produto_id = 6 (tipo: 1)
[2025-09-01 11:56:57] [DATABASE ERROR] Parâmetro associado: :data_fim_a = 2025-08-31 (tipo: 2)
[2025-09-01 11:56:57] [DATABASE ERROR] Parâmetro associado: :data_fim = 2025-08-31 (tipo: 2)
[2025-09-01 11:56:57] [DATABASE ERROR] Debug PDO após binding: SQL: [538] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=2
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=2

[2025-09-01 11:56:57] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":6}
[2025-09-01 11:56:57] [DATABASE ERROR] Parâmetro associado: :id = 6 (tipo: 1)
[2025-09-01 11:56:57] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-01 11:56:57] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
         com parâmetros: {":produto_id":3,":data_fim_a":"2025-08-31",":data_fim":"2025-08-31"}
[2025-09-01 11:56:57] [DATABASE ERROR] Parâmetro associado: :produto_id = 3 (tipo: 1)
[2025-09-01 11:56:57] [DATABASE ERROR] Parâmetro associado: :data_fim_a = 2025-08-31 (tipo: 2)
[2025-09-01 11:56:57] [DATABASE ERROR] Parâmetro associado: :data_fim = 2025-08-31 (tipo: 2)
[2025-09-01 11:56:57] [DATABASE ERROR] Debug PDO após binding: SQL: [538] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=2
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=2

[2025-09-01 11:56:57] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":3}
[2025-09-01 11:56:57] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-01 11:56:57] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-01 11:56:57] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
         com parâmetros: {":produto_id":4,":data_fim_a":"2025-08-31",":data_fim":"2025-08-31"}
[2025-09-01 11:56:57] [DATABASE ERROR] Parâmetro associado: :produto_id = 4 (tipo: 1)
[2025-09-01 11:56:57] [DATABASE ERROR] Parâmetro associado: :data_fim_a = 2025-08-31 (tipo: 2)
[2025-09-01 11:56:57] [DATABASE ERROR] Parâmetro associado: :data_fim = 2025-08-31 (tipo: 2)
[2025-09-01 11:56:57] [DATABASE ERROR] Debug PDO após binding: SQL: [538] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=2
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=2

[2025-09-01 11:56:57] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":4}
[2025-09-01 11:56:57] [DATABASE ERROR] Parâmetro associado: :id = 4 (tipo: 1)
[2025-09-01 11:56:57] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-01 11:56:57] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
         com parâmetros: {":produto_id":5,":data_fim_a":"2025-08-31",":data_fim":"2025-08-31"}
[2025-09-01 11:56:57] [DATABASE ERROR] Parâmetro associado: :produto_id = 5 (tipo: 1)
[2025-09-01 11:56:57] [DATABASE ERROR] Parâmetro associado: :data_fim_a = 2025-08-31 (tipo: 2)
[2025-09-01 11:56:57] [DATABASE ERROR] Parâmetro associado: :data_fim = 2025-08-31 (tipo: 2)
[2025-09-01 11:56:57] [DATABASE ERROR] Debug PDO após binding: SQL: [538] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=2
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=2

[2025-09-01 11:56:57] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":5}
[2025-09-01 11:56:57] [DATABASE ERROR] Parâmetro associado: :id = 5 (tipo: 1)
[2025-09-01 11:56:57] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-01 11:56:57] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
         com parâmetros: {":produto_id":2,":data_fim_a":"2025-08-31",":data_fim":"2025-08-31"}
[2025-09-01 11:56:57] [DATABASE ERROR] Parâmetro associado: :produto_id = 2 (tipo: 1)
[2025-09-01 11:56:57] [DATABASE ERROR] Parâmetro associado: :data_fim_a = 2025-08-31 (tipo: 2)
[2025-09-01 11:56:57] [DATABASE ERROR] Parâmetro associado: :data_fim = 2025-08-31 (tipo: 2)
[2025-09-01 11:56:57] [DATABASE ERROR] Debug PDO após binding: SQL: [538] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=2
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=2

[2025-09-01 11:56:57] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":2}
[2025-09-01 11:56:57] [DATABASE ERROR] Parâmetro associado: :id = 2 (tipo: 1)
[2025-09-01 11:56:57] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-01 11:57:18] [DATABASE ERROR] Preparando query: 
            SELECT 
                p.id, 
                p.nome, 
                p.estoque_atual, 
                c.nome AS categoria, 
                f.razao_social AS fornecedor
            FROM produtos p
            LEFT JOIN categorias c ON p.categoria_id = c.id
            LEFT JOIN fornecedores f ON p.fornecedor_principal_id = f.id
            WHERE p.ativo = TRUE
                AND (:produto_id_null IS NULL OR p.id = :produto_id)
                AND (:categoria_id_null IS NULL OR p.categoria_id = :categoria_id)
                AND (:fornecedor_id_null IS NULL OR p.fornecedor_principal_id = :fornecedor_id)
            ORDER BY p.nome ASC;
         com parâmetros: {":produto_id_null":null,":produto_id":null,":categoria_id_null":null,":categoria_id":null,":fornecedor_id_null":null,":fornecedor_id":null}
[2025-09-01 11:57:18] [DATABASE ERROR] Parâmetro associado: :produto_id_null = NULL (tipo: 0)
[2025-09-01 11:57:18] [DATABASE ERROR] Parâmetro associado: :produto_id = NULL (tipo: 0)
[2025-09-01 11:57:18] [DATABASE ERROR] Parâmetro associado: :categoria_id_null = NULL (tipo: 0)
[2025-09-01 11:57:18] [DATABASE ERROR] Parâmetro associado: :categoria_id = NULL (tipo: 0)
[2025-09-01 11:57:18] [DATABASE ERROR] Parâmetro associado: :fornecedor_id_null = NULL (tipo: 0)
[2025-09-01 11:57:18] [DATABASE ERROR] Parâmetro associado: :fornecedor_id = NULL (tipo: 0)
[2025-09-01 11:57:18] [DATABASE ERROR] Debug PDO após binding: SQL: [684] 
            SELECT 
                p.id, 
                p.nome, 
                p.estoque_atual, 
                c.nome AS categoria, 
                f.razao_social AS fornecedor
            FROM produtos p
            LEFT JOIN categorias c ON p.categoria_id = c.id
            LEFT JOIN fornecedores f ON p.fornecedor_principal_id = f.id
            WHERE p.ativo = TRUE
                AND (:produto_id_null IS NULL OR p.id = :produto_id)
                AND (:categoria_id_null IS NULL OR p.categoria_id = :categoria_id)
                AND (:fornecedor_id_null IS NULL OR p.fornecedor_principal_id = :fornecedor_id)
            ORDER BY p.nome ASC;
        
Params:  6
Key: Name: [16] :produto_id_null
paramno=0
name=[16] ":produto_id_null"
is_param=1
param_type=0
Key: Name: [11] :produto_id
paramno=1
name=[11] ":produto_id"
is_param=1
param_type=0
Key: Name: [18] :categoria_id_null
paramno=2
name=[18] ":categoria_id_null"
is_param=1
param_type=0
Key: Name: [13] :categoria_id
paramno=3
name=[13] ":categoria_id"
is_param=1
param_type=0
Key: Name: [19] :fornecedor_id_null
paramno=4
name=[19] ":fornecedor_id_null"
is_param=1
param_type=0
Key: Name: [14] :fornecedor_id
paramno=5
name=[14] ":fornecedor_id"
is_param=1
param_type=0

[2025-09-01 11:57:18] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
         com parâmetros: {":produto_id":6,":data_fim_a":"2025-08-31",":data_fim":"2025-08-31"}
[2025-09-01 11:57:18] [DATABASE ERROR] Parâmetro associado: :produto_id = 6 (tipo: 1)
[2025-09-01 11:57:18] [DATABASE ERROR] Parâmetro associado: :data_fim_a = 2025-08-31 (tipo: 2)
[2025-09-01 11:57:18] [DATABASE ERROR] Parâmetro associado: :data_fim = 2025-08-31 (tipo: 2)
[2025-09-01 11:57:18] [DATABASE ERROR] Debug PDO após binding: SQL: [538] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=2
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=2

[2025-09-01 11:57:18] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":6}
[2025-09-01 11:57:18] [DATABASE ERROR] Parâmetro associado: :id = 6 (tipo: 1)
[2025-09-01 11:57:18] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-01 11:57:18] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
         com parâmetros: {":produto_id":3,":data_fim_a":"2025-08-31",":data_fim":"2025-08-31"}
[2025-09-01 11:57:18] [DATABASE ERROR] Parâmetro associado: :produto_id = 3 (tipo: 1)
[2025-09-01 11:57:18] [DATABASE ERROR] Parâmetro associado: :data_fim_a = 2025-08-31 (tipo: 2)
[2025-09-01 11:57:18] [DATABASE ERROR] Parâmetro associado: :data_fim = 2025-08-31 (tipo: 2)
[2025-09-01 11:57:18] [DATABASE ERROR] Debug PDO após binding: SQL: [538] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=2
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=2

[2025-09-01 11:57:18] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":3}
[2025-09-01 11:57:18] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-01 11:57:18] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-01 11:57:18] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
         com parâmetros: {":produto_id":4,":data_fim_a":"2025-08-31",":data_fim":"2025-08-31"}
[2025-09-01 11:57:18] [DATABASE ERROR] Parâmetro associado: :produto_id = 4 (tipo: 1)
[2025-09-01 11:57:18] [DATABASE ERROR] Parâmetro associado: :data_fim_a = 2025-08-31 (tipo: 2)
[2025-09-01 11:57:18] [DATABASE ERROR] Parâmetro associado: :data_fim = 2025-08-31 (tipo: 2)
[2025-09-01 11:57:18] [DATABASE ERROR] Debug PDO após binding: SQL: [538] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=2
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=2

[2025-09-01 11:57:18] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":4}
[2025-09-01 11:57:18] [DATABASE ERROR] Parâmetro associado: :id = 4 (tipo: 1)
[2025-09-01 11:57:18] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-01 11:57:18] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
         com parâmetros: {":produto_id":5,":data_fim_a":"2025-08-31",":data_fim":"2025-08-31"}
[2025-09-01 11:57:18] [DATABASE ERROR] Parâmetro associado: :produto_id = 5 (tipo: 1)
[2025-09-01 11:57:18] [DATABASE ERROR] Parâmetro associado: :data_fim_a = 2025-08-31 (tipo: 2)
[2025-09-01 11:57:18] [DATABASE ERROR] Parâmetro associado: :data_fim = 2025-08-31 (tipo: 2)
[2025-09-01 11:57:18] [DATABASE ERROR] Debug PDO após binding: SQL: [538] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=2
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=2

[2025-09-01 11:57:18] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":5}
[2025-09-01 11:57:18] [DATABASE ERROR] Parâmetro associado: :id = 5 (tipo: 1)
[2025-09-01 11:57:18] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-01 11:57:18] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
         com parâmetros: {":produto_id":2,":data_fim_a":"2025-08-31",":data_fim":"2025-08-31"}
[2025-09-01 11:57:18] [DATABASE ERROR] Parâmetro associado: :produto_id = 2 (tipo: 1)
[2025-09-01 11:57:18] [DATABASE ERROR] Parâmetro associado: :data_fim_a = 2025-08-31 (tipo: 2)
[2025-09-01 11:57:18] [DATABASE ERROR] Parâmetro associado: :data_fim = 2025-08-31 (tipo: 2)
[2025-09-01 11:57:18] [DATABASE ERROR] Debug PDO após binding: SQL: [538] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=2
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=2

[2025-09-01 11:57:18] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":2}
[2025-09-01 11:57:18] [DATABASE ERROR] Parâmetro associado: :id = 2 (tipo: 1)
[2025-09-01 11:57:18] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-01 11:57:35] [DATABASE ERROR] Preparando query: 
            SELECT 
                p.id, 
                p.nome, 
                p.estoque_atual, 
                c.nome AS categoria, 
                f.razao_social AS fornecedor
            FROM produtos p
            LEFT JOIN categorias c ON p.categoria_id = c.id
            LEFT JOIN fornecedores f ON p.fornecedor_principal_id = f.id
            WHERE p.ativo = TRUE
                AND (:produto_id_null IS NULL OR p.id = :produto_id)
                AND (:categoria_id_null IS NULL OR p.categoria_id = :categoria_id)
                AND (:fornecedor_id_null IS NULL OR p.fornecedor_principal_id = :fornecedor_id)
            ORDER BY p.nome ASC;
         com parâmetros: {":produto_id_null":null,":produto_id":null,":categoria_id_null":null,":categoria_id":null,":fornecedor_id_null":null,":fornecedor_id":null}
[2025-09-01 11:57:35] [DATABASE ERROR] Parâmetro associado: :produto_id_null = NULL (tipo: 0)
[2025-09-01 11:57:35] [DATABASE ERROR] Parâmetro associado: :produto_id = NULL (tipo: 0)
[2025-09-01 11:57:35] [DATABASE ERROR] Parâmetro associado: :categoria_id_null = NULL (tipo: 0)
[2025-09-01 11:57:35] [DATABASE ERROR] Parâmetro associado: :categoria_id = NULL (tipo: 0)
[2025-09-01 11:57:35] [DATABASE ERROR] Parâmetro associado: :fornecedor_id_null = NULL (tipo: 0)
[2025-09-01 11:57:35] [DATABASE ERROR] Parâmetro associado: :fornecedor_id = NULL (tipo: 0)
[2025-09-01 11:57:35] [DATABASE ERROR] Debug PDO após binding: SQL: [684] 
            SELECT 
                p.id, 
                p.nome, 
                p.estoque_atual, 
                c.nome AS categoria, 
                f.razao_social AS fornecedor
            FROM produtos p
            LEFT JOIN categorias c ON p.categoria_id = c.id
            LEFT JOIN fornecedores f ON p.fornecedor_principal_id = f.id
            WHERE p.ativo = TRUE
                AND (:produto_id_null IS NULL OR p.id = :produto_id)
                AND (:categoria_id_null IS NULL OR p.categoria_id = :categoria_id)
                AND (:fornecedor_id_null IS NULL OR p.fornecedor_principal_id = :fornecedor_id)
            ORDER BY p.nome ASC;
        
Params:  6
Key: Name: [16] :produto_id_null
paramno=0
name=[16] ":produto_id_null"
is_param=1
param_type=0
Key: Name: [11] :produto_id
paramno=1
name=[11] ":produto_id"
is_param=1
param_type=0
Key: Name: [18] :categoria_id_null
paramno=2
name=[18] ":categoria_id_null"
is_param=1
param_type=0
Key: Name: [13] :categoria_id
paramno=3
name=[13] ":categoria_id"
is_param=1
param_type=0
Key: Name: [19] :fornecedor_id_null
paramno=4
name=[19] ":fornecedor_id_null"
is_param=1
param_type=0
Key: Name: [14] :fornecedor_id
paramno=5
name=[14] ":fornecedor_id"
is_param=1
param_type=0

[2025-09-01 11:57:35] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
         com parâmetros: {":produto_id":6,":data_fim_a":"2025-08-31",":data_fim":"2025-08-31"}
[2025-09-01 11:57:35] [DATABASE ERROR] Parâmetro associado: :produto_id = 6 (tipo: 1)
[2025-09-01 11:57:35] [DATABASE ERROR] Parâmetro associado: :data_fim_a = 2025-08-31 (tipo: 2)
[2025-09-01 11:57:35] [DATABASE ERROR] Parâmetro associado: :data_fim = 2025-08-31 (tipo: 2)
[2025-09-01 11:57:35] [DATABASE ERROR] Debug PDO após binding: SQL: [538] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=2
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=2

[2025-09-01 11:57:35] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":6}
[2025-09-01 11:57:35] [DATABASE ERROR] Parâmetro associado: :id = 6 (tipo: 1)
[2025-09-01 11:57:35] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-01 11:57:35] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
         com parâmetros: {":produto_id":3,":data_fim_a":"2025-08-31",":data_fim":"2025-08-31"}
[2025-09-01 11:57:35] [DATABASE ERROR] Parâmetro associado: :produto_id = 3 (tipo: 1)
[2025-09-01 11:57:35] [DATABASE ERROR] Parâmetro associado: :data_fim_a = 2025-08-31 (tipo: 2)
[2025-09-01 11:57:35] [DATABASE ERROR] Parâmetro associado: :data_fim = 2025-08-31 (tipo: 2)
[2025-09-01 11:57:35] [DATABASE ERROR] Debug PDO após binding: SQL: [538] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=2
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=2

[2025-09-01 11:57:35] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":3}
[2025-09-01 11:57:35] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-01 11:57:35] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-01 11:57:35] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
         com parâmetros: {":produto_id":4,":data_fim_a":"2025-08-31",":data_fim":"2025-08-31"}
[2025-09-01 11:57:35] [DATABASE ERROR] Parâmetro associado: :produto_id = 4 (tipo: 1)
[2025-09-01 11:57:35] [DATABASE ERROR] Parâmetro associado: :data_fim_a = 2025-08-31 (tipo: 2)
[2025-09-01 11:57:35] [DATABASE ERROR] Parâmetro associado: :data_fim = 2025-08-31 (tipo: 2)
[2025-09-01 11:57:35] [DATABASE ERROR] Debug PDO após binding: SQL: [538] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=2
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=2

[2025-09-01 11:57:35] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":4}
[2025-09-01 11:57:35] [DATABASE ERROR] Parâmetro associado: :id = 4 (tipo: 1)
[2025-09-01 11:57:35] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-01 11:57:35] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
         com parâmetros: {":produto_id":5,":data_fim_a":"2025-08-31",":data_fim":"2025-08-31"}
[2025-09-01 11:57:35] [DATABASE ERROR] Parâmetro associado: :produto_id = 5 (tipo: 1)
[2025-09-01 11:57:35] [DATABASE ERROR] Parâmetro associado: :data_fim_a = 2025-08-31 (tipo: 2)
[2025-09-01 11:57:35] [DATABASE ERROR] Parâmetro associado: :data_fim = 2025-08-31 (tipo: 2)
[2025-09-01 11:57:35] [DATABASE ERROR] Debug PDO após binding: SQL: [538] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=2
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=2

[2025-09-01 11:57:35] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":5}
[2025-09-01 11:57:35] [DATABASE ERROR] Parâmetro associado: :id = 5 (tipo: 1)
[2025-09-01 11:57:35] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-01 11:57:35] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
         com parâmetros: {":produto_id":2,":data_fim_a":"2025-08-31",":data_fim":"2025-08-31"}
[2025-09-01 11:57:35] [DATABASE ERROR] Parâmetro associado: :produto_id = 2 (tipo: 1)
[2025-09-01 11:57:35] [DATABASE ERROR] Parâmetro associado: :data_fim_a = 2025-08-31 (tipo: 2)
[2025-09-01 11:57:35] [DATABASE ERROR] Parâmetro associado: :data_fim = 2025-08-31 (tipo: 2)
[2025-09-01 11:57:35] [DATABASE ERROR] Debug PDO após binding: SQL: [538] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=2
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=2

[2025-09-01 11:57:35] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":2}
[2025-09-01 11:57:35] [DATABASE ERROR] Parâmetro associado: :id = 2 (tipo: 1)
[2025-09-01 11:57:35] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-01 14:50:05] [DATABASE ERROR] Preparando query: 
            SELECT 
                p.id, 
                p.nome, 
                p.estoque_atual, 
                c.nome AS categoria, 
                f.razao_social AS fornecedor
            FROM produtos p
            LEFT JOIN categorias c ON p.categoria_id = c.id
            LEFT JOIN fornecedores f ON p.fornecedor_principal_id = f.id
            WHERE p.ativo = TRUE
                AND (:produto_id_null IS NULL OR p.id = :produto_id)
                AND (:categoria_id_null IS NULL OR p.categoria_id = :categoria_id)
                AND (:fornecedor_id_null IS NULL OR p.fornecedor_principal_id = :fornecedor_id)
            ORDER BY p.nome ASC;
         com parâmetros: {":produto_id_null":null,":produto_id":null,":categoria_id_null":null,":categoria_id":null,":fornecedor_id_null":null,":fornecedor_id":null}
[2025-09-01 14:50:05] [DATABASE ERROR] Parâmetro associado: :produto_id_null = NULL (tipo: 0)
[2025-09-01 14:50:05] [DATABASE ERROR] Parâmetro associado: :produto_id = NULL (tipo: 0)
[2025-09-01 14:50:05] [DATABASE ERROR] Parâmetro associado: :categoria_id_null = NULL (tipo: 0)
[2025-09-01 14:50:05] [DATABASE ERROR] Parâmetro associado: :categoria_id = NULL (tipo: 0)
[2025-09-01 14:50:05] [DATABASE ERROR] Parâmetro associado: :fornecedor_id_null = NULL (tipo: 0)
[2025-09-01 14:50:05] [DATABASE ERROR] Parâmetro associado: :fornecedor_id = NULL (tipo: 0)
[2025-09-01 14:50:05] [DATABASE ERROR] Debug PDO após binding: SQL: [684] 
            SELECT 
                p.id, 
                p.nome, 
                p.estoque_atual, 
                c.nome AS categoria, 
                f.razao_social AS fornecedor
            FROM produtos p
            LEFT JOIN categorias c ON p.categoria_id = c.id
            LEFT JOIN fornecedores f ON p.fornecedor_principal_id = f.id
            WHERE p.ativo = TRUE
                AND (:produto_id_null IS NULL OR p.id = :produto_id)
                AND (:categoria_id_null IS NULL OR p.categoria_id = :categoria_id)
                AND (:fornecedor_id_null IS NULL OR p.fornecedor_principal_id = :fornecedor_id)
            ORDER BY p.nome ASC;
        
Params:  6
Key: Name: [16] :produto_id_null
paramno=0
name=[16] ":produto_id_null"
is_param=1
param_type=0
Key: Name: [11] :produto_id
paramno=1
name=[11] ":produto_id"
is_param=1
param_type=0
Key: Name: [18] :categoria_id_null
paramno=2
name=[18] ":categoria_id_null"
is_param=1
param_type=0
Key: Name: [13] :categoria_id
paramno=3
name=[13] ":categoria_id"
is_param=1
param_type=0
Key: Name: [19] :fornecedor_id_null
paramno=4
name=[19] ":fornecedor_id_null"
is_param=1
param_type=0
Key: Name: [14] :fornecedor_id
paramno=5
name=[14] ":fornecedor_id"
is_param=1
param_type=0

[2025-09-01 14:50:05] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
         com parâmetros: {":produto_id":6,":data_fim_a":"2025-08-31",":data_fim":"2025-08-31"}
[2025-09-01 14:50:05] [DATABASE ERROR] Parâmetro associado: :produto_id = 6 (tipo: 1)
[2025-09-01 14:50:05] [DATABASE ERROR] Parâmetro associado: :data_fim_a = 2025-08-31 (tipo: 2)
[2025-09-01 14:50:05] [DATABASE ERROR] Parâmetro associado: :data_fim = 2025-08-31 (tipo: 2)
[2025-09-01 14:50:05] [DATABASE ERROR] Debug PDO após binding: SQL: [538] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=2
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=2

[2025-09-01 14:50:05] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":6}
[2025-09-01 14:50:05] [DATABASE ERROR] Parâmetro associado: :id = 6 (tipo: 1)
[2025-09-01 14:50:05] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-01 14:50:05] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
         com parâmetros: {":produto_id":3,":data_fim_a":"2025-08-31",":data_fim":"2025-08-31"}
[2025-09-01 14:50:05] [DATABASE ERROR] Parâmetro associado: :produto_id = 3 (tipo: 1)
[2025-09-01 14:50:05] [DATABASE ERROR] Parâmetro associado: :data_fim_a = 2025-08-31 (tipo: 2)
[2025-09-01 14:50:05] [DATABASE ERROR] Parâmetro associado: :data_fim = 2025-08-31 (tipo: 2)
[2025-09-01 14:50:05] [DATABASE ERROR] Debug PDO após binding: SQL: [538] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=2
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=2

[2025-09-01 14:50:05] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":3}
[2025-09-01 14:50:05] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-01 14:50:05] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-01 14:50:05] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
         com parâmetros: {":produto_id":4,":data_fim_a":"2025-08-31",":data_fim":"2025-08-31"}
[2025-09-01 14:50:05] [DATABASE ERROR] Parâmetro associado: :produto_id = 4 (tipo: 1)
[2025-09-01 14:50:05] [DATABASE ERROR] Parâmetro associado: :data_fim_a = 2025-08-31 (tipo: 2)
[2025-09-01 14:50:05] [DATABASE ERROR] Parâmetro associado: :data_fim = 2025-08-31 (tipo: 2)
[2025-09-01 14:50:05] [DATABASE ERROR] Debug PDO após binding: SQL: [538] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=2
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=2

[2025-09-01 14:50:05] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":4}
[2025-09-01 14:50:05] [DATABASE ERROR] Parâmetro associado: :id = 4 (tipo: 1)
[2025-09-01 14:50:05] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-01 14:50:05] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
         com parâmetros: {":produto_id":5,":data_fim_a":"2025-08-31",":data_fim":"2025-08-31"}
[2025-09-01 14:50:05] [DATABASE ERROR] Parâmetro associado: :produto_id = 5 (tipo: 1)
[2025-09-01 14:50:05] [DATABASE ERROR] Parâmetro associado: :data_fim_a = 2025-08-31 (tipo: 2)
[2025-09-01 14:50:05] [DATABASE ERROR] Parâmetro associado: :data_fim = 2025-08-31 (tipo: 2)
[2025-09-01 14:50:05] [DATABASE ERROR] Debug PDO após binding: SQL: [538] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=2
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=2

[2025-09-01 14:50:05] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":5}
[2025-09-01 14:50:05] [DATABASE ERROR] Parâmetro associado: :id = 5 (tipo: 1)
[2025-09-01 14:50:05] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-01 14:50:05] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
         com parâmetros: {":produto_id":2,":data_fim_a":"2025-08-31",":data_fim":"2025-08-31"}
[2025-09-01 14:50:05] [DATABASE ERROR] Parâmetro associado: :produto_id = 2 (tipo: 1)
[2025-09-01 14:50:05] [DATABASE ERROR] Parâmetro associado: :data_fim_a = 2025-08-31 (tipo: 2)
[2025-09-01 14:50:05] [DATABASE ERROR] Parâmetro associado: :data_fim = 2025-08-31 (tipo: 2)
[2025-09-01 14:50:05] [DATABASE ERROR] Debug PDO após binding: SQL: [538] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=2
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=2

[2025-09-01 14:50:05] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":2}
[2025-09-01 14:50:05] [DATABASE ERROR] Parâmetro associado: :id = 2 (tipo: 1)
[2025-09-01 14:50:05] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-01 14:51:01] [DATABASE ERROR] Preparando query: 
            SELECT 
                p.id, 
                p.nome, 
                p.estoque_atual, 
                c.nome AS categoria, 
                f.razao_social AS fornecedor
            FROM produtos p
            LEFT JOIN categorias c ON p.categoria_id = c.id
            LEFT JOIN fornecedores f ON p.fornecedor_principal_id = f.id
            WHERE p.ativo = TRUE
                AND (:produto_id_null IS NULL OR p.id = :produto_id)
                AND (:categoria_id_null IS NULL OR p.categoria_id = :categoria_id)
                AND (:fornecedor_id_null IS NULL OR p.fornecedor_principal_id = :fornecedor_id)
            ORDER BY p.nome ASC;
         com parâmetros: {":produto_id_null":null,":produto_id":null,":categoria_id_null":null,":categoria_id":null,":fornecedor_id_null":null,":fornecedor_id":null}
[2025-09-01 14:51:01] [DATABASE ERROR] Parâmetro associado: :produto_id_null = NULL (tipo: 0)
[2025-09-01 14:51:01] [DATABASE ERROR] Parâmetro associado: :produto_id = NULL (tipo: 0)
[2025-09-01 14:51:01] [DATABASE ERROR] Parâmetro associado: :categoria_id_null = NULL (tipo: 0)
[2025-09-01 14:51:01] [DATABASE ERROR] Parâmetro associado: :categoria_id = NULL (tipo: 0)
[2025-09-01 14:51:01] [DATABASE ERROR] Parâmetro associado: :fornecedor_id_null = NULL (tipo: 0)
[2025-09-01 14:51:01] [DATABASE ERROR] Parâmetro associado: :fornecedor_id = NULL (tipo: 0)
[2025-09-01 14:51:01] [DATABASE ERROR] Debug PDO após binding: SQL: [684] 
            SELECT 
                p.id, 
                p.nome, 
                p.estoque_atual, 
                c.nome AS categoria, 
                f.razao_social AS fornecedor
            FROM produtos p
            LEFT JOIN categorias c ON p.categoria_id = c.id
            LEFT JOIN fornecedores f ON p.fornecedor_principal_id = f.id
            WHERE p.ativo = TRUE
                AND (:produto_id_null IS NULL OR p.id = :produto_id)
                AND (:categoria_id_null IS NULL OR p.categoria_id = :categoria_id)
                AND (:fornecedor_id_null IS NULL OR p.fornecedor_principal_id = :fornecedor_id)
            ORDER BY p.nome ASC;
        
Params:  6
Key: Name: [16] :produto_id_null
paramno=0
name=[16] ":produto_id_null"
is_param=1
param_type=0
Key: Name: [11] :produto_id
paramno=1
name=[11] ":produto_id"
is_param=1
param_type=0
Key: Name: [18] :categoria_id_null
paramno=2
name=[18] ":categoria_id_null"
is_param=1
param_type=0
Key: Name: [13] :categoria_id
paramno=3
name=[13] ":categoria_id"
is_param=1
param_type=0
Key: Name: [19] :fornecedor_id_null
paramno=4
name=[19] ":fornecedor_id_null"
is_param=1
param_type=0
Key: Name: [14] :fornecedor_id
paramno=5
name=[14] ":fornecedor_id"
is_param=1
param_type=0

[2025-09-01 14:51:01] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
         com parâmetros: {":produto_id":6,":data_fim_a":"2025-08-31",":data_fim":"2025-08-31"}
[2025-09-01 14:51:01] [DATABASE ERROR] Parâmetro associado: :produto_id = 6 (tipo: 1)
[2025-09-01 14:51:01] [DATABASE ERROR] Parâmetro associado: :data_fim_a = 2025-08-31 (tipo: 2)
[2025-09-01 14:51:01] [DATABASE ERROR] Parâmetro associado: :data_fim = 2025-08-31 (tipo: 2)
[2025-09-01 14:51:01] [DATABASE ERROR] Debug PDO após binding: SQL: [538] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=2
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=2

[2025-09-01 14:51:01] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":6}
[2025-09-01 14:51:01] [DATABASE ERROR] Parâmetro associado: :id = 6 (tipo: 1)
[2025-09-01 14:51:01] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-01 14:51:01] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
         com parâmetros: {":produto_id":3,":data_fim_a":"2025-08-31",":data_fim":"2025-08-31"}
[2025-09-01 14:51:01] [DATABASE ERROR] Parâmetro associado: :produto_id = 3 (tipo: 1)
[2025-09-01 14:51:01] [DATABASE ERROR] Parâmetro associado: :data_fim_a = 2025-08-31 (tipo: 2)
[2025-09-01 14:51:01] [DATABASE ERROR] Parâmetro associado: :data_fim = 2025-08-31 (tipo: 2)
[2025-09-01 14:51:01] [DATABASE ERROR] Debug PDO após binding: SQL: [538] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=2
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=2

[2025-09-01 14:51:01] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":3}
[2025-09-01 14:51:01] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-01 14:51:01] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-01 14:51:01] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
         com parâmetros: {":produto_id":4,":data_fim_a":"2025-08-31",":data_fim":"2025-08-31"}
[2025-09-01 14:51:01] [DATABASE ERROR] Parâmetro associado: :produto_id = 4 (tipo: 1)
[2025-09-01 14:51:01] [DATABASE ERROR] Parâmetro associado: :data_fim_a = 2025-08-31 (tipo: 2)
[2025-09-01 14:51:01] [DATABASE ERROR] Parâmetro associado: :data_fim = 2025-08-31 (tipo: 2)
[2025-09-01 14:51:01] [DATABASE ERROR] Debug PDO após binding: SQL: [538] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=2
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=2

[2025-09-01 14:51:01] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":4}
[2025-09-01 14:51:01] [DATABASE ERROR] Parâmetro associado: :id = 4 (tipo: 1)
[2025-09-01 14:51:01] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-01 14:51:01] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
         com parâmetros: {":produto_id":5,":data_fim_a":"2025-08-31",":data_fim":"2025-08-31"}
[2025-09-01 14:51:01] [DATABASE ERROR] Parâmetro associado: :produto_id = 5 (tipo: 1)
[2025-09-01 14:51:01] [DATABASE ERROR] Parâmetro associado: :data_fim_a = 2025-08-31 (tipo: 2)
[2025-09-01 14:51:01] [DATABASE ERROR] Parâmetro associado: :data_fim = 2025-08-31 (tipo: 2)
[2025-09-01 14:51:01] [DATABASE ERROR] Debug PDO após binding: SQL: [538] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=2
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=2

[2025-09-01 14:51:01] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":5}
[2025-09-01 14:51:01] [DATABASE ERROR] Parâmetro associado: :id = 5 (tipo: 1)
[2025-09-01 14:51:01] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-01 14:51:01] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
         com parâmetros: {":produto_id":2,":data_fim_a":"2025-08-31",":data_fim":"2025-08-31"}
[2025-09-01 14:51:01] [DATABASE ERROR] Parâmetro associado: :produto_id = 2 (tipo: 1)
[2025-09-01 14:51:01] [DATABASE ERROR] Parâmetro associado: :data_fim_a = 2025-08-31 (tipo: 2)
[2025-09-01 14:51:01] [DATABASE ERROR] Parâmetro associado: :data_fim = 2025-08-31 (tipo: 2)
[2025-09-01 14:51:01] [DATABASE ERROR] Debug PDO após binding: SQL: [538] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=2
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=2

[2025-09-01 14:51:01] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":2}
[2025-09-01 14:51:01] [DATABASE ERROR] Parâmetro associado: :id = 2 (tipo: 1)
[2025-09-01 14:51:01] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-01 14:52:35] [DATABASE ERROR] Preparando query: 
            SELECT 
                p.id, 
                p.nome, 
                p.estoque_atual, 
                c.nome AS categoria, 
                f.razao_social AS fornecedor
            FROM produtos p
            LEFT JOIN categorias c ON p.categoria_id = c.id
            LEFT JOIN fornecedores f ON p.fornecedor_principal_id = f.id
            WHERE p.ativo = TRUE
                AND (:produto_id_null IS NULL OR p.id = :produto_id)
                AND (:categoria_id_null IS NULL OR p.categoria_id = :categoria_id)
                AND (:fornecedor_id_null IS NULL OR p.fornecedor_principal_id = :fornecedor_id)
            ORDER BY p.nome ASC;
         com parâmetros: {":produto_id_null":null,":produto_id":null,":categoria_id_null":null,":categoria_id":null,":fornecedor_id_null":null,":fornecedor_id":null}
[2025-09-01 14:52:35] [DATABASE ERROR] Parâmetro associado: :produto_id_null = NULL (tipo: 0)
[2025-09-01 14:52:35] [DATABASE ERROR] Parâmetro associado: :produto_id = NULL (tipo: 0)
[2025-09-01 14:52:35] [DATABASE ERROR] Parâmetro associado: :categoria_id_null = NULL (tipo: 0)
[2025-09-01 14:52:35] [DATABASE ERROR] Parâmetro associado: :categoria_id = NULL (tipo: 0)
[2025-09-01 14:52:35] [DATABASE ERROR] Parâmetro associado: :fornecedor_id_null = NULL (tipo: 0)
[2025-09-01 14:52:35] [DATABASE ERROR] Parâmetro associado: :fornecedor_id = NULL (tipo: 0)
[2025-09-01 14:52:35] [DATABASE ERROR] Debug PDO após binding: SQL: [684] 
            SELECT 
                p.id, 
                p.nome, 
                p.estoque_atual, 
                c.nome AS categoria, 
                f.razao_social AS fornecedor
            FROM produtos p
            LEFT JOIN categorias c ON p.categoria_id = c.id
            LEFT JOIN fornecedores f ON p.fornecedor_principal_id = f.id
            WHERE p.ativo = TRUE
                AND (:produto_id_null IS NULL OR p.id = :produto_id)
                AND (:categoria_id_null IS NULL OR p.categoria_id = :categoria_id)
                AND (:fornecedor_id_null IS NULL OR p.fornecedor_principal_id = :fornecedor_id)
            ORDER BY p.nome ASC;
        
Params:  6
Key: Name: [16] :produto_id_null
paramno=0
name=[16] ":produto_id_null"
is_param=1
param_type=0
Key: Name: [11] :produto_id
paramno=1
name=[11] ":produto_id"
is_param=1
param_type=0
Key: Name: [18] :categoria_id_null
paramno=2
name=[18] ":categoria_id_null"
is_param=1
param_type=0
Key: Name: [13] :categoria_id
paramno=3
name=[13] ":categoria_id"
is_param=1
param_type=0
Key: Name: [19] :fornecedor_id_null
paramno=4
name=[19] ":fornecedor_id_null"
is_param=1
param_type=0
Key: Name: [14] :fornecedor_id
paramno=5
name=[14] ":fornecedor_id"
is_param=1
param_type=0

[2025-09-01 14:52:35] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
         com parâmetros: {":produto_id":6,":data_fim_a":"2025-08-31",":data_fim":"2025-08-31"}
[2025-09-01 14:52:35] [DATABASE ERROR] Parâmetro associado: :produto_id = 6 (tipo: 1)
[2025-09-01 14:52:35] [DATABASE ERROR] Parâmetro associado: :data_fim_a = 2025-08-31 (tipo: 2)
[2025-09-01 14:52:35] [DATABASE ERROR] Parâmetro associado: :data_fim = 2025-08-31 (tipo: 2)
[2025-09-01 14:52:35] [DATABASE ERROR] Debug PDO após binding: SQL: [538] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=2
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=2

[2025-09-01 14:52:35] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":6}
[2025-09-01 14:52:35] [DATABASE ERROR] Parâmetro associado: :id = 6 (tipo: 1)
[2025-09-01 14:52:35] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-01 14:52:35] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
         com parâmetros: {":produto_id":3,":data_fim_a":"2025-08-31",":data_fim":"2025-08-31"}
[2025-09-01 14:52:35] [DATABASE ERROR] Parâmetro associado: :produto_id = 3 (tipo: 1)
[2025-09-01 14:52:35] [DATABASE ERROR] Parâmetro associado: :data_fim_a = 2025-08-31 (tipo: 2)
[2025-09-01 14:52:35] [DATABASE ERROR] Parâmetro associado: :data_fim = 2025-08-31 (tipo: 2)
[2025-09-01 14:52:35] [DATABASE ERROR] Debug PDO após binding: SQL: [538] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=2
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=2

[2025-09-01 14:52:35] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":3}
[2025-09-01 14:52:35] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-01 14:52:35] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-01 14:52:35] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
         com parâmetros: {":produto_id":4,":data_fim_a":"2025-08-31",":data_fim":"2025-08-31"}
[2025-09-01 14:52:35] [DATABASE ERROR] Parâmetro associado: :produto_id = 4 (tipo: 1)
[2025-09-01 14:52:35] [DATABASE ERROR] Parâmetro associado: :data_fim_a = 2025-08-31 (tipo: 2)
[2025-09-01 14:52:35] [DATABASE ERROR] Parâmetro associado: :data_fim = 2025-08-31 (tipo: 2)
[2025-09-01 14:52:35] [DATABASE ERROR] Debug PDO após binding: SQL: [538] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=2
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=2

[2025-09-01 14:52:35] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":4}
[2025-09-01 14:52:35] [DATABASE ERROR] Parâmetro associado: :id = 4 (tipo: 1)
[2025-09-01 14:52:35] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-01 14:52:35] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
         com parâmetros: {":produto_id":5,":data_fim_a":"2025-08-31",":data_fim":"2025-08-31"}
[2025-09-01 14:52:35] [DATABASE ERROR] Parâmetro associado: :produto_id = 5 (tipo: 1)
[2025-09-01 14:52:35] [DATABASE ERROR] Parâmetro associado: :data_fim_a = 2025-08-31 (tipo: 2)
[2025-09-01 14:52:35] [DATABASE ERROR] Parâmetro associado: :data_fim = 2025-08-31 (tipo: 2)
[2025-09-01 14:52:35] [DATABASE ERROR] Debug PDO após binding: SQL: [538] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=2
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=2

[2025-09-01 14:52:35] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":5}
[2025-09-01 14:52:35] [DATABASE ERROR] Parâmetro associado: :id = 5 (tipo: 1)
[2025-09-01 14:52:35] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-01 14:52:35] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
         com parâmetros: {":produto_id":2,":data_fim_a":"2025-08-31",":data_fim":"2025-08-31"}
[2025-09-01 14:52:35] [DATABASE ERROR] Parâmetro associado: :produto_id = 2 (tipo: 1)
[2025-09-01 14:52:35] [DATABASE ERROR] Parâmetro associado: :data_fim_a = 2025-08-31 (tipo: 2)
[2025-09-01 14:52:35] [DATABASE ERROR] Parâmetro associado: :data_fim = 2025-08-31 (tipo: 2)
[2025-09-01 14:52:35] [DATABASE ERROR] Debug PDO após binding: SQL: [538] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=2
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=2

[2025-09-01 14:52:35] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":2}
[2025-09-01 14:52:35] [DATABASE ERROR] Parâmetro associado: :id = 2 (tipo: 1)
[2025-09-01 14:52:35] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-01 14:54:31] [DATABASE ERROR] Preparando query: SELECT * FROM produtos WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-01 14:54:31] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-01 14:54:31] [DATABASE ERROR] Debug PDO após binding: SQL: [43] SELECT * FROM produtos WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-01 14:54:31] [DATABASE ERROR] Preparando query: SELECT * FROM categorias WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-01 14:54:31] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-01 14:54:31] [DATABASE ERROR] Debug PDO após binding: SQL: [45] SELECT * FROM categorias WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-01 14:54:31] [DATABASE ERROR] Preparando query: SELECT * FROM categorias WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-01 14:54:31] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-01 14:54:31] [DATABASE ERROR] Debug PDO após binding: SQL: [45] SELECT * FROM categorias WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-01 14:54:31] [DATABASE ERROR] Preparando query: SELECT * FROM unidades_medida com parâmetros: []
[2025-09-01 14:54:31] [DATABASE ERROR] Debug PDO após binding: SQL: [29] SELECT * FROM unidades_medida
Params:  0

[2025-09-01 14:54:31] [DATABASE ERROR] Preparando query: SELECT * FROM fornecedores WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-01 14:54:31] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-01 14:54:31] [DATABASE ERROR] Debug PDO após binding: SQL: [47] SELECT * FROM fornecedores WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-01 14:54:31] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-09-01 14:54:31] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-09-01 14:54:31] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-09-01 14:54:31] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-09-01 14:54:31] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-09-05 10:20:12] [DATABASE ERROR] Erro de conexão: SQLSTATE[HY000] [1049] Unknown database 'sorveteria_estoque'
[2025-09-05 10:30:42] [DATABASE ERROR] Erro de conexão: SQLSTATE[HY000] [1049] Unknown database 'sorveteria_estoque'
[2025-09-05 10:41:57] [DATABASE ERROR] Parâmetro associado: :username = admin (tipo: 2)
[2025-09-05 10:41:57] [DATABASE ERROR] Parâmetro associado: :email = admin (tipo: 2)
[2025-09-05 10:42:33] [DATABASE ERROR] Parâmetro associado: :username = admin (tipo: 2)
[2025-09-05 10:42:33] [DATABASE ERROR] Parâmetro associado: :email = admin (tipo: 2)
[2025-09-05 13:31:52] [DATABASE ERROR] Parâmetro associado: :username = admin (tipo: 2)
[2025-09-05 13:31:52] [DATABASE ERROR] Parâmetro associado: :email = admin (tipo: 2)
[2025-09-05 13:32:13] [DATABASE ERROR] Parâmetro associado: :username = admin (tipo: 2)
[2025-09-05 13:32:13] [DATABASE ERROR] Parâmetro associado: :email = admin (tipo: 2)
[2025-09-05 13:33:50] [DATABASE ERROR] Parâmetro associado: :username = admin (tipo: 2)
[2025-09-05 13:33:50] [DATABASE ERROR] Parâmetro associado: :email = admin (tipo: 2)
[2025-09-05 13:34:16] [DATABASE ERROR] Parâmetro associado: :username = admin (tipo: 2)
[2025-09-05 13:34:16] [DATABASE ERROR] Parâmetro associado: :email = admin (tipo: 2)
[2025-09-05 13:35:02] [DATABASE ERROR] Parâmetro associado: :username = admin (tipo: 2)
[2025-09-05 13:35:02] [DATABASE ERROR] Parâmetro associado: :email = admin (tipo: 2)
[2025-09-05 13:40:35] [DATABASE ERROR] Parâmetro associado: :username = admin (tipo: 2)
[2025-09-05 13:40:35] [DATABASE ERROR] Parâmetro associado: :email = admin (tipo: 2)
[2025-09-05 13:47:47] [DATABASE ERROR] Parâmetro associado: :username = admin (tipo: 2)
[2025-09-05 13:47:47] [DATABASE ERROR] Parâmetro associado: :email = admin (tipo: 2)
[2025-09-05 14:45:51] [DATABASE ERROR] Parâmetro associado: :username = admin (tipo: 2)
[2025-09-05 14:45:51] [DATABASE ERROR] Parâmetro associado: :email = admin (tipo: 2)
[2025-09-05 14:47:03] [DATABASE ERROR] Parâmetro associado: :username = admin (tipo: 2)
[2025-09-05 14:47:03] [DATABASE ERROR] Parâmetro associado: :email = admin (tipo: 2)
[2025-09-05 14:47:12] [DATABASE ERROR] Parâmetro associado: :username = admin (tipo: 2)
[2025-09-05 14:47:12] [DATABASE ERROR] Parâmetro associado: :email = admin (tipo: 2)
[2025-09-05 14:47:49] [DATABASE ERROR] Parâmetro associado: :username = admin (tipo: 2)
[2025-09-05 14:47:49] [DATABASE ERROR] Parâmetro associado: :email = admin (tipo: 2)
[2025-09-05 14:51:18] [DATABASE ERROR] Parâmetro associado: :username = admin (tipo: 2)
[2025-09-05 14:51:18] [DATABASE ERROR] Parâmetro associado: :email = admin (tipo: 2)
[2025-09-05 14:53:09] [DATABASE ERROR] Parâmetro associado: :username = teste (tipo: 2)
[2025-09-05 14:53:09] [DATABASE ERROR] Parâmetro associado: :email = teste (tipo: 2)
[2025-09-05 14:54:00] [DATABASE ERROR] Parâmetro associado: :username = admin (tipo: 2)
[2025-09-05 14:54:00] [DATABASE ERROR] Parâmetro associado: :email = admin (tipo: 2)
[2025-09-05 14:57:42] [DATABASE ERROR] Parâmetro associado: :username = admin (tipo: 2)
[2025-09-05 14:57:42] [DATABASE ERROR] Parâmetro associado: :email = admin (tipo: 2)
[2025-09-05 14:58:57] [DATABASE ERROR] Parâmetro associado: :username = admin (tipo: 2)
[2025-09-05 14:58:57] [DATABASE ERROR] Parâmetro associado: :email = admin (tipo: 2)
[2025-09-05 15:02:00] [DATABASE ERROR] Parâmetro associado: :username = admin (tipo: 2)
[2025-09-05 15:02:01] [DATABASE ERROR] Parâmetro associado: :email = admin (tipo: 2)
[2025-09-05 15:05:07] [DATABASE ERROR] Parâmetro associado: :username = admin (tipo: 2)
[2025-09-05 15:05:07] [DATABASE ERROR] Parâmetro associado: :email = admin (tipo: 2)
[2025-09-05 15:08:22] [DATABASE ERROR] Parâmetro associado: :username = admin (tipo: 2)
[2025-09-05 15:08:22] [DATABASE ERROR] Parâmetro associado: :email = admin (tipo: 2)
[2025-09-05 15:08:22] [DATABASE ERROR] Preparando query: UPDATE usuarios SET ultimo_acesso = NOW() WHERE id = :id com parâmetros: {":id":1}
[2025-09-05 15:08:22] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-09-05 15:08:22] [DATABASE ERROR] Debug PDO após binding: SQL: [56] UPDATE usuarios SET ultimo_acesso = NOW() WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-05 15:08:22] [DATABASE ERROR] Parâmetro associado: :id = rcdvhto1im4veqq3o6tmmte5fg (tipo: 2)
[2025-09-05 15:08:22] [DATABASE ERROR] Parâmetro associado: :id = rcdvhto1im4veqq3o6tmmte5fg (tipo: 2)
[2025-09-05 15:08:22] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-09-05 15:08:22] [DATABASE ERROR] Parâmetro associado: :ip_address = ::1 (tipo: 2)
[2025-09-05 15:08:22] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36 Edg/139.0.0.0 (tipo: 2)
[2025-09-05 15:08:22] [DATABASE ERROR] Parâmetro associado: :dados = {"user_id":1,"user_name":"Administrador do Sistema","user_email":"admin@sorveteria.com","user_profile":1,"user_profile_name":"Administrador","logged_in":true,"login_time":1757095702} (tipo: 2)
[2025-09-05 15:08:35] [DATABASE ERROR] Preparando query: SELECT * FROM produtos WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-05 15:08:35] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-05 15:08:35] [DATABASE ERROR] Debug PDO após binding: SQL: [43] SELECT * FROM produtos WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-05 15:08:35] [DATABASE ERROR] Preparando query: SELECT * FROM categorias WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-05 15:08:35] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-05 15:08:35] [DATABASE ERROR] Debug PDO após binding: SQL: [45] SELECT * FROM categorias WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-05 15:08:35] [DATABASE ERROR] Preparando query: SELECT * FROM categorias WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-05 15:08:35] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-05 15:08:35] [DATABASE ERROR] Debug PDO após binding: SQL: [45] SELECT * FROM categorias WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-05 15:08:35] [DATABASE ERROR] Preparando query: SELECT * FROM unidades_medida com parâmetros: []
[2025-09-05 15:08:35] [DATABASE ERROR] Debug PDO após binding: SQL: [29] SELECT * FROM unidades_medida
Params:  0

[2025-09-05 15:08:35] [DATABASE ERROR] Preparando query: SELECT * FROM fornecedores WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-05 15:08:35] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-05 15:08:35] [DATABASE ERROR] Debug PDO após binding: SQL: [47] SELECT * FROM fornecedores WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-05 15:08:38] [DATABASE ERROR] Preparando query: SELECT * FROM produtos WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-05 15:08:38] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-05 15:08:38] [DATABASE ERROR] Debug PDO após binding: SQL: [43] SELECT * FROM produtos WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-05 15:08:38] [DATABASE ERROR] Preparando query: SELECT * FROM categorias WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-05 15:08:38] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-05 15:08:38] [DATABASE ERROR] Debug PDO após binding: SQL: [45] SELECT * FROM categorias WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-05 15:08:38] [DATABASE ERROR] Preparando query: SELECT * FROM categorias WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-05 15:08:38] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-05 15:08:38] [DATABASE ERROR] Debug PDO após binding: SQL: [45] SELECT * FROM categorias WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-05 15:08:38] [DATABASE ERROR] Preparando query: SELECT * FROM unidades_medida com parâmetros: []
[2025-09-05 15:08:38] [DATABASE ERROR] Debug PDO após binding: SQL: [29] SELECT * FROM unidades_medida
Params:  0

[2025-09-05 15:08:38] [DATABASE ERROR] Preparando query: SELECT * FROM fornecedores WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-05 15:08:38] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-05 15:08:38] [DATABASE ERROR] Debug PDO após binding: SQL: [47] SELECT * FROM fornecedores WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-05 15:08:40] [DATABASE ERROR] Preparando query: SELECT * FROM produtos WHERE ativo = :value com parâmetros: {":value":0}
[2025-09-05 15:08:40] [DATABASE ERROR] Parâmetro associado: :value = 0 (tipo: 1)
[2025-09-05 15:08:40] [DATABASE ERROR] Debug PDO após binding: SQL: [43] SELECT * FROM produtos WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-05 15:08:40] [DATABASE ERROR] Preparando query: SELECT * FROM categorias WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-05 15:08:40] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-05 15:08:40] [DATABASE ERROR] Debug PDO após binding: SQL: [45] SELECT * FROM categorias WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-05 15:08:40] [DATABASE ERROR] Preparando query: SELECT * FROM categorias WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-05 15:08:40] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-05 15:08:40] [DATABASE ERROR] Debug PDO após binding: SQL: [45] SELECT * FROM categorias WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-05 15:08:40] [DATABASE ERROR] Preparando query: SELECT * FROM unidades_medida com parâmetros: []
[2025-09-05 15:08:40] [DATABASE ERROR] Debug PDO após binding: SQL: [29] SELECT * FROM unidades_medida
Params:  0

[2025-09-05 15:08:40] [DATABASE ERROR] Preparando query: SELECT * FROM fornecedores WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-05 15:08:40] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-05 15:08:40] [DATABASE ERROR] Debug PDO após binding: SQL: [47] SELECT * FROM fornecedores WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-05 15:08:41] [DATABASE ERROR] Preparando query: SELECT * FROM produtos WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-05 15:08:41] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-05 15:08:41] [DATABASE ERROR] Debug PDO após binding: SQL: [43] SELECT * FROM produtos WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-05 15:08:50] [DATABASE ERROR] Preparando query: SELECT * FROM categorias WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-05 15:08:50] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-05 15:08:50] [DATABASE ERROR] Debug PDO após binding: SQL: [45] SELECT * FROM categorias WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-05 15:08:58] [DATABASE ERROR] Parâmetro associado: :value = teste (tipo: 2)
[2025-09-05 15:08:58] [DATABASE ERROR] Parâmetro associado: :nome = teste (tipo: 2)
[2025-09-05 15:08:58] [DATABASE ERROR] Parâmetro associado: :descricao = teste (tipo: 2)
[2025-09-05 15:08:58] [DATABASE ERROR] Parâmetro associado: :ativo = 1 (tipo: 1)
[2025-09-05 15:08:58] [DATABASE ERROR] Parâmetro associado: :criado_por = 1 (tipo: 1)
[2025-09-05 15:08:58] [DATABASE ERROR] Parâmetro associado: :criado_em = 2025-09-05 15:08:58 (tipo: 2)
[2025-09-05 15:08:58] [DATABASE ERROR] Parâmetro associado: :atualizado_em = 2025-09-05 15:08:58 (tipo: 2)
[2025-09-05 15:08:58] [DATABASE ERROR] Parâmetro associado: :tabela = categorias (tipo: 2)
[2025-09-05 15:08:58] [DATABASE ERROR] Parâmetro associado: :registro_id = 1 (tipo: 2)
[2025-09-05 15:08:58] [DATABASE ERROR] Parâmetro associado: :acao = INSERT (tipo: 2)
[2025-09-05 15:08:58] [DATABASE ERROR] Parâmetro associado: :dados_anteriores = NULL (tipo: 0)
[2025-09-05 15:08:58] [DATABASE ERROR] Parâmetro associado: :dados_novos = {"nome":"teste","descricao":"teste","ativo":1,"criado_por":1,"criado_em":"2025-09-05 15:08:58","atualizado_em":"2025-09-05 15:08:58"} (tipo: 2)
[2025-09-05 15:08:58] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-09-05 15:08:58] [DATABASE ERROR] Parâmetro associado: :ip_address = ::1 (tipo: 2)
[2025-09-05 15:08:58] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36 Edg/139.0.0.0 (tipo: 2)
[2025-09-05 15:08:58] [DATABASE ERROR] Preparando query: SELECT * FROM categorias WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-05 15:08:58] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-05 15:08:58] [DATABASE ERROR] Debug PDO após binding: SQL: [45] SELECT * FROM categorias WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-05 15:09:14] [DATABASE ERROR] Parâmetro associado: :value = secos (tipo: 2)
[2025-09-05 15:09:14] [DATABASE ERROR] Parâmetro associado: :nome = secos (tipo: 2)
[2025-09-05 15:09:14] [DATABASE ERROR] Parâmetro associado: :descricao = secos (tipo: 2)
[2025-09-05 15:09:14] [DATABASE ERROR] Parâmetro associado: :ativo = 1 (tipo: 1)
[2025-09-05 15:09:14] [DATABASE ERROR] Parâmetro associado: :criado_por = 1 (tipo: 1)
[2025-09-05 15:09:14] [DATABASE ERROR] Parâmetro associado: :criado_em = 2025-09-05 15:09:14 (tipo: 2)
[2025-09-05 15:09:14] [DATABASE ERROR] Parâmetro associado: :atualizado_em = 2025-09-05 15:09:14 (tipo: 2)
[2025-09-05 15:09:14] [DATABASE ERROR] Parâmetro associado: :tabela = categorias (tipo: 2)
[2025-09-05 15:09:14] [DATABASE ERROR] Parâmetro associado: :registro_id = 2 (tipo: 2)
[2025-09-05 15:09:14] [DATABASE ERROR] Parâmetro associado: :acao = INSERT (tipo: 2)
[2025-09-05 15:09:14] [DATABASE ERROR] Parâmetro associado: :dados_anteriores = NULL (tipo: 0)
[2025-09-05 15:09:14] [DATABASE ERROR] Parâmetro associado: :dados_novos = {"nome":"secos","descricao":"secos","ativo":1,"criado_por":1,"criado_em":"2025-09-05 15:09:14","atualizado_em":"2025-09-05 15:09:14"} (tipo: 2)
[2025-09-05 15:09:14] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-09-05 15:09:14] [DATABASE ERROR] Parâmetro associado: :ip_address = ::1 (tipo: 2)
[2025-09-05 15:09:14] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36 Edg/139.0.0.0 (tipo: 2)
[2025-09-05 15:09:14] [DATABASE ERROR] Preparando query: SELECT * FROM categorias WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-05 15:09:14] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-05 15:09:14] [DATABASE ERROR] Debug PDO após binding: SQL: [45] SELECT * FROM categorias WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-05 15:09:24] [DATABASE ERROR] Parâmetro associado: :value = freezer (tipo: 2)
[2025-09-05 15:09:24] [DATABASE ERROR] Parâmetro associado: :nome = freezer (tipo: 2)
[2025-09-05 15:09:24] [DATABASE ERROR] Parâmetro associado: :descricao = Congelados (tipo: 2)
[2025-09-05 15:09:24] [DATABASE ERROR] Parâmetro associado: :ativo = 1 (tipo: 1)
[2025-09-05 15:09:24] [DATABASE ERROR] Parâmetro associado: :criado_por = 1 (tipo: 1)
[2025-09-05 15:09:24] [DATABASE ERROR] Parâmetro associado: :criado_em = 2025-09-05 15:09:24 (tipo: 2)
[2025-09-05 15:09:24] [DATABASE ERROR] Parâmetro associado: :atualizado_em = 2025-09-05 15:09:24 (tipo: 2)
[2025-09-05 15:09:24] [DATABASE ERROR] Parâmetro associado: :tabela = categorias (tipo: 2)
[2025-09-05 15:09:24] [DATABASE ERROR] Parâmetro associado: :registro_id = 3 (tipo: 2)
[2025-09-05 15:09:24] [DATABASE ERROR] Parâmetro associado: :acao = INSERT (tipo: 2)
[2025-09-05 15:09:24] [DATABASE ERROR] Parâmetro associado: :dados_anteriores = NULL (tipo: 0)
[2025-09-05 15:09:24] [DATABASE ERROR] Parâmetro associado: :dados_novos = {"nome":"freezer","descricao":"Congelados","ativo":1,"criado_por":1,"criado_em":"2025-09-05 15:09:24","atualizado_em":"2025-09-05 15:09:24"} (tipo: 2)
[2025-09-05 15:09:24] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-09-05 15:09:24] [DATABASE ERROR] Parâmetro associado: :ip_address = ::1 (tipo: 2)
[2025-09-05 15:09:24] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36 Edg/139.0.0.0 (tipo: 2)
[2025-09-05 15:09:24] [DATABASE ERROR] Preparando query: SELECT * FROM categorias WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-05 15:09:24] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-05 15:09:24] [DATABASE ERROR] Debug PDO após binding: SQL: [45] SELECT * FROM categorias WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-05 15:09:25] [DATABASE ERROR] Preparando query: SELECT * FROM produtos WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-05 15:09:25] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-05 15:09:25] [DATABASE ERROR] Debug PDO após binding: SQL: [43] SELECT * FROM produtos WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-05 15:09:25] [DATABASE ERROR] Preparando query: SELECT * FROM categorias WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-05 15:09:25] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-05 15:09:25] [DATABASE ERROR] Debug PDO após binding: SQL: [45] SELECT * FROM categorias WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-05 15:09:25] [DATABASE ERROR] Preparando query: SELECT * FROM categorias WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-05 15:09:25] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-05 15:09:25] [DATABASE ERROR] Debug PDO após binding: SQL: [45] SELECT * FROM categorias WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-05 15:09:25] [DATABASE ERROR] Preparando query: SELECT * FROM unidades_medida com parâmetros: []
[2025-09-05 15:09:25] [DATABASE ERROR] Debug PDO após binding: SQL: [29] SELECT * FROM unidades_medida
Params:  0

[2025-09-05 15:09:25] [DATABASE ERROR] Preparando query: SELECT * FROM fornecedores WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-05 15:09:25] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-05 15:09:25] [DATABASE ERROR] Debug PDO após binding: SQL: [47] SELECT * FROM fornecedores WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-05 15:10:08] [DATABASE ERROR] Parâmetro associado: :value = teste (tipo: 2)
[2025-09-05 15:10:08] [DATABASE ERROR] Parâmetro associado: :value =  (tipo: 2)
[2025-09-05 15:10:08] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 2)
[2025-09-05 15:10:08] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 2)
[2025-09-05 15:10:08] [DATABASE ERROR] Parâmetro associado: :value =  (tipo: 2)
[2025-09-05 15:10:08] [DATABASE ERROR] Preparando query: SELECT * FROM produtos WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-05 15:10:08] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-05 15:10:08] [DATABASE ERROR] Debug PDO após binding: SQL: [43] SELECT * FROM produtos WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-05 15:10:08] [DATABASE ERROR] Preparando query: SELECT * FROM categorias WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-05 15:10:08] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-05 15:10:08] [DATABASE ERROR] Debug PDO após binding: SQL: [45] SELECT * FROM categorias WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-05 15:10:08] [DATABASE ERROR] Preparando query: SELECT * FROM categorias WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-05 15:10:08] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-05 15:10:08] [DATABASE ERROR] Debug PDO após binding: SQL: [45] SELECT * FROM categorias WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-05 15:10:08] [DATABASE ERROR] Preparando query: SELECT * FROM unidades_medida com parâmetros: []
[2025-09-05 15:10:08] [DATABASE ERROR] Debug PDO após binding: SQL: [29] SELECT * FROM unidades_medida
Params:  0

[2025-09-05 15:10:08] [DATABASE ERROR] Preparando query: SELECT * FROM fornecedores WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-05 15:10:08] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-05 15:10:08] [DATABASE ERROR] Debug PDO após binding: SQL: [47] SELECT * FROM fornecedores WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-05 15:10:22] [DATABASE ERROR] Preparando query: SELECT * FROM produtos WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-05 15:10:22] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-05 15:10:22] [DATABASE ERROR] Debug PDO após binding: SQL: [43] SELECT * FROM produtos WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-05 15:10:22] [DATABASE ERROR] Preparando query: SELECT * FROM categorias WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-05 15:10:22] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-05 15:10:22] [DATABASE ERROR] Debug PDO após binding: SQL: [45] SELECT * FROM categorias WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-05 15:10:22] [DATABASE ERROR] Preparando query: SELECT * FROM categorias WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-05 15:10:22] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-05 15:10:22] [DATABASE ERROR] Debug PDO após binding: SQL: [45] SELECT * FROM categorias WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-05 15:10:22] [DATABASE ERROR] Preparando query: SELECT * FROM unidades_medida com parâmetros: []
[2025-09-05 15:10:22] [DATABASE ERROR] Debug PDO após binding: SQL: [29] SELECT * FROM unidades_medida
Params:  0

[2025-09-05 15:10:22] [DATABASE ERROR] Preparando query: SELECT * FROM fornecedores WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-05 15:10:22] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-05 15:10:22] [DATABASE ERROR] Debug PDO após binding: SQL: [47] SELECT * FROM fornecedores WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-05 15:10:24] [DATABASE ERROR] Preparando query: SELECT * FROM produtos WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-05 15:10:24] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-05 15:10:24] [DATABASE ERROR] Debug PDO após binding: SQL: [43] SELECT * FROM produtos WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-05 15:10:24] [DATABASE ERROR] Preparando query: SELECT * FROM categorias WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-05 15:10:24] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-05 15:10:24] [DATABASE ERROR] Debug PDO após binding: SQL: [45] SELECT * FROM categorias WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-05 15:10:24] [DATABASE ERROR] Preparando query: SELECT * FROM categorias WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-05 15:10:24] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-05 15:10:24] [DATABASE ERROR] Debug PDO após binding: SQL: [45] SELECT * FROM categorias WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-05 15:10:24] [DATABASE ERROR] Preparando query: SELECT * FROM unidades_medida com parâmetros: []
[2025-09-05 15:10:24] [DATABASE ERROR] Debug PDO após binding: SQL: [29] SELECT * FROM unidades_medida
Params:  0

[2025-09-05 15:10:24] [DATABASE ERROR] Preparando query: SELECT * FROM fornecedores WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-05 15:10:24] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-05 15:10:24] [DATABASE ERROR] Debug PDO após binding: SQL: [47] SELECT * FROM fornecedores WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-05 15:10:28] [DATABASE ERROR] Preparando query: SELECT * FROM produtos WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-05 15:10:28] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-05 15:10:28] [DATABASE ERROR] Debug PDO após binding: SQL: [43] SELECT * FROM produtos WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-05 15:12:07] [DATABASE ERROR] Preparando query: SELECT * FROM fornecedores WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-05 15:12:07] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-05 15:12:07] [DATABASE ERROR] Debug PDO após binding: SQL: [47] SELECT * FROM fornecedores WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-05 15:12:07] [DATABASE ERROR] Preparando query: SELECT * FROM produtos WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-05 15:12:07] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-05 15:12:07] [DATABASE ERROR] Debug PDO após binding: SQL: [43] SELECT * FROM produtos WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-05 15:12:42] [DATABASE ERROR] Preparando query: SELECT * FROM produtos WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-05 15:12:42] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-05 15:12:42] [DATABASE ERROR] Debug PDO após binding: SQL: [43] SELECT * FROM produtos WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-05 15:12:44] [DATABASE ERROR] Preparando query: SELECT * FROM produtos WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-05 15:12:44] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-05 15:12:44] [DATABASE ERROR] Debug PDO após binding: SQL: [43] SELECT * FROM produtos WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-05 15:12:44] [DATABASE ERROR] Preparando query: SELECT * FROM categorias WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-05 15:12:44] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-05 15:12:44] [DATABASE ERROR] Debug PDO após binding: SQL: [45] SELECT * FROM categorias WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-05 15:12:44] [DATABASE ERROR] Preparando query: SELECT * FROM categorias WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-05 15:12:44] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-05 15:12:44] [DATABASE ERROR] Debug PDO após binding: SQL: [45] SELECT * FROM categorias WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-05 15:12:44] [DATABASE ERROR] Preparando query: SELECT * FROM unidades_medida com parâmetros: []
[2025-09-05 15:12:44] [DATABASE ERROR] Debug PDO após binding: SQL: [29] SELECT * FROM unidades_medida
Params:  0

[2025-09-05 15:12:44] [DATABASE ERROR] Preparando query: SELECT * FROM fornecedores WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-05 15:12:44] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-05 15:12:44] [DATABASE ERROR] Debug PDO após binding: SQL: [47] SELECT * FROM fornecedores WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-05 15:12:53] [DATABASE ERROR] Preparando query: SELECT * FROM produtos WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-05 15:12:53] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-05 15:12:53] [DATABASE ERROR] Debug PDO após binding: SQL: [43] SELECT * FROM produtos WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-05 15:13:00] [DATABASE ERROR] Preparando query: SELECT * FROM fornecedores WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-05 15:13:00] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-05 15:13:00] [DATABASE ERROR] Debug PDO após binding: SQL: [47] SELECT * FROM fornecedores WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-05 15:13:00] [DATABASE ERROR] Preparando query: SELECT * FROM produtos WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-05 15:13:00] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-05 15:13:00] [DATABASE ERROR] Debug PDO após binding: SQL: [43] SELECT * FROM produtos WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-05 15:13:05] [DATABASE ERROR] Preparando query: SELECT * FROM produtos WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-05 15:13:05] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-05 15:13:05] [DATABASE ERROR] Debug PDO após binding: SQL: [43] SELECT * FROM produtos WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-05 15:13:15] [DATABASE ERROR] Preparando query: SELECT * FROM produtos WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-05 15:13:15] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-05 15:13:15] [DATABASE ERROR] Debug PDO após binding: SQL: [43] SELECT * FROM produtos WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-05 15:13:23] [DATABASE ERROR] Preparando query: SELECT * FROM fornecedores WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-05 15:13:23] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-05 15:13:23] [DATABASE ERROR] Debug PDO após binding: SQL: [47] SELECT * FROM fornecedores WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-05 15:13:23] [DATABASE ERROR] Preparando query: SELECT * FROM produtos WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-05 15:13:23] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-05 15:13:23] [DATABASE ERROR] Debug PDO após binding: SQL: [43] SELECT * FROM produtos WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-05 15:16:17] [DATABASE ERROR] Preparando query: SELECT * FROM produtos WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-05 15:16:17] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-05 15:16:17] [DATABASE ERROR] Debug PDO após binding: SQL: [43] SELECT * FROM produtos WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-05 15:16:21] [DATABASE ERROR] Preparando query: SELECT * FROM produtos WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-05 15:16:21] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-05 15:16:21] [DATABASE ERROR] Debug PDO após binding: SQL: [43] SELECT * FROM produtos WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-05 15:16:21] [DATABASE ERROR] Preparando query: SELECT * FROM categorias WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-05 15:16:21] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-05 15:16:21] [DATABASE ERROR] Debug PDO após binding: SQL: [45] SELECT * FROM categorias WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-05 15:16:21] [DATABASE ERROR] Preparando query: SELECT * FROM categorias WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-05 15:16:21] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-05 15:16:21] [DATABASE ERROR] Debug PDO após binding: SQL: [45] SELECT * FROM categorias WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-05 15:16:21] [DATABASE ERROR] Preparando query: SELECT * FROM unidades_medida com parâmetros: []
[2025-09-05 15:16:21] [DATABASE ERROR] Debug PDO após binding: SQL: [29] SELECT * FROM unidades_medida
Params:  0

[2025-09-05 15:16:21] [DATABASE ERROR] Preparando query: SELECT * FROM fornecedores WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-05 15:16:21] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-05 15:16:21] [DATABASE ERROR] Debug PDO após binding: SQL: [47] SELECT * FROM fornecedores WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-05 15:17:03] [DATABASE ERROR] Parâmetro associado: :value = LEITE A XANDO INTEGRAL (tipo: 2)
[2025-09-05 15:17:03] [DATABASE ERROR] Parâmetro associado: :value =  (tipo: 2)
[2025-09-05 15:17:03] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 2)
[2025-09-05 15:17:03] [DATABASE ERROR] Parâmetro associado: :value = 2 (tipo: 2)
[2025-09-05 15:17:03] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 2)
[2025-09-05 15:17:03] [DATABASE ERROR] Preparando query: SELECT * FROM produtos WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-05 15:17:03] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-05 15:17:03] [DATABASE ERROR] Debug PDO após binding: SQL: [43] SELECT * FROM produtos WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-05 15:17:03] [DATABASE ERROR] Preparando query: SELECT * FROM categorias WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-05 15:17:03] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-05 15:17:03] [DATABASE ERROR] Debug PDO após binding: SQL: [45] SELECT * FROM categorias WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-05 15:17:03] [DATABASE ERROR] Preparando query: SELECT * FROM categorias WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-05 15:17:03] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-05 15:17:03] [DATABASE ERROR] Debug PDO após binding: SQL: [45] SELECT * FROM categorias WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-05 15:17:03] [DATABASE ERROR] Preparando query: SELECT * FROM unidades_medida com parâmetros: []
[2025-09-05 15:17:03] [DATABASE ERROR] Debug PDO após binding: SQL: [29] SELECT * FROM unidades_medida
Params:  0

[2025-09-05 15:17:03] [DATABASE ERROR] Preparando query: SELECT * FROM fornecedores WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-05 15:17:03] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-05 15:17:03] [DATABASE ERROR] Debug PDO após binding: SQL: [47] SELECT * FROM fornecedores WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-05 15:17:20] [DATABASE ERROR] Parâmetro associado: :value = LEITE A XANDO INTEGRAL (tipo: 2)
[2025-09-05 15:17:20] [DATABASE ERROR] Parâmetro associado: :value =  (tipo: 2)
[2025-09-05 15:17:20] [DATABASE ERROR] Parâmetro associado: :value = 3 (tipo: 2)
[2025-09-05 15:17:20] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 2)
[2025-09-05 15:17:20] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 2)
[2025-09-05 15:17:20] [DATABASE ERROR] Parâmetro associado: :nome = LEITE A XANDO INTEGRAL (tipo: 2)
[2025-09-05 15:17:20] [DATABASE ERROR] Parâmetro associado: :codigo =  (tipo: 2)
[2025-09-05 15:17:20] [DATABASE ERROR] Parâmetro associado: :categoria_id = 3 (tipo: 2)
[2025-09-05 15:17:20] [DATABASE ERROR] Parâmetro associado: :estoque_atual = 1 (tipo: 2)
[2025-09-05 15:17:20] [DATABASE ERROR] Parâmetro associado: :estoque_minimo = 2 (tipo: 2)
[2025-09-05 15:17:20] [DATABASE ERROR] Parâmetro associado: :preco_venda = 2 (tipo: 2)
[2025-09-05 15:17:20] [DATABASE ERROR] Parâmetro associado: :descricao =  (tipo: 2)
[2025-09-05 15:17:20] [DATABASE ERROR] Parâmetro associado: :ativo = 1 (tipo: 1)
[2025-09-05 15:17:20] [DATABASE ERROR] Parâmetro associado: :unidade_medida_id = 1 (tipo: 2)
[2025-09-05 15:17:20] [DATABASE ERROR] Parâmetro associado: :estoque_maximo = 5 (tipo: 2)
[2025-09-05 15:17:20] [DATABASE ERROR] Parâmetro associado: :preco_custo = 1 (tipo: 2)
[2025-09-05 15:17:20] [DATABASE ERROR] Parâmetro associado: :margem_lucro = 0 (tipo: 2)
[2025-09-05 15:17:20] [DATABASE ERROR] Parâmetro associado: :fornecedor_principal_id = 1 (tipo: 2)
[2025-09-05 15:17:20] [DATABASE ERROR] Parâmetro associado: :criado_por = 1 (tipo: 1)
[2025-09-05 15:17:20] [DATABASE ERROR] Parâmetro associado: :criado_em = 2025-09-05 15:17:20 (tipo: 2)
[2025-09-05 15:17:20] [DATABASE ERROR] Parâmetro associado: :atualizado_em = 2025-09-05 15:17:20 (tipo: 2)
[2025-09-05 15:17:20] [DATABASE ERROR] Parâmetro associado: :tabela = produtos (tipo: 2)
[2025-09-05 15:17:20] [DATABASE ERROR] Parâmetro associado: :registro_id = 1 (tipo: 2)
[2025-09-05 15:17:20] [DATABASE ERROR] Parâmetro associado: :acao = INSERT (tipo: 2)
[2025-09-05 15:17:20] [DATABASE ERROR] Parâmetro associado: :dados_anteriores = NULL (tipo: 0)
[2025-09-05 15:17:20] [DATABASE ERROR] Parâmetro associado: :dados_novos = {"nome":"LEITE A XANDO INTEGRAL","codigo":"","categoria_id":"3","estoque_atual":"1","estoque_minimo":"2","preco_venda":"2","descricao":"","ativo":1,"unidade_medida_id":"1","estoque_maximo":"5","preco_custo":"1","margem_lucro":"0","fornecedor_principal_id":"1","criado_por":1,"criado_em":"2025-09-05 15:17:20","atualizado_em":"2025-09-05 15:17:20"} (tipo: 2)
[2025-09-05 15:17:20] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-09-05 15:17:20] [DATABASE ERROR] Parâmetro associado: :ip_address = ::1 (tipo: 2)
[2025-09-05 15:17:20] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36 Edg/139.0.0.0 (tipo: 2)
[2025-09-05 15:17:20] [DATABASE ERROR] Preparando query: SELECT * FROM produtos WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-05 15:17:20] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-05 15:17:20] [DATABASE ERROR] Debug PDO após binding: SQL: [43] SELECT * FROM produtos WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-05 15:17:20] [DATABASE ERROR] Preparando query: SELECT * FROM categorias WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-05 15:17:20] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-05 15:17:20] [DATABASE ERROR] Debug PDO após binding: SQL: [45] SELECT * FROM categorias WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-05 15:17:20] [DATABASE ERROR] Preparando query: SELECT * FROM categorias WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-05 15:17:20] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-05 15:17:20] [DATABASE ERROR] Debug PDO após binding: SQL: [45] SELECT * FROM categorias WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-05 15:17:20] [DATABASE ERROR] Preparando query: SELECT * FROM unidades_medida com parâmetros: []
[2025-09-05 15:17:20] [DATABASE ERROR] Debug PDO após binding: SQL: [29] SELECT * FROM unidades_medida
Params:  0

[2025-09-05 15:17:20] [DATABASE ERROR] Preparando query: SELECT * FROM fornecedores WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-05 15:17:20] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-05 15:17:20] [DATABASE ERROR] Debug PDO após binding: SQL: [47] SELECT * FROM fornecedores WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-05 15:17:20] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-05 15:17:25] [DATABASE ERROR] Preparando query: SELECT * FROM produtos WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-05 15:17:25] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-05 15:17:25] [DATABASE ERROR] Debug PDO após binding: SQL: [43] SELECT * FROM produtos WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-05 15:17:36] [DATABASE ERROR] Preparando query: SELECT * FROM fornecedores WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-05 15:17:36] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-05 15:17:36] [DATABASE ERROR] Debug PDO após binding: SQL: [47] SELECT * FROM fornecedores WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-05 15:17:36] [DATABASE ERROR] Preparando query: SELECT * FROM produtos WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-05 15:17:36] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-05 15:17:36] [DATABASE ERROR] Debug PDO após binding: SQL: [43] SELECT * FROM produtos WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-05 15:18:33] [DATABASE ERROR] Parâmetro associado: :cnpj = 50902071001120 (tipo: 2)
[2025-09-05 15:18:33] [DATABASE ERROR] Parâmetro associado: :razao_social = LATICINIOS XANDO LTDA. (tipo: 2)
[2025-09-05 15:18:33] [DATABASE ERROR] Parâmetro associado: :tipo = Juridica (tipo: 2)
[2025-09-05 15:18:33] [DATABASE ERROR] Parâmetro associado: :ativo = 1 (tipo: 1)
[2025-09-05 15:18:33] [DATABASE ERROR] Parâmetro associado: :criado_por = 1 (tipo: 1)
[2025-09-05 15:18:33] [DATABASE ERROR] Parâmetro associado: :criado_em = 2025-09-05 15:18:33 (tipo: 2)
[2025-09-05 15:18:33] [DATABASE ERROR] Parâmetro associado: :atualizado_em = 2025-09-05 15:18:33 (tipo: 2)
[2025-09-05 15:18:33] [DATABASE ERROR] Parâmetro associado: :tabela = fornecedores (tipo: 2)
[2025-09-05 15:18:33] [DATABASE ERROR] Parâmetro associado: :registro_id = 2 (tipo: 2)
[2025-09-05 15:18:33] [DATABASE ERROR] Parâmetro associado: :acao = INSERT (tipo: 2)
[2025-09-05 15:18:33] [DATABASE ERROR] Parâmetro associado: :dados_anteriores = NULL (tipo: 0)
[2025-09-05 15:18:33] [DATABASE ERROR] Parâmetro associado: :dados_novos = {"cnpj":"50902071001120","razao_social":"LATICINIOS XANDO LTDA.","tipo":"Juridica","ativo":1,"criado_por":1,"criado_em":"2025-09-05 15:18:33","atualizado_em":"2025-09-05 15:18:33"} (tipo: 2)
[2025-09-05 15:18:33] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-09-05 15:18:33] [DATABASE ERROR] Parâmetro associado: :ip_address = ::1 (tipo: 2)
[2025-09-05 15:18:33] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36 Edg/139.0.0.0 (tipo: 2)
[2025-09-05 15:18:33] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-09-05 15:18:33] [DATABASE ERROR] Parâmetro associado: :movimentacao_id = 1 (tipo: 2)
[2025-09-05 15:18:33] [DATABASE ERROR] Parâmetro associado: :numero_nota = 104112 (tipo: 2)
[2025-09-05 15:18:33] [DATABASE ERROR] Parâmetro associado: :chave_acesso = 35250850902071001120550010001041121803777739 (tipo: 2)
[2025-09-05 15:18:33] [DATABASE ERROR] Parâmetro associado: :data_emissao = 2025-08-28 (tipo: 2)
[2025-09-05 15:18:33] [DATABASE ERROR] Parâmetro associado: :fornecedor_id = 2 (tipo: 2)
[2025-09-05 15:18:33] [DATABASE ERROR] Parâmetro associado: :valor_total = 1533.87 (tipo: 2)
[2025-09-05 15:18:33] [DATABASE ERROR] Parâmetro associado: :processado = 1 (tipo: 5)
[2025-09-05 15:18:33] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-09-05 15:18:33] [DATABASE ERROR] Preparando query: SELECT * FROM produtos WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-05 15:18:33] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-05 15:18:33] [DATABASE ERROR] Debug PDO após binding: SQL: [43] SELECT * FROM produtos WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-05 15:18:41] [DATABASE ERROR] Preparando query: SELECT * FROM produtos WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-05 15:18:41] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-05 15:18:41] [DATABASE ERROR] Debug PDO após binding: SQL: [43] SELECT * FROM produtos WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-05 15:18:41] [DATABASE ERROR] Preparando query: SELECT * FROM categorias WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-05 15:18:41] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-05 15:18:41] [DATABASE ERROR] Debug PDO após binding: SQL: [45] SELECT * FROM categorias WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-05 15:18:41] [DATABASE ERROR] Preparando query: SELECT * FROM categorias WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-05 15:18:41] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-05 15:18:41] [DATABASE ERROR] Debug PDO após binding: SQL: [45] SELECT * FROM categorias WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-05 15:18:41] [DATABASE ERROR] Preparando query: SELECT * FROM unidades_medida com parâmetros: []
[2025-09-05 15:18:41] [DATABASE ERROR] Debug PDO após binding: SQL: [29] SELECT * FROM unidades_medida
Params:  0

[2025-09-05 15:18:41] [DATABASE ERROR] Preparando query: SELECT * FROM fornecedores WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-05 15:18:41] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-05 15:18:41] [DATABASE ERROR] Debug PDO após binding: SQL: [47] SELECT * FROM fornecedores WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-05 15:18:41] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-05 15:18:43] [DATABASE ERROR] Preparando query: SELECT * FROM produtos WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-05 15:18:43] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-05 15:18:43] [DATABASE ERROR] Debug PDO após binding: SQL: [43] SELECT * FROM produtos WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-05 15:18:43] [DATABASE ERROR] Preparando query: SELECT * FROM categorias WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-05 15:18:43] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-05 15:18:43] [DATABASE ERROR] Debug PDO após binding: SQL: [45] SELECT * FROM categorias WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-05 15:18:43] [DATABASE ERROR] Preparando query: SELECT * FROM categorias WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-05 15:18:43] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-05 15:18:43] [DATABASE ERROR] Debug PDO após binding: SQL: [45] SELECT * FROM categorias WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-05 15:18:43] [DATABASE ERROR] Preparando query: SELECT * FROM unidades_medida com parâmetros: []
[2025-09-05 15:18:43] [DATABASE ERROR] Debug PDO após binding: SQL: [29] SELECT * FROM unidades_medida
Params:  0

[2025-09-05 15:18:43] [DATABASE ERROR] Preparando query: SELECT * FROM fornecedores WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-05 15:18:43] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-05 15:18:43] [DATABASE ERROR] Debug PDO após binding: SQL: [47] SELECT * FROM fornecedores WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-05 15:18:43] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-05 15:18:46] [DATABASE ERROR] Preparando query: SELECT * FROM produtos WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-05 15:18:46] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-05 15:18:46] [DATABASE ERROR] Debug PDO após binding: SQL: [43] SELECT * FROM produtos WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-05 15:18:46] [DATABASE ERROR] Preparando query: SELECT * FROM categorias WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-05 15:18:46] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-05 15:18:46] [DATABASE ERROR] Debug PDO após binding: SQL: [45] SELECT * FROM categorias WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-05 15:18:46] [DATABASE ERROR] Preparando query: SELECT * FROM categorias WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-05 15:18:46] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-05 15:18:46] [DATABASE ERROR] Debug PDO após binding: SQL: [45] SELECT * FROM categorias WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-05 15:18:46] [DATABASE ERROR] Preparando query: SELECT * FROM unidades_medida com parâmetros: []
[2025-09-05 15:18:46] [DATABASE ERROR] Debug PDO após binding: SQL: [29] SELECT * FROM unidades_medida
Params:  0

[2025-09-05 15:18:46] [DATABASE ERROR] Preparando query: SELECT * FROM fornecedores WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-05 15:18:46] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-05 15:18:46] [DATABASE ERROR] Debug PDO após binding: SQL: [47] SELECT * FROM fornecedores WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-05 15:18:46] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-05 15:19:26] [DATABASE ERROR] Parâmetro associado: :value = MANTEIGA S/SAL TABL XANDO (tipo: 2)
[2025-09-05 15:19:26] [DATABASE ERROR] Parâmetro associado: :value =  (tipo: 2)
[2025-09-05 15:19:26] [DATABASE ERROR] Parâmetro associado: :value = 3 (tipo: 2)
[2025-09-05 15:19:26] [DATABASE ERROR] Parâmetro associado: :value = 2 (tipo: 2)
[2025-09-05 15:19:26] [DATABASE ERROR] Parâmetro associado: :value = 2 (tipo: 2)
[2025-09-05 15:19:26] [DATABASE ERROR] Preparando query: SELECT * FROM produtos WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-05 15:19:26] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-05 15:19:26] [DATABASE ERROR] Debug PDO após binding: SQL: [43] SELECT * FROM produtos WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-05 15:19:26] [DATABASE ERROR] Preparando query: SELECT * FROM categorias WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-05 15:19:26] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-05 15:19:26] [DATABASE ERROR] Debug PDO após binding: SQL: [45] SELECT * FROM categorias WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-05 15:19:26] [DATABASE ERROR] Preparando query: SELECT * FROM categorias WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-05 15:19:26] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-05 15:19:26] [DATABASE ERROR] Debug PDO após binding: SQL: [45] SELECT * FROM categorias WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-05 15:19:26] [DATABASE ERROR] Preparando query: SELECT * FROM unidades_medida com parâmetros: []
[2025-09-05 15:19:26] [DATABASE ERROR] Debug PDO após binding: SQL: [29] SELECT * FROM unidades_medida
Params:  0

[2025-09-05 15:19:26] [DATABASE ERROR] Preparando query: SELECT * FROM fornecedores WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-05 15:19:26] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-05 15:19:26] [DATABASE ERROR] Debug PDO após binding: SQL: [47] SELECT * FROM fornecedores WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-05 15:19:26] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-05 15:19:46] [DATABASE ERROR] Parâmetro associado: :value = MANTEIGA S/SAL TABL XANDO (tipo: 2)
[2025-09-05 15:19:46] [DATABASE ERROR] Parâmetro associado: :value = 2 (tipo: 2)
[2025-09-05 15:19:46] [DATABASE ERROR] Parâmetro associado: :value = 3 (tipo: 2)
[2025-09-05 15:19:46] [DATABASE ERROR] Parâmetro associado: :value = 2 (tipo: 2)
[2025-09-05 15:19:46] [DATABASE ERROR] Parâmetro associado: :value = 2 (tipo: 2)
[2025-09-05 15:19:46] [DATABASE ERROR] Parâmetro associado: :nome = MANTEIGA S/SAL TABL XANDO (tipo: 2)
[2025-09-05 15:19:46] [DATABASE ERROR] Parâmetro associado: :codigo = 2 (tipo: 2)
[2025-09-05 15:19:46] [DATABASE ERROR] Parâmetro associado: :categoria_id = 3 (tipo: 2)
[2025-09-05 15:19:46] [DATABASE ERROR] Parâmetro associado: :estoque_atual = 12 (tipo: 2)
[2025-09-05 15:19:46] [DATABASE ERROR] Parâmetro associado: :estoque_minimo = 10 (tipo: 2)
[2025-09-05 15:19:46] [DATABASE ERROR] Parâmetro associado: :preco_venda = 6 (tipo: 2)
[2025-09-05 15:19:46] [DATABASE ERROR] Parâmetro associado: :descricao =  (tipo: 2)
[2025-09-05 15:19:46] [DATABASE ERROR] Parâmetro associado: :ativo = 1 (tipo: 1)
[2025-09-05 15:19:46] [DATABASE ERROR] Parâmetro associado: :unidade_medida_id = 2 (tipo: 2)
[2025-09-05 15:19:46] [DATABASE ERROR] Parâmetro associado: :estoque_maximo = 30 (tipo: 2)
[2025-09-05 15:19:46] [DATABASE ERROR] Parâmetro associado: :preco_custo = 5 (tipo: 2)
[2025-09-05 15:19:46] [DATABASE ERROR] Parâmetro associado: :margem_lucro = 2 (tipo: 2)
[2025-09-05 15:19:46] [DATABASE ERROR] Parâmetro associado: :fornecedor_principal_id = 2 (tipo: 2)
[2025-09-05 15:19:46] [DATABASE ERROR] Parâmetro associado: :criado_por = 1 (tipo: 1)
[2025-09-05 15:19:46] [DATABASE ERROR] Parâmetro associado: :criado_em = 2025-09-05 15:19:46 (tipo: 2)
[2025-09-05 15:19:46] [DATABASE ERROR] Parâmetro associado: :atualizado_em = 2025-09-05 15:19:46 (tipo: 2)
[2025-09-05 15:19:46] [DATABASE ERROR] Parâmetro associado: :tabela = produtos (tipo: 2)
[2025-09-05 15:19:46] [DATABASE ERROR] Parâmetro associado: :registro_id = 2 (tipo: 2)
[2025-09-05 15:19:46] [DATABASE ERROR] Parâmetro associado: :acao = INSERT (tipo: 2)
[2025-09-05 15:19:46] [DATABASE ERROR] Parâmetro associado: :dados_anteriores = NULL (tipo: 0)
[2025-09-05 15:19:46] [DATABASE ERROR] Parâmetro associado: :dados_novos = {"nome":"MANTEIGA S\/SAL TABL XANDO","codigo":"2","categoria_id":"3","estoque_atual":"12","estoque_minimo":"10","preco_venda":"6","descricao":"","ativo":1,"unidade_medida_id":"2","estoque_maximo":"30","preco_custo":"5","margem_lucro":"2","fornecedor_principal_id":"2","criado_por":1,"criado_em":"2025-09-05 15:19:46","atualizado_em":"2025-09-05 15:19:46"} (tipo: 2)
[2025-09-05 15:19:46] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-09-05 15:19:46] [DATABASE ERROR] Parâmetro associado: :ip_address = ::1 (tipo: 2)
[2025-09-05 15:19:46] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36 Edg/139.0.0.0 (tipo: 2)
[2025-09-05 15:19:47] [DATABASE ERROR] Preparando query: SELECT * FROM produtos WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-05 15:19:47] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-05 15:19:48] [DATABASE ERROR] Debug PDO após binding: SQL: [43] SELECT * FROM produtos WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-05 15:19:48] [DATABASE ERROR] Preparando query: SELECT * FROM categorias WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-05 15:19:48] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-05 15:19:48] [DATABASE ERROR] Debug PDO após binding: SQL: [45] SELECT * FROM categorias WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-05 15:19:48] [DATABASE ERROR] Preparando query: SELECT * FROM categorias WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-05 15:19:48] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-05 15:19:48] [DATABASE ERROR] Debug PDO após binding: SQL: [45] SELECT * FROM categorias WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-05 15:19:48] [DATABASE ERROR] Preparando query: SELECT * FROM unidades_medida com parâmetros: []
[2025-09-05 15:19:48] [DATABASE ERROR] Debug PDO após binding: SQL: [29] SELECT * FROM unidades_medida
Params:  0

[2025-09-05 15:19:48] [DATABASE ERROR] Preparando query: SELECT * FROM fornecedores WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-05 15:19:48] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-05 15:19:48] [DATABASE ERROR] Debug PDO após binding: SQL: [47] SELECT * FROM fornecedores WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-05 15:19:48] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-05 15:19:48] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-05 15:20:22] [DATABASE ERROR] Parâmetro associado: :value = CREME DE LEITE PASTEUR (tipo: 2)
[2025-09-05 15:20:22] [DATABASE ERROR] Parâmetro associado: :value =  (tipo: 2)
[2025-09-05 15:20:22] [DATABASE ERROR] Parâmetro associado: :value = 3 (tipo: 2)
[2025-09-05 15:20:22] [DATABASE ERROR] Parâmetro associado: :value = 4 (tipo: 2)
[2025-09-05 15:20:22] [DATABASE ERROR] Parâmetro associado: :value = 2 (tipo: 2)
[2025-09-05 15:20:22] [DATABASE ERROR] Preparando query: SELECT * FROM produtos WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-05 15:20:22] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-05 15:20:22] [DATABASE ERROR] Debug PDO após binding: SQL: [43] SELECT * FROM produtos WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-05 15:20:22] [DATABASE ERROR] Preparando query: SELECT * FROM categorias WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-05 15:20:22] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-05 15:20:22] [DATABASE ERROR] Debug PDO após binding: SQL: [45] SELECT * FROM categorias WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-05 15:20:22] [DATABASE ERROR] Preparando query: SELECT * FROM categorias WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-05 15:20:22] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-05 15:20:22] [DATABASE ERROR] Debug PDO após binding: SQL: [45] SELECT * FROM categorias WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-05 15:20:22] [DATABASE ERROR] Preparando query: SELECT * FROM unidades_medida com parâmetros: []
[2025-09-05 15:20:22] [DATABASE ERROR] Debug PDO após binding: SQL: [29] SELECT * FROM unidades_medida
Params:  0

[2025-09-05 15:20:22] [DATABASE ERROR] Preparando query: SELECT * FROM fornecedores WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-05 15:20:22] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-05 15:20:22] [DATABASE ERROR] Debug PDO após binding: SQL: [47] SELECT * FROM fornecedores WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-05 15:20:22] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-05 15:20:22] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-05 15:20:38] [DATABASE ERROR] Parâmetro associado: :value = CREME DE LEITE PASTEUR (tipo: 2)
[2025-09-05 15:20:38] [DATABASE ERROR] Parâmetro associado: :value = 3 (tipo: 2)
[2025-09-05 15:20:38] [DATABASE ERROR] Parâmetro associado: :value = 3 (tipo: 2)
[2025-09-05 15:20:38] [DATABASE ERROR] Parâmetro associado: :value = 4 (tipo: 2)
[2025-09-05 15:20:38] [DATABASE ERROR] Parâmetro associado: :value = 2 (tipo: 2)
[2025-09-05 15:20:38] [DATABASE ERROR] Parâmetro associado: :nome = CREME DE LEITE PASTEUR (tipo: 2)
[2025-09-05 15:20:38] [DATABASE ERROR] Parâmetro associado: :codigo = 3 (tipo: 2)
[2025-09-05 15:20:38] [DATABASE ERROR] Parâmetro associado: :categoria_id = 3 (tipo: 2)
[2025-09-05 15:20:38] [DATABASE ERROR] Parâmetro associado: :estoque_atual = 5 (tipo: 2)
[2025-09-05 15:20:38] [DATABASE ERROR] Parâmetro associado: :estoque_minimo = 2 (tipo: 2)
[2025-09-05 15:20:38] [DATABASE ERROR] Parâmetro associado: :preco_venda = 5 (tipo: 2)
[2025-09-05 15:20:38] [DATABASE ERROR] Parâmetro associado: :descricao =  (tipo: 2)
[2025-09-05 15:20:38] [DATABASE ERROR] Parâmetro associado: :ativo = 1 (tipo: 1)
[2025-09-05 15:20:38] [DATABASE ERROR] Parâmetro associado: :unidade_medida_id = 4 (tipo: 2)
[2025-09-05 15:20:38] [DATABASE ERROR] Parâmetro associado: :estoque_maximo = 15 (tipo: 2)
[2025-09-05 15:20:38] [DATABASE ERROR] Parâmetro associado: :preco_custo = 2 (tipo: 2)
[2025-09-05 15:20:38] [DATABASE ERROR] Parâmetro associado: :margem_lucro = 6 (tipo: 2)
[2025-09-05 15:20:38] [DATABASE ERROR] Parâmetro associado: :fornecedor_principal_id = 2 (tipo: 2)
[2025-09-05 15:20:38] [DATABASE ERROR] Parâmetro associado: :criado_por = 1 (tipo: 1)
[2025-09-05 15:20:38] [DATABASE ERROR] Parâmetro associado: :criado_em = 2025-09-05 15:20:38 (tipo: 2)
[2025-09-05 15:20:38] [DATABASE ERROR] Parâmetro associado: :atualizado_em = 2025-09-05 15:20:38 (tipo: 2)
[2025-09-05 15:20:38] [DATABASE ERROR] Parâmetro associado: :tabela = produtos (tipo: 2)
[2025-09-05 15:20:38] [DATABASE ERROR] Parâmetro associado: :registro_id = 3 (tipo: 2)
[2025-09-05 15:20:38] [DATABASE ERROR] Parâmetro associado: :acao = INSERT (tipo: 2)
[2025-09-05 15:20:38] [DATABASE ERROR] Parâmetro associado: :dados_anteriores = NULL (tipo: 0)
[2025-09-05 15:20:38] [DATABASE ERROR] Parâmetro associado: :dados_novos = {"nome":"CREME DE LEITE PASTEUR","codigo":"3","categoria_id":"3","estoque_atual":"5","estoque_minimo":"2","preco_venda":"5","descricao":"","ativo":1,"unidade_medida_id":"4","estoque_maximo":"15","preco_custo":"2","margem_lucro":"6","fornecedor_principal_id":"2","criado_por":1,"criado_em":"2025-09-05 15:20:38","atualizado_em":"2025-09-05 15:20:38"} (tipo: 2)
[2025-09-05 15:20:38] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-09-05 15:20:38] [DATABASE ERROR] Parâmetro associado: :ip_address = ::1 (tipo: 2)
[2025-09-05 15:20:38] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36 Edg/139.0.0.0 (tipo: 2)
[2025-09-05 15:20:38] [DATABASE ERROR] Preparando query: SELECT * FROM produtos WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-05 15:20:38] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-05 15:20:38] [DATABASE ERROR] Debug PDO após binding: SQL: [43] SELECT * FROM produtos WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-05 15:20:38] [DATABASE ERROR] Preparando query: SELECT * FROM categorias WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-05 15:20:38] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-05 15:20:38] [DATABASE ERROR] Debug PDO após binding: SQL: [45] SELECT * FROM categorias WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-05 15:20:38] [DATABASE ERROR] Preparando query: SELECT * FROM categorias WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-05 15:20:38] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-05 15:20:38] [DATABASE ERROR] Debug PDO após binding: SQL: [45] SELECT * FROM categorias WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-05 15:20:38] [DATABASE ERROR] Preparando query: SELECT * FROM unidades_medida com parâmetros: []
[2025-09-05 15:20:38] [DATABASE ERROR] Debug PDO após binding: SQL: [29] SELECT * FROM unidades_medida
Params:  0

[2025-09-05 15:20:38] [DATABASE ERROR] Preparando query: SELECT * FROM fornecedores WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-05 15:20:38] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-05 15:20:38] [DATABASE ERROR] Debug PDO após binding: SQL: [47] SELECT * FROM fornecedores WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-05 15:20:38] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-05 15:20:38] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-05 15:20:38] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-05 15:20:41] [DATABASE ERROR] Preparando query: SELECT * FROM produtos WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-05 15:20:41] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-05 15:20:41] [DATABASE ERROR] Debug PDO após binding: SQL: [43] SELECT * FROM produtos WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-05 15:20:52] [DATABASE ERROR] Preparando query: SELECT * FROM fornecedores WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-05 15:20:52] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-05 15:20:52] [DATABASE ERROR] Debug PDO após binding: SQL: [47] SELECT * FROM fornecedores WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-05 15:20:52] [DATABASE ERROR] Preparando query: SELECT * FROM produtos WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-05 15:20:52] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-05 15:20:52] [DATABASE ERROR] Debug PDO após binding: SQL: [43] SELECT * FROM produtos WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-05 15:21:03] [DATABASE ERROR] Parâmetro associado: :id = 2 (tipo: 2)
[2025-09-05 15:21:03] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-09-05 15:21:03] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-05 15:21:03] [DATABASE ERROR] Parâmetro associado: :id = 2 (tipo: 1)
[2025-09-05 15:21:03] [DATABASE ERROR] Parâmetro associado: :movimentacao_id = 2 (tipo: 2)
[2025-09-05 15:21:03] [DATABASE ERROR] Parâmetro associado: :numero_nota = 104112 (tipo: 2)
[2025-09-05 15:21:03] [DATABASE ERROR] Parâmetro associado: :chave_acesso = 35250850902071001120550010001041121803777739 (tipo: 2)
[2025-09-05 15:21:03] [DATABASE ERROR] Parâmetro associado: :data_emissao = 2025-08-28 (tipo: 2)
[2025-09-05 15:21:03] [DATABASE ERROR] Parâmetro associado: :fornecedor_id = 2 (tipo: 1)
[2025-09-05 15:21:03] [DATABASE ERROR] Parâmetro associado: :valor_total = 1533.87 (tipo: 2)
[2025-09-05 15:21:03] [DATABASE ERROR] Parâmetro associado: :processado = 1 (tipo: 5)
[2025-09-05 15:21:03] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-09-05 15:21:03] [DATABASE ERROR] Preparando query: SELECT * FROM produtos WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-05 15:21:03] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-05 15:21:03] [DATABASE ERROR] Debug PDO após binding: SQL: [43] SELECT * FROM produtos WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-05 15:21:06] [DATABASE ERROR] Preparando query: SELECT * FROM produtos WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-05 15:21:06] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-05 15:21:06] [DATABASE ERROR] Debug PDO após binding: SQL: [43] SELECT * FROM produtos WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-05 15:21:06] [DATABASE ERROR] Preparando query: SELECT * FROM categorias WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-05 15:21:06] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-05 15:21:06] [DATABASE ERROR] Debug PDO após binding: SQL: [45] SELECT * FROM categorias WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-05 15:21:06] [DATABASE ERROR] Preparando query: SELECT * FROM categorias WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-05 15:21:06] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-05 15:21:06] [DATABASE ERROR] Debug PDO após binding: SQL: [45] SELECT * FROM categorias WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-05 15:21:06] [DATABASE ERROR] Preparando query: SELECT * FROM unidades_medida com parâmetros: []
[2025-09-05 15:21:06] [DATABASE ERROR] Debug PDO após binding: SQL: [29] SELECT * FROM unidades_medida
Params:  0

[2025-09-05 15:21:06] [DATABASE ERROR] Preparando query: SELECT * FROM fornecedores WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-05 15:21:06] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-05 15:21:06] [DATABASE ERROR] Debug PDO após binding: SQL: [47] SELECT * FROM fornecedores WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-05 15:21:06] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-05 15:21:06] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-05 15:21:06] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-05 15:21:24] [DATABASE ERROR] Parâmetro associado: :value = LEITE A XANDO INTEGRAL (tipo: 2)
[2025-09-05 15:21:24] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 2)
[2025-09-05 15:21:24] [DATABASE ERROR] Parâmetro associado: :value =  (tipo: 2)
[2025-09-05 15:21:24] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 2)
[2025-09-05 15:21:24] [DATABASE ERROR] Parâmetro associado: :value = 3 (tipo: 2)
[2025-09-05 15:21:24] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 2)
[2025-09-05 15:21:24] [DATABASE ERROR] Parâmetro associado: :value = 2 (tipo: 2)
[2025-09-05 15:21:24] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-09-05 15:21:24] [DATABASE ERROR] Parâmetro associado: :nome = LEITE A XANDO INTEGRAL (tipo: 2)
[2025-09-05 15:21:24] [DATABASE ERROR] Parâmetro associado: :codigo =  (tipo: 2)
[2025-09-05 15:21:24] [DATABASE ERROR] Parâmetro associado: :categoria_id = 3 (tipo: 2)
[2025-09-05 15:21:24] [DATABASE ERROR] Parâmetro associado: :estoque_atual = 251.000 (tipo: 2)
[2025-09-05 15:21:24] [DATABASE ERROR] Parâmetro associado: :estoque_minimo = 2.000 (tipo: 2)
[2025-09-05 15:21:24] [DATABASE ERROR] Parâmetro associado: :preco_venda = 2.00 (tipo: 2)
[2025-09-05 15:21:24] [DATABASE ERROR] Parâmetro associado: :descricao =  (tipo: 2)
[2025-09-05 15:21:24] [DATABASE ERROR] Parâmetro associado: :ativo = 1 (tipo: 1)
[2025-09-05 15:21:24] [DATABASE ERROR] Parâmetro associado: :unidade_medida_id = 1 (tipo: 2)
[2025-09-05 15:21:24] [DATABASE ERROR] Parâmetro associado: :estoque_maximo = 5.000 (tipo: 2)
[2025-09-05 15:21:24] [DATABASE ERROR] Parâmetro associado: :preco_custo = 1.00 (tipo: 2)
[2025-09-05 15:21:24] [DATABASE ERROR] Parâmetro associado: :margem_lucro = 0.00 (tipo: 2)
[2025-09-05 15:21:24] [DATABASE ERROR] Parâmetro associado: :fornecedor_principal_id = 2 (tipo: 2)
[2025-09-05 15:21:24] [DATABASE ERROR] Parâmetro associado: :atualizado_em = 2025-09-05 15:21:24 (tipo: 2)
[2025-09-05 15:21:24] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-09-05 15:21:24] [DATABASE ERROR] Parâmetro associado: :tabela = produtos (tipo: 2)
[2025-09-05 15:21:24] [DATABASE ERROR] Parâmetro associado: :registro_id = 1 (tipo: 1)
[2025-09-05 15:21:24] [DATABASE ERROR] Parâmetro associado: :acao = UPDATE (tipo: 2)
[2025-09-05 15:21:24] [DATABASE ERROR] Parâmetro associado: :dados_anteriores = {"id":1,"codigo":"","codigo_barras":null,"nome":"LEITE A XANDO INTEGRAL","descricao":"","categoria_id":3,"unidade_medida_id":1,"estoque_minimo":"2.000","estoque_maximo":"5.000","estoque_atual":"251.000","preco_custo":"1.00","preco_venda":"2.00","margem_lucro":"0.00","localizacao":null,"fornecedor_principal_id":1,"ativo":1,"foto_url":null,"observacoes":null,"criado_por":1,"criado_em":"2025-09-05 15:17:20","atualizado_em":"2025-09-05 15:21:03"} (tipo: 2)
[2025-09-05 15:21:24] [DATABASE ERROR] Parâmetro associado: :dados_novos = {"nome":"LEITE A XANDO INTEGRAL","codigo":"","categoria_id":"3","estoque_atual":"251.000","estoque_minimo":"2.000","preco_venda":"2.00","descricao":"","ativo":1,"unidade_medida_id":"1","estoque_maximo":"5.000","preco_custo":"1.00","margem_lucro":"0.00","fornecedor_principal_id":"2","atualizado_em":"2025-09-05 15:21:24"} (tipo: 2)
[2025-09-05 15:21:24] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-09-05 15:21:24] [DATABASE ERROR] Parâmetro associado: :ip_address = ::1 (tipo: 2)
[2025-09-05 15:21:24] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36 Edg/139.0.0.0 (tipo: 2)
[2025-09-05 15:21:24] [DATABASE ERROR] Preparando query: SELECT * FROM produtos WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-05 15:21:24] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-05 15:21:24] [DATABASE ERROR] Debug PDO após binding: SQL: [43] SELECT * FROM produtos WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-05 15:21:24] [DATABASE ERROR] Preparando query: SELECT * FROM categorias WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-05 15:21:24] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-05 15:21:24] [DATABASE ERROR] Debug PDO após binding: SQL: [45] SELECT * FROM categorias WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-05 15:21:24] [DATABASE ERROR] Preparando query: SELECT * FROM categorias WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-05 15:21:24] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-05 15:21:24] [DATABASE ERROR] Debug PDO após binding: SQL: [45] SELECT * FROM categorias WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-05 15:21:24] [DATABASE ERROR] Preparando query: SELECT * FROM unidades_medida com parâmetros: []
[2025-09-05 15:21:24] [DATABASE ERROR] Debug PDO após binding: SQL: [29] SELECT * FROM unidades_medida
Params:  0

[2025-09-05 15:21:24] [DATABASE ERROR] Preparando query: SELECT * FROM fornecedores WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-05 15:21:24] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-05 15:21:24] [DATABASE ERROR] Debug PDO após binding: SQL: [47] SELECT * FROM fornecedores WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-05 15:21:24] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-05 15:21:24] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-05 15:21:24] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-05 15:31:54] [DATABASE ERROR] Preparando query: SELECT * FROM categorias WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-05 15:31:54] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-05 15:31:54] [DATABASE ERROR] Debug PDO após binding: SQL: [45] SELECT * FROM categorias WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-05 15:31:54] [DATABASE ERROR] Preparando query: SELECT * FROM fornecedores WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-05 15:31:54] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-05 15:31:54] [DATABASE ERROR] Debug PDO após binding: SQL: [47] SELECT * FROM fornecedores WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-05 15:31:54] [DATABASE ERROR] Preparando query: SELECT * FROM tipos_movimentacao com parâmetros: []
[2025-09-05 15:31:54] [DATABASE ERROR] Debug PDO após binding: SQL: [32] SELECT * FROM tipos_movimentacao
Params:  0

[2025-09-05 15:32:04] [DATABASE ERROR] Preparando query: 
            SELECT 
                p.id, 
                p.nome, 
                p.estoque_atual, 
                c.nome AS categoria, 
                f.razao_social AS fornecedor
            FROM produtos p
            LEFT JOIN categorias c ON p.categoria_id = c.id
            LEFT JOIN fornecedores f ON p.fornecedor_principal_id = f.id
            WHERE p.ativo = TRUE
                AND (:produto_id_null IS NULL OR p.id = :produto_id)
                AND (:categoria_id_null IS NULL OR p.categoria_id = :categoria_id)
                AND (:fornecedor_id_null IS NULL OR p.fornecedor_principal_id = :fornecedor_id)
            ORDER BY p.nome ASC;
         com parâmetros: {":produto_id_null":null,":produto_id":null,":categoria_id_null":null,":categoria_id":null,":fornecedor_id_null":null,":fornecedor_id":null}
[2025-09-05 15:32:04] [DATABASE ERROR] Parâmetro associado: :produto_id_null = NULL (tipo: 0)
[2025-09-05 15:32:04] [DATABASE ERROR] Parâmetro associado: :produto_id = NULL (tipo: 0)
[2025-09-05 15:32:04] [DATABASE ERROR] Parâmetro associado: :categoria_id_null = NULL (tipo: 0)
[2025-09-05 15:32:04] [DATABASE ERROR] Parâmetro associado: :categoria_id = NULL (tipo: 0)
[2025-09-05 15:32:04] [DATABASE ERROR] Parâmetro associado: :fornecedor_id_null = NULL (tipo: 0)
[2025-09-05 15:32:04] [DATABASE ERROR] Parâmetro associado: :fornecedor_id = NULL (tipo: 0)
[2025-09-05 15:32:04] [DATABASE ERROR] Debug PDO após binding: SQL: [684] 
            SELECT 
                p.id, 
                p.nome, 
                p.estoque_atual, 
                c.nome AS categoria, 
                f.razao_social AS fornecedor
            FROM produtos p
            LEFT JOIN categorias c ON p.categoria_id = c.id
            LEFT JOIN fornecedores f ON p.fornecedor_principal_id = f.id
            WHERE p.ativo = TRUE
                AND (:produto_id_null IS NULL OR p.id = :produto_id)
                AND (:categoria_id_null IS NULL OR p.categoria_id = :categoria_id)
                AND (:fornecedor_id_null IS NULL OR p.fornecedor_principal_id = :fornecedor_id)
            ORDER BY p.nome ASC;
        
Params:  6
Key: Name: [16] :produto_id_null
paramno=0
name=[16] ":produto_id_null"
is_param=1
param_type=0
Key: Name: [11] :produto_id
paramno=1
name=[11] ":produto_id"
is_param=1
param_type=0
Key: Name: [18] :categoria_id_null
paramno=2
name=[18] ":categoria_id_null"
is_param=1
param_type=0
Key: Name: [13] :categoria_id
paramno=3
name=[13] ":categoria_id"
is_param=1
param_type=0
Key: Name: [19] :fornecedor_id_null
paramno=4
name=[19] ":fornecedor_id_null"
is_param=1
param_type=0
Key: Name: [14] :fornecedor_id
paramno=5
name=[14] ":fornecedor_id"
is_param=1
param_type=0

[2025-09-05 15:32:04] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
         com parâmetros: {":produto_id":3,":data_fim_a":"2025-09-30",":data_fim":"2025-09-30"}
[2025-09-05 15:32:04] [DATABASE ERROR] Parâmetro associado: :produto_id = 3 (tipo: 1)
[2025-09-05 15:32:04] [DATABASE ERROR] Parâmetro associado: :data_fim_a = 2025-09-30 (tipo: 2)
[2025-09-05 15:32:04] [DATABASE ERROR] Parâmetro associado: :data_fim = 2025-09-30 (tipo: 2)
[2025-09-05 15:32:04] [DATABASE ERROR] Debug PDO após binding: SQL: [538] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=2
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=2

[2025-09-05 15:32:04] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":3}
[2025-09-05 15:32:04] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-05 15:32:04] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-05 15:32:04] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
         com parâmetros: {":produto_id":1,":data_fim_a":"2025-09-30",":data_fim":"2025-09-30"}
[2025-09-05 15:32:04] [DATABASE ERROR] Parâmetro associado: :produto_id = 1 (tipo: 1)
[2025-09-05 15:32:04] [DATABASE ERROR] Parâmetro associado: :data_fim_a = 2025-09-30 (tipo: 2)
[2025-09-05 15:32:04] [DATABASE ERROR] Parâmetro associado: :data_fim = 2025-09-30 (tipo: 2)
[2025-09-05 15:32:04] [DATABASE ERROR] Debug PDO após binding: SQL: [538] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=2
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=2

[2025-09-05 15:32:04] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":1}
[2025-09-05 15:32:04] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-09-05 15:32:04] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-05 15:32:04] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
         com parâmetros: {":produto_id":2,":data_fim_a":"2025-09-30",":data_fim":"2025-09-30"}
[2025-09-05 15:32:04] [DATABASE ERROR] Parâmetro associado: :produto_id = 2 (tipo: 1)
[2025-09-05 15:32:04] [DATABASE ERROR] Parâmetro associado: :data_fim_a = 2025-09-30 (tipo: 2)
[2025-09-05 15:32:04] [DATABASE ERROR] Parâmetro associado: :data_fim = 2025-09-30 (tipo: 2)
[2025-09-05 15:32:04] [DATABASE ERROR] Debug PDO após binding: SQL: [538] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=2
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=2

[2025-09-05 15:32:04] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":2}
[2025-09-05 15:32:04] [DATABASE ERROR] Parâmetro associado: :id = 2 (tipo: 1)
[2025-09-05 15:32:04] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-05 15:32:14] [DATABASE ERROR] Preparando query: 
            SELECT 
                p.id, 
                p.nome, 
                p.estoque_atual, 
                c.nome AS categoria, 
                f.razao_social AS fornecedor
            FROM produtos p
            LEFT JOIN categorias c ON p.categoria_id = c.id
            LEFT JOIN fornecedores f ON p.fornecedor_principal_id = f.id
            WHERE p.ativo = TRUE
                AND (:produto_id_null IS NULL OR p.id = :produto_id)
                AND (:categoria_id_null IS NULL OR p.categoria_id = :categoria_id)
                AND (:fornecedor_id_null IS NULL OR p.fornecedor_principal_id = :fornecedor_id)
            ORDER BY p.nome ASC;
         com parâmetros: {":produto_id_null":null,":produto_id":null,":categoria_id_null":null,":categoria_id":null,":fornecedor_id_null":null,":fornecedor_id":null}
[2025-09-05 15:32:14] [DATABASE ERROR] Parâmetro associado: :produto_id_null = NULL (tipo: 0)
[2025-09-05 15:32:14] [DATABASE ERROR] Parâmetro associado: :produto_id = NULL (tipo: 0)
[2025-09-05 15:32:14] [DATABASE ERROR] Parâmetro associado: :categoria_id_null = NULL (tipo: 0)
[2025-09-05 15:32:14] [DATABASE ERROR] Parâmetro associado: :categoria_id = NULL (tipo: 0)
[2025-09-05 15:32:14] [DATABASE ERROR] Parâmetro associado: :fornecedor_id_null = NULL (tipo: 0)
[2025-09-05 15:32:14] [DATABASE ERROR] Parâmetro associado: :fornecedor_id = NULL (tipo: 0)
[2025-09-05 15:32:14] [DATABASE ERROR] Debug PDO após binding: SQL: [684] 
            SELECT 
                p.id, 
                p.nome, 
                p.estoque_atual, 
                c.nome AS categoria, 
                f.razao_social AS fornecedor
            FROM produtos p
            LEFT JOIN categorias c ON p.categoria_id = c.id
            LEFT JOIN fornecedores f ON p.fornecedor_principal_id = f.id
            WHERE p.ativo = TRUE
                AND (:produto_id_null IS NULL OR p.id = :produto_id)
                AND (:categoria_id_null IS NULL OR p.categoria_id = :categoria_id)
                AND (:fornecedor_id_null IS NULL OR p.fornecedor_principal_id = :fornecedor_id)
            ORDER BY p.nome ASC;
        
Params:  6
Key: Name: [16] :produto_id_null
paramno=0
name=[16] ":produto_id_null"
is_param=1
param_type=0
Key: Name: [11] :produto_id
paramno=1
name=[11] ":produto_id"
is_param=1
param_type=0
Key: Name: [18] :categoria_id_null
paramno=2
name=[18] ":categoria_id_null"
is_param=1
param_type=0
Key: Name: [13] :categoria_id
paramno=3
name=[13] ":categoria_id"
is_param=1
param_type=0
Key: Name: [19] :fornecedor_id_null
paramno=4
name=[19] ":fornecedor_id_null"
is_param=1
param_type=0
Key: Name: [14] :fornecedor_id
paramno=5
name=[14] ":fornecedor_id"
is_param=1
param_type=0

[2025-09-05 15:32:14] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
         com parâmetros: {":produto_id":3,":data_fim_a":"2025-09-30",":data_fim":"2025-09-30"}
[2025-09-05 15:32:14] [DATABASE ERROR] Parâmetro associado: :produto_id = 3 (tipo: 1)
[2025-09-05 15:32:14] [DATABASE ERROR] Parâmetro associado: :data_fim_a = 2025-09-30 (tipo: 2)
[2025-09-05 15:32:14] [DATABASE ERROR] Parâmetro associado: :data_fim = 2025-09-30 (tipo: 2)
[2025-09-05 15:32:14] [DATABASE ERROR] Debug PDO após binding: SQL: [538] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=2
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=2

[2025-09-05 15:32:14] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":3}
[2025-09-05 15:32:14] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-05 15:32:14] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-05 15:32:14] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
         com parâmetros: {":produto_id":1,":data_fim_a":"2025-09-30",":data_fim":"2025-09-30"}
[2025-09-05 15:32:14] [DATABASE ERROR] Parâmetro associado: :produto_id = 1 (tipo: 1)
[2025-09-05 15:32:14] [DATABASE ERROR] Parâmetro associado: :data_fim_a = 2025-09-30 (tipo: 2)
[2025-09-05 15:32:14] [DATABASE ERROR] Parâmetro associado: :data_fim = 2025-09-30 (tipo: 2)
[2025-09-05 15:32:14] [DATABASE ERROR] Debug PDO após binding: SQL: [538] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=2
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=2

[2025-09-05 15:32:14] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":1}
[2025-09-05 15:32:14] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-09-05 15:32:14] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-05 15:32:14] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
         com parâmetros: {":produto_id":2,":data_fim_a":"2025-09-30",":data_fim":"2025-09-30"}
[2025-09-05 15:32:14] [DATABASE ERROR] Parâmetro associado: :produto_id = 2 (tipo: 1)
[2025-09-05 15:32:14] [DATABASE ERROR] Parâmetro associado: :data_fim_a = 2025-09-30 (tipo: 2)
[2025-09-05 15:32:14] [DATABASE ERROR] Parâmetro associado: :data_fim = 2025-09-30 (tipo: 2)
[2025-09-05 15:32:14] [DATABASE ERROR] Debug PDO após binding: SQL: [538] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=2
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=2

[2025-09-05 15:32:14] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":2}
[2025-09-05 15:32:14] [DATABASE ERROR] Parâmetro associado: :id = 2 (tipo: 1)
[2025-09-05 15:32:14] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-05 16:58:34] [DATABASE ERROR] Parâmetro associado: :user_id = 1 (tipo: 1)
[2025-09-05 16:58:41] [DATABASE ERROR] Parâmetro associado: :username = admin (tipo: 2)
[2025-09-05 16:58:41] [DATABASE ERROR] Parâmetro associado: :email = admin (tipo: 2)
[2025-09-05 16:58:41] [DATABASE ERROR] Preparando query: UPDATE usuarios SET ultimo_acesso = NOW() WHERE id = :id com parâmetros: {":id":1}
[2025-09-05 16:58:41] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-09-05 16:58:41] [DATABASE ERROR] Debug PDO após binding: SQL: [56] UPDATE usuarios SET ultimo_acesso = NOW() WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-05 16:58:41] [DATABASE ERROR] Parâmetro associado: :id = nn0hrrpnrk2ng69d4i4lc1p2c6 (tipo: 2)
[2025-09-05 16:58:41] [DATABASE ERROR] Parâmetro associado: :id = nn0hrrpnrk2ng69d4i4lc1p2c6 (tipo: 2)
[2025-09-05 16:58:41] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-09-05 16:58:41] [DATABASE ERROR] Parâmetro associado: :ip_address = ::1 (tipo: 2)
[2025-09-05 16:58:41] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36 Edg/139.0.0.0 (tipo: 2)
[2025-09-05 16:58:41] [DATABASE ERROR] Parâmetro associado: :dados = {"user_id":1,"user_name":"Administrador do Sistema","user_email":"admin@sorveteria.com","user_profile":1,"user_profile_name":"Administrador","logged_in":true,"login_time":1757102321} (tipo: 2)
[2025-09-05 17:01:43] [DATABASE ERROR] Preparando query: SELECT * FROM produtos WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-05 17:01:43] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-05 17:01:43] [DATABASE ERROR] Debug PDO após binding: SQL: [43] SELECT * FROM produtos WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-05 17:01:43] [DATABASE ERROR] Preparando query: SELECT * FROM categorias WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-05 17:01:43] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-05 17:01:43] [DATABASE ERROR] Debug PDO após binding: SQL: [45] SELECT * FROM categorias WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-05 17:01:43] [DATABASE ERROR] Preparando query: SELECT * FROM categorias WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-05 17:01:43] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-05 17:01:43] [DATABASE ERROR] Debug PDO após binding: SQL: [45] SELECT * FROM categorias WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-05 17:01:43] [DATABASE ERROR] Preparando query: SELECT * FROM unidades_medida com parâmetros: []
[2025-09-05 17:01:43] [DATABASE ERROR] Debug PDO após binding: SQL: [29] SELECT * FROM unidades_medida
Params:  0

[2025-09-05 17:01:43] [DATABASE ERROR] Preparando query: SELECT * FROM fornecedores WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-05 17:01:43] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-05 17:01:43] [DATABASE ERROR] Debug PDO após binding: SQL: [47] SELECT * FROM fornecedores WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-05 17:01:43] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-05 17:01:43] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-05 17:01:43] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-05 17:02:39] [DATABASE ERROR] Parâmetro associado: :value = MANTEIGA S/SAL TABL XANDO (tipo: 2)
[2025-09-05 17:02:39] [DATABASE ERROR] Parâmetro associado: :id = 2 (tipo: 2)
[2025-09-05 17:02:39] [DATABASE ERROR] Parâmetro associado: :value = 2 (tipo: 2)
[2025-09-05 17:02:39] [DATABASE ERROR] Parâmetro associado: :id = 2 (tipo: 2)
[2025-09-05 17:02:39] [DATABASE ERROR] Parâmetro associado: :value = 3 (tipo: 2)
[2025-09-05 17:02:39] [DATABASE ERROR] Parâmetro associado: :value = 2 (tipo: 2)
[2025-09-05 17:02:39] [DATABASE ERROR] Parâmetro associado: :value = 2 (tipo: 2)
[2025-09-05 17:02:39] [DATABASE ERROR] Parâmetro associado: :id = 2 (tipo: 1)
[2025-09-05 17:02:39] [DATABASE ERROR] Parâmetro associado: :nome = MANTEIGA S/SAL TABL XANDO (tipo: 2)
[2025-09-05 17:02:39] [DATABASE ERROR] Parâmetro associado: :codigo = 2 (tipo: 2)
[2025-09-05 17:02:39] [DATABASE ERROR] Parâmetro associado: :categoria_id = 3 (tipo: 2)
[2025-09-05 17:02:39] [DATABASE ERROR] Parâmetro associado: :estoque_atual = 5.000 (tipo: 2)
[2025-09-05 17:02:39] [DATABASE ERROR] Parâmetro associado: :estoque_minimo = 10.000 (tipo: 2)
[2025-09-05 17:02:39] [DATABASE ERROR] Parâmetro associado: :preco_venda = 6.00 (tipo: 2)
[2025-09-05 17:02:39] [DATABASE ERROR] Parâmetro associado: :descricao =  (tipo: 2)
[2025-09-05 17:02:39] [DATABASE ERROR] Parâmetro associado: :ativo = 1 (tipo: 1)
[2025-09-05 17:02:39] [DATABASE ERROR] Parâmetro associado: :unidade_medida_id = 2 (tipo: 2)
[2025-09-05 17:02:39] [DATABASE ERROR] Parâmetro associado: :estoque_maximo = 30.000 (tipo: 2)
[2025-09-05 17:02:39] [DATABASE ERROR] Parâmetro associado: :preco_custo = 5.00 (tipo: 2)
[2025-09-05 17:02:39] [DATABASE ERROR] Parâmetro associado: :margem_lucro = 2.00 (tipo: 2)
[2025-09-05 17:02:39] [DATABASE ERROR] Parâmetro associado: :fornecedor_principal_id = 2 (tipo: 2)
[2025-09-05 17:02:39] [DATABASE ERROR] Parâmetro associado: :atualizado_em = 2025-09-05 17:02:39 (tipo: 2)
[2025-09-05 17:02:39] [DATABASE ERROR] Parâmetro associado: :id = 2 (tipo: 1)
[2025-09-05 17:02:39] [DATABASE ERROR] Parâmetro associado: :tabela = produtos (tipo: 2)
[2025-09-05 17:02:39] [DATABASE ERROR] Parâmetro associado: :registro_id = 2 (tipo: 1)
[2025-09-05 17:02:39] [DATABASE ERROR] Parâmetro associado: :acao = UPDATE (tipo: 2)
[2025-09-05 17:02:39] [DATABASE ERROR] Parâmetro associado: :dados_anteriores = {"id":2,"codigo":"2","codigo_barras":null,"nome":"MANTEIGA S\/SAL TABL XANDO","descricao":"","categoria_id":3,"unidade_medida_id":2,"estoque_minimo":"10.000","estoque_maximo":"30.000","estoque_atual":"24.000","preco_custo":"5.00","preco_venda":"6.00","margem_lucro":"2.00","localizacao":null,"fornecedor_principal_id":2,"ativo":1,"foto_url":null,"observacoes":null,"criado_por":1,"criado_em":"2025-09-05 15:19:46","atualizado_em":"2025-09-05 15:21:03"} (tipo: 2)
[2025-09-05 17:02:39] [DATABASE ERROR] Parâmetro associado: :dados_novos = {"nome":"MANTEIGA S\/SAL TABL XANDO","codigo":"2","categoria_id":"3","estoque_atual":"5.000","estoque_minimo":"10.000","preco_venda":"6.00","descricao":"","ativo":1,"unidade_medida_id":"2","estoque_maximo":"30.000","preco_custo":"5.00","margem_lucro":"2.00","fornecedor_principal_id":"2","atualizado_em":"2025-09-05 17:02:39"} (tipo: 2)
[2025-09-05 17:02:39] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-09-05 17:02:39] [DATABASE ERROR] Parâmetro associado: :ip_address = ::1 (tipo: 2)
[2025-09-05 17:02:39] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36 Edg/139.0.0.0 (tipo: 2)
[2025-09-05 17:02:39] [DATABASE ERROR] Preparando query: SELECT * FROM produtos WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-05 17:02:39] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-05 17:02:39] [DATABASE ERROR] Debug PDO após binding: SQL: [43] SELECT * FROM produtos WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-05 17:02:39] [DATABASE ERROR] Preparando query: SELECT * FROM categorias WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-05 17:02:39] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-05 17:02:39] [DATABASE ERROR] Debug PDO após binding: SQL: [45] SELECT * FROM categorias WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-05 17:02:39] [DATABASE ERROR] Preparando query: SELECT * FROM categorias WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-05 17:02:39] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-05 17:02:39] [DATABASE ERROR] Debug PDO após binding: SQL: [45] SELECT * FROM categorias WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-05 17:02:39] [DATABASE ERROR] Preparando query: SELECT * FROM unidades_medida com parâmetros: []
[2025-09-05 17:02:39] [DATABASE ERROR] Debug PDO após binding: SQL: [29] SELECT * FROM unidades_medida
Params:  0

[2025-09-05 17:02:39] [DATABASE ERROR] Preparando query: SELECT * FROM fornecedores WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-05 17:02:39] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-05 17:02:39] [DATABASE ERROR] Debug PDO após binding: SQL: [47] SELECT * FROM fornecedores WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-05 17:02:39] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-05 17:02:39] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-05 17:02:39] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-05 17:04:39] [DATABASE ERROR] Parâmetro associado: :user_id = 1 (tipo: 1)
[2025-09-05 17:04:49] [DATABASE ERROR] Parâmetro associado: :username = Flávio (tipo: 2)
[2025-09-05 17:04:49] [DATABASE ERROR] Parâmetro associado: :email = Flávio (tipo: 2)
[2025-09-05 17:04:49] [DATABASE ERROR] Preparando query: UPDATE usuarios SET ultimo_acesso = NOW() WHERE id = :id com parâmetros: {":id":2}
[2025-09-05 17:04:49] [DATABASE ERROR] Parâmetro associado: :id = 2 (tipo: 1)
[2025-09-05 17:04:49] [DATABASE ERROR] Debug PDO após binding: SQL: [56] UPDATE usuarios SET ultimo_acesso = NOW() WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-05 17:04:49] [DATABASE ERROR] Parâmetro associado: :id = 1fnf92mbghbkpber6k5curgmbq (tipo: 2)
[2025-09-05 17:04:49] [DATABASE ERROR] Parâmetro associado: :id = 1fnf92mbghbkpber6k5curgmbq (tipo: 2)
[2025-09-05 17:04:49] [DATABASE ERROR] Parâmetro associado: :usuario_id = 2 (tipo: 1)
[2025-09-05 17:04:49] [DATABASE ERROR] Parâmetro associado: :ip_address = ::1 (tipo: 2)
[2025-09-05 17:04:49] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36 Edg/139.0.0.0 (tipo: 2)
[2025-09-05 17:04:49] [DATABASE ERROR] Parâmetro associado: :dados = {"user_id":2,"user_name":"Fl\u00e1vio","user_email":"flavioafj@yahoo.com.br","user_profile":2,"user_profile_name":"Operador","logged_in":true,"login_time":1757102689} (tipo: 2)
[2025-09-05 17:04:54] [DATABASE ERROR] Preparando query: SELECT * FROM produtos WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-05 17:04:54] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-05 17:04:54] [DATABASE ERROR] Debug PDO após binding: SQL: [43] SELECT * FROM produtos WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-05 17:05:14] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-09-05 17:06:08] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-09-05 17:08:00] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-09-05 17:12:55] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-09-05 17:13:10] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-09-05 17:13:10] [DATABASE ERROR] Parâmetro associado: :produto_id = 1 (tipo: 1)
[2025-09-05 17:13:28] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-09-05 17:13:28] [DATABASE ERROR] Parâmetro associado: :produto_id = 1 (tipo: 1)
[2025-09-05 17:13:28] [DATABASE ERROR] Parâmetro associado: :produto_id = 1 (tipo: 1)
[2025-09-05 17:13:50] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-09-05 17:13:50] [DATABASE ERROR] Parâmetro associado: :produto_id = 1 (tipo: 1)
[2025-09-05 17:13:50] [DATABASE ERROR] Parâmetro associado: :produto_id = 1 (tipo: 1)
[2025-09-05 17:13:50] [DATABASE ERROR] Parâmetro associado: :produto_id = 1 (tipo: 1)
[2025-09-05 17:13:50] [DATABASE ERROR] Parâmetro associado: :mensagem = Produto LEITE A XANDO INTEGRAL com estoque baixo: 1.000 <= 2.000. (tipo: 2)
[2025-09-05 17:13:50] [DATABASE ERROR] Parâmetro associado: :tabela = alertas_estoque (tipo: 2)
[2025-09-05 17:13:50] [DATABASE ERROR] Parâmetro associado: :registro_id = 1 (tipo: 2)
[2025-09-05 17:13:50] [DATABASE ERROR] Parâmetro associado: :acao = alertas_estoque (tipo: 2)
[2025-09-05 17:13:50] [DATABASE ERROR] Parâmetro associado: :dados_anteriores = "INSERT" (tipo: 2)
[2025-09-05 17:13:50] [DATABASE ERROR] Parâmetro associado: :dados_novos = NULL (tipo: 0)
[2025-09-05 17:13:50] [DATABASE ERROR] Parâmetro associado: :usuario_id = 2 (tipo: 1)
[2025-09-05 17:13:50] [DATABASE ERROR] Parâmetro associado: :ip_address = ::1 (tipo: 2)
[2025-09-05 17:13:50] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36 Edg/139.0.0.0 (tipo: 2)
[2025-09-05 17:14:06] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-09-05 17:14:06] [DATABASE ERROR] Parâmetro associado: :produto_id = 1 (tipo: 1)
[2025-09-05 17:14:06] [DATABASE ERROR] Parâmetro associado: :produto_id = 1 (tipo: 1)
[2025-09-05 17:14:06] [DATABASE ERROR] Parâmetro associado: :produto_id = 1 (tipo: 1)
[2025-09-05 17:14:06] [DATABASE ERROR] Parâmetro associado: :mensagem = Produto LEITE A XANDO INTEGRAL com estoque baixo: 1.000 <= 2.000. (tipo: 2)
[2025-09-05 17:14:06] [DATABASE ERROR] Parâmetro associado: :tabela = alertas_estoque (tipo: 2)
[2025-09-05 17:14:06] [DATABASE ERROR] Parâmetro associado: :registro_id = 2 (tipo: 2)
[2025-09-05 17:14:06] [DATABASE ERROR] Parâmetro associado: :acao = alertas_estoque (tipo: 2)
[2025-09-05 17:14:06] [DATABASE ERROR] Parâmetro associado: :dados_anteriores = "INSERT" (tipo: 2)
[2025-09-05 17:14:06] [DATABASE ERROR] Parâmetro associado: :dados_novos = NULL (tipo: 0)
[2025-09-05 17:14:06] [DATABASE ERROR] Parâmetro associado: :usuario_id = 2 (tipo: 1)
[2025-09-05 17:14:06] [DATABASE ERROR] Parâmetro associado: :ip_address = ::1 (tipo: 2)
[2025-09-05 17:14:06] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36 Edg/139.0.0.0 (tipo: 2)
[2025-09-05 17:14:06] [DATABASE ERROR] Parâmetro associado: :alert_id = 2 (tipo: 1)
[2025-09-05 17:20:57] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-09-05 17:22:46] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-09-05 17:22:46] [DATABASE ERROR] Parâmetro associado: :produto_id = 1 (tipo: 1)
[2025-09-05 17:22:46] [DATABASE ERROR] Parâmetro associado: :produto_id = 1 (tipo: 1)
[2025-09-05 17:22:46] [DATABASE ERROR] Parâmetro associado: :produto_id = 1 (tipo: 1)
[2025-09-05 17:22:46] [DATABASE ERROR] Parâmetro associado: :mensagem = Produto LEITE A XANDO INTEGRAL com estoque baixo: 1.000 <= 2.000. (tipo: 2)
[2025-09-05 17:22:46] [DATABASE ERROR] Parâmetro associado: :tabela = alertas_estoque (tipo: 2)
[2025-09-05 17:22:46] [DATABASE ERROR] Parâmetro associado: :registro_id = 3 (tipo: 2)
[2025-09-05 17:22:46] [DATABASE ERROR] Parâmetro associado: :acao = alertas_estoque (tipo: 2)
[2025-09-05 17:22:46] [DATABASE ERROR] Parâmetro associado: :dados_anteriores = "INSERT" (tipo: 2)
[2025-09-05 17:22:46] [DATABASE ERROR] Parâmetro associado: :dados_novos = NULL (tipo: 0)
[2025-09-05 17:22:46] [DATABASE ERROR] Parâmetro associado: :usuario_id = 2 (tipo: 1)
[2025-09-05 17:22:46] [DATABASE ERROR] Parâmetro associado: :ip_address = ::1 (tipo: 2)
[2025-09-05 17:22:46] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36 Edg/139.0.0.0 (tipo: 2)
[2025-09-05 17:22:46] [DATABASE ERROR] Parâmetro associado: :alert_id = 3 (tipo: 1)
[2025-09-05 17:38:55] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-09-05 17:38:55] [DATABASE ERROR] Parâmetro associado: :produto_id = 1 (tipo: 1)
[2025-09-05 17:38:55] [DATABASE ERROR] Parâmetro associado: :produto_id = 1 (tipo: 1)
[2025-09-05 17:38:55] [DATABASE ERROR] Parâmetro associado: :produto_id = 1 (tipo: 1)
[2025-09-05 17:38:55] [DATABASE ERROR] Parâmetro associado: :mensagem = Produto LEITE A XANDO INTEGRAL com estoque baixo: 1.000 <= 2.000. (tipo: 2)
[2025-09-05 17:38:55] [DATABASE ERROR] Parâmetro associado: :tabela = alertas_estoque (tipo: 2)
[2025-09-05 17:38:55] [DATABASE ERROR] Parâmetro associado: :registro_id = 4 (tipo: 2)
[2025-09-05 17:38:55] [DATABASE ERROR] Parâmetro associado: :acao = alertas_estoque (tipo: 2)
[2025-09-05 17:38:55] [DATABASE ERROR] Parâmetro associado: :dados_anteriores = "INSERT" (tipo: 2)
[2025-09-05 17:38:55] [DATABASE ERROR] Parâmetro associado: :dados_novos = NULL (tipo: 0)
[2025-09-05 17:38:55] [DATABASE ERROR] Parâmetro associado: :usuario_id = 2 (tipo: 1)
[2025-09-05 17:38:55] [DATABASE ERROR] Parâmetro associado: :ip_address = ::1 (tipo: 2)
[2025-09-05 17:38:55] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36 Edg/139.0.0.0 (tipo: 2)
[2025-09-05 17:38:55] [DATABASE ERROR] Parâmetro associado: :alert_id = 4 (tipo: 1)
[2025-09-05 17:40:22] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-09-05 17:41:03] [DATABASE ERROR] Preparando query: SELECT * FROM produtos WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-05 17:41:03] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-05 17:41:03] [DATABASE ERROR] Debug PDO após binding: SQL: [43] SELECT * FROM produtos WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-05 17:41:15] [DATABASE ERROR] Parâmetro associado: :id = 2 (tipo: 1)
[2025-09-05 17:41:15] [DATABASE ERROR] Parâmetro associado: :produto_id = 2 (tipo: 1)
[2025-09-05 17:41:15] [DATABASE ERROR] Parâmetro associado: :produto_id = 2 (tipo: 1)
[2025-09-05 17:41:15] [DATABASE ERROR] Parâmetro associado: :produto_id = 2 (tipo: 1)
[2025-09-05 17:41:15] [DATABASE ERROR] Parâmetro associado: :mensagem = Produto MANTEIGA S/SAL TABL XANDO com estoque baixo: 1.000 <= 10.000. (tipo: 2)
[2025-09-05 17:41:15] [DATABASE ERROR] Parâmetro associado: :tabela = alertas_estoque (tipo: 2)
[2025-09-05 17:41:15] [DATABASE ERROR] Parâmetro associado: :registro_id = 5 (tipo: 2)
[2025-09-05 17:41:15] [DATABASE ERROR] Parâmetro associado: :acao = alertas_estoque (tipo: 2)
[2025-09-05 17:41:15] [DATABASE ERROR] Parâmetro associado: :dados_anteriores = "INSERT" (tipo: 2)
[2025-09-05 17:41:15] [DATABASE ERROR] Parâmetro associado: :dados_novos = NULL (tipo: 0)
[2025-09-05 17:41:15] [DATABASE ERROR] Parâmetro associado: :usuario_id = 2 (tipo: 1)
[2025-09-05 17:41:15] [DATABASE ERROR] Parâmetro associado: :ip_address = ::1 (tipo: 2)
[2025-09-05 17:41:15] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36 Edg/139.0.0.0 (tipo: 2)
[2025-09-05 17:41:15] [DATABASE ERROR] Parâmetro associado: :alert_id = 5 (tipo: 1)
[2025-09-05 18:01:38] [DATABASE ERROR] Parâmetro associado: :id = 2 (tipo: 1)
[2025-09-05 18:01:46] [DATABASE ERROR] Preparando query: SELECT * FROM produtos WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-05 18:01:46] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-05 18:01:46] [DATABASE ERROR] Debug PDO após binding: SQL: [43] SELECT * FROM produtos WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-05 18:01:58] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-05 18:01:58] [DATABASE ERROR] Parâmetro associado: :produto_id = 3 (tipo: 1)
[2025-09-05 18:03:15] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-05 18:07:20] [DATABASE ERROR] Preparando query: SELECT * FROM produtos WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-05 18:07:20] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-05 18:07:20] [DATABASE ERROR] Debug PDO após binding: SQL: [43] SELECT * FROM produtos WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-05 18:07:29] [DATABASE ERROR] Parâmetro associado: :id = 2 (tipo: 1)
[2025-09-05 18:07:29] [DATABASE ERROR] Parâmetro associado: :produto_id = 2 (tipo: 1)
[2025-09-05 18:07:29] [DATABASE ERROR] Parâmetro associado: :produto_id = 2 (tipo: 1)
[2025-09-05 18:08:03] [DATABASE ERROR] Parâmetro associado: :user_id = 2 (tipo: 1)
[2025-09-05 18:08:10] [DATABASE ERROR] Parâmetro associado: :username = admin (tipo: 2)
[2025-09-05 18:08:10] [DATABASE ERROR] Parâmetro associado: :email = admin (tipo: 2)
[2025-09-05 18:08:10] [DATABASE ERROR] Preparando query: UPDATE usuarios SET ultimo_acesso = NOW() WHERE id = :id com parâmetros: {":id":1}
[2025-09-05 18:08:10] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-09-05 18:08:10] [DATABASE ERROR] Debug PDO após binding: SQL: [56] UPDATE usuarios SET ultimo_acesso = NOW() WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-05 18:08:10] [DATABASE ERROR] Parâmetro associado: :id = onleplnu841b2bmdi7bipac62e (tipo: 2)
[2025-09-05 18:08:10] [DATABASE ERROR] Parâmetro associado: :id = onleplnu841b2bmdi7bipac62e (tipo: 2)
[2025-09-05 18:08:10] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-09-05 18:08:10] [DATABASE ERROR] Parâmetro associado: :ip_address = ::1 (tipo: 2)
[2025-09-05 18:08:10] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36 Edg/139.0.0.0 (tipo: 2)
[2025-09-05 18:08:10] [DATABASE ERROR] Parâmetro associado: :dados = {"user_id":1,"user_name":"Administrador do Sistema","user_email":"admin@sorveteria.com","user_profile":1,"user_profile_name":"Administrador","logged_in":true,"login_time":1757106490} (tipo: 2)
[2025-09-05 18:08:44] [DATABASE ERROR] Preparando query: SELECT * FROM produtos WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-05 18:08:44] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-05 18:08:44] [DATABASE ERROR] Debug PDO após binding: SQL: [43] SELECT * FROM produtos WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-05 18:08:44] [DATABASE ERROR] Preparando query: SELECT * FROM categorias WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-05 18:08:44] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-05 18:08:44] [DATABASE ERROR] Debug PDO após binding: SQL: [45] SELECT * FROM categorias WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-05 18:08:44] [DATABASE ERROR] Preparando query: SELECT * FROM categorias WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-05 18:08:44] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-05 18:08:44] [DATABASE ERROR] Debug PDO após binding: SQL: [45] SELECT * FROM categorias WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-05 18:08:44] [DATABASE ERROR] Preparando query: SELECT * FROM unidades_medida com parâmetros: []
[2025-09-05 18:08:44] [DATABASE ERROR] Debug PDO após binding: SQL: [29] SELECT * FROM unidades_medida
Params:  0

[2025-09-05 18:08:44] [DATABASE ERROR] Preparando query: SELECT * FROM fornecedores WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-05 18:08:44] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-05 18:08:44] [DATABASE ERROR] Debug PDO após binding: SQL: [47] SELECT * FROM fornecedores WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-05 18:08:44] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-05 18:08:44] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-05 18:08:44] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-05 18:08:57] [DATABASE ERROR] Parâmetro associado: :value = CREME DE LEITE PASTEUR (tipo: 2)
[2025-09-05 18:08:57] [DATABASE ERROR] Parâmetro associado: :value = 3 (tipo: 2)
[2025-09-05 18:08:57] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 2)
[2025-09-05 18:08:57] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 2)
[2025-09-05 18:08:57] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 2)
[2025-09-05 18:08:57] [DATABASE ERROR] Preparando query: SELECT * FROM produtos WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-05 18:08:57] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-05 18:08:57] [DATABASE ERROR] Debug PDO após binding: SQL: [43] SELECT * FROM produtos WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-05 18:08:57] [DATABASE ERROR] Preparando query: SELECT * FROM categorias WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-05 18:08:57] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-05 18:08:57] [DATABASE ERROR] Debug PDO após binding: SQL: [45] SELECT * FROM categorias WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-05 18:08:57] [DATABASE ERROR] Preparando query: SELECT * FROM categorias WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-05 18:08:57] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-05 18:08:57] [DATABASE ERROR] Debug PDO após binding: SQL: [45] SELECT * FROM categorias WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-05 18:08:57] [DATABASE ERROR] Preparando query: SELECT * FROM unidades_medida com parâmetros: []
[2025-09-05 18:08:57] [DATABASE ERROR] Debug PDO após binding: SQL: [29] SELECT * FROM unidades_medida
Params:  0

[2025-09-05 18:08:57] [DATABASE ERROR] Preparando query: SELECT * FROM fornecedores WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-05 18:08:57] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-05 18:08:57] [DATABASE ERROR] Debug PDO após binding: SQL: [47] SELECT * FROM fornecedores WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-05 18:08:57] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-05 18:08:57] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-05 18:08:57] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-05 18:14:12] [DATABASE ERROR] Parâmetro associado: :value = LEITE A XANDO INTEGRAL (tipo: 2)
[2025-09-05 18:14:12] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 2)
[2025-09-05 18:14:12] [DATABASE ERROR] Parâmetro associado: :value =  (tipo: 2)
[2025-09-05 18:14:12] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 2)
[2025-09-05 18:14:12] [DATABASE ERROR] Parâmetro associado: :value = 3 (tipo: 2)
[2025-09-05 18:14:12] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 2)
[2025-09-05 18:14:12] [DATABASE ERROR] Parâmetro associado: :value = 2 (tipo: 2)
[2025-09-05 18:14:12] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-09-05 18:14:12] [DATABASE ERROR] Parâmetro associado: :nome = LEITE A XANDO INTEGRAL (tipo: 2)
[2025-09-05 18:14:12] [DATABASE ERROR] Parâmetro associado: :codigo =  (tipo: 2)
[2025-09-05 18:14:12] [DATABASE ERROR] Parâmetro associado: :categoria_id = 3 (tipo: 2)
[2025-09-05 18:14:12] [DATABASE ERROR] Parâmetro associado: :estoque_atual = 10.000 (tipo: 2)
[2025-09-05 18:14:12] [DATABASE ERROR] Parâmetro associado: :estoque_minimo = 2.000 (tipo: 2)
[2025-09-05 18:14:12] [DATABASE ERROR] Parâmetro associado: :preco_venda = 2.00 (tipo: 2)
[2025-09-05 18:14:12] [DATABASE ERROR] Parâmetro associado: :descricao =  (tipo: 2)
[2025-09-05 18:14:12] [DATABASE ERROR] Parâmetro associado: :ativo = 1 (tipo: 1)
[2025-09-05 18:14:12] [DATABASE ERROR] Parâmetro associado: :unidade_medida_id = 1 (tipo: 2)
[2025-09-05 18:14:12] [DATABASE ERROR] Parâmetro associado: :estoque_maximo = 5.000 (tipo: 2)
[2025-09-05 18:14:12] [DATABASE ERROR] Parâmetro associado: :preco_custo = 1.00 (tipo: 2)
[2025-09-05 18:14:12] [DATABASE ERROR] Parâmetro associado: :margem_lucro = 0.00 (tipo: 2)
[2025-09-05 18:14:12] [DATABASE ERROR] Parâmetro associado: :fornecedor_principal_id = 2 (tipo: 2)
[2025-09-05 18:14:12] [DATABASE ERROR] Parâmetro associado: :atualizado_em = 2025-09-05 18:14:12 (tipo: 2)
[2025-09-05 18:14:12] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-09-05 18:14:12] [DATABASE ERROR] Parâmetro associado: :tabela = produtos (tipo: 2)
[2025-09-05 18:14:12] [DATABASE ERROR] Parâmetro associado: :registro_id = 1 (tipo: 1)
[2025-09-05 18:14:12] [DATABASE ERROR] Parâmetro associado: :acao = UPDATE (tipo: 2)
[2025-09-05 18:14:12] [DATABASE ERROR] Parâmetro associado: :dados_anteriores = {"id":1,"codigo":"","codigo_barras":null,"nome":"LEITE A XANDO INTEGRAL","descricao":"","categoria_id":3,"unidade_medida_id":1,"estoque_minimo":"2.000","estoque_maximo":"5.000","estoque_atual":"1.000","preco_custo":"1.00","preco_venda":"2.00","margem_lucro":"0.00","localizacao":null,"fornecedor_principal_id":2,"ativo":1,"foto_url":null,"observacoes":null,"criado_por":1,"criado_em":"2025-09-05 15:17:20","atualizado_em":"2025-09-05 17:38:55"} (tipo: 2)
[2025-09-05 18:14:12] [DATABASE ERROR] Parâmetro associado: :dados_novos = {"nome":"LEITE A XANDO INTEGRAL","codigo":"","categoria_id":"3","estoque_atual":"10.000","estoque_minimo":"2.000","preco_venda":"2.00","descricao":"","ativo":1,"unidade_medida_id":"1","estoque_maximo":"5.000","preco_custo":"1.00","margem_lucro":"0.00","fornecedor_principal_id":"2","atualizado_em":"2025-09-05 18:14:12"} (tipo: 2)
[2025-09-05 18:14:12] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-09-05 18:14:12] [DATABASE ERROR] Parâmetro associado: :ip_address = ::1 (tipo: 2)
[2025-09-05 18:14:12] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36 Edg/139.0.0.0 (tipo: 2)
[2025-09-05 18:14:13] [DATABASE ERROR] Preparando query: SELECT * FROM produtos WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-05 18:14:13] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-05 18:14:13] [DATABASE ERROR] Debug PDO após binding: SQL: [43] SELECT * FROM produtos WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-05 18:14:13] [DATABASE ERROR] Preparando query: SELECT * FROM categorias WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-05 18:14:13] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-05 18:14:13] [DATABASE ERROR] Debug PDO após binding: SQL: [45] SELECT * FROM categorias WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-05 18:14:13] [DATABASE ERROR] Preparando query: SELECT * FROM categorias WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-05 18:14:13] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-05 18:14:13] [DATABASE ERROR] Debug PDO após binding: SQL: [45] SELECT * FROM categorias WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-05 18:14:13] [DATABASE ERROR] Preparando query: SELECT * FROM unidades_medida com parâmetros: []
[2025-09-05 18:14:13] [DATABASE ERROR] Debug PDO após binding: SQL: [29] SELECT * FROM unidades_medida
Params:  0

[2025-09-05 18:14:13] [DATABASE ERROR] Preparando query: SELECT * FROM fornecedores WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-05 18:14:13] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-05 18:14:13] [DATABASE ERROR] Debug PDO após binding: SQL: [47] SELECT * FROM fornecedores WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-05 18:14:13] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-05 18:14:13] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-05 18:14:13] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-05 18:14:20] [DATABASE ERROR] Parâmetro associado: :user_id = 1 (tipo: 1)
[2025-09-05 18:14:38] [DATABASE ERROR] Parâmetro associado: :username = Flávio (tipo: 2)
[2025-09-05 18:14:38] [DATABASE ERROR] Parâmetro associado: :email = Flávio (tipo: 2)
[2025-09-05 18:14:39] [DATABASE ERROR] Preparando query: UPDATE usuarios SET ultimo_acesso = NOW() WHERE id = :id com parâmetros: {":id":2}
[2025-09-05 18:14:39] [DATABASE ERROR] Parâmetro associado: :id = 2 (tipo: 1)
[2025-09-05 18:14:39] [DATABASE ERROR] Debug PDO após binding: SQL: [56] UPDATE usuarios SET ultimo_acesso = NOW() WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-05 18:14:39] [DATABASE ERROR] Parâmetro associado: :id = 3mr1seeok4d8nb5vi92d830esh (tipo: 2)
[2025-09-05 18:14:39] [DATABASE ERROR] Parâmetro associado: :id = 3mr1seeok4d8nb5vi92d830esh (tipo: 2)
[2025-09-05 18:14:39] [DATABASE ERROR] Parâmetro associado: :usuario_id = 2 (tipo: 1)
[2025-09-05 18:14:39] [DATABASE ERROR] Parâmetro associado: :ip_address = ::1 (tipo: 2)
[2025-09-05 18:14:39] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36 Edg/139.0.0.0 (tipo: 2)
[2025-09-05 18:14:39] [DATABASE ERROR] Parâmetro associado: :dados = {"user_id":2,"user_name":"Fl\u00e1vio","user_email":"flavioafj@yahoo.com.br","user_profile":2,"user_profile_name":"Operador","logged_in":true,"login_time":1757106879} (tipo: 2)
[2025-09-05 18:16:43] [DATABASE ERROR] Preparando query: SELECT * FROM produtos WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-05 18:16:43] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-05 18:16:43] [DATABASE ERROR] Debug PDO após binding: SQL: [43] SELECT * FROM produtos WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-05 18:16:56] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-09-05 18:16:56] [DATABASE ERROR] Parâmetro associado: :produto_id = 1 (tipo: 1)
[2025-09-05 18:16:56] [DATABASE ERROR] Parâmetro associado: :produto_id = 1 (tipo: 1)
[2025-09-05 18:18:13] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-09-05 18:21:04] [DATABASE ERROR] Preparando query: SELECT * FROM produtos WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-05 18:21:04] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-05 18:21:04] [DATABASE ERROR] Debug PDO após binding: SQL: [43] SELECT * FROM produtos WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-05 18:21:13] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-05 18:21:13] [DATABASE ERROR] Parâmetro associado: :produto_id = 3 (tipo: 1)
[2025-09-05 18:21:13] [DATABASE ERROR] Parâmetro associado: :produto_id = 3 (tipo: 1)
[2025-09-05 18:21:13] [DATABASE ERROR] Parâmetro associado: :produto_id = 3 (tipo: 1)
[2025-09-05 18:21:13] [DATABASE ERROR] Parâmetro associado: :mensagem = Produto CREME DE LEITE PASTEUR com estoque baixo: 0.000 <= 2.000. (tipo: 2)
[2025-09-05 18:21:13] [DATABASE ERROR] Parâmetro associado: :tabela = alertas_estoque (tipo: 2)
[2025-09-05 18:21:13] [DATABASE ERROR] Parâmetro associado: :registro_id = 6 (tipo: 2)
[2025-09-05 18:21:13] [DATABASE ERROR] Parâmetro associado: :acao = alertas_estoque (tipo: 2)
[2025-09-05 18:21:13] [DATABASE ERROR] Parâmetro associado: :dados_anteriores = "INSERT" (tipo: 2)
[2025-09-05 18:21:13] [DATABASE ERROR] Parâmetro associado: :dados_novos = NULL (tipo: 0)
[2025-09-05 18:21:13] [DATABASE ERROR] Parâmetro associado: :usuario_id = 2 (tipo: 1)
[2025-09-05 18:21:13] [DATABASE ERROR] Parâmetro associado: :ip_address = ::1 (tipo: 2)
[2025-09-05 18:21:13] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36 Edg/139.0.0.0 (tipo: 2)
[2025-09-05 18:21:13] [DATABASE ERROR] Parâmetro associado: :alert_id = 6 (tipo: 1)
[2025-09-05 18:21:34] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-05 18:21:50] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-05 18:25:21] [DATABASE ERROR] Preparando query: SELECT * FROM produtos WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-05 18:25:21] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-05 18:25:21] [DATABASE ERROR] Debug PDO após binding: SQL: [43] SELECT * FROM produtos WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-05 18:25:37] [DATABASE ERROR] Preparando query: SELECT * FROM produtos WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-05 18:25:37] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-05 18:25:37] [DATABASE ERROR] Debug PDO após binding: SQL: [43] SELECT * FROM produtos WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-05 18:25:43] [DATABASE ERROR] Preparando query: SELECT * FROM produtos WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-05 18:25:43] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-05 18:25:43] [DATABASE ERROR] Debug PDO após binding: SQL: [43] SELECT * FROM produtos WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-05 18:26:08] [DATABASE ERROR] Parâmetro associado: :user_id = 2 (tipo: 1)
[2025-09-05 18:26:15] [DATABASE ERROR] Parâmetro associado: :username = admin (tipo: 2)
[2025-09-05 18:26:15] [DATABASE ERROR] Parâmetro associado: :email = admin (tipo: 2)
[2025-09-05 18:26:15] [DATABASE ERROR] Preparando query: UPDATE usuarios SET ultimo_acesso = NOW() WHERE id = :id com parâmetros: {":id":1}
[2025-09-05 18:26:15] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-09-05 18:26:15] [DATABASE ERROR] Debug PDO após binding: SQL: [56] UPDATE usuarios SET ultimo_acesso = NOW() WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-05 18:26:15] [DATABASE ERROR] Parâmetro associado: :id = 9qkq169gsku74e3fe3o82a06hk (tipo: 2)
[2025-09-05 18:26:15] [DATABASE ERROR] Parâmetro associado: :id = 9qkq169gsku74e3fe3o82a06hk (tipo: 2)
[2025-09-05 18:26:15] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-09-05 18:26:15] [DATABASE ERROR] Parâmetro associado: :ip_address = ::1 (tipo: 2)
[2025-09-05 18:26:15] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36 Edg/139.0.0.0 (tipo: 2)
[2025-09-05 18:26:15] [DATABASE ERROR] Parâmetro associado: :dados = {"user_id":1,"user_name":"Administrador do Sistema","user_email":"admin@sorveteria.com","user_profile":1,"user_profile_name":"Administrador","logged_in":true,"login_time":1757107575} (tipo: 2)
[2025-09-05 18:26:55] [DATABASE ERROR] Preparando query: SELECT * FROM produtos WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-05 18:26:55] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-05 18:26:55] [DATABASE ERROR] Debug PDO após binding: SQL: [43] SELECT * FROM produtos WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-05 18:27:11] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-09-05 18:27:11] [DATABASE ERROR] Parâmetro associado: :produto_id = 1 (tipo: 1)
[2025-09-05 18:27:11] [DATABASE ERROR] Parâmetro associado: :id = 2 (tipo: 1)
[2025-09-05 18:27:11] [DATABASE ERROR] Parâmetro associado: :produto_id = 2 (tipo: 1)
[2025-09-05 18:27:11] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-05 18:27:11] [DATABASE ERROR] Parâmetro associado: :produto_id = 3 (tipo: 1)
[2025-09-05 18:27:45] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-09-05 18:27:45] [DATABASE ERROR] Parâmetro associado: :produto_id = 1 (tipo: 1)
[2025-09-05 18:27:45] [DATABASE ERROR] Parâmetro associado: :id = 2 (tipo: 1)
[2025-09-05 18:27:45] [DATABASE ERROR] Parâmetro associado: :produto_id = 2 (tipo: 1)
[2025-09-05 18:27:45] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-05 18:27:45] [DATABASE ERROR] Parâmetro associado: :produto_id = 3 (tipo: 1)
[2025-09-05 18:28:01] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-09-05 18:28:01] [DATABASE ERROR] Parâmetro associado: :produto_id = 1 (tipo: 1)
[2025-09-05 18:28:01] [DATABASE ERROR] Parâmetro associado: :id = 2 (tipo: 1)
[2025-09-05 18:28:01] [DATABASE ERROR] Parâmetro associado: :produto_id = 2 (tipo: 1)
[2025-09-05 18:28:01] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-05 18:28:01] [DATABASE ERROR] Parâmetro associado: :produto_id = 3 (tipo: 1)
[2025-09-05 18:37:53] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-09-05 18:37:53] [DATABASE ERROR] Parâmetro associado: :produto_id = 1 (tipo: 1)
[2025-09-05 18:37:53] [DATABASE ERROR] Parâmetro associado: :id = 2 (tipo: 1)
[2025-09-05 18:37:53] [DATABASE ERROR] Parâmetro associado: :produto_id = 2 (tipo: 1)
[2025-09-05 18:37:53] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-05 18:37:53] [DATABASE ERROR] Parâmetro associado: :produto_id = 3 (tipo: 1)
[2025-09-05 18:38:27] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-09-05 18:38:27] [DATABASE ERROR] Parâmetro associado: :produto_id = 1 (tipo: 1)
[2025-09-05 18:38:27] [DATABASE ERROR] Parâmetro associado: :id = 2 (tipo: 1)
[2025-09-05 18:38:27] [DATABASE ERROR] Parâmetro associado: :produto_id = 2 (tipo: 1)
[2025-09-05 18:38:27] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-05 18:38:27] [DATABASE ERROR] Parâmetro associado: :produto_id = 3 (tipo: 1)
[2025-09-05 18:38:27] [DATABASE ERROR] Parâmetro associado: :produto_id = 30 (tipo: 1)
[2025-09-05 18:38:27] [DATABASE ERROR] Parâmetro associado: :produto_id = 100 (tipo: 1)
[2025-09-05 18:38:27] [DATABASE ERROR] Parâmetro associado: :produto_id = 20 (tipo: 1)
[2025-09-05 18:38:28] [DATABASE ERROR] Preparando query: SELECT * FROM produtos WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-05 18:38:28] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-05 18:38:28] [DATABASE ERROR] Debug PDO após binding: SQL: [43] SELECT * FROM produtos WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-05 18:38:28] [DATABASE ERROR] Preparando query: SELECT * FROM categorias WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-05 18:38:28] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-05 18:38:28] [DATABASE ERROR] Debug PDO após binding: SQL: [45] SELECT * FROM categorias WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-05 18:38:28] [DATABASE ERROR] Preparando query: SELECT * FROM categorias WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-05 18:38:28] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-05 18:38:28] [DATABASE ERROR] Debug PDO após binding: SQL: [45] SELECT * FROM categorias WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-05 18:38:28] [DATABASE ERROR] Preparando query: SELECT * FROM unidades_medida com parâmetros: []
[2025-09-05 18:38:28] [DATABASE ERROR] Debug PDO após binding: SQL: [29] SELECT * FROM unidades_medida
Params:  0

[2025-09-05 18:38:28] [DATABASE ERROR] Preparando query: SELECT * FROM fornecedores WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-05 18:38:28] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-05 18:38:28] [DATABASE ERROR] Debug PDO após binding: SQL: [47] SELECT * FROM fornecedores WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-05 18:38:28] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-05 18:38:28] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-05 18:38:28] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-05 18:39:33] [DATABASE ERROR] Parâmetro associado: :user_id = 1 (tipo: 1)
[2025-09-05 18:39:38] [DATABASE ERROR] Parâmetro associado: :username = Flávio (tipo: 2)
[2025-09-05 18:39:38] [DATABASE ERROR] Parâmetro associado: :email = Flávio (tipo: 2)
[2025-09-05 18:39:38] [DATABASE ERROR] Preparando query: UPDATE usuarios SET ultimo_acesso = NOW() WHERE id = :id com parâmetros: {":id":2}
[2025-09-05 18:39:38] [DATABASE ERROR] Parâmetro associado: :id = 2 (tipo: 1)
[2025-09-05 18:39:38] [DATABASE ERROR] Debug PDO após binding: SQL: [56] UPDATE usuarios SET ultimo_acesso = NOW() WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-05 18:39:38] [DATABASE ERROR] Parâmetro associado: :id = qe2uamg5foto14s54i2er0knfg (tipo: 2)
[2025-09-05 18:39:38] [DATABASE ERROR] Parâmetro associado: :id = qe2uamg5foto14s54i2er0knfg (tipo: 2)
[2025-09-05 18:39:38] [DATABASE ERROR] Parâmetro associado: :usuario_id = 2 (tipo: 1)
[2025-09-05 18:39:38] [DATABASE ERROR] Parâmetro associado: :ip_address = ::1 (tipo: 2)
[2025-09-05 18:39:38] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36 Edg/139.0.0.0 (tipo: 2)
[2025-09-05 18:39:38] [DATABASE ERROR] Parâmetro associado: :dados = {"user_id":2,"user_name":"Fl\u00e1vio","user_email":"flavioafj@yahoo.com.br","user_profile":2,"user_profile_name":"Operador","logged_in":true,"login_time":1757108378} (tipo: 2)
[2025-09-05 18:39:48] [DATABASE ERROR] Preparando query: SELECT * FROM produtos WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-05 18:39:48] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-05 18:39:48] [DATABASE ERROR] Debug PDO após binding: SQL: [43] SELECT * FROM produtos WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-05 18:40:04] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-09-05 18:40:04] [DATABASE ERROR] Parâmetro associado: :produto_id = 1 (tipo: 1)
[2025-09-05 18:40:04] [DATABASE ERROR] Parâmetro associado: :produto_id = 1 (tipo: 1)
[2025-09-05 18:40:04] [DATABASE ERROR] Parâmetro associado: :produto_id = 149 (tipo: 1)
[2025-09-05 18:40:04] [DATABASE ERROR] Parâmetro associado: :produto_id = 0 (tipo: 1)
[2025-09-05 18:40:04] [DATABASE ERROR] Parâmetro associado: :produto_id = 0 (tipo: 1)
[2025-09-05 18:45:16] [DATABASE ERROR] Preparando query: SELECT * FROM produtos WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-05 18:45:16] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-05 18:45:16] [DATABASE ERROR] Debug PDO após binding: SQL: [43] SELECT * FROM produtos WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-05 18:45:25] [DATABASE ERROR] Parâmetro associado: :id = 2 (tipo: 1)
[2025-09-05 18:45:25] [DATABASE ERROR] Parâmetro associado: :produto_id = 2 (tipo: 1)
[2025-09-05 18:45:25] [DATABASE ERROR] Parâmetro associado: :produto_id = 2 (tipo: 1)
[2025-09-05 18:45:25] [DATABASE ERROR] Parâmetro associado: :produto_id = 0 (tipo: 1)
[2025-09-05 18:45:25] [DATABASE ERROR] Parâmetro associado: :produto_id = 499 (tipo: 1)
[2025-09-05 18:45:25] [DATABASE ERROR] Parâmetro associado: :produto_id = 0 (tipo: 1)
[2025-09-05 18:47:25] [DATABASE ERROR] Preparando query: SELECT * FROM produtos WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-05 18:47:25] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-05 18:47:25] [DATABASE ERROR] Debug PDO após binding: SQL: [43] SELECT * FROM produtos WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-05 18:47:56] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-05 18:47:56] [DATABASE ERROR] Parâmetro associado: :produto_id = 3 (tipo: 1)
[2025-09-05 18:47:56] [DATABASE ERROR] Parâmetro associado: :produto_id = 3 (tipo: 1)
[2025-09-05 18:47:56] [DATABASE ERROR] Parâmetro associado: :produto_id = 0 (tipo: 1)
[2025-09-05 18:47:56] [DATABASE ERROR] Parâmetro associado: :produto_id = 0 (tipo: 1)
[2025-09-05 18:47:56] [DATABASE ERROR] Parâmetro associado: :produto_id = 99 (tipo: 1)
[2025-09-05 18:49:53] [DATABASE ERROR] Preparando query: SELECT * FROM produtos WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-05 18:49:53] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-05 18:49:53] [DATABASE ERROR] Debug PDO após binding: SQL: [43] SELECT * FROM produtos WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-05 18:50:03] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-05 18:50:03] [DATABASE ERROR] Parâmetro associado: :produto_id = 3 (tipo: 1)
[2025-09-05 18:50:03] [DATABASE ERROR] Parâmetro associado: :produto_id = 3 (tipo: 1)
[2025-09-05 18:50:13] [DATABASE ERROR] Parâmetro associado: :produto_id = 0 (tipo: 1)
[2025-09-05 18:52:50] [DATABASE ERROR] Parâmetro associado: :produto_id = 0 (tipo: 1)
[2025-09-05 18:52:52] [DATABASE ERROR] Parâmetro associado: :produto_id = 2 (tipo: 1)
[2025-09-05 18:53:17] [DATABASE ERROR] Preparando query: SELECT * FROM produtos WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-05 18:53:17] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-05 18:53:17] [DATABASE ERROR] Debug PDO após binding: SQL: [43] SELECT * FROM produtos WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-05 19:01:52] [DATABASE ERROR] Parâmetro associado: :id = 2 (tipo: 1)
[2025-09-05 19:01:52] [DATABASE ERROR] Parâmetro associado: :produto_id = 2 (tipo: 1)
[2025-09-05 19:01:52] [DATABASE ERROR] Parâmetro associado: :produto_id = 2 (tipo: 1)
[2025-09-05 19:01:59] [DATABASE ERROR] Parâmetro associado: :produto_id = 0 (tipo: 1)
[2025-09-05 19:02:00] [DATABASE ERROR] Parâmetro associado: :produto_id = 3 (tipo: 1)
[2025-09-05 19:02:00] [DATABASE ERROR] Parâmetro associado: :produto_id = 3 (tipo: 1)
[2025-09-05 19:02:01] [DATABASE ERROR] Parâmetro associado: :produto_id = 0 (tipo: 1)
[2025-09-05 19:02:07] [DATABASE ERROR] Preparando query: SELECT * FROM produtos WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-05 19:02:07] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-05 19:02:07] [DATABASE ERROR] Debug PDO após binding: SQL: [43] SELECT * FROM produtos WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-05 19:02:23] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-09-05 19:02:23] [DATABASE ERROR] Parâmetro associado: :produto_id = 1 (tipo: 1)
[2025-09-05 19:02:33] [DATABASE ERROR] Parâmetro associado: :produto_id = 1 (tipo: 1)
[2025-09-05 19:03:17] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-09-05 19:03:17] [DATABASE ERROR] Parâmetro associado: :produto_id = 1 (tipo: 1)
[2025-09-05 19:03:22] [DATABASE ERROR] Parâmetro associado: :produto_id = 1 (tipo: 1)
[2025-09-05 19:03:24] [DATABASE ERROR] Parâmetro associado: :produto_id = 2 (tipo: 1)
[2025-09-05 19:03:24] [DATABASE ERROR] Parâmetro associado: :produto_id = 2 (tipo: 1)
[2025-09-05 19:03:26] [DATABASE ERROR] Parâmetro associado: :produto_id = 3 (tipo: 1)
[2025-09-05 19:03:26] [DATABASE ERROR] Parâmetro associado: :produto_id = 3 (tipo: 1)
[2025-09-05 19:03:57] [DATABASE ERROR] Preparando query: SELECT * FROM produtos WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-05 19:03:57] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-05 19:03:57] [DATABASE ERROR] Debug PDO após binding: SQL: [43] SELECT * FROM produtos WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-05 19:04:05] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-09-05 19:04:05] [DATABASE ERROR] Parâmetro associado: :produto_id = 1 (tipo: 1)
[2025-09-05 19:04:08] [DATABASE ERROR] Parâmetro associado: :produto_id = 1 (tipo: 1)
[2025-09-05 19:04:09] [DATABASE ERROR] Parâmetro associado: :produto_id = 2 (tipo: 1)
[2025-09-05 19:04:09] [DATABASE ERROR] Parâmetro associado: :produto_id = 2 (tipo: 1)
[2025-09-05 19:04:10] [DATABASE ERROR] Parâmetro associado: :produto_id = 3 (tipo: 1)
[2025-09-05 19:04:10] [DATABASE ERROR] Parâmetro associado: :produto_id = 3 (tipo: 1)
[2025-09-05 19:04:59] [DATABASE ERROR] Preparando query: SELECT * FROM produtos WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-05 19:04:59] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-05 19:04:59] [DATABASE ERROR] Debug PDO após binding: SQL: [43] SELECT * FROM produtos WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-05 19:05:06] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-05 19:05:06] [DATABASE ERROR] Parâmetro associado: :produto_id = 3 (tipo: 1)
[2025-09-05 19:05:06] [DATABASE ERROR] Parâmetro associado: :produto_id = 3 (tipo: 1)
[2025-09-05 19:05:11] [DATABASE ERROR] Parâmetro associado: :produto_id = 1 (tipo: 1)
[2025-09-05 19:05:21] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-05 19:12:13] [DATABASE ERROR] Preparando query: SELECT * FROM produtos WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-05 19:12:13] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-05 19:12:13] [DATABASE ERROR] Debug PDO após binding: SQL: [43] SELECT * FROM produtos WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-05 19:12:23] [DATABASE ERROR] Parâmetro associado: :id = 2 (tipo: 1)
[2025-09-05 19:12:23] [DATABASE ERROR] Parâmetro associado: :produto_id = 2 (tipo: 1)
[2025-09-05 19:12:23] [DATABASE ERROR] Parâmetro associado: :produto_id = 2 (tipo: 1)
[2025-09-05 19:12:30] [DATABASE ERROR] Parâmetro associado: :produto_id = 1 (tipo: 1)
[2025-09-05 19:12:42] [DATABASE ERROR] Parâmetro associado: :produto_id = 2 (tipo: 1)
[2025-09-05 19:12:53] [DATABASE ERROR] Parâmetro associado: :produto_id = 2 (tipo: 1)
[2025-09-05 19:13:04] [DATABASE ERROR] Parâmetro associado: :produto_id = 3 (tipo: 1)
[2025-09-05 19:13:04] [DATABASE ERROR] Parâmetro associado: :produto_id = 3 (tipo: 1)
[2025-09-05 19:41:24] [DATABASE ERROR] Parâmetro associado: :user_id = 2 (tipo: 1)
[2025-09-05 19:41:32] [DATABASE ERROR] Parâmetro associado: :username = Flávio (tipo: 2)
[2025-09-05 19:41:32] [DATABASE ERROR] Parâmetro associado: :email = Flávio (tipo: 2)
[2025-09-05 19:41:32] [DATABASE ERROR] Preparando query: UPDATE usuarios SET ultimo_acesso = NOW() WHERE id = :id com parâmetros: {":id":2}
[2025-09-05 19:41:32] [DATABASE ERROR] Parâmetro associado: :id = 2 (tipo: 1)
[2025-09-05 19:41:32] [DATABASE ERROR] Debug PDO após binding: SQL: [56] UPDATE usuarios SET ultimo_acesso = NOW() WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-05 19:41:32] [DATABASE ERROR] Parâmetro associado: :id = s0cvn8klv5nijmbqkimig3kuo3 (tipo: 2)
[2025-09-05 19:41:32] [DATABASE ERROR] Parâmetro associado: :id = s0cvn8klv5nijmbqkimig3kuo3 (tipo: 2)
[2025-09-05 19:41:32] [DATABASE ERROR] Parâmetro associado: :usuario_id = 2 (tipo: 1)
[2025-09-05 19:41:32] [DATABASE ERROR] Parâmetro associado: :ip_address = ::1 (tipo: 2)
[2025-09-05 19:41:32] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36 Edg/139.0.0.0 (tipo: 2)
[2025-09-05 19:41:32] [DATABASE ERROR] Parâmetro associado: :dados = {"user_id":2,"user_name":"Fl\u00e1vio","user_email":"flavioafj@yahoo.com.br","user_profile":2,"user_profile_name":"Operador","logged_in":true,"login_time":1757112092} (tipo: 2)
[2025-09-05 19:47:05] [DATABASE ERROR] Parâmetro associado: :user_id = 2 (tipo: 1)
[2025-09-05 19:47:11] [DATABASE ERROR] Parâmetro associado: :username = admin (tipo: 2)
[2025-09-05 19:47:11] [DATABASE ERROR] Parâmetro associado: :email = admin (tipo: 2)
[2025-09-05 19:47:11] [DATABASE ERROR] Preparando query: UPDATE usuarios SET ultimo_acesso = NOW() WHERE id = :id com parâmetros: {":id":1}
[2025-09-05 19:47:11] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-09-05 19:47:11] [DATABASE ERROR] Debug PDO após binding: SQL: [56] UPDATE usuarios SET ultimo_acesso = NOW() WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-05 19:47:11] [DATABASE ERROR] Parâmetro associado: :id = 3i71usepd2rtclm2ibqhokpf7t (tipo: 2)
[2025-09-05 19:47:11] [DATABASE ERROR] Parâmetro associado: :id = 3i71usepd2rtclm2ibqhokpf7t (tipo: 2)
[2025-09-05 19:47:11] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-09-05 19:47:11] [DATABASE ERROR] Parâmetro associado: :ip_address = ::1 (tipo: 2)
[2025-09-05 19:47:11] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36 Edg/139.0.0.0 (tipo: 2)
[2025-09-05 19:47:11] [DATABASE ERROR] Parâmetro associado: :dados = {"user_id":1,"user_name":"Administrador do Sistema","user_email":"admin@sorveteria.com","user_profile":1,"user_profile_name":"Administrador","logged_in":true,"login_time":1757112431} (tipo: 2)
[2025-09-05 20:16:42] [DATABASE ERROR] Parâmetro associado: :alert_id = 6 (tipo: 1)
[2025-09-05 20:16:42] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-09-05 20:16:42] [DATABASE ERROR] Parâmetro associado: :tabela = alertas_estoque (tipo: 2)
[2025-09-05 20:16:42] [DATABASE ERROR] Parâmetro associado: :registro_id = 6 (tipo: 1)
[2025-09-05 20:16:42] [DATABASE ERROR] Parâmetro associado: :acao = alertas_estoque (tipo: 2)
[2025-09-05 20:16:42] [DATABASE ERROR] Parâmetro associado: :dados_anteriores = "UPDATE" (tipo: 2)
[2025-09-05 20:16:42] [DATABASE ERROR] Parâmetro associado: :dados_novos = {"lido":false} (tipo: 2)
[2025-09-05 20:16:42] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-09-05 20:16:42] [DATABASE ERROR] Parâmetro associado: :ip_address = ::1 (tipo: 2)
[2025-09-05 20:16:42] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36 Edg/139.0.0.0 (tipo: 2)
[2025-09-05 20:17:06] [DATABASE ERROR] Parâmetro associado: :alert_id = 5 (tipo: 1)
[2025-09-05 20:17:06] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-09-05 20:17:06] [DATABASE ERROR] Parâmetro associado: :tabela = alertas_estoque (tipo: 2)
[2025-09-05 20:17:06] [DATABASE ERROR] Parâmetro associado: :registro_id = 5 (tipo: 1)
[2025-09-05 20:17:06] [DATABASE ERROR] Parâmetro associado: :acao = alertas_estoque (tipo: 2)
[2025-09-05 20:17:06] [DATABASE ERROR] Parâmetro associado: :dados_anteriores = "UPDATE" (tipo: 2)
[2025-09-05 20:17:06] [DATABASE ERROR] Parâmetro associado: :dados_novos = {"lido":false} (tipo: 2)
[2025-09-05 20:17:06] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-09-05 20:17:06] [DATABASE ERROR] Parâmetro associado: :ip_address = ::1 (tipo: 2)
[2025-09-05 20:17:06] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36 Edg/139.0.0.0 (tipo: 2)
[2025-09-05 20:17:11] [DATABASE ERROR] Parâmetro associado: :alert_id = 4 (tipo: 1)
[2025-09-05 20:17:11] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-09-05 20:17:11] [DATABASE ERROR] Parâmetro associado: :tabela = alertas_estoque (tipo: 2)
[2025-09-05 20:17:11] [DATABASE ERROR] Parâmetro associado: :registro_id = 4 (tipo: 1)
[2025-09-05 20:17:11] [DATABASE ERROR] Parâmetro associado: :acao = alertas_estoque (tipo: 2)
[2025-09-05 20:17:11] [DATABASE ERROR] Parâmetro associado: :dados_anteriores = "UPDATE" (tipo: 2)
[2025-09-05 20:17:11] [DATABASE ERROR] Parâmetro associado: :dados_novos = {"lido":false} (tipo: 2)
[2025-09-05 20:17:11] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-09-05 20:17:11] [DATABASE ERROR] Parâmetro associado: :ip_address = ::1 (tipo: 2)
[2025-09-05 20:17:11] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36 Edg/139.0.0.0 (tipo: 2)
[2025-09-05 20:19:32] [DATABASE ERROR] Parâmetro associado: :user_id = 1 (tipo: 1)
[2025-09-05 20:19:37] [DATABASE ERROR] Parâmetro associado: :username = Flávio (tipo: 2)
[2025-09-05 20:19:37] [DATABASE ERROR] Parâmetro associado: :email = Flávio (tipo: 2)
[2025-09-05 20:19:37] [DATABASE ERROR] Preparando query: UPDATE usuarios SET ultimo_acesso = NOW() WHERE id = :id com parâmetros: {":id":2}
[2025-09-05 20:19:37] [DATABASE ERROR] Parâmetro associado: :id = 2 (tipo: 1)
[2025-09-05 20:19:37] [DATABASE ERROR] Debug PDO após binding: SQL: [56] UPDATE usuarios SET ultimo_acesso = NOW() WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-05 20:19:37] [DATABASE ERROR] Parâmetro associado: :id = u4umf1die2ggio9kvpg4haenvh (tipo: 2)
[2025-09-05 20:19:37] [DATABASE ERROR] Parâmetro associado: :id = u4umf1die2ggio9kvpg4haenvh (tipo: 2)
[2025-09-05 20:19:37] [DATABASE ERROR] Parâmetro associado: :usuario_id = 2 (tipo: 1)
[2025-09-05 20:19:37] [DATABASE ERROR] Parâmetro associado: :ip_address = ::1 (tipo: 2)
[2025-09-05 20:19:37] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36 Edg/139.0.0.0 (tipo: 2)
[2025-09-05 20:19:37] [DATABASE ERROR] Parâmetro associado: :dados = {"user_id":2,"user_name":"Fl\u00e1vio","user_email":"flavioafj2@yahoo.com.br","user_profile":2,"user_profile_name":"Operador","logged_in":true,"login_time":1757114377} (tipo: 2)
[2025-09-05 20:20:30] [DATABASE ERROR] Preparando query: SELECT * FROM produtos WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-05 20:20:30] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-05 20:20:30] [DATABASE ERROR] Debug PDO após binding: SQL: [43] SELECT * FROM produtos WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-05 20:20:39] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-09-05 20:20:39] [DATABASE ERROR] Parâmetro associado: :produto_id = 1 (tipo: 1)
[2025-09-05 20:20:39] [DATABASE ERROR] Parâmetro associado: :produto_id = 1 (tipo: 1)
[2025-09-05 20:20:39] [DATABASE ERROR] Parâmetro associado: :produto_id = 1 (tipo: 1)
[2025-09-05 20:20:39] [DATABASE ERROR] Parâmetro associado: :mensagem = Produto LEITE A XANDO INTEGRAL com estoque baixo: 2.000 <= 2.000. (tipo: 2)
[2025-09-05 20:20:39] [DATABASE ERROR] Parâmetro associado: :tabela = alertas_estoque (tipo: 2)
[2025-09-05 20:20:39] [DATABASE ERROR] Parâmetro associado: :registro_id = 7 (tipo: 2)
[2025-09-05 20:20:39] [DATABASE ERROR] Parâmetro associado: :acao = alertas_estoque (tipo: 2)
[2025-09-05 20:20:39] [DATABASE ERROR] Parâmetro associado: :dados_anteriores = "INSERT" (tipo: 2)
[2025-09-05 20:20:39] [DATABASE ERROR] Parâmetro associado: :dados_novos = NULL (tipo: 0)
[2025-09-05 20:20:39] [DATABASE ERROR] Parâmetro associado: :usuario_id = 2 (tipo: 1)
[2025-09-05 20:20:39] [DATABASE ERROR] Parâmetro associado: :ip_address = ::1 (tipo: 2)
[2025-09-05 20:20:39] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36 Edg/139.0.0.0 (tipo: 2)
[2025-09-05 20:20:39] [DATABASE ERROR] Parâmetro associado: :alert_id = 7 (tipo: 1)
[2025-09-05 20:21:44] [DATABASE ERROR] Parâmetro associado: :produto_id = 1 (tipo: 1)
[2025-09-05 20:21:44] [DATABASE ERROR] Parâmetro associado: :produto_id = 1 (tipo: 1)
[2025-09-05 20:21:44] [DATABASE ERROR] Parâmetro associado: :produto_id = 2 (tipo: 1)
[2025-09-05 20:21:44] [DATABASE ERROR] Parâmetro associado: :produto_id = 3 (tipo: 1)
[2025-09-05 20:28:46] [DATABASE ERROR] Preparando query: SELECT * FROM produtos WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-05 20:28:46] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-05 20:28:46] [DATABASE ERROR] Debug PDO após binding: SQL: [43] SELECT * FROM produtos WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-05 20:28:54] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-09-05 20:28:54] [DATABASE ERROR] Parâmetro associado: :produto_id = 1 (tipo: 1)
[2025-09-05 20:28:54] [DATABASE ERROR] Parâmetro associado: :produto_id = 1 (tipo: 1)
[2025-09-05 20:29:02] [DATABASE ERROR] Parâmetro associado: :produto_id = 1 (tipo: 1)
[2025-09-05 20:29:06] [DATABASE ERROR] Parâmetro associado: :produto_id = 1 (tipo: 1)
[2025-09-05 20:29:12] [DATABASE ERROR] Parâmetro associado: :produto_id = 2 (tipo: 1)
[2025-09-05 20:29:13] [DATABASE ERROR] Parâmetro associado: :produto_id = 3 (tipo: 1)
[2025-09-05 20:29:28] [DATABASE ERROR] Preparando query: SELECT * FROM produtos WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-05 20:29:28] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-05 20:29:28] [DATABASE ERROR] Debug PDO após binding: SQL: [43] SELECT * FROM produtos WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-05 20:29:39] [DATABASE ERROR] Parâmetro associado: :id = 2 (tipo: 1)
[2025-09-05 20:29:39] [DATABASE ERROR] Parâmetro associado: :produto_id = 2 (tipo: 1)
[2025-09-05 20:29:39] [DATABASE ERROR] Parâmetro associado: :produto_id = 2 (tipo: 1)
[2025-09-05 20:29:39] [DATABASE ERROR] Parâmetro associado: :produto_id = 2 (tipo: 1)
[2025-09-05 20:29:39] [DATABASE ERROR] Parâmetro associado: :mensagem = Produto MANTEIGA S/SAL TABL XANDO com estoque baixo: 7.000 <= 10.000. (tipo: 2)
[2025-09-05 20:29:39] [DATABASE ERROR] Parâmetro associado: :tabela = alertas_estoque (tipo: 2)
[2025-09-05 20:29:39] [DATABASE ERROR] Parâmetro associado: :registro_id = 8 (tipo: 2)
[2025-09-05 20:29:39] [DATABASE ERROR] Parâmetro associado: :acao = alertas_estoque (tipo: 2)
[2025-09-05 20:29:39] [DATABASE ERROR] Parâmetro associado: :dados_anteriores = "INSERT" (tipo: 2)
[2025-09-05 20:29:39] [DATABASE ERROR] Parâmetro associado: :dados_novos = NULL (tipo: 0)
[2025-09-05 20:29:39] [DATABASE ERROR] Parâmetro associado: :usuario_id = 2 (tipo: 1)
[2025-09-05 20:29:39] [DATABASE ERROR] Parâmetro associado: :ip_address = ::1 (tipo: 2)
[2025-09-05 20:29:39] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36 Edg/139.0.0.0 (tipo: 2)
[2025-09-05 20:29:39] [DATABASE ERROR] Parâmetro associado: :alert_id = 8 (tipo: 1)
[2025-09-05 20:30:44] [DATABASE ERROR] Parâmetro associado: :produto_id = 1 (tipo: 1)
[2025-09-05 20:30:44] [DATABASE ERROR] Parâmetro associado: :produto_id = 1 (tipo: 1)
[2025-09-05 20:30:46] [DATABASE ERROR] Parâmetro associado: :produto_id = 2 (tipo: 1)
[2025-09-05 20:30:46] [DATABASE ERROR] Parâmetro associado: :produto_id = 2 (tipo: 1)
[2025-09-05 20:30:47] [DATABASE ERROR] Parâmetro associado: :produto_id = 3 (tipo: 1)
[2025-09-05 20:44:33] [DATABASE ERROR] Preparando query: SELECT * FROM produtos WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-05 20:44:33] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-05 20:44:33] [DATABASE ERROR] Debug PDO após binding: SQL: [43] SELECT * FROM produtos WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-05 20:44:43] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-05 20:44:43] [DATABASE ERROR] Parâmetro associado: :produto_id = 3 (tipo: 1)
[2025-09-05 20:44:53] [DATABASE ERROR] Parâmetro associado: :produto_id = 1 (tipo: 1)
[2025-09-05 20:44:56] [DATABASE ERROR] Parâmetro associado: :produto_id = 1 (tipo: 1)
[2025-09-05 20:44:58] [DATABASE ERROR] Parâmetro associado: :produto_id = 2 (tipo: 1)
[2025-09-05 20:44:58] [DATABASE ERROR] Parâmetro associado: :produto_id = 2 (tipo: 1)
[2025-09-05 20:44:59] [DATABASE ERROR] Parâmetro associado: :produto_id = 3 (tipo: 1)
[2025-09-05 20:45:58] [DATABASE ERROR] Preparando query: SELECT * FROM produtos WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-05 20:45:58] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-05 20:45:58] [DATABASE ERROR] Debug PDO após binding: SQL: [43] SELECT * FROM produtos WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-05 20:46:07] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-05 20:46:07] [DATABASE ERROR] Parâmetro associado: :produto_id = 3 (tipo: 1)
[2025-09-05 20:46:07] [DATABASE ERROR] Parâmetro associado: :produto_id = 3 (tipo: 1)
[2025-09-05 20:46:07] [DATABASE ERROR] Parâmetro associado: :produto_id = 3 (tipo: 1)
[2025-09-05 20:46:07] [DATABASE ERROR] Parâmetro associado: :mensagem = Produto CREME DE LEITE PASTEUR com estoque baixo: 1.000 <= 2.000. (tipo: 2)
[2025-09-05 20:46:07] [DATABASE ERROR] Parâmetro associado: :tabela = alertas_estoque (tipo: 2)
[2025-09-05 20:46:07] [DATABASE ERROR] Parâmetro associado: :registro_id = 9 (tipo: 2)
[2025-09-05 20:46:07] [DATABASE ERROR] Parâmetro associado: :acao = alertas_estoque (tipo: 2)
[2025-09-05 20:46:07] [DATABASE ERROR] Parâmetro associado: :dados_anteriores = "INSERT" (tipo: 2)
[2025-09-05 20:46:07] [DATABASE ERROR] Parâmetro associado: :dados_novos = NULL (tipo: 0)
[2025-09-05 20:46:07] [DATABASE ERROR] Parâmetro associado: :usuario_id = 2 (tipo: 1)
[2025-09-05 20:46:07] [DATABASE ERROR] Parâmetro associado: :ip_address = ::1 (tipo: 2)
[2025-09-05 20:46:07] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36 Edg/139.0.0.0 (tipo: 2)
[2025-09-05 20:46:07] [DATABASE ERROR] Parâmetro associado: :alert_id = 9 (tipo: 1)
[2025-09-05 20:46:35] [DATABASE ERROR] Preparando query: SELECT * FROM produtos WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-05 20:46:35] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-05 20:46:35] [DATABASE ERROR] Debug PDO após binding: SQL: [43] SELECT * FROM produtos WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-05 20:48:37] [DATABASE ERROR] Preparando query: SELECT * FROM produtos WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-05 20:48:37] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-05 20:48:37] [DATABASE ERROR] Debug PDO após binding: SQL: [43] SELECT * FROM produtos WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-05 20:54:35] [DATABASE ERROR] Preparando query: SELECT * FROM produtos WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-05 20:54:35] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-05 20:54:35] [DATABASE ERROR] Debug PDO após binding: SQL: [43] SELECT * FROM produtos WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-05 20:55:05] [DATABASE ERROR] Preparando query: SELECT * FROM produtos WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-05 20:55:05] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-05 20:55:05] [DATABASE ERROR] Debug PDO após binding: SQL: [43] SELECT * FROM produtos WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-05 22:38:30] [DATABASE ERROR] Parâmetro associado: :user_id = 2 (tipo: 1)
[2025-09-05 22:38:46] [DATABASE ERROR] Parâmetro associado: :username = admin (tipo: 2)
[2025-09-05 22:38:46] [DATABASE ERROR] Parâmetro associado: :email = admin (tipo: 2)
[2025-09-05 22:38:47] [DATABASE ERROR] Preparando query: UPDATE usuarios SET ultimo_acesso = NOW() WHERE id = :id com parâmetros: {":id":1}
[2025-09-05 22:38:47] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-09-05 22:38:47] [DATABASE ERROR] Debug PDO após binding: SQL: [56] UPDATE usuarios SET ultimo_acesso = NOW() WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-05 22:38:47] [DATABASE ERROR] Parâmetro associado: :id = 457ud9ukim80kd2eipj5lm0b2i (tipo: 2)
[2025-09-05 22:38:47] [DATABASE ERROR] Parâmetro associado: :id = 457ud9ukim80kd2eipj5lm0b2i (tipo: 2)
[2025-09-05 22:38:47] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-09-05 22:38:47] [DATABASE ERROR] Parâmetro associado: :ip_address = ::1 (tipo: 2)
[2025-09-05 22:38:47] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36 Edg/139.0.0.0 (tipo: 2)
[2025-09-05 22:38:47] [DATABASE ERROR] Parâmetro associado: :dados = {"user_id":1,"user_name":"Administrador do Sistema","user_email":"flavioafj@yahoo.com.br","user_profile":1,"user_profile_name":"Administrador","logged_in":true,"login_time":1757122727} (tipo: 2)
[2025-09-05 22:38:56] [DATABASE ERROR] Parâmetro associado: :user_id = 1 (tipo: 1)
[2025-09-05 22:39:00] [DATABASE ERROR] Parâmetro associado: :username = Flávio (tipo: 2)
[2025-09-05 22:39:00] [DATABASE ERROR] Parâmetro associado: :email = Flávio (tipo: 2)
[2025-09-05 22:39:00] [DATABASE ERROR] Preparando query: UPDATE usuarios SET ultimo_acesso = NOW() WHERE id = :id com parâmetros: {":id":2}
[2025-09-05 22:39:00] [DATABASE ERROR] Parâmetro associado: :id = 2 (tipo: 1)
[2025-09-05 22:39:00] [DATABASE ERROR] Debug PDO após binding: SQL: [56] UPDATE usuarios SET ultimo_acesso = NOW() WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-05 22:39:00] [DATABASE ERROR] Parâmetro associado: :id = u1qsgt8o8f8n7p4se780q6h3p0 (tipo: 2)
[2025-09-05 22:39:00] [DATABASE ERROR] Parâmetro associado: :id = u1qsgt8o8f8n7p4se780q6h3p0 (tipo: 2)
[2025-09-05 22:39:00] [DATABASE ERROR] Parâmetro associado: :usuario_id = 2 (tipo: 1)
[2025-09-05 22:39:00] [DATABASE ERROR] Parâmetro associado: :ip_address = ::1 (tipo: 2)
[2025-09-05 22:39:00] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36 Edg/139.0.0.0 (tipo: 2)
[2025-09-05 22:39:00] [DATABASE ERROR] Parâmetro associado: :dados = {"user_id":2,"user_name":"Fl\u00e1vio","user_email":"flavioafj2@yahoo.com.br","user_profile":2,"user_profile_name":"Operador","logged_in":true,"login_time":1757122740} (tipo: 2)
[2025-09-05 22:39:08] [DATABASE ERROR] Preparando query: SELECT * FROM produtos WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-05 22:39:08] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-05 22:39:08] [DATABASE ERROR] Debug PDO após binding: SQL: [43] SELECT * FROM produtos WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-05 22:39:57] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-09-05 22:39:57] [DATABASE ERROR] Parâmetro associado: :produto_id = 1 (tipo: 1)
[2025-09-05 22:39:57] [DATABASE ERROR] Parâmetro associado: :produto_id = 1 (tipo: 1)
[2025-09-05 22:40:05] [DATABASE ERROR] Parâmetro associado: :produto_id = 1 (tipo: 1)
[2025-09-05 22:40:07] [DATABASE ERROR] Parâmetro associado: :produto_id = 1 (tipo: 1)
[2025-09-05 22:40:15] [DATABASE ERROR] Parâmetro associado: :produto_id = 2 (tipo: 1)
[2025-09-05 22:40:19] [DATABASE ERROR] Parâmetro associado: :produto_id = 3 (tipo: 1)
[2025-09-05 22:40:22] [DATABASE ERROR] Preparando query: SELECT * FROM produtos WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-05 22:40:22] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-05 22:40:22] [DATABASE ERROR] Debug PDO após binding: SQL: [43] SELECT * FROM produtos WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-05 22:40:31] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-05 22:40:31] [DATABASE ERROR] Parâmetro associado: :produto_id = 3 (tipo: 1)
[2025-09-05 22:40:31] [DATABASE ERROR] Parâmetro associado: :produto_id = 3 (tipo: 1)
[2025-09-05 22:40:31] [DATABASE ERROR] Parâmetro associado: :produto_id = 3 (tipo: 1)
[2025-09-05 22:40:31] [DATABASE ERROR] Parâmetro associado: :mensagem = Produto CREME DE LEITE PASTEUR com estoque baixo: 1.000 <= 2.000. (tipo: 2)
[2025-09-05 22:40:31] [DATABASE ERROR] Parâmetro associado: :tabela = alertas_estoque (tipo: 2)
[2025-09-05 22:40:31] [DATABASE ERROR] Parâmetro associado: :registro_id = 10 (tipo: 2)
[2025-09-05 22:40:31] [DATABASE ERROR] Parâmetro associado: :acao = alertas_estoque (tipo: 2)
[2025-09-05 22:40:31] [DATABASE ERROR] Parâmetro associado: :dados_anteriores = "INSERT" (tipo: 2)
[2025-09-05 22:40:31] [DATABASE ERROR] Parâmetro associado: :dados_novos = NULL (tipo: 0)
[2025-09-05 22:40:31] [DATABASE ERROR] Parâmetro associado: :usuario_id = 2 (tipo: 1)
[2025-09-05 22:40:31] [DATABASE ERROR] Parâmetro associado: :ip_address = ::1 (tipo: 2)
[2025-09-05 22:40:31] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36 Edg/139.0.0.0 (tipo: 2)
[2025-09-05 22:40:31] [DATABASE ERROR] Parâmetro associado: :alert_id = 10 (tipo: 1)
[2025-09-05 22:42:17] [DATABASE ERROR] Parâmetro associado: :produto_id = 1 (tipo: 1)
[2025-09-05 22:42:17] [DATABASE ERROR] Parâmetro associado: :produto_id = 1 (tipo: 1)
[2025-09-05 22:42:17] [DATABASE ERROR] Parâmetro associado: :produto_id = 2 (tipo: 1)
[2025-09-05 22:42:17] [DATABASE ERROR] Parâmetro associado: :produto_id = 3 (tipo: 1)
[2025-09-05 22:42:17] [DATABASE ERROR] Parâmetro associado: :produto_id = 3 (tipo: 1)
[2025-09-05 22:46:03] [DATABASE ERROR] Preparando query: SELECT * FROM produtos WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-05 22:46:03] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-05 22:46:03] [DATABASE ERROR] Debug PDO após binding: SQL: [43] SELECT * FROM produtos WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-05 22:46:15] [DATABASE ERROR] Parâmetro associado: :id = 2 (tipo: 1)
[2025-09-05 22:46:15] [DATABASE ERROR] Parâmetro associado: :produto_id = 2 (tipo: 1)
[2025-09-05 22:46:15] [DATABASE ERROR] Parâmetro associado: :produto_id = 2 (tipo: 1)
[2025-09-05 22:46:25] [DATABASE ERROR] Parâmetro associado: :produto_id = 1 (tipo: 1)
[2025-09-05 22:46:27] [DATABASE ERROR] Parâmetro associado: :produto_id = 1 (tipo: 1)
[2025-09-05 22:46:29] [DATABASE ERROR] Parâmetro associado: :produto_id = 2 (tipo: 1)
[2025-09-05 22:46:29] [DATABASE ERROR] Parâmetro associado: :produto_id = 2 (tipo: 1)
[2025-09-05 22:46:30] [DATABASE ERROR] Parâmetro associado: :produto_id = 3 (tipo: 1)
[2025-09-05 22:46:30] [DATABASE ERROR] Parâmetro associado: :produto_id = 3 (tipo: 1)
[2025-09-05 22:50:06] [DATABASE ERROR] Preparando query: SELECT * FROM produtos WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-05 22:50:06] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-05 22:50:06] [DATABASE ERROR] Debug PDO após binding: SQL: [43] SELECT * FROM produtos WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-05 22:50:16] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-09-05 22:50:16] [DATABASE ERROR] Parâmetro associado: :produto_id = 1 (tipo: 1)
[2025-09-05 22:50:16] [DATABASE ERROR] Parâmetro associado: :produto_id = 1 (tipo: 1)
[2025-09-05 22:50:21] [DATABASE ERROR] Parâmetro associado: :produto_id = 1 (tipo: 1)
[2025-09-05 22:50:24] [DATABASE ERROR] Parâmetro associado: :produto_id = 1 (tipo: 1)
[2025-09-05 22:50:28] [DATABASE ERROR] Parâmetro associado: :produto_id = 2 (tipo: 1)
[2025-09-05 22:50:36] [DATABASE ERROR] Parâmetro associado: :produto_id = 3 (tipo: 1)
[2025-09-05 22:50:59] [DATABASE ERROR] Preparando query: SELECT * FROM produtos WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-05 22:50:59] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-05 22:50:59] [DATABASE ERROR] Debug PDO após binding: SQL: [43] SELECT * FROM produtos WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-05 22:51:11] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-05 22:51:11] [DATABASE ERROR] Parâmetro associado: :produto_id = 3 (tipo: 1)
[2025-09-05 22:51:11] [DATABASE ERROR] Parâmetro associado: :produto_id = 3 (tipo: 1)
[2025-09-05 22:51:18] [DATABASE ERROR] Parâmetro associado: :produto_id = 1 (tipo: 1)
[2025-09-05 22:51:23] [DATABASE ERROR] Parâmetro associado: :produto_id = 1 (tipo: 1)
[2025-09-05 22:51:31] [DATABASE ERROR] Parâmetro associado: :produto_id = 2 (tipo: 1)
[2025-09-05 22:51:36] [DATABASE ERROR] Parâmetro associado: :produto_id = 3 (tipo: 1)
[2025-09-05 22:51:36] [DATABASE ERROR] Parâmetro associado: :produto_id = 3 (tipo: 1)
[2025-09-05 22:52:08] [DATABASE ERROR] Parâmetro associado: :user_id = 2 (tipo: 1)
[2025-09-05 22:52:14] [DATABASE ERROR] Parâmetro associado: :username = admin (tipo: 2)
[2025-09-05 22:52:14] [DATABASE ERROR] Parâmetro associado: :email = admin (tipo: 2)
[2025-09-05 22:52:14] [DATABASE ERROR] Preparando query: UPDATE usuarios SET ultimo_acesso = NOW() WHERE id = :id com parâmetros: {":id":1}
[2025-09-05 22:52:14] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-09-05 22:52:14] [DATABASE ERROR] Debug PDO após binding: SQL: [56] UPDATE usuarios SET ultimo_acesso = NOW() WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-05 22:52:14] [DATABASE ERROR] Parâmetro associado: :id = n9vg80altep6e7hoertssek9am (tipo: 2)
[2025-09-05 22:52:14] [DATABASE ERROR] Parâmetro associado: :id = n9vg80altep6e7hoertssek9am (tipo: 2)
[2025-09-05 22:52:14] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-09-05 22:52:14] [DATABASE ERROR] Parâmetro associado: :ip_address = ::1 (tipo: 2)
[2025-09-05 22:52:14] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36 Edg/139.0.0.0 (tipo: 2)
[2025-09-05 22:52:14] [DATABASE ERROR] Parâmetro associado: :dados = {"user_id":1,"user_name":"Administrador do Sistema","user_email":"flavioafj@yahoo.com.br","user_profile":1,"user_profile_name":"Administrador","logged_in":true,"login_time":1757123534} (tipo: 2)
[2025-09-05 22:52:31] [DATABASE ERROR] Parâmetro associado: :alert_id = 10 (tipo: 1)
[2025-09-05 22:52:31] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-09-05 22:52:31] [DATABASE ERROR] Parâmetro associado: :tabela = alertas_estoque (tipo: 2)
[2025-09-05 22:52:31] [DATABASE ERROR] Parâmetro associado: :registro_id = 10 (tipo: 1)
[2025-09-05 22:52:31] [DATABASE ERROR] Parâmetro associado: :acao = alertas_estoque (tipo: 2)
[2025-09-05 22:52:31] [DATABASE ERROR] Parâmetro associado: :dados_anteriores = "UPDATE" (tipo: 2)
[2025-09-05 22:52:31] [DATABASE ERROR] Parâmetro associado: :dados_novos = {"lido":false} (tipo: 2)
[2025-09-05 22:52:31] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-09-05 22:52:31] [DATABASE ERROR] Parâmetro associado: :ip_address = ::1 (tipo: 2)
[2025-09-05 22:52:31] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36 Edg/139.0.0.0 (tipo: 2)
[2025-09-05 22:52:32] [DATABASE ERROR] Parâmetro associado: :alert_id = 8 (tipo: 1)
[2025-09-05 22:52:32] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-09-05 22:52:32] [DATABASE ERROR] Parâmetro associado: :tabela = alertas_estoque (tipo: 2)
[2025-09-05 22:52:32] [DATABASE ERROR] Parâmetro associado: :registro_id = 8 (tipo: 1)
[2025-09-05 22:52:32] [DATABASE ERROR] Parâmetro associado: :acao = alertas_estoque (tipo: 2)
[2025-09-05 22:52:32] [DATABASE ERROR] Parâmetro associado: :dados_anteriores = "UPDATE" (tipo: 2)
[2025-09-05 22:52:32] [DATABASE ERROR] Parâmetro associado: :dados_novos = {"lido":false} (tipo: 2)
[2025-09-05 22:52:32] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-09-05 22:52:32] [DATABASE ERROR] Parâmetro associado: :ip_address = ::1 (tipo: 2)
[2025-09-05 22:52:32] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36 Edg/139.0.0.0 (tipo: 2)
[2025-09-05 22:52:33] [DATABASE ERROR] Parâmetro associado: :alert_id = 7 (tipo: 1)
[2025-09-05 22:52:33] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-09-05 22:52:33] [DATABASE ERROR] Parâmetro associado: :tabela = alertas_estoque (tipo: 2)
[2025-09-05 22:52:33] [DATABASE ERROR] Parâmetro associado: :registro_id = 7 (tipo: 1)
[2025-09-05 22:52:33] [DATABASE ERROR] Parâmetro associado: :acao = alertas_estoque (tipo: 2)
[2025-09-05 22:52:33] [DATABASE ERROR] Parâmetro associado: :dados_anteriores = "UPDATE" (tipo: 2)
[2025-09-05 22:52:33] [DATABASE ERROR] Parâmetro associado: :dados_novos = {"lido":false} (tipo: 2)
[2025-09-05 22:52:33] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-09-05 22:52:33] [DATABASE ERROR] Parâmetro associado: :ip_address = ::1 (tipo: 2)
[2025-09-05 22:52:33] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36 Edg/139.0.0.0 (tipo: 2)
[2025-09-05 22:52:36] [DATABASE ERROR] Parâmetro associado: :user_id = 1 (tipo: 1)
[2025-09-05 22:52:46] [DATABASE ERROR] Parâmetro associado: :username = Flávio (tipo: 2)
[2025-09-05 22:52:46] [DATABASE ERROR] Parâmetro associado: :email = Flávio (tipo: 2)
[2025-09-05 22:52:47] [DATABASE ERROR] Preparando query: UPDATE usuarios SET ultimo_acesso = NOW() WHERE id = :id com parâmetros: {":id":2}
[2025-09-05 22:52:47] [DATABASE ERROR] Parâmetro associado: :id = 2 (tipo: 1)
[2025-09-05 22:52:47] [DATABASE ERROR] Debug PDO após binding: SQL: [56] UPDATE usuarios SET ultimo_acesso = NOW() WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-05 22:52:47] [DATABASE ERROR] Parâmetro associado: :id = ne3hv6nvhohi7uhh071elfjpc7 (tipo: 2)
[2025-09-05 22:52:47] [DATABASE ERROR] Parâmetro associado: :id = ne3hv6nvhohi7uhh071elfjpc7 (tipo: 2)
[2025-09-05 22:52:47] [DATABASE ERROR] Parâmetro associado: :usuario_id = 2 (tipo: 1)
[2025-09-05 22:52:47] [DATABASE ERROR] Parâmetro associado: :ip_address = ::1 (tipo: 2)
[2025-09-05 22:52:47] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36 Edg/139.0.0.0 (tipo: 2)
[2025-09-05 22:52:47] [DATABASE ERROR] Parâmetro associado: :dados = {"user_id":2,"user_name":"Fl\u00e1vio","user_email":"flavioafj2@yahoo.com.br","user_profile":2,"user_profile_name":"Operador","logged_in":true,"login_time":1757123567} (tipo: 2)
[2025-09-05 22:52:49] [DATABASE ERROR] Preparando query: SELECT * FROM produtos WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-05 22:52:49] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-05 22:52:49] [DATABASE ERROR] Debug PDO após binding: SQL: [43] SELECT * FROM produtos WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-05 22:52:58] [DATABASE ERROR] Parâmetro associado: :id = 2 (tipo: 1)
[2025-09-05 22:52:58] [DATABASE ERROR] Parâmetro associado: :produto_id = 2 (tipo: 1)
[2025-09-05 22:52:58] [DATABASE ERROR] Parâmetro associado: :produto_id = 2 (tipo: 1)
[2025-09-05 22:52:58] [DATABASE ERROR] Parâmetro associado: :produto_id = 2 (tipo: 1)
[2025-09-05 22:52:58] [DATABASE ERROR] Parâmetro associado: :mensagem = Produto MANTEIGA S/SAL TABL XANDO com estoque baixo: 9.000 <= 10.000. (tipo: 2)
[2025-09-05 22:52:58] [DATABASE ERROR] Parâmetro associado: :tabela = alertas_estoque (tipo: 2)
[2025-09-05 22:52:58] [DATABASE ERROR] Parâmetro associado: :registro_id = 11 (tipo: 2)
[2025-09-05 22:52:58] [DATABASE ERROR] Parâmetro associado: :acao = alertas_estoque (tipo: 2)
[2025-09-05 22:52:58] [DATABASE ERROR] Parâmetro associado: :dados_anteriores = "INSERT" (tipo: 2)
[2025-09-05 22:52:58] [DATABASE ERROR] Parâmetro associado: :dados_novos = NULL (tipo: 0)
[2025-09-05 22:52:58] [DATABASE ERROR] Parâmetro associado: :usuario_id = 2 (tipo: 1)
[2025-09-05 22:52:58] [DATABASE ERROR] Parâmetro associado: :ip_address = ::1 (tipo: 2)
[2025-09-05 22:52:58] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36 Edg/139.0.0.0 (tipo: 2)
[2025-09-05 22:52:58] [DATABASE ERROR] Parâmetro associado: :alert_id = 11 (tipo: 1)
[2025-09-05 22:53:19] [DATABASE ERROR] Parâmetro associado: :produto_id = 1 (tipo: 1)
[2025-09-05 22:53:19] [DATABASE ERROR] Parâmetro associado: :produto_id = 1 (tipo: 1)
[2025-09-05 22:53:19] [DATABASE ERROR] Parâmetro associado: :produto_id = 1 (tipo: 1)
[2025-09-05 22:53:19] [DATABASE ERROR] Parâmetro associado: :mensagem = Produto LEITE A XANDO INTEGRAL com estoque baixo: 1.000 <= 2.000. (tipo: 2)
[2025-09-05 22:53:19] [DATABASE ERROR] Parâmetro associado: :tabela = alertas_estoque (tipo: 2)
[2025-09-05 22:53:19] [DATABASE ERROR] Parâmetro associado: :registro_id = 12 (tipo: 2)
[2025-09-05 22:53:19] [DATABASE ERROR] Parâmetro associado: :acao = alertas_estoque (tipo: 2)
[2025-09-05 22:53:19] [DATABASE ERROR] Parâmetro associado: :dados_anteriores = "INSERT" (tipo: 2)
[2025-09-05 22:53:19] [DATABASE ERROR] Parâmetro associado: :dados_novos = NULL (tipo: 0)
[2025-09-05 22:53:19] [DATABASE ERROR] Parâmetro associado: :usuario_id = 2 (tipo: 1)
[2025-09-05 22:53:19] [DATABASE ERROR] Parâmetro associado: :ip_address = ::1 (tipo: 2)
[2025-09-05 22:53:19] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36 Edg/139.0.0.0 (tipo: 2)
[2025-09-05 22:53:20] [DATABASE ERROR] Parâmetro associado: :alert_id = 12 (tipo: 1)
[2025-09-05 22:53:31] [DATABASE ERROR] Parâmetro associado: :produto_id = 2 (tipo: 1)
[2025-09-05 22:53:31] [DATABASE ERROR] Parâmetro associado: :produto_id = 2 (tipo: 1)
[2025-09-05 22:53:34] [DATABASE ERROR] Parâmetro associado: :produto_id = 3 (tipo: 1)
[2025-09-05 22:53:34] [DATABASE ERROR] Parâmetro associado: :produto_id = 3 (tipo: 1)
[2025-09-05 22:53:34] [DATABASE ERROR] Parâmetro associado: :produto_id = 3 (tipo: 1)
[2025-09-05 22:53:34] [DATABASE ERROR] Parâmetro associado: :mensagem = Produto CREME DE LEITE PASTEUR com estoque baixo: 1.000 <= 2.000. (tipo: 2)
[2025-09-05 22:53:34] [DATABASE ERROR] Parâmetro associado: :tabela = alertas_estoque (tipo: 2)
[2025-09-05 22:53:34] [DATABASE ERROR] Parâmetro associado: :registro_id = 13 (tipo: 2)
[2025-09-05 22:53:34] [DATABASE ERROR] Parâmetro associado: :acao = alertas_estoque (tipo: 2)
[2025-09-05 22:53:34] [DATABASE ERROR] Parâmetro associado: :dados_anteriores = "INSERT" (tipo: 2)
[2025-09-05 22:53:34] [DATABASE ERROR] Parâmetro associado: :dados_novos = NULL (tipo: 0)
[2025-09-05 22:53:34] [DATABASE ERROR] Parâmetro associado: :usuario_id = 2 (tipo: 1)
[2025-09-05 22:53:34] [DATABASE ERROR] Parâmetro associado: :ip_address = ::1 (tipo: 2)
[2025-09-05 22:53:34] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36 Edg/139.0.0.0 (tipo: 2)
[2025-09-05 22:53:34] [DATABASE ERROR] Parâmetro associado: :alert_id = 13 (tipo: 1)
[2025-09-05 22:57:15] [DATABASE ERROR] Preparando query: SELECT * FROM produtos WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-05 22:57:15] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-05 22:57:15] [DATABASE ERROR] Debug PDO após binding: SQL: [43] SELECT * FROM produtos WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-05 22:57:37] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-09-05 22:57:37] [DATABASE ERROR] Parâmetro associado: :produto_id = 1 (tipo: 1)
[2025-09-05 22:57:37] [DATABASE ERROR] Parâmetro associado: :produto_id = 1 (tipo: 1)
[2025-09-05 22:57:37] [DATABASE ERROR] Parâmetro associado: :id = 2 (tipo: 1)
[2025-09-05 22:57:37] [DATABASE ERROR] Parâmetro associado: :produto_id = 2 (tipo: 1)
[2025-09-05 22:57:37] [DATABASE ERROR] Parâmetro associado: :produto_id = 2 (tipo: 1)
[2025-09-05 22:57:37] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-05 22:57:37] [DATABASE ERROR] Parâmetro associado: :produto_id = 3 (tipo: 1)
[2025-09-05 22:57:37] [DATABASE ERROR] Parâmetro associado: :produto_id = 3 (tipo: 1)
[2025-09-05 22:57:42] [DATABASE ERROR] Parâmetro associado: :produto_id = 1 (tipo: 1)
[2025-09-05 22:57:42] [DATABASE ERROR] Parâmetro associado: :produto_id = 1 (tipo: 1)
[2025-09-05 22:57:42] [DATABASE ERROR] Parâmetro associado: :produto_id = 2 (tipo: 1)
[2025-09-05 22:57:42] [DATABASE ERROR] Parâmetro associado: :produto_id = 2 (tipo: 1)
[2025-09-05 22:57:42] [DATABASE ERROR] Parâmetro associado: :produto_id = 3 (tipo: 1)
[2025-09-05 22:57:42] [DATABASE ERROR] Parâmetro associado: :produto_id = 3 (tipo: 1)
[2025-09-05 23:13:33] [DATABASE ERROR] Preparando query: SELECT * FROM produtos WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-05 23:13:33] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-05 23:13:33] [DATABASE ERROR] Debug PDO após binding: SQL: [43] SELECT * FROM produtos WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-05 23:13:50] [DATABASE ERROR] Parâmetro associado: :id = 2 (tipo: 1)
[2025-09-05 23:13:50] [DATABASE ERROR] Parâmetro associado: :produto_id = 2 (tipo: 1)
[2025-09-05 23:13:50] [DATABASE ERROR] Parâmetro associado: :produto_id = 2 (tipo: 1)
[2025-09-05 23:13:50] [DATABASE ERROR] Parâmetro associado: :produto_id = 1 (tipo: 1)
[2025-09-05 23:13:50] [DATABASE ERROR] Parâmetro associado: :produto_id = 1 (tipo: 1)
[2025-09-05 23:13:50] [DATABASE ERROR] Parâmetro associado: :produto_id = 2 (tipo: 1)
[2025-09-05 23:13:50] [DATABASE ERROR] Parâmetro associado: :produto_id = 2 (tipo: 1)
[2025-09-05 23:13:50] [DATABASE ERROR] Parâmetro associado: :produto_id = 3 (tipo: 1)
[2025-09-05 23:13:50] [DATABASE ERROR] Parâmetro associado: :produto_id = 3 (tipo: 1)
[2025-09-05 23:32:28] [DATABASE ERROR] Parâmetro associado: :user_id = 2 (tipo: 1)
[2025-09-05 23:32:34] [DATABASE ERROR] Parâmetro associado: :username = admin (tipo: 2)
[2025-09-05 23:32:34] [DATABASE ERROR] Parâmetro associado: :email = admin (tipo: 2)
[2025-09-05 23:32:34] [DATABASE ERROR] Preparando query: UPDATE usuarios SET ultimo_acesso = NOW() WHERE id = :id com parâmetros: {":id":1}
[2025-09-05 23:32:34] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-09-05 23:32:34] [DATABASE ERROR] Debug PDO após binding: SQL: [56] UPDATE usuarios SET ultimo_acesso = NOW() WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-05 23:32:34] [DATABASE ERROR] Parâmetro associado: :id = 0tcit9n7qsaoplj7a3jm5rfnf2 (tipo: 2)
[2025-09-05 23:32:34] [DATABASE ERROR] Parâmetro associado: :id = 0tcit9n7qsaoplj7a3jm5rfnf2 (tipo: 2)
[2025-09-05 23:32:34] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-09-05 23:32:34] [DATABASE ERROR] Parâmetro associado: :ip_address = ::1 (tipo: 2)
[2025-09-05 23:32:34] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36 Edg/139.0.0.0 (tipo: 2)
[2025-09-05 23:32:34] [DATABASE ERROR] Parâmetro associado: :dados = {"user_id":1,"user_name":"Administrador do Sistema","user_email":"flavioafj@yahoo.com.br","user_profile":1,"user_profile_name":"Administrador","logged_in":true,"login_time":1757125954} (tipo: 2)
[2025-09-05 23:32:44] [DATABASE ERROR] Parâmetro associado: :alert_id = 13 (tipo: 1)
[2025-09-05 23:32:44] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-09-05 23:32:44] [DATABASE ERROR] Parâmetro associado: :tabela = alertas_estoque (tipo: 2)
[2025-09-05 23:32:44] [DATABASE ERROR] Parâmetro associado: :registro_id = 13 (tipo: 1)
[2025-09-05 23:32:44] [DATABASE ERROR] Parâmetro associado: :acao = alertas_estoque (tipo: 2)
[2025-09-05 23:32:44] [DATABASE ERROR] Parâmetro associado: :dados_anteriores = "UPDATE" (tipo: 2)
[2025-09-05 23:32:44] [DATABASE ERROR] Parâmetro associado: :dados_novos = {"lido":false} (tipo: 2)
[2025-09-05 23:32:44] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-09-05 23:32:44] [DATABASE ERROR] Parâmetro associado: :ip_address = ::1 (tipo: 2)
[2025-09-05 23:32:44] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36 Edg/139.0.0.0 (tipo: 2)
[2025-09-05 23:32:45] [DATABASE ERROR] Parâmetro associado: :alert_id = 12 (tipo: 1)
[2025-09-05 23:32:45] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-09-05 23:32:45] [DATABASE ERROR] Parâmetro associado: :tabela = alertas_estoque (tipo: 2)
[2025-09-05 23:32:45] [DATABASE ERROR] Parâmetro associado: :registro_id = 12 (tipo: 1)
[2025-09-05 23:32:45] [DATABASE ERROR] Parâmetro associado: :acao = alertas_estoque (tipo: 2)
[2025-09-05 23:32:45] [DATABASE ERROR] Parâmetro associado: :dados_anteriores = "UPDATE" (tipo: 2)
[2025-09-05 23:32:45] [DATABASE ERROR] Parâmetro associado: :dados_novos = {"lido":false} (tipo: 2)
[2025-09-05 23:32:45] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-09-05 23:32:45] [DATABASE ERROR] Parâmetro associado: :ip_address = ::1 (tipo: 2)
[2025-09-05 23:32:45] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36 Edg/139.0.0.0 (tipo: 2)
[2025-09-05 23:32:46] [DATABASE ERROR] Parâmetro associado: :alert_id = 11 (tipo: 1)
[2025-09-05 23:32:46] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-09-05 23:32:46] [DATABASE ERROR] Parâmetro associado: :tabela = alertas_estoque (tipo: 2)
[2025-09-05 23:32:46] [DATABASE ERROR] Parâmetro associado: :registro_id = 11 (tipo: 1)
[2025-09-05 23:32:46] [DATABASE ERROR] Parâmetro associado: :acao = alertas_estoque (tipo: 2)
[2025-09-05 23:32:46] [DATABASE ERROR] Parâmetro associado: :dados_anteriores = "UPDATE" (tipo: 2)
[2025-09-05 23:32:46] [DATABASE ERROR] Parâmetro associado: :dados_novos = {"lido":false} (tipo: 2)
[2025-09-05 23:32:46] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-09-05 23:32:46] [DATABASE ERROR] Parâmetro associado: :ip_address = ::1 (tipo: 2)
[2025-09-05 23:32:46] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36 Edg/139.0.0.0 (tipo: 2)
[2025-09-05 23:32:48] [DATABASE ERROR] Parâmetro associado: :user_id = 1 (tipo: 1)
[2025-09-05 23:32:53] [DATABASE ERROR] Parâmetro associado: :username = Flávio (tipo: 2)
[2025-09-05 23:32:53] [DATABASE ERROR] Parâmetro associado: :email = Flávio (tipo: 2)
[2025-09-05 23:32:53] [DATABASE ERROR] Preparando query: UPDATE usuarios SET ultimo_acesso = NOW() WHERE id = :id com parâmetros: {":id":2}
[2025-09-05 23:32:53] [DATABASE ERROR] Parâmetro associado: :id = 2 (tipo: 1)
[2025-09-05 23:32:53] [DATABASE ERROR] Debug PDO após binding: SQL: [56] UPDATE usuarios SET ultimo_acesso = NOW() WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-05 23:32:53] [DATABASE ERROR] Parâmetro associado: :id = rj097ghqc6aeedr878gjid186r (tipo: 2)
[2025-09-05 23:32:53] [DATABASE ERROR] Parâmetro associado: :id = rj097ghqc6aeedr878gjid186r (tipo: 2)
[2025-09-05 23:32:53] [DATABASE ERROR] Parâmetro associado: :usuario_id = 2 (tipo: 1)
[2025-09-05 23:32:53] [DATABASE ERROR] Parâmetro associado: :ip_address = ::1 (tipo: 2)
[2025-09-05 23:32:53] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36 Edg/139.0.0.0 (tipo: 2)
[2025-09-05 23:32:53] [DATABASE ERROR] Parâmetro associado: :dados = {"user_id":2,"user_name":"Fl\u00e1vio","user_email":"flavioafj2@yahoo.com.br","user_profile":2,"user_profile_name":"Operador","logged_in":true,"login_time":1757125973} (tipo: 2)
[2025-09-05 23:32:58] [DATABASE ERROR] Preparando query: SELECT * FROM produtos WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-05 23:32:58] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-05 23:32:58] [DATABASE ERROR] Debug PDO após binding: SQL: [43] SELECT * FROM produtos WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-05 23:33:05] [DATABASE ERROR] Parâmetro associado: :user_id = 2 (tipo: 1)
[2025-09-05 23:33:12] [DATABASE ERROR] Parâmetro associado: :username = admin (tipo: 2)
[2025-09-05 23:33:12] [DATABASE ERROR] Parâmetro associado: :email = admin (tipo: 2)
[2025-09-05 23:33:12] [DATABASE ERROR] Preparando query: UPDATE usuarios SET ultimo_acesso = NOW() WHERE id = :id com parâmetros: {":id":1}
[2025-09-05 23:33:12] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-09-05 23:33:12] [DATABASE ERROR] Debug PDO após binding: SQL: [56] UPDATE usuarios SET ultimo_acesso = NOW() WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-05 23:33:12] [DATABASE ERROR] Parâmetro associado: :id = kh3vuoq38vlre63poi5ota0g29 (tipo: 2)
[2025-09-05 23:33:12] [DATABASE ERROR] Parâmetro associado: :id = kh3vuoq38vlre63poi5ota0g29 (tipo: 2)
[2025-09-05 23:33:12] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-09-05 23:33:12] [DATABASE ERROR] Parâmetro associado: :ip_address = ::1 (tipo: 2)
[2025-09-05 23:33:12] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36 Edg/139.0.0.0 (tipo: 2)
[2025-09-05 23:33:12] [DATABASE ERROR] Parâmetro associado: :dados = {"user_id":1,"user_name":"Administrador do Sistema","user_email":"flavioafj@yahoo.com.br","user_profile":1,"user_profile_name":"Administrador","logged_in":true,"login_time":1757125992} (tipo: 2)
[2025-09-05 23:33:14] [DATABASE ERROR] Preparando query: SELECT * FROM produtos WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-05 23:33:14] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-05 23:33:14] [DATABASE ERROR] Debug PDO após binding: SQL: [43] SELECT * FROM produtos WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-05 23:33:14] [DATABASE ERROR] Preparando query: SELECT * FROM categorias WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-05 23:33:14] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-05 23:33:14] [DATABASE ERROR] Debug PDO após binding: SQL: [45] SELECT * FROM categorias WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-05 23:33:14] [DATABASE ERROR] Preparando query: SELECT * FROM categorias WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-05 23:33:14] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-05 23:33:14] [DATABASE ERROR] Debug PDO após binding: SQL: [45] SELECT * FROM categorias WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-05 23:33:14] [DATABASE ERROR] Preparando query: SELECT * FROM unidades_medida com parâmetros: []
[2025-09-05 23:33:14] [DATABASE ERROR] Debug PDO após binding: SQL: [29] SELECT * FROM unidades_medida
Params:  0

[2025-09-05 23:33:14] [DATABASE ERROR] Preparando query: SELECT * FROM fornecedores WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-05 23:33:14] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-05 23:33:14] [DATABASE ERROR] Debug PDO após binding: SQL: [47] SELECT * FROM fornecedores WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-05 23:33:14] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-05 23:33:14] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-05 23:33:15] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-05 23:33:22] [DATABASE ERROR] Preparando query: SELECT * FROM produtos WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-05 23:33:22] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-05 23:33:22] [DATABASE ERROR] Debug PDO após binding: SQL: [43] SELECT * FROM produtos WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-05 23:33:30] [DATABASE ERROR] Preparando query: SELECT * FROM fornecedores WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-05 23:33:30] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-05 23:33:30] [DATABASE ERROR] Debug PDO após binding: SQL: [47] SELECT * FROM fornecedores WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-05 23:33:30] [DATABASE ERROR] Preparando query: SELECT * FROM produtos WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-05 23:33:30] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-05 23:33:30] [DATABASE ERROR] Debug PDO após binding: SQL: [43] SELECT * FROM produtos WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-05 23:33:34] [DATABASE ERROR] Parâmetro associado: :id = 2 (tipo: 2)
[2025-09-05 23:33:34] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-09-05 23:33:34] [DATABASE ERROR] Parâmetro associado: :produto_id = 1 (tipo: 1)
[2025-09-05 23:33:34] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-05 23:33:34] [DATABASE ERROR] Parâmetro associado: :produto_id = 3 (tipo: 1)
[2025-09-05 23:33:34] [DATABASE ERROR] Parâmetro associado: :id = 2 (tipo: 1)
[2025-09-05 23:33:34] [DATABASE ERROR] Parâmetro associado: :produto_id = 2 (tipo: 1)
[2025-09-05 23:33:34] [DATABASE ERROR] Parâmetro associado: :movimentacao_id = 54 (tipo: 2)
[2025-09-05 23:33:34] [DATABASE ERROR] Parâmetro associado: :numero_nota = 104112 (tipo: 2)
[2025-09-05 23:33:34] [DATABASE ERROR] Parâmetro associado: :chave_acesso = 35250850902071001120550010001041121803777739 (tipo: 2)
[2025-09-05 23:33:34] [DATABASE ERROR] Parâmetro associado: :data_emissao = 2025-08-28 (tipo: 2)
[2025-09-05 23:33:34] [DATABASE ERROR] Parâmetro associado: :fornecedor_id = 2 (tipo: 1)
[2025-09-05 23:33:34] [DATABASE ERROR] Parâmetro associado: :valor_total = 1533.87 (tipo: 2)
[2025-09-05 23:33:34] [DATABASE ERROR] Parâmetro associado: :processado = 1 (tipo: 5)
[2025-09-05 23:33:34] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-09-05 23:33:34] [DATABASE ERROR] Preparando query: SELECT * FROM produtos WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-05 23:33:34] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-05 23:33:34] [DATABASE ERROR] Debug PDO após binding: SQL: [43] SELECT * FROM produtos WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-05 23:33:41] [DATABASE ERROR] Preparando query: SELECT * FROM produtos WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-05 23:33:41] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-05 23:33:41] [DATABASE ERROR] Debug PDO após binding: SQL: [43] SELECT * FROM produtos WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-05 23:33:41] [DATABASE ERROR] Preparando query: SELECT * FROM categorias WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-05 23:33:41] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-05 23:33:41] [DATABASE ERROR] Debug PDO após binding: SQL: [45] SELECT * FROM categorias WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-05 23:33:41] [DATABASE ERROR] Preparando query: SELECT * FROM categorias WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-05 23:33:41] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-05 23:33:41] [DATABASE ERROR] Debug PDO após binding: SQL: [45] SELECT * FROM categorias WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-05 23:33:41] [DATABASE ERROR] Preparando query: SELECT * FROM unidades_medida com parâmetros: []
[2025-09-05 23:33:41] [DATABASE ERROR] Debug PDO após binding: SQL: [29] SELECT * FROM unidades_medida
Params:  0

[2025-09-05 23:33:41] [DATABASE ERROR] Preparando query: SELECT * FROM fornecedores WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-05 23:33:41] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-05 23:33:41] [DATABASE ERROR] Debug PDO após binding: SQL: [47] SELECT * FROM fornecedores WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-05 23:33:41] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-05 23:33:41] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-05 23:33:41] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-05 23:33:52] [DATABASE ERROR] Parâmetro associado: :user_id = 1 (tipo: 1)
[2025-09-05 23:33:59] [DATABASE ERROR] Parâmetro associado: :username = Flávio (tipo: 2)
[2025-09-05 23:33:59] [DATABASE ERROR] Parâmetro associado: :email = Flávio (tipo: 2)
[2025-09-05 23:33:59] [DATABASE ERROR] Preparando query: UPDATE usuarios SET ultimo_acesso = NOW() WHERE id = :id com parâmetros: {":id":2}
[2025-09-05 23:33:59] [DATABASE ERROR] Parâmetro associado: :id = 2 (tipo: 1)
[2025-09-05 23:33:59] [DATABASE ERROR] Debug PDO após binding: SQL: [56] UPDATE usuarios SET ultimo_acesso = NOW() WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-05 23:33:59] [DATABASE ERROR] Parâmetro associado: :id = 5lhr2gs1u9d3ngr9mk2vrpv1ff (tipo: 2)
[2025-09-05 23:33:59] [DATABASE ERROR] Parâmetro associado: :id = 5lhr2gs1u9d3ngr9mk2vrpv1ff (tipo: 2)
[2025-09-05 23:33:59] [DATABASE ERROR] Parâmetro associado: :usuario_id = 2 (tipo: 1)
[2025-09-05 23:33:59] [DATABASE ERROR] Parâmetro associado: :ip_address = ::1 (tipo: 2)
[2025-09-05 23:33:59] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36 Edg/139.0.0.0 (tipo: 2)
[2025-09-05 23:33:59] [DATABASE ERROR] Parâmetro associado: :dados = {"user_id":2,"user_name":"Fl\u00e1vio","user_email":"flavioafj2@yahoo.com.br","user_profile":2,"user_profile_name":"Operador","logged_in":true,"login_time":1757126039} (tipo: 2)
[2025-09-05 23:34:02] [DATABASE ERROR] Preparando query: SELECT * FROM produtos WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-05 23:34:02] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-05 23:34:02] [DATABASE ERROR] Debug PDO após binding: SQL: [43] SELECT * FROM produtos WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-05 23:34:18] [DATABASE ERROR] Parâmetro associado: :id = 2 (tipo: 1)
[2025-09-05 23:34:18] [DATABASE ERROR] Parâmetro associado: :produto_id = 2 (tipo: 1)
[2025-09-05 23:34:18] [DATABASE ERROR] Parâmetro associado: :produto_id = 2 (tipo: 1)
[2025-09-05 23:34:18] [DATABASE ERROR] Parâmetro associado: :produto_id = 2 (tipo: 1)
[2025-09-05 23:34:18] [DATABASE ERROR] Parâmetro associado: :mensagem = Produto MANTEIGA S/SAL TABL XANDO com estoque baixo: 2.000 <= 10.000. (tipo: 2)
[2025-09-05 23:34:18] [DATABASE ERROR] Parâmetro associado: :tabela = alertas_estoque (tipo: 2)
[2025-09-05 23:34:18] [DATABASE ERROR] Parâmetro associado: :registro_id = 14 (tipo: 2)
[2025-09-05 23:34:18] [DATABASE ERROR] Parâmetro associado: :acao = alertas_estoque (tipo: 2)
[2025-09-05 23:34:18] [DATABASE ERROR] Parâmetro associado: :dados_anteriores = "INSERT" (tipo: 2)
[2025-09-05 23:34:18] [DATABASE ERROR] Parâmetro associado: :dados_novos = NULL (tipo: 0)
[2025-09-05 23:34:18] [DATABASE ERROR] Parâmetro associado: :usuario_id = 2 (tipo: 1)
[2025-09-05 23:34:18] [DATABASE ERROR] Parâmetro associado: :ip_address = ::1 (tipo: 2)
[2025-09-05 23:34:18] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36 Edg/139.0.0.0 (tipo: 2)
[2025-09-05 23:34:18] [DATABASE ERROR] Parâmetro associado: :alert_id = 14 (tipo: 1)
[2025-09-05 23:34:21] [DATABASE ERROR] Parâmetro associado: :produto_id = 1 (tipo: 1)
[2025-09-05 23:34:21] [DATABASE ERROR] Parâmetro associado: :produto_id = 2 (tipo: 1)
[2025-09-05 23:34:21] [DATABASE ERROR] Parâmetro associado: :produto_id = 2 (tipo: 1)
[2025-09-05 23:34:21] [DATABASE ERROR] Parâmetro associado: :produto_id = 3 (tipo: 1)
[2025-09-05 23:34:45] [DATABASE ERROR] Preparando query: SELECT * FROM produtos WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-05 23:34:45] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-05 23:34:45] [DATABASE ERROR] Debug PDO após binding: SQL: [43] SELECT * FROM produtos WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-05 23:35:38] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-09-05 23:35:38] [DATABASE ERROR] Parâmetro associado: :produto_id = 1 (tipo: 1)
[2025-09-05 23:35:38] [DATABASE ERROR] Parâmetro associado: :produto_id = 1 (tipo: 1)
[2025-09-05 23:35:38] [DATABASE ERROR] Parâmetro associado: :produto_id = 1 (tipo: 1)
[2025-09-05 23:35:38] [DATABASE ERROR] Parâmetro associado: :mensagem = Produto LEITE A XANDO INTEGRAL com estoque baixo: 1.000 <= 2.000. (tipo: 2)
[2025-09-05 23:35:38] [DATABASE ERROR] Parâmetro associado: :tabela = alertas_estoque (tipo: 2)
[2025-09-05 23:35:38] [DATABASE ERROR] Parâmetro associado: :registro_id = 15 (tipo: 2)
[2025-09-05 23:35:38] [DATABASE ERROR] Parâmetro associado: :acao = alertas_estoque (tipo: 2)
[2025-09-05 23:35:38] [DATABASE ERROR] Parâmetro associado: :dados_anteriores = "INSERT" (tipo: 2)
[2025-09-05 23:35:38] [DATABASE ERROR] Parâmetro associado: :dados_novos = NULL (tipo: 0)
[2025-09-05 23:35:38] [DATABASE ERROR] Parâmetro associado: :usuario_id = 2 (tipo: 1)
[2025-09-05 23:35:38] [DATABASE ERROR] Parâmetro associado: :ip_address = ::1 (tipo: 2)
[2025-09-05 23:35:38] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36 Edg/139.0.0.0 (tipo: 2)
[2025-09-05 23:35:38] [DATABASE ERROR] Parâmetro associado: :alert_id = 15 (tipo: 1)
[2025-09-05 23:35:41] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-05 23:35:41] [DATABASE ERROR] Parâmetro associado: :produto_id = 3 (tipo: 1)
[2025-09-05 23:35:41] [DATABASE ERROR] Parâmetro associado: :produto_id = 3 (tipo: 1)
[2025-09-05 23:35:41] [DATABASE ERROR] Parâmetro associado: :produto_id = 3 (tipo: 1)
[2025-09-05 23:35:41] [DATABASE ERROR] Parâmetro associado: :mensagem = Produto CREME DE LEITE PASTEUR com estoque baixo: 1.000 <= 2.000. (tipo: 2)
[2025-09-05 23:35:41] [DATABASE ERROR] Parâmetro associado: :tabela = alertas_estoque (tipo: 2)
[2025-09-05 23:35:41] [DATABASE ERROR] Parâmetro associado: :registro_id = 16 (tipo: 2)
[2025-09-05 23:35:41] [DATABASE ERROR] Parâmetro associado: :acao = alertas_estoque (tipo: 2)
[2025-09-05 23:35:41] [DATABASE ERROR] Parâmetro associado: :dados_anteriores = "INSERT" (tipo: 2)
[2025-09-05 23:35:41] [DATABASE ERROR] Parâmetro associado: :dados_novos = NULL (tipo: 0)
[2025-09-05 23:35:41] [DATABASE ERROR] Parâmetro associado: :usuario_id = 2 (tipo: 1)
[2025-09-05 23:35:41] [DATABASE ERROR] Parâmetro associado: :ip_address = ::1 (tipo: 2)
[2025-09-05 23:35:41] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36 Edg/139.0.0.0 (tipo: 2)
[2025-09-05 23:35:41] [DATABASE ERROR] Parâmetro associado: :alert_id = 16 (tipo: 1)
[2025-09-05 23:35:44] [DATABASE ERROR] Parâmetro associado: :produto_id = 1 (tipo: 1)
[2025-09-05 23:35:44] [DATABASE ERROR] Parâmetro associado: :produto_id = 1 (tipo: 1)
[2025-09-05 23:35:44] [DATABASE ERROR] Parâmetro associado: :produto_id = 2 (tipo: 1)
[2025-09-05 23:35:44] [DATABASE ERROR] Parâmetro associado: :produto_id = 2 (tipo: 1)
[2025-09-05 23:35:44] [DATABASE ERROR] Parâmetro associado: :produto_id = 3 (tipo: 1)
[2025-09-05 23:35:44] [DATABASE ERROR] Parâmetro associado: :produto_id = 3 (tipo: 1)
[2025-09-06 10:12:38] [DATABASE ERROR] Parâmetro associado: :username = admin (tipo: 2)
[2025-09-06 10:12:38] [DATABASE ERROR] Parâmetro associado: :email = admin (tipo: 2)
[2025-09-06 10:12:38] [DATABASE ERROR] Preparando query: UPDATE usuarios SET ultimo_acesso = NOW() WHERE id = :id com parâmetros: {":id":1}
[2025-09-06 10:12:38] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-09-06 10:12:38] [DATABASE ERROR] Debug PDO após binding: SQL: [56] UPDATE usuarios SET ultimo_acesso = NOW() WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-06 10:13:43] [DATABASE ERROR] Parâmetro associado: :username = admin (tipo: 2)
[2025-09-06 10:13:43] [DATABASE ERROR] Parâmetro associado: :email = admin (tipo: 2)
[2025-09-06 10:13:43] [DATABASE ERROR] Preparando query: UPDATE usuarios SET ultimo_acesso = NOW() WHERE id = :id com parâmetros: {":id":1}
[2025-09-06 10:13:43] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-09-06 10:13:43] [DATABASE ERROR] Debug PDO após binding: SQL: [56] UPDATE usuarios SET ultimo_acesso = NOW() WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-06 10:13:43] [DATABASE ERROR] Parâmetro associado: :tabela = usuarios (tipo: 2)
[2025-09-06 10:13:43] [DATABASE ERROR] Parâmetro associado: :registro_id = 1 (tipo: 1)
[2025-09-06 10:13:43] [DATABASE ERROR] Parâmetro associado: :acao = LOGIN (tipo: 2)
[2025-09-06 10:13:43] [DATABASE ERROR] Parâmetro associado: :dados_anteriores = NULL (tipo: 0)
[2025-09-06 10:13:43] [DATABASE ERROR] Parâmetro associado: :dados_novos = NULL (tipo: 0)
[2025-09-06 10:13:43] [DATABASE ERROR] Parâmetro associado: :usuario_id = NULL (tipo: 0)
[2025-09-06 10:13:43] [DATABASE ERROR] Parâmetro associado: :ip_address = ::1 (tipo: 2)
[2025-09-06 10:13:43] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36 Edg/139.0.0.0 (tipo: 2)
[2025-09-06 10:13:43] [DATABASE ERROR] Parâmetro associado: :id = 92gcro4o6lf64ee1ptjtqhbjb3 (tipo: 2)
[2025-09-06 10:13:43] [DATABASE ERROR] Parâmetro associado: :id = 92gcro4o6lf64ee1ptjtqhbjb3 (tipo: 2)
[2025-09-06 10:13:43] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-09-06 10:13:43] [DATABASE ERROR] Parâmetro associado: :ip_address = ::1 (tipo: 2)
[2025-09-06 10:13:43] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36 Edg/139.0.0.0 (tipo: 2)
[2025-09-06 10:13:43] [DATABASE ERROR] Parâmetro associado: :dados = {"user_id":1,"user_name":"Administrador do Sistema","user_email":"flavioafj@yahoo.com.br","user_profile":1,"user_profile_name":"Administrador","logged_in":true,"login_time":1757164423} (tipo: 2)
[2025-09-06 10:13:56] [DATABASE ERROR] Parâmetro associado: :alert_id = 16 (tipo: 1)
[2025-09-06 10:13:56] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-09-06 10:13:56] [DATABASE ERROR] Parâmetro associado: :tabela = alertas_estoque (tipo: 2)
[2025-09-06 10:13:56] [DATABASE ERROR] Parâmetro associado: :registro_id = 16 (tipo: 1)
[2025-09-06 10:13:56] [DATABASE ERROR] Parâmetro associado: :acao = alertas_estoque (tipo: 2)
[2025-09-06 10:13:56] [DATABASE ERROR] Parâmetro associado: :dados_anteriores = "UPDATE" (tipo: 2)
[2025-09-06 10:13:56] [DATABASE ERROR] Parâmetro associado: :dados_novos = {"lido":false} (tipo: 2)
[2025-09-06 10:13:56] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-09-06 10:13:56] [DATABASE ERROR] Parâmetro associado: :ip_address = ::1 (tipo: 2)
[2025-09-06 10:13:56] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36 Edg/139.0.0.0 (tipo: 2)
[2025-09-06 10:29:40] [DATABASE ERROR] Preparando query: SELECT u.id, u.nome_completo, u.email, u.usuario, 
                       u.ativo, u.ultimo_acesso, u.criado_em,
                       p.nome as perfil_nome 
                FROM usuarios u 
                JOIN perfis p ON u.perfil_id = p.id ORDER BY u.nome_completo com parâmetros: []
[2025-09-06 10:29:40] [DATABASE ERROR] Debug PDO após binding: SQL: [268] SELECT u.id, u.nome_completo, u.email, u.usuario, 
                       u.ativo, u.ultimo_acesso, u.criado_em,
                       p.nome as perfil_nome 
                FROM usuarios u 
                JOIN perfis p ON u.perfil_id = p.id ORDER BY u.nome_completo
Params:  0

[2025-09-06 10:32:12] [DATABASE ERROR] Preparando query: SELECT u.id, u.nome_completo, u.email, u.usuario, 
                       u.ativo, u.ultimo_acesso, u.criado_em,
                       p.nome as perfil_nome 
                FROM usuarios u 
                JOIN perfis p ON u.perfil_id = p.id ORDER BY u.nome_completo com parâmetros: []
[2025-09-06 10:32:12] [DATABASE ERROR] Debug PDO após binding: SQL: [268] SELECT u.id, u.nome_completo, u.email, u.usuario, 
                       u.ativo, u.ultimo_acesso, u.criado_em,
                       p.nome as perfil_nome 
                FROM usuarios u 
                JOIN perfis p ON u.perfil_id = p.id ORDER BY u.nome_completo
Params:  0

[2025-09-06 10:32:25] [DATABASE ERROR] Preparando query: SELECT * FROM categorias WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-06 10:32:25] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-06 10:32:25] [DATABASE ERROR] Debug PDO após binding: SQL: [45] SELECT * FROM categorias WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-06 10:32:39] [DATABASE ERROR] Parâmetro associado: :value = teste2 (tipo: 2)
[2025-09-06 10:32:39] [DATABASE ERROR] Parâmetro associado: :nome = teste2 (tipo: 2)
[2025-09-06 10:32:39] [DATABASE ERROR] Parâmetro associado: :descricao = teste (tipo: 2)
[2025-09-06 10:32:39] [DATABASE ERROR] Parâmetro associado: :ativo = 1 (tipo: 1)
[2025-09-06 10:32:39] [DATABASE ERROR] Parâmetro associado: :criado_por = 1 (tipo: 1)
[2025-09-06 10:32:39] [DATABASE ERROR] Parâmetro associado: :criado_em = 2025-09-06 10:32:39 (tipo: 2)
[2025-09-06 10:32:39] [DATABASE ERROR] Parâmetro associado: :atualizado_em = 2025-09-06 10:32:39 (tipo: 2)
[2025-09-06 10:32:39] [DATABASE ERROR] Parâmetro associado: :tabela = categorias (tipo: 2)
[2025-09-06 10:32:39] [DATABASE ERROR] Parâmetro associado: :registro_id = 4 (tipo: 2)
[2025-09-06 10:32:39] [DATABASE ERROR] Parâmetro associado: :acao = INSERT (tipo: 2)
[2025-09-06 10:32:39] [DATABASE ERROR] Parâmetro associado: :dados_anteriores = NULL (tipo: 0)
[2025-09-06 10:32:39] [DATABASE ERROR] Parâmetro associado: :dados_novos = {"nome":"teste2","descricao":"teste","ativo":1,"criado_por":1,"criado_em":"2025-09-06 10:32:39","atualizado_em":"2025-09-06 10:32:39"} (tipo: 2)
[2025-09-06 10:32:39] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-09-06 10:32:39] [DATABASE ERROR] Parâmetro associado: :ip_address = ::1 (tipo: 2)
[2025-09-06 10:32:39] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36 Edg/139.0.0.0 (tipo: 2)
[2025-09-06 10:32:39] [DATABASE ERROR] Preparando query: SELECT * FROM categorias WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-06 10:32:39] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-06 10:32:39] [DATABASE ERROR] Debug PDO após binding: SQL: [45] SELECT * FROM categorias WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-06 10:32:51] [DATABASE ERROR] Preparando query: SELECT u.id, u.nome_completo, u.email, u.usuario, 
                       u.ativo, u.ultimo_acesso, u.criado_em,
                       p.nome as perfil_nome 
                FROM usuarios u 
                JOIN perfis p ON u.perfil_id = p.id ORDER BY u.nome_completo com parâmetros: []
[2025-09-06 10:32:51] [DATABASE ERROR] Debug PDO após binding: SQL: [268] SELECT u.id, u.nome_completo, u.email, u.usuario, 
                       u.ativo, u.ultimo_acesso, u.criado_em,
                       p.nome as perfil_nome 
                FROM usuarios u 
                JOIN perfis p ON u.perfil_id = p.id ORDER BY u.nome_completo
Params:  0

[2025-09-06 10:33:34] [DATABASE ERROR] Preparando query: SELECT u.id, u.nome_completo, u.email, u.usuario, 
                       u.ativo, u.ultimo_acesso, u.criado_em,
                       p.nome as perfil_nome 
                FROM usuarios u 
                JOIN perfis p ON u.perfil_id = p.id ORDER BY u.nome_completo com parâmetros: []
[2025-09-06 10:33:34] [DATABASE ERROR] Debug PDO após binding: SQL: [268] SELECT u.id, u.nome_completo, u.email, u.usuario, 
                       u.ativo, u.ultimo_acesso, u.criado_em,
                       p.nome as perfil_nome 
                FROM usuarios u 
                JOIN perfis p ON u.perfil_id = p.id ORDER BY u.nome_completo
Params:  0

[2025-09-06 10:34:51] [DATABASE ERROR] Preparando query: SELECT u.id, u.nome_completo, u.email, u.usuario, 
                       u.ativo, u.ultimo_acesso, u.criado_em,
                       p.nome as perfil_nome 
                FROM usuarios u 
                JOIN perfis p ON u.perfil_id = p.id ORDER BY u.nome_completo com parâmetros: []
[2025-09-06 10:34:51] [DATABASE ERROR] Debug PDO após binding: SQL: [268] SELECT u.id, u.nome_completo, u.email, u.usuario, 
                       u.ativo, u.ultimo_acesso, u.criado_em,
                       p.nome as perfil_nome 
                FROM usuarios u 
                JOIN perfis p ON u.perfil_id = p.id ORDER BY u.nome_completo
Params:  0

[2025-09-06 10:38:09] [DATABASE ERROR] Preparando query: SELECT 
                    a.id, a.tabela, a.registro_id, a.acao, a.dados_anteriores, a.dados_novos,
                    u.nome_completo AS usuario, a.ip_address, a.user_agent, a.criado_em
                FROM auditoria a
                LEFT JOIN usuarios u ON a.usuario_id = u.id
                WHERE 1=1 ORDER BY a.criado_em DESC LIMIT 100 com parâmetros: []
[2025-09-06 10:38:09] [DATABASE ERROR] Debug PDO após binding: SQL: [349] SELECT 
                    a.id, a.tabela, a.registro_id, a.acao, a.dados_anteriores, a.dados_novos,
                    u.nome_completo AS usuario, a.ip_address, a.user_agent, a.criado_em
                FROM auditoria a
                LEFT JOIN usuarios u ON a.usuario_id = u.id
                WHERE 1=1 ORDER BY a.criado_em DESC LIMIT 100
Params:  0

[2025-09-06 10:41:58] [DATABASE ERROR] Preparando query: SELECT * FROM produtos WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-06 10:41:58] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-06 10:41:58] [DATABASE ERROR] Debug PDO após binding: SQL: [43] SELECT * FROM produtos WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-06 10:41:58] [DATABASE ERROR] Preparando query: SELECT * FROM categorias WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-06 10:41:58] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-06 10:41:58] [DATABASE ERROR] Debug PDO após binding: SQL: [45] SELECT * FROM categorias WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-06 10:41:58] [DATABASE ERROR] Preparando query: SELECT * FROM categorias WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-06 10:41:58] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-06 10:41:58] [DATABASE ERROR] Debug PDO após binding: SQL: [45] SELECT * FROM categorias WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-06 10:41:58] [DATABASE ERROR] Preparando query: SELECT * FROM unidades_medida com parâmetros: []
[2025-09-06 10:41:58] [DATABASE ERROR] Debug PDO após binding: SQL: [29] SELECT * FROM unidades_medida
Params:  0

[2025-09-06 10:41:58] [DATABASE ERROR] Preparando query: SELECT * FROM fornecedores WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-06 10:41:58] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-06 10:41:58] [DATABASE ERROR] Debug PDO após binding: SQL: [47] SELECT * FROM fornecedores WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-06 10:41:58] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-06 10:41:58] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-06 10:41:58] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-06 10:42:13] [DATABASE ERROR] Parâmetro associado: :value = LEITE A XANDO INTEGRAL (tipo: 2)
[2025-09-06 10:42:13] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 2)
[2025-09-06 10:42:13] [DATABASE ERROR] Parâmetro associado: :value =  (tipo: 2)
[2025-09-06 10:42:13] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 2)
[2025-09-06 10:42:13] [DATABASE ERROR] Parâmetro associado: :value = 3 (tipo: 2)
[2025-09-06 10:42:13] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 2)
[2025-09-06 10:42:13] [DATABASE ERROR] Parâmetro associado: :value = 2 (tipo: 2)
[2025-09-06 10:42:13] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-09-06 10:42:13] [DATABASE ERROR] Parâmetro associado: :nome = LEITE A XANDO INTEGRAL (tipo: 2)
[2025-09-06 10:42:13] [DATABASE ERROR] Parâmetro associado: :codigo =  (tipo: 2)
[2025-09-06 10:42:13] [DATABASE ERROR] Parâmetro associado: :categoria_id = 3 (tipo: 2)
[2025-09-06 10:42:13] [DATABASE ERROR] Parâmetro associado: :estoque_atual = 30.000 (tipo: 2)
[2025-09-06 10:42:13] [DATABASE ERROR] Parâmetro associado: :estoque_minimo = 2.000 (tipo: 2)
[2025-09-06 10:42:13] [DATABASE ERROR] Parâmetro associado: :preco_venda = 2.00 (tipo: 2)
[2025-09-06 10:42:13] [DATABASE ERROR] Parâmetro associado: :descricao =  (tipo: 2)
[2025-09-06 10:42:13] [DATABASE ERROR] Parâmetro associado: :ativo = 1 (tipo: 1)
[2025-09-06 10:42:13] [DATABASE ERROR] Parâmetro associado: :unidade_medida_id = 1 (tipo: 2)
[2025-09-06 10:42:13] [DATABASE ERROR] Parâmetro associado: :estoque_maximo = 5.000 (tipo: 2)
[2025-09-06 10:42:13] [DATABASE ERROR] Parâmetro associado: :preco_custo = 1.00 (tipo: 2)
[2025-09-06 10:42:13] [DATABASE ERROR] Parâmetro associado: :margem_lucro = 0.00 (tipo: 2)
[2025-09-06 10:42:13] [DATABASE ERROR] Parâmetro associado: :fornecedor_principal_id = 2 (tipo: 2)
[2025-09-06 10:42:13] [DATABASE ERROR] Parâmetro associado: :atualizado_em = 2025-09-06 10:42:13 (tipo: 2)
[2025-09-06 10:42:13] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-09-06 10:42:13] [DATABASE ERROR] Parâmetro associado: :tabela = produtos (tipo: 2)
[2025-09-06 10:42:13] [DATABASE ERROR] Parâmetro associado: :registro_id = 1 (tipo: 1)
[2025-09-06 10:42:13] [DATABASE ERROR] Parâmetro associado: :acao = UPDATE (tipo: 2)
[2025-09-06 10:42:13] [DATABASE ERROR] Parâmetro associado: :dados_anteriores = {"id":1,"codigo":"","codigo_barras":null,"nome":"LEITE A XANDO INTEGRAL","descricao":"","categoria_id":3,"unidade_medida_id":1,"estoque_minimo":"2.000","estoque_maximo":"5.000","estoque_atual":"1.000","preco_custo":"1.00","preco_venda":"2.00","margem_lucro":"0.00","localizacao":null,"fornecedor_principal_id":2,"ativo":1,"foto_url":null,"observacoes":null,"criado_por":1,"criado_em":"2025-09-05 15:17:20","atualizado_em":"2025-09-05 23:35:38"} (tipo: 2)
[2025-09-06 10:42:13] [DATABASE ERROR] Parâmetro associado: :dados_novos = {"nome":"LEITE A XANDO INTEGRAL","codigo":"","categoria_id":"3","estoque_atual":"30.000","estoque_minimo":"2.000","preco_venda":"2.00","descricao":"","ativo":1,"unidade_medida_id":"1","estoque_maximo":"5.000","preco_custo":"1.00","margem_lucro":"0.00","fornecedor_principal_id":"2","atualizado_em":"2025-09-06 10:42:13"} (tipo: 2)
[2025-09-06 10:42:13] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-09-06 10:42:13] [DATABASE ERROR] Parâmetro associado: :ip_address = ::1 (tipo: 2)
[2025-09-06 10:42:13] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36 Edg/139.0.0.0 (tipo: 2)
[2025-09-06 10:42:13] [DATABASE ERROR] Preparando query: SELECT * FROM produtos WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-06 10:42:13] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-06 10:42:13] [DATABASE ERROR] Debug PDO após binding: SQL: [43] SELECT * FROM produtos WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-06 10:42:13] [DATABASE ERROR] Preparando query: SELECT * FROM categorias WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-06 10:42:13] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-06 10:42:13] [DATABASE ERROR] Debug PDO após binding: SQL: [45] SELECT * FROM categorias WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-06 10:42:13] [DATABASE ERROR] Preparando query: SELECT * FROM categorias WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-06 10:42:13] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-06 10:42:13] [DATABASE ERROR] Debug PDO após binding: SQL: [45] SELECT * FROM categorias WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-06 10:42:13] [DATABASE ERROR] Preparando query: SELECT * FROM unidades_medida com parâmetros: []
[2025-09-06 10:42:13] [DATABASE ERROR] Debug PDO após binding: SQL: [29] SELECT * FROM unidades_medida
Params:  0

[2025-09-06 10:42:13] [DATABASE ERROR] Preparando query: SELECT * FROM fornecedores WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-06 10:42:13] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-06 10:42:13] [DATABASE ERROR] Debug PDO após binding: SQL: [47] SELECT * FROM fornecedores WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-06 10:42:13] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-06 10:42:13] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-06 10:42:13] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-06 10:42:25] [DATABASE ERROR] Preparando query: SELECT u.id, u.nome_completo, u.email, u.usuario, 
                       u.ativo, u.ultimo_acesso, u.criado_em,
                       p.nome as perfil_nome 
                FROM usuarios u 
                JOIN perfis p ON u.perfil_id = p.id ORDER BY u.nome_completo com parâmetros: []
[2025-09-06 10:42:25] [DATABASE ERROR] Debug PDO após binding: SQL: [268] SELECT u.id, u.nome_completo, u.email, u.usuario, 
                       u.ativo, u.ultimo_acesso, u.criado_em,
                       p.nome as perfil_nome 
                FROM usuarios u 
                JOIN perfis p ON u.perfil_id = p.id ORDER BY u.nome_completo
Params:  0

[2025-09-06 10:42:35] [DATABASE ERROR] Preparando query: SELECT 
                    a.id, a.tabela, a.registro_id, a.acao, a.dados_anteriores, a.dados_novos,
                    u.nome_completo AS usuario, a.ip_address, a.user_agent, a.criado_em
                FROM auditoria a
                LEFT JOIN usuarios u ON a.usuario_id = u.id
                WHERE 1=1 ORDER BY a.criado_em DESC LIMIT 100 com parâmetros: []
[2025-09-06 10:42:35] [DATABASE ERROR] Debug PDO após binding: SQL: [349] SELECT 
                    a.id, a.tabela, a.registro_id, a.acao, a.dados_anteriores, a.dados_novos,
                    u.nome_completo AS usuario, a.ip_address, a.user_agent, a.criado_em
                FROM auditoria a
                LEFT JOIN usuarios u ON a.usuario_id = u.id
                WHERE 1=1 ORDER BY a.criado_em DESC LIMIT 100
Params:  0

[2025-09-06 10:43:23] [DATABASE ERROR] Preparando query: SELECT 
                    a.id, a.tabela, a.registro_id, a.acao, a.dados_anteriores, a.dados_novos,
                    u.nome_completo AS usuario, a.ip_address, a.user_agent, a.criado_em
                FROM auditoria a
                LEFT JOIN usuarios u ON a.usuario_id = u.id
                WHERE 1=1 ORDER BY a.criado_em DESC LIMIT 100 com parâmetros: []
[2025-09-06 10:43:23] [DATABASE ERROR] Debug PDO após binding: SQL: [349] SELECT 
                    a.id, a.tabela, a.registro_id, a.acao, a.dados_anteriores, a.dados_novos,
                    u.nome_completo AS usuario, a.ip_address, a.user_agent, a.criado_em
                FROM auditoria a
                LEFT JOIN usuarios u ON a.usuario_id = u.id
                WHERE 1=1 ORDER BY a.criado_em DESC LIMIT 100
Params:  0

[2025-09-06 10:44:05] [DATABASE ERROR] Preparando query: SELECT 
                    a.id, a.tabela, a.registro_id, a.acao, a.dados_anteriores, a.dados_novos,
                    u.nome_completo AS usuario, a.ip_address, a.user_agent, a.criado_em
                FROM auditoria a
                LEFT JOIN usuarios u ON a.usuario_id = u.id
                WHERE 1=1 ORDER BY a.criado_em DESC LIMIT 100 com parâmetros: []
[2025-09-06 10:44:05] [DATABASE ERROR] Debug PDO após binding: SQL: [349] SELECT 
                    a.id, a.tabela, a.registro_id, a.acao, a.dados_anteriores, a.dados_novos,
                    u.nome_completo AS usuario, a.ip_address, a.user_agent, a.criado_em
                FROM auditoria a
                LEFT JOIN usuarios u ON a.usuario_id = u.id
                WHERE 1=1 ORDER BY a.criado_em DESC LIMIT 100
Params:  0

[2025-09-06 10:51:03] [DATABASE ERROR] Preparando query: SELECT 
                    a.id, a.tabela, a.registro_id, a.acao, a.dados_anteriores, a.dados_novos,
                    u.nome_completo AS usuario, a.ip_address, a.user_agent, a.criado_em
                FROM auditoria a
                LEFT JOIN usuarios u ON a.usuario_id = u.id
                WHERE 1=1 ORDER BY a.criado_em DESC LIMIT 100 com parâmetros: []
[2025-09-06 10:51:03] [DATABASE ERROR] Debug PDO após binding: SQL: [349] SELECT 
                    a.id, a.tabela, a.registro_id, a.acao, a.dados_anteriores, a.dados_novos,
                    u.nome_completo AS usuario, a.ip_address, a.user_agent, a.criado_em
                FROM auditoria a
                LEFT JOIN usuarios u ON a.usuario_id = u.id
                WHERE 1=1 ORDER BY a.criado_em DESC LIMIT 100
Params:  0

[2025-09-06 10:59:18] [DATABASE ERROR] Preparando query: SELECT 
                    a.id, a.tabela, a.registro_id, a.acao, a.dados_anteriores, a.dados_novos,
                    u.nome_completo AS usuario, a.ip_address, a.user_agent, a.criado_em
                FROM auditoria a
                LEFT JOIN usuarios u ON a.usuario_id = u.id
                WHERE 1=1 ORDER BY a.criado_em DESC LIMIT 100 com parâmetros: []
[2025-09-06 10:59:18] [DATABASE ERROR] Debug PDO após binding: SQL: [349] SELECT 
                    a.id, a.tabela, a.registro_id, a.acao, a.dados_anteriores, a.dados_novos,
                    u.nome_completo AS usuario, a.ip_address, a.user_agent, a.criado_em
                FROM auditoria a
                LEFT JOIN usuarios u ON a.usuario_id = u.id
                WHERE 1=1 ORDER BY a.criado_em DESC LIMIT 100
Params:  0

[2025-09-06 11:00:28] [DATABASE ERROR] Preparando query: SELECT 
                    a.id, a.tabela, a.registro_id, a.acao, a.dados_anteriores, a.dados_novos,
                    u.nome_completo AS usuario, a.ip_address, a.user_agent, a.criado_em
                FROM auditoria a
                LEFT JOIN usuarios u ON a.usuario_id = u.id
                WHERE 1=1 ORDER BY a.criado_em DESC LIMIT 100 com parâmetros: []
[2025-09-06 11:00:28] [DATABASE ERROR] Debug PDO após binding: SQL: [349] SELECT 
                    a.id, a.tabela, a.registro_id, a.acao, a.dados_anteriores, a.dados_novos,
                    u.nome_completo AS usuario, a.ip_address, a.user_agent, a.criado_em
                FROM auditoria a
                LEFT JOIN usuarios u ON a.usuario_id = u.id
                WHERE 1=1 ORDER BY a.criado_em DESC LIMIT 100
Params:  0

[2025-09-06 11:00:35] [DATABASE ERROR] Preparando query: SELECT 
                    a.id, a.tabela, a.registro_id, a.acao, a.dados_anteriores, a.dados_novos,
                    u.nome_completo AS usuario, a.ip_address, a.user_agent, a.criado_em
                FROM auditoria a
                LEFT JOIN usuarios u ON a.usuario_id = u.id
                WHERE 1=1 ORDER BY a.criado_em DESC LIMIT 100 com parâmetros: []
[2025-09-06 11:00:35] [DATABASE ERROR] Debug PDO após binding: SQL: [349] SELECT 
                    a.id, a.tabela, a.registro_id, a.acao, a.dados_anteriores, a.dados_novos,
                    u.nome_completo AS usuario, a.ip_address, a.user_agent, a.criado_em
                FROM auditoria a
                LEFT JOIN usuarios u ON a.usuario_id = u.id
                WHERE 1=1 ORDER BY a.criado_em DESC LIMIT 100
Params:  0

[2025-09-06 11:00:41] [DATABASE ERROR] Preparando query: SELECT 
                    a.id, a.tabela, a.registro_id, a.acao, a.dados_anteriores, a.dados_novos,
                    u.nome_completo AS usuario, a.ip_address, a.user_agent, a.criado_em
                FROM auditoria a
                LEFT JOIN usuarios u ON a.usuario_id = u.id
                WHERE 1=1 ORDER BY a.criado_em DESC LIMIT 100 com parâmetros: []
[2025-09-06 11:00:41] [DATABASE ERROR] Debug PDO após binding: SQL: [349] SELECT 
                    a.id, a.tabela, a.registro_id, a.acao, a.dados_anteriores, a.dados_novos,
                    u.nome_completo AS usuario, a.ip_address, a.user_agent, a.criado_em
                FROM auditoria a
                LEFT JOIN usuarios u ON a.usuario_id = u.id
                WHERE 1=1 ORDER BY a.criado_em DESC LIMIT 100
Params:  0

[2025-09-06 11:02:06] [DATABASE ERROR] Preparando query: SELECT 
                    a.id, a.tabela, a.registro_id, a.acao, a.dados_anteriores, a.dados_novos,
                    u.nome_completo AS usuario, a.ip_address, a.user_agent, a.criado_em
                FROM auditoria a
                LEFT JOIN usuarios u ON a.usuario_id = u.id
                WHERE 1=1 ORDER BY a.criado_em DESC LIMIT 100 com parâmetros: []
[2025-09-06 11:02:06] [DATABASE ERROR] Debug PDO após binding: SQL: [349] SELECT 
                    a.id, a.tabela, a.registro_id, a.acao, a.dados_anteriores, a.dados_novos,
                    u.nome_completo AS usuario, a.ip_address, a.user_agent, a.criado_em
                FROM auditoria a
                LEFT JOIN usuarios u ON a.usuario_id = u.id
                WHERE 1=1 ORDER BY a.criado_em DESC LIMIT 100
Params:  0

[2025-09-06 11:03:24] [DATABASE ERROR] Preparando query: SELECT 
                    a.id, a.tabela, a.registro_id, a.acao, a.dados_anteriores, a.dados_novos,
                    u.nome_completo AS usuario, a.ip_address, a.user_agent, a.criado_em
                FROM auditoria a
                LEFT JOIN usuarios u ON a.usuario_id = u.id
                WHERE 1=1 ORDER BY a.criado_em DESC LIMIT 100 com parâmetros: []
[2025-09-06 11:03:24] [DATABASE ERROR] Debug PDO após binding: SQL: [349] SELECT 
                    a.id, a.tabela, a.registro_id, a.acao, a.dados_anteriores, a.dados_novos,
                    u.nome_completo AS usuario, a.ip_address, a.user_agent, a.criado_em
                FROM auditoria a
                LEFT JOIN usuarios u ON a.usuario_id = u.id
                WHERE 1=1 ORDER BY a.criado_em DESC LIMIT 100
Params:  0

[2025-09-06 17:33:33] [DATABASE ERROR] Parâmetro associado: :user_id = 1 (tipo: 1)
[2025-09-06 17:33:56] [DATABASE ERROR] Parâmetro associado: :tabela = usuarios (tipo: 2)
[2025-09-06 17:33:56] [DATABASE ERROR] Parâmetro associado: :registro_id = NULL (tipo: 0)
[2025-09-06 17:33:56] [DATABASE ERROR] Parâmetro associado: :acao = LOGOUT (tipo: 2)
[2025-09-06 17:33:56] [DATABASE ERROR] Parâmetro associado: :dados_anteriores = NULL (tipo: 0)
[2025-09-06 17:33:56] [DATABASE ERROR] Parâmetro associado: :dados_novos = NULL (tipo: 0)
[2025-09-06 17:33:56] [DATABASE ERROR] Parâmetro associado: :usuario_id = NULL (tipo: 0)
[2025-09-06 17:33:56] [DATABASE ERROR] Parâmetro associado: :ip_address = ::1 (tipo: 2)
[2025-09-06 17:33:56] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36 Edg/139.0.0.0 (tipo: 2)
[2025-09-06 17:33:56] [DATABASE ERROR] Erro ao executar query: SQLSTATE[23000]: Integrity constraint violation: 1048 Column 'registro_id' cannot be null
[2025-09-06 17:34:02] [DATABASE ERROR] Parâmetro associado: :username = admin (tipo: 2)
[2025-09-06 17:34:02] [DATABASE ERROR] Parâmetro associado: :email = admin (tipo: 2)
[2025-09-06 17:34:02] [DATABASE ERROR] Preparando query: UPDATE usuarios SET ultimo_acesso = NOW() WHERE id = :id com parâmetros: {":id":1}
[2025-09-06 17:34:02] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-09-06 17:34:02] [DATABASE ERROR] Debug PDO após binding: SQL: [56] UPDATE usuarios SET ultimo_acesso = NOW() WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-06 17:34:02] [DATABASE ERROR] Parâmetro associado: :tabela = usuarios (tipo: 2)
[2025-09-06 17:34:02] [DATABASE ERROR] Parâmetro associado: :registro_id = 1 (tipo: 1)
[2025-09-06 17:34:02] [DATABASE ERROR] Parâmetro associado: :acao = LOGIN (tipo: 2)
[2025-09-06 17:34:02] [DATABASE ERROR] Parâmetro associado: :dados_anteriores = NULL (tipo: 0)
[2025-09-06 17:34:02] [DATABASE ERROR] Parâmetro associado: :dados_novos = NULL (tipo: 0)
[2025-09-06 17:34:02] [DATABASE ERROR] Parâmetro associado: :usuario_id = NULL (tipo: 0)
[2025-09-06 17:34:02] [DATABASE ERROR] Parâmetro associado: :ip_address = ::1 (tipo: 2)
[2025-09-06 17:34:02] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36 Edg/139.0.0.0 (tipo: 2)
[2025-09-06 17:34:02] [DATABASE ERROR] Parâmetro associado: :id = 03j4hesosbivomjlh2qmdfuaa7 (tipo: 2)
[2025-09-06 17:34:02] [DATABASE ERROR] Parâmetro associado: :id = 03j4hesosbivomjlh2qmdfuaa7 (tipo: 2)
[2025-09-06 17:34:02] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-09-06 17:34:02] [DATABASE ERROR] Parâmetro associado: :ip_address = ::1 (tipo: 2)
[2025-09-06 17:34:02] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36 Edg/139.0.0.0 (tipo: 2)
[2025-09-06 17:34:02] [DATABASE ERROR] Parâmetro associado: :dados = {"user_id":1,"user_name":"Administrador do Sistema","user_email":"flavioafj@yahoo.com.br","user_profile":1,"user_profile_name":"Administrador","logged_in":true,"login_time":1757190842} (tipo: 2)
[2025-09-06 17:34:11] [DATABASE ERROR] Preparando query: SELECT u.id, u.nome_completo, u.email, u.usuario, 
                       u.ativo, u.ultimo_acesso, u.criado_em,
                       p.nome as perfil_nome 
                FROM usuarios u 
                JOIN perfis p ON u.perfil_id = p.id ORDER BY u.nome_completo com parâmetros: []
[2025-09-06 17:34:11] [DATABASE ERROR] Debug PDO após binding: SQL: [268] SELECT u.id, u.nome_completo, u.email, u.usuario, 
                       u.ativo, u.ultimo_acesso, u.criado_em,
                       p.nome as perfil_nome 
                FROM usuarios u 
                JOIN perfis p ON u.perfil_id = p.id ORDER BY u.nome_completo
Params:  0

[2025-09-06 17:37:01] [DATABASE ERROR] Preparando query: SELECT 
                    a.id, a.tabela, a.registro_id, a.acao, a.dados_anteriores, a.dados_novos,
                    u.nome_completo AS usuario, a.ip_address, a.user_agent, a.criado_em
                FROM auditoria a
                LEFT JOIN usuarios u ON a.usuario_id = u.id
                WHERE 1=1 ORDER BY a.criado_em DESC LIMIT 100 com parâmetros: []
[2025-09-06 17:37:01] [DATABASE ERROR] Debug PDO após binding: SQL: [349] SELECT 
                    a.id, a.tabela, a.registro_id, a.acao, a.dados_anteriores, a.dados_novos,
                    u.nome_completo AS usuario, a.ip_address, a.user_agent, a.criado_em
                FROM auditoria a
                LEFT JOIN usuarios u ON a.usuario_id = u.id
                WHERE 1=1 ORDER BY a.criado_em DESC LIMIT 100
Params:  0

[2025-09-06 17:40:37] [DATABASE ERROR] Preparando query: SELECT 
                    a.id, a.tabela, a.registro_id, a.acao, a.dados_anteriores, a.dados_novos,
                    u.nome_completo AS usuario, a.ip_address, a.user_agent, a.criado_em
                FROM auditoria a
                LEFT JOIN usuarios u ON a.usuario_id = u.id
                WHERE 1=1 ORDER BY a.criado_em DESC LIMIT 100 com parâmetros: []
[2025-09-06 17:40:37] [DATABASE ERROR] Debug PDO após binding: SQL: [349] SELECT 
                    a.id, a.tabela, a.registro_id, a.acao, a.dados_anteriores, a.dados_novos,
                    u.nome_completo AS usuario, a.ip_address, a.user_agent, a.criado_em
                FROM auditoria a
                LEFT JOIN usuarios u ON a.usuario_id = u.id
                WHERE 1=1 ORDER BY a.criado_em DESC LIMIT 100
Params:  0

[2025-09-06 17:43:42] [DATABASE ERROR] Preparando query: SELECT 
                    a.id, a.tabela, a.registro_id, a.acao, a.dados_anteriores, a.dados_novos,
                    u.nome_completo AS usuario, a.ip_address, a.user_agent, a.criado_em
                FROM auditoria a
                LEFT JOIN usuarios u ON a.usuario_id = u.id
                WHERE 1=1 ORDER BY a.criado_em DESC LIMIT 100 com parâmetros: []
[2025-09-06 17:43:42] [DATABASE ERROR] Debug PDO após binding: SQL: [349] SELECT 
                    a.id, a.tabela, a.registro_id, a.acao, a.dados_anteriores, a.dados_novos,
                    u.nome_completo AS usuario, a.ip_address, a.user_agent, a.criado_em
                FROM auditoria a
                LEFT JOIN usuarios u ON a.usuario_id = u.id
                WHERE 1=1 ORDER BY a.criado_em DESC LIMIT 100
Params:  0

[2025-09-06 17:49:19] [DATABASE ERROR] Preparando query: SELECT 
                    a.id, a.tabela, a.registro_id, a.acao, a.dados_anteriores, a.dados_novos,
                    u.nome_completo AS usuario, a.ip_address, a.user_agent, a.criado_em
                FROM auditoria a
                LEFT JOIN usuarios u ON a.usuario_id = u.id
                WHERE 1=1 ORDER BY a.criado_em DESC LIMIT 100 com parâmetros: []
[2025-09-06 17:49:19] [DATABASE ERROR] Debug PDO após binding: SQL: [349] SELECT 
                    a.id, a.tabela, a.registro_id, a.acao, a.dados_anteriores, a.dados_novos,
                    u.nome_completo AS usuario, a.ip_address, a.user_agent, a.criado_em
                FROM auditoria a
                LEFT JOIN usuarios u ON a.usuario_id = u.id
                WHERE 1=1 ORDER BY a.criado_em DESC LIMIT 100
Params:  0

[2025-09-06 17:52:10] [DATABASE ERROR] Preparando query: SELECT 
                    a.id, a.tabela, a.registro_id, a.acao, a.dados_anteriores, a.dados_novos,
                    u.nome_completo AS usuario, a.ip_address, a.user_agent, a.criado_em
                FROM auditoria a
                LEFT JOIN usuarios u ON a.usuario_id = u.id
                WHERE 1=1 AND a.tabela = :tabela AND a.criado_em >= :data_inicio AND a.criado_em <= :data_fim ORDER BY a.criado_em DESC LIMIT 100 com parâmetros: {":tabela":"produtos",":data_inicio":"2025-09-05",":data_fim":"2025-09-07"}
[2025-09-06 17:52:10] [DATABASE ERROR] Parâmetro associado: :tabela = produtos (tipo: 2)
[2025-09-06 17:52:10] [DATABASE ERROR] Parâmetro associado: :data_inicio = 2025-09-05 (tipo: 2)
[2025-09-06 17:52:10] [DATABASE ERROR] Parâmetro associado: :data_fim = 2025-09-07 (tipo: 2)
[2025-09-06 17:52:10] [DATABASE ERROR] Debug PDO após binding: SQL: [433] SELECT 
                    a.id, a.tabela, a.registro_id, a.acao, a.dados_anteriores, a.dados_novos,
                    u.nome_completo AS usuario, a.ip_address, a.user_agent, a.criado_em
                FROM auditoria a
                LEFT JOIN usuarios u ON a.usuario_id = u.id
                WHERE 1=1 AND a.tabela = :tabela AND a.criado_em >= :data_inicio AND a.criado_em <= :data_fim ORDER BY a.criado_em DESC LIMIT 100
Params:  3
Key: Name: [7] :tabela
paramno=0
name=[7] ":tabela"
is_param=1
param_type=2
Key: Name: [12] :data_inicio
paramno=1
name=[12] ":data_inicio"
is_param=1
param_type=2
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=2

[2025-09-06 17:52:25] [DATABASE ERROR] Preparando query: SELECT 
                    a.id, a.tabela, a.registro_id, a.acao, a.dados_anteriores, a.dados_novos,
                    u.nome_completo AS usuario, a.ip_address, a.user_agent, a.criado_em
                FROM auditoria a
                LEFT JOIN usuarios u ON a.usuario_id = u.id
                WHERE 1=1 AND a.tabela = :tabela AND a.criado_em >= :data_inicio AND a.criado_em <= :data_fim ORDER BY a.criado_em DESC LIMIT 100 com parâmetros: {":tabela":"movimentacoes",":data_inicio":"2025-09-05",":data_fim":"2025-09-07"}
[2025-09-06 17:52:25] [DATABASE ERROR] Parâmetro associado: :tabela = movimentacoes (tipo: 2)
[2025-09-06 17:52:25] [DATABASE ERROR] Parâmetro associado: :data_inicio = 2025-09-05 (tipo: 2)
[2025-09-06 17:52:25] [DATABASE ERROR] Parâmetro associado: :data_fim = 2025-09-07 (tipo: 2)
[2025-09-06 17:52:25] [DATABASE ERROR] Debug PDO após binding: SQL: [433] SELECT 
                    a.id, a.tabela, a.registro_id, a.acao, a.dados_anteriores, a.dados_novos,
                    u.nome_completo AS usuario, a.ip_address, a.user_agent, a.criado_em
                FROM auditoria a
                LEFT JOIN usuarios u ON a.usuario_id = u.id
                WHERE 1=1 AND a.tabela = :tabela AND a.criado_em >= :data_inicio AND a.criado_em <= :data_fim ORDER BY a.criado_em DESC LIMIT 100
Params:  3
Key: Name: [7] :tabela
paramno=0
name=[7] ":tabela"
is_param=1
param_type=2
Key: Name: [12] :data_inicio
paramno=1
name=[12] ":data_inicio"
is_param=1
param_type=2
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=2

[2025-09-06 17:52:29] [DATABASE ERROR] Preparando query: SELECT 
                    a.id, a.tabela, a.registro_id, a.acao, a.dados_anteriores, a.dados_novos,
                    u.nome_completo AS usuario, a.ip_address, a.user_agent, a.criado_em
                FROM auditoria a
                LEFT JOIN usuarios u ON a.usuario_id = u.id
                WHERE 1=1 AND a.tabela = :tabela AND a.criado_em >= :data_inicio AND a.criado_em <= :data_fim ORDER BY a.criado_em DESC LIMIT 100 com parâmetros: {":tabela":"movimentacao_itens",":data_inicio":"2025-09-05",":data_fim":"2025-09-07"}
[2025-09-06 17:52:29] [DATABASE ERROR] Parâmetro associado: :tabela = movimentacao_itens (tipo: 2)
[2025-09-06 17:52:29] [DATABASE ERROR] Parâmetro associado: :data_inicio = 2025-09-05 (tipo: 2)
[2025-09-06 17:52:29] [DATABASE ERROR] Parâmetro associado: :data_fim = 2025-09-07 (tipo: 2)
[2025-09-06 17:52:29] [DATABASE ERROR] Debug PDO após binding: SQL: [433] SELECT 
                    a.id, a.tabela, a.registro_id, a.acao, a.dados_anteriores, a.dados_novos,
                    u.nome_completo AS usuario, a.ip_address, a.user_agent, a.criado_em
                FROM auditoria a
                LEFT JOIN usuarios u ON a.usuario_id = u.id
                WHERE 1=1 AND a.tabela = :tabela AND a.criado_em >= :data_inicio AND a.criado_em <= :data_fim ORDER BY a.criado_em DESC LIMIT 100
Params:  3
Key: Name: [7] :tabela
paramno=0
name=[7] ":tabela"
is_param=1
param_type=2
Key: Name: [12] :data_inicio
paramno=1
name=[12] ":data_inicio"
is_param=1
param_type=2
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=2

[2025-09-06 17:52:33] [DATABASE ERROR] Preparando query: SELECT 
                    a.id, a.tabela, a.registro_id, a.acao, a.dados_anteriores, a.dados_novos,
                    u.nome_completo AS usuario, a.ip_address, a.user_agent, a.criado_em
                FROM auditoria a
                LEFT JOIN usuarios u ON a.usuario_id = u.id
                WHERE 1=1 AND a.tabela = :tabela AND a.criado_em >= :data_inicio AND a.criado_em <= :data_fim ORDER BY a.criado_em DESC LIMIT 100 com parâmetros: {":tabela":"categorias",":data_inicio":"2025-09-05",":data_fim":"2025-09-07"}
[2025-09-06 17:52:33] [DATABASE ERROR] Parâmetro associado: :tabela = categorias (tipo: 2)
[2025-09-06 17:52:33] [DATABASE ERROR] Parâmetro associado: :data_inicio = 2025-09-05 (tipo: 2)
[2025-09-06 17:52:33] [DATABASE ERROR] Parâmetro associado: :data_fim = 2025-09-07 (tipo: 2)
[2025-09-06 17:52:33] [DATABASE ERROR] Debug PDO após binding: SQL: [433] SELECT 
                    a.id, a.tabela, a.registro_id, a.acao, a.dados_anteriores, a.dados_novos,
                    u.nome_completo AS usuario, a.ip_address, a.user_agent, a.criado_em
                FROM auditoria a
                LEFT JOIN usuarios u ON a.usuario_id = u.id
                WHERE 1=1 AND a.tabela = :tabela AND a.criado_em >= :data_inicio AND a.criado_em <= :data_fim ORDER BY a.criado_em DESC LIMIT 100
Params:  3
Key: Name: [7] :tabela
paramno=0
name=[7] ":tabela"
is_param=1
param_type=2
Key: Name: [12] :data_inicio
paramno=1
name=[12] ":data_inicio"
is_param=1
param_type=2
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=2

[2025-09-06 17:52:59] [DATABASE ERROR] Parâmetro associado: :alert_id = 15 (tipo: 1)
[2025-09-06 17:52:59] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-09-06 17:52:59] [DATABASE ERROR] Parâmetro associado: :tabela = alertas_estoque (tipo: 2)
[2025-09-06 17:52:59] [DATABASE ERROR] Parâmetro associado: :registro_id = 15 (tipo: 1)
[2025-09-06 17:52:59] [DATABASE ERROR] Parâmetro associado: :acao = alertas_estoque (tipo: 2)
[2025-09-06 17:52:59] [DATABASE ERROR] Parâmetro associado: :dados_anteriores = "UPDATE" (tipo: 2)
[2025-09-06 17:52:59] [DATABASE ERROR] Parâmetro associado: :dados_novos = {"lido":false} (tipo: 2)
[2025-09-06 17:52:59] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-09-06 17:52:59] [DATABASE ERROR] Parâmetro associado: :ip_address = ::1 (tipo: 2)
[2025-09-06 17:52:59] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36 Edg/139.0.0.0 (tipo: 2)
[2025-09-06 17:53:01] [DATABASE ERROR] Parâmetro associado: :alert_id = 14 (tipo: 1)
[2025-09-06 17:53:01] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-09-06 17:53:01] [DATABASE ERROR] Parâmetro associado: :tabela = alertas_estoque (tipo: 2)
[2025-09-06 17:53:01] [DATABASE ERROR] Parâmetro associado: :registro_id = 14 (tipo: 1)
[2025-09-06 17:53:01] [DATABASE ERROR] Parâmetro associado: :acao = alertas_estoque (tipo: 2)
[2025-09-06 17:53:01] [DATABASE ERROR] Parâmetro associado: :dados_anteriores = "UPDATE" (tipo: 2)
[2025-09-06 17:53:01] [DATABASE ERROR] Parâmetro associado: :dados_novos = {"lido":false} (tipo: 2)
[2025-09-06 17:53:01] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-09-06 17:53:01] [DATABASE ERROR] Parâmetro associado: :ip_address = ::1 (tipo: 2)
[2025-09-06 17:53:01] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36 Edg/139.0.0.0 (tipo: 2)
[2025-09-06 17:53:11] [DATABASE ERROR] Parâmetro associado: :user_id = 1 (tipo: 1)
[2025-09-06 17:53:11] [DATABASE ERROR] Parâmetro associado: :tabela = usuarios (tipo: 2)
[2025-09-06 17:53:11] [DATABASE ERROR] Parâmetro associado: :registro_id = NULL (tipo: 0)
[2025-09-06 17:53:11] [DATABASE ERROR] Parâmetro associado: :acao = LOGOUT (tipo: 2)
[2025-09-06 17:53:11] [DATABASE ERROR] Parâmetro associado: :dados_anteriores = NULL (tipo: 0)
[2025-09-06 17:53:11] [DATABASE ERROR] Parâmetro associado: :dados_novos = NULL (tipo: 0)
[2025-09-06 17:53:11] [DATABASE ERROR] Parâmetro associado: :usuario_id = NULL (tipo: 0)
[2025-09-06 17:53:11] [DATABASE ERROR] Parâmetro associado: :ip_address = ::1 (tipo: 2)
[2025-09-06 17:53:11] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36 Edg/139.0.0.0 (tipo: 2)
[2025-09-06 17:53:11] [DATABASE ERROR] Erro ao executar query: SQLSTATE[23000]: Integrity constraint violation: 1048 Column 'registro_id' cannot be null
[2025-09-06 17:53:16] [DATABASE ERROR] Parâmetro associado: :username = Flávio (tipo: 2)
[2025-09-06 17:53:16] [DATABASE ERROR] Parâmetro associado: :email = Flávio (tipo: 2)
[2025-09-06 17:53:16] [DATABASE ERROR] Preparando query: UPDATE usuarios SET ultimo_acesso = NOW() WHERE id = :id com parâmetros: {":id":2}
[2025-09-06 17:53:16] [DATABASE ERROR] Parâmetro associado: :id = 2 (tipo: 1)
[2025-09-06 17:53:16] [DATABASE ERROR] Debug PDO após binding: SQL: [56] UPDATE usuarios SET ultimo_acesso = NOW() WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-06 17:53:16] [DATABASE ERROR] Parâmetro associado: :tabela = usuarios (tipo: 2)
[2025-09-06 17:53:16] [DATABASE ERROR] Parâmetro associado: :registro_id = 2 (tipo: 1)
[2025-09-06 17:53:16] [DATABASE ERROR] Parâmetro associado: :acao = LOGIN (tipo: 2)
[2025-09-06 17:53:16] [DATABASE ERROR] Parâmetro associado: :dados_anteriores = NULL (tipo: 0)
[2025-09-06 17:53:16] [DATABASE ERROR] Parâmetro associado: :dados_novos = NULL (tipo: 0)
[2025-09-06 17:53:16] [DATABASE ERROR] Parâmetro associado: :usuario_id = NULL (tipo: 0)
[2025-09-06 17:53:16] [DATABASE ERROR] Parâmetro associado: :ip_address = ::1 (tipo: 2)
[2025-09-06 17:53:16] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36 Edg/139.0.0.0 (tipo: 2)
[2025-09-06 17:53:16] [DATABASE ERROR] Parâmetro associado: :id = 77sko5ck2tj8d683bokn5fo1q5 (tipo: 2)
[2025-09-06 17:53:16] [DATABASE ERROR] Parâmetro associado: :id = 77sko5ck2tj8d683bokn5fo1q5 (tipo: 2)
[2025-09-06 17:53:16] [DATABASE ERROR] Parâmetro associado: :usuario_id = 2 (tipo: 1)
[2025-09-06 17:53:16] [DATABASE ERROR] Parâmetro associado: :ip_address = ::1 (tipo: 2)
[2025-09-06 17:53:16] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36 Edg/139.0.0.0 (tipo: 2)
[2025-09-06 17:53:16] [DATABASE ERROR] Parâmetro associado: :dados = {"user_id":2,"user_name":"Fl\u00e1vio","user_email":"flavioafj2@yahoo.com.br","user_profile":2,"user_profile_name":"Operador","logged_in":true,"login_time":1757191996} (tipo: 2)
[2025-09-06 19:32:25] [DATABASE ERROR] Parâmetro associado: :user_id = 2 (tipo: 1)
[2025-09-06 19:32:31] [DATABASE ERROR] Parâmetro associado: :username = admin (tipo: 2)
[2025-09-06 19:32:31] [DATABASE ERROR] Parâmetro associado: :email = admin (tipo: 2)
[2025-09-06 19:32:32] [DATABASE ERROR] Preparando query: UPDATE usuarios SET ultimo_acesso = NOW() WHERE id = :id com parâmetros: {":id":1}
[2025-09-06 19:32:32] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-09-06 19:32:32] [DATABASE ERROR] Debug PDO após binding: SQL: [56] UPDATE usuarios SET ultimo_acesso = NOW() WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-06 19:32:32] [DATABASE ERROR] Parâmetro associado: :tabela = usuarios (tipo: 2)
[2025-09-06 19:32:32] [DATABASE ERROR] Parâmetro associado: :registro_id = 1 (tipo: 1)
[2025-09-06 19:32:32] [DATABASE ERROR] Parâmetro associado: :acao = LOGIN (tipo: 2)
[2025-09-06 19:32:32] [DATABASE ERROR] Parâmetro associado: :dados_anteriores = NULL (tipo: 0)
[2025-09-06 19:32:32] [DATABASE ERROR] Parâmetro associado: :dados_novos = NULL (tipo: 0)
[2025-09-06 19:32:32] [DATABASE ERROR] Parâmetro associado: :usuario_id = NULL (tipo: 0)
[2025-09-06 19:32:32] [DATABASE ERROR] Parâmetro associado: :ip_address = ::1 (tipo: 2)
[2025-09-06 19:32:32] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36 Edg/139.0.0.0 (tipo: 2)
[2025-09-06 19:32:32] [DATABASE ERROR] Parâmetro associado: :id = 2pp63ms66snuaqkuso3djn4daa (tipo: 2)
[2025-09-06 19:32:32] [DATABASE ERROR] Parâmetro associado: :id = 2pp63ms66snuaqkuso3djn4daa (tipo: 2)
[2025-09-06 19:32:32] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-09-06 19:32:32] [DATABASE ERROR] Parâmetro associado: :ip_address = ::1 (tipo: 2)
[2025-09-06 19:32:32] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36 Edg/139.0.0.0 (tipo: 2)
[2025-09-06 19:32:32] [DATABASE ERROR] Parâmetro associado: :dados = {"user_id":1,"user_name":"Administrador do Sistema","user_email":"flavioafj@yahoo.com.br","user_profile":1,"user_profile_name":"Administrador","logged_in":true,"login_time":1757197952} (tipo: 2)
[2025-09-06 19:46:58] [DATABASE ERROR] Preparando query: SELECT SUM(estoque_atual) as total_estoque FROM produtos WHERE ativo = TRUE com parâmetros: []
[2025-09-06 19:46:58] [DATABASE ERROR] Debug PDO após binding: SQL: [75] SELECT SUM(estoque_atual) as total_estoque FROM produtos WHERE ativo = TRUE
Params:  0

[2025-09-06 19:46:58] [DATABASE ERROR] Preparando query: SELECT id FROM produtos WHERE ativo = TRUE com parâmetros: []
[2025-09-06 19:46:58] [DATABASE ERROR] Debug PDO após binding: SQL: [42] SELECT id FROM produtos WHERE ativo = TRUE
Params:  0

[2025-09-06 19:47:35] [DATABASE ERROR] Preparando query: SELECT SUM(estoque_atual) as total_estoque FROM produtos WHERE ativo = TRUE com parâmetros: []
[2025-09-06 19:47:35] [DATABASE ERROR] Debug PDO após binding: SQL: [75] SELECT SUM(estoque_atual) as total_estoque FROM produtos WHERE ativo = TRUE
Params:  0

[2025-09-06 19:47:35] [DATABASE ERROR] Preparando query: SELECT id FROM produtos WHERE ativo = TRUE com parâmetros: []
[2025-09-06 19:47:35] [DATABASE ERROR] Debug PDO após binding: SQL: [42] SELECT id FROM produtos WHERE ativo = TRUE
Params:  0

[2025-09-06 19:47:35] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
         com parâmetros: {":produto_id":1,":data_fim_a":null,":data_fim":null}
[2025-09-06 19:47:35] [DATABASE ERROR] Parâmetro associado: :produto_id = 1 (tipo: 1)
[2025-09-06 19:47:35] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-09-06 19:47:35] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-09-06 19:47:35] [DATABASE ERROR] Debug PDO após binding: SQL: [538] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-09-06 19:47:35] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":1}
[2025-09-06 19:47:35] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-09-06 19:47:35] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-06 19:47:35] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
         com parâmetros: {":produto_id":2,":data_fim_a":null,":data_fim":null}
[2025-09-06 19:47:35] [DATABASE ERROR] Parâmetro associado: :produto_id = 2 (tipo: 1)
[2025-09-06 19:47:35] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-09-06 19:47:35] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-09-06 19:47:35] [DATABASE ERROR] Debug PDO após binding: SQL: [538] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-09-06 19:47:35] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":2}
[2025-09-06 19:47:35] [DATABASE ERROR] Parâmetro associado: :id = 2 (tipo: 1)
[2025-09-06 19:47:35] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-06 19:47:35] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
         com parâmetros: {":produto_id":3,":data_fim_a":null,":data_fim":null}
[2025-09-06 19:47:35] [DATABASE ERROR] Parâmetro associado: :produto_id = 3 (tipo: 1)
[2025-09-06 19:47:35] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-09-06 19:47:35] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-09-06 19:47:35] [DATABASE ERROR] Debug PDO após binding: SQL: [538] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-09-06 19:47:35] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":3}
[2025-09-06 19:47:35] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-06 19:47:35] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-06 19:47:46] [DATABASE ERROR] Preparando query: SELECT SUM(estoque_atual) as total_estoque FROM produtos WHERE ativo = TRUE com parâmetros: []
[2025-09-06 19:47:46] [DATABASE ERROR] Debug PDO após binding: SQL: [75] SELECT SUM(estoque_atual) as total_estoque FROM produtos WHERE ativo = TRUE
Params:  0

[2025-09-06 19:47:46] [DATABASE ERROR] Preparando query: SELECT id FROM produtos WHERE ativo = TRUE com parâmetros: []
[2025-09-06 19:47:46] [DATABASE ERROR] Debug PDO após binding: SQL: [42] SELECT id FROM produtos WHERE ativo = TRUE
Params:  0

[2025-09-06 19:47:46] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
         com parâmetros: {":produto_id":1,":data_fim_a":null,":data_fim":null}
[2025-09-06 19:47:46] [DATABASE ERROR] Parâmetro associado: :produto_id = 1 (tipo: 1)
[2025-09-06 19:47:46] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-09-06 19:47:46] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-09-06 19:47:46] [DATABASE ERROR] Debug PDO após binding: SQL: [538] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-09-06 19:47:46] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":1}
[2025-09-06 19:47:46] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-09-06 19:47:46] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-06 19:47:46] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
         com parâmetros: {":produto_id":2,":data_fim_a":null,":data_fim":null}
[2025-09-06 19:47:46] [DATABASE ERROR] Parâmetro associado: :produto_id = 2 (tipo: 1)
[2025-09-06 19:47:46] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-09-06 19:47:46] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-09-06 19:47:46] [DATABASE ERROR] Debug PDO após binding: SQL: [538] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-09-06 19:47:46] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":2}
[2025-09-06 19:47:46] [DATABASE ERROR] Parâmetro associado: :id = 2 (tipo: 1)
[2025-09-06 19:47:46] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-06 19:47:46] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
         com parâmetros: {":produto_id":3,":data_fim_a":null,":data_fim":null}
[2025-09-06 19:47:46] [DATABASE ERROR] Parâmetro associado: :produto_id = 3 (tipo: 1)
[2025-09-06 19:47:46] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-09-06 19:47:46] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-09-06 19:47:46] [DATABASE ERROR] Debug PDO após binding: SQL: [538] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-09-06 19:47:46] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":3}
[2025-09-06 19:47:46] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-06 19:47:46] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-06 19:47:46] [DATABASE ERROR] Preparando query: SELECT id, tipo, categoria, documento_numero, data_movimentacao, valor_total, fornecedor, usuario 
                    FROM vw_movimentacoes_recentes 
                    ORDER BY data_movimentacao DESC 
                    LIMIT 10 com parâmetros: []
[2025-09-06 19:47:46] [DATABASE ERROR] Debug PDO após binding: SQL: [235] SELECT id, tipo, categoria, documento_numero, data_movimentacao, valor_total, fornecedor, usuario 
                    FROM vw_movimentacoes_recentes 
                    ORDER BY data_movimentacao DESC 
                    LIMIT 10
Params:  0

[2025-09-06 19:47:46] [DATABASE ERROR] Preparando query: SELECT id, codigo, nome, estoque_atual, estoque_minimo, categoria, fornecedor 
                    FROM vw_produtos_estoque_critico 
                    ORDER BY estoque_atual ASC 
                    LIMIT 10 com parâmetros: []
[2025-09-06 19:47:46] [DATABASE ERROR] Debug PDO após binding: SQL: [212] SELECT id, codigo, nome, estoque_atual, estoque_minimo, categoria, fornecedor 
                    FROM vw_produtos_estoque_critico 
                    ORDER BY estoque_atual ASC 
                    LIMIT 10
Params:  0

[2025-09-06 19:47:46] [DATABASE ERROR] Preparando query: 
                SELECT 
                    DATE_FORMAT(m.data_movimentacao, '%Y-%m') as periodo,
                    tm.tipo,
                    SUM(mi.quantidade) as total_quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                WHERE m.status = 'PROCESSADO'
                    AND m.data_movimentacao >= DATE_SUB(CURDATE(), INTERVAL 6 MONTH)
                GROUP BY periodo, tm.tipo
                ORDER BY periodo ASC com parâmetros: []
[2025-09-06 19:47:46] [DATABASE ERROR] Debug PDO após binding: SQL: [593] 
                SELECT 
                    DATE_FORMAT(m.data_movimentacao, '%Y-%m') as periodo,
                    tm.tipo,
                    SUM(mi.quantidade) as total_quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                WHERE m.status = 'PROCESSADO'
                    AND m.data_movimentacao >= DATE_SUB(CURDATE(), INTERVAL 6 MONTH)
                GROUP BY periodo, tm.tipo
                ORDER BY periodo ASC
Params:  0

[2025-09-06 20:04:27] [DATABASE ERROR] Preparando query: SELECT * FROM produtos WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-06 20:04:27] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-06 20:04:27] [DATABASE ERROR] Debug PDO após binding: SQL: [43] SELECT * FROM produtos WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-06 20:04:27] [DATABASE ERROR] Preparando query: SELECT * FROM categorias WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-06 20:04:27] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-06 20:04:27] [DATABASE ERROR] Debug PDO após binding: SQL: [45] SELECT * FROM categorias WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-06 20:04:27] [DATABASE ERROR] Preparando query: SELECT * FROM categorias WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-06 20:04:27] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-06 20:04:27] [DATABASE ERROR] Debug PDO após binding: SQL: [45] SELECT * FROM categorias WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-06 20:04:27] [DATABASE ERROR] Preparando query: SELECT * FROM unidades_medida com parâmetros: []
[2025-09-06 20:04:27] [DATABASE ERROR] Debug PDO após binding: SQL: [29] SELECT * FROM unidades_medida
Params:  0

[2025-09-06 20:04:27] [DATABASE ERROR] Preparando query: SELECT * FROM fornecedores WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-06 20:04:27] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-06 20:04:27] [DATABASE ERROR] Debug PDO após binding: SQL: [47] SELECT * FROM fornecedores WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-06 20:04:27] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-06 20:04:27] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-06 20:04:27] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-06 20:04:31] [DATABASE ERROR] Preparando query: SELECT * FROM produtos WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-06 20:04:31] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-06 20:04:31] [DATABASE ERROR] Debug PDO após binding: SQL: [43] SELECT * FROM produtos WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-06 20:04:39] [DATABASE ERROR] Preparando query: SELECT * FROM fornecedores WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-06 20:04:39] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-06 20:04:39] [DATABASE ERROR] Debug PDO após binding: SQL: [47] SELECT * FROM fornecedores WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-06 20:04:39] [DATABASE ERROR] Preparando query: SELECT * FROM produtos WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-06 20:04:39] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-06 20:04:39] [DATABASE ERROR] Debug PDO após binding: SQL: [43] SELECT * FROM produtos WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-06 20:04:42] [DATABASE ERROR] Parâmetro associado: :id = 2 (tipo: 2)
[2025-09-06 20:04:42] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-09-06 20:04:42] [DATABASE ERROR] Parâmetro associado: :produto_id = 1 (tipo: 1)
[2025-09-06 20:04:42] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-06 20:04:42] [DATABASE ERROR] Parâmetro associado: :produto_id = 3 (tipo: 1)
[2025-09-06 20:04:42] [DATABASE ERROR] Parâmetro associado: :id = 2 (tipo: 1)
[2025-09-06 20:04:42] [DATABASE ERROR] Parâmetro associado: :produto_id = 2 (tipo: 1)
[2025-09-06 20:04:42] [DATABASE ERROR] Parâmetro associado: :movimentacao_id = 57 (tipo: 2)
[2025-09-06 20:04:42] [DATABASE ERROR] Parâmetro associado: :numero_nota = 104112 (tipo: 2)
[2025-09-06 20:04:42] [DATABASE ERROR] Parâmetro associado: :chave_acesso = 35250850902071001120550010001041121803777739 (tipo: 2)
[2025-09-06 20:04:42] [DATABASE ERROR] Parâmetro associado: :data_emissao = 2025-08-28 (tipo: 2)
[2025-09-06 20:04:42] [DATABASE ERROR] Parâmetro associado: :fornecedor_id = 2 (tipo: 1)
[2025-09-06 20:04:42] [DATABASE ERROR] Parâmetro associado: :valor_total = 1533.87 (tipo: 2)
[2025-09-06 20:04:42] [DATABASE ERROR] Parâmetro associado: :processado = 1 (tipo: 5)
[2025-09-06 20:04:42] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-09-06 20:04:42] [DATABASE ERROR] Preparando query: SELECT * FROM produtos WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-06 20:04:42] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-06 20:04:42] [DATABASE ERROR] Debug PDO após binding: SQL: [43] SELECT * FROM produtos WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-06 20:04:44] [DATABASE ERROR] Preparando query: SELECT SUM(estoque_atual) as total_estoque FROM produtos WHERE ativo = TRUE com parâmetros: []
[2025-09-06 20:04:44] [DATABASE ERROR] Debug PDO após binding: SQL: [75] SELECT SUM(estoque_atual) as total_estoque FROM produtos WHERE ativo = TRUE
Params:  0

[2025-09-06 20:04:44] [DATABASE ERROR] Preparando query: SELECT id FROM produtos WHERE ativo = TRUE com parâmetros: []
[2025-09-06 20:04:44] [DATABASE ERROR] Debug PDO após binding: SQL: [42] SELECT id FROM produtos WHERE ativo = TRUE
Params:  0

[2025-09-06 20:04:44] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
         com parâmetros: {":produto_id":1,":data_fim_a":null,":data_fim":null}
[2025-09-06 20:04:44] [DATABASE ERROR] Parâmetro associado: :produto_id = 1 (tipo: 1)
[2025-09-06 20:04:44] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-09-06 20:04:44] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-09-06 20:04:44] [DATABASE ERROR] Debug PDO após binding: SQL: [538] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-09-06 20:04:44] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":1}
[2025-09-06 20:04:44] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-09-06 20:04:44] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-06 20:04:44] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
         com parâmetros: {":produto_id":2,":data_fim_a":null,":data_fim":null}
[2025-09-06 20:04:44] [DATABASE ERROR] Parâmetro associado: :produto_id = 2 (tipo: 1)
[2025-09-06 20:04:44] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-09-06 20:04:44] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-09-06 20:04:44] [DATABASE ERROR] Debug PDO após binding: SQL: [538] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-09-06 20:04:44] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":2}
[2025-09-06 20:04:44] [DATABASE ERROR] Parâmetro associado: :id = 2 (tipo: 1)
[2025-09-06 20:04:44] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-06 20:04:44] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
         com parâmetros: {":produto_id":3,":data_fim_a":null,":data_fim":null}
[2025-09-06 20:04:44] [DATABASE ERROR] Parâmetro associado: :produto_id = 3 (tipo: 1)
[2025-09-06 20:04:44] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-09-06 20:04:44] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-09-06 20:04:44] [DATABASE ERROR] Debug PDO após binding: SQL: [538] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-09-06 20:04:44] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":3}
[2025-09-06 20:04:44] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-06 20:04:44] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-06 20:04:44] [DATABASE ERROR] Preparando query: SELECT id, codigo, nome, estoque_atual, estoque_minimo, categoria, fornecedor 
                    FROM vw_produtos_estoque_critico 
                    ORDER BY estoque_atual ASC 
                    LIMIT 10 com parâmetros: []
[2025-09-06 20:04:44] [DATABASE ERROR] Debug PDO após binding: SQL: [212] SELECT id, codigo, nome, estoque_atual, estoque_minimo, categoria, fornecedor 
                    FROM vw_produtos_estoque_critico 
                    ORDER BY estoque_atual ASC 
                    LIMIT 10
Params:  0

[2025-09-06 20:04:44] [DATABASE ERROR] Preparando query: SELECT id, tipo, categoria, documento_numero, data_movimentacao, valor_total, fornecedor, usuario 
                    FROM vw_movimentacoes_recentes 
                    ORDER BY data_movimentacao DESC 
                    LIMIT 10 com parâmetros: []
[2025-09-06 20:04:44] [DATABASE ERROR] Debug PDO após binding: SQL: [235] SELECT id, tipo, categoria, documento_numero, data_movimentacao, valor_total, fornecedor, usuario 
                    FROM vw_movimentacoes_recentes 
                    ORDER BY data_movimentacao DESC 
                    LIMIT 10
Params:  0

[2025-09-06 20:04:44] [DATABASE ERROR] Preparando query: 
                SELECT 
                    DATE_FORMAT(m.data_movimentacao, '%Y-%m') as periodo,
                    tm.tipo,
                    SUM(mi.quantidade) as total_quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                WHERE m.status = 'PROCESSADO'
                    AND m.data_movimentacao >= DATE_SUB(CURDATE(), INTERVAL 6 MONTH)
                GROUP BY periodo, tm.tipo
                ORDER BY periodo ASC com parâmetros: []
[2025-09-06 20:04:44] [DATABASE ERROR] Debug PDO após binding: SQL: [593] 
                SELECT 
                    DATE_FORMAT(m.data_movimentacao, '%Y-%m') as periodo,
                    tm.tipo,
                    SUM(mi.quantidade) as total_quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                WHERE m.status = 'PROCESSADO'
                    AND m.data_movimentacao >= DATE_SUB(CURDATE(), INTERVAL 6 MONTH)
                GROUP BY periodo, tm.tipo
                ORDER BY periodo ASC
Params:  0

[2025-09-06 20:08:06] [DATABASE ERROR] Preparando query: SELECT * FROM categorias WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-06 20:08:06] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-06 20:08:06] [DATABASE ERROR] Debug PDO após binding: SQL: [45] SELECT * FROM categorias WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-06 20:08:06] [DATABASE ERROR] Preparando query: SELECT * FROM fornecedores WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-06 20:08:06] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-06 20:08:06] [DATABASE ERROR] Debug PDO após binding: SQL: [47] SELECT * FROM fornecedores WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-06 20:08:06] [DATABASE ERROR] Preparando query: SELECT * FROM tipos_movimentacao com parâmetros: []
[2025-09-06 20:08:06] [DATABASE ERROR] Debug PDO após binding: SQL: [32] SELECT * FROM tipos_movimentacao
Params:  0

[2025-09-06 20:08:27] [DATABASE ERROR] Preparando query: 
            SELECT 
                p.id, 
                p.nome, 
                p.estoque_atual, 
                c.nome AS categoria, 
                f.razao_social AS fornecedor
            FROM produtos p
            LEFT JOIN categorias c ON p.categoria_id = c.id
            LEFT JOIN fornecedores f ON p.fornecedor_principal_id = f.id
            WHERE p.ativo = TRUE
                AND (:produto_id_null IS NULL OR p.id = :produto_id)
                AND (:categoria_id_null IS NULL OR p.categoria_id = :categoria_id)
                AND (:fornecedor_id_null IS NULL OR p.fornecedor_principal_id = :fornecedor_id)
            ORDER BY p.nome ASC;
         com parâmetros: {":produto_id_null":null,":produto_id":null,":categoria_id_null":null,":categoria_id":null,":fornecedor_id_null":null,":fornecedor_id":null}
[2025-09-06 20:08:27] [DATABASE ERROR] Parâmetro associado: :produto_id_null = NULL (tipo: 0)
[2025-09-06 20:08:27] [DATABASE ERROR] Parâmetro associado: :produto_id = NULL (tipo: 0)
[2025-09-06 20:08:27] [DATABASE ERROR] Parâmetro associado: :categoria_id_null = NULL (tipo: 0)
[2025-09-06 20:08:27] [DATABASE ERROR] Parâmetro associado: :categoria_id = NULL (tipo: 0)
[2025-09-06 20:08:27] [DATABASE ERROR] Parâmetro associado: :fornecedor_id_null = NULL (tipo: 0)
[2025-09-06 20:08:27] [DATABASE ERROR] Parâmetro associado: :fornecedor_id = NULL (tipo: 0)
[2025-09-06 20:08:27] [DATABASE ERROR] Debug PDO após binding: SQL: [684] 
            SELECT 
                p.id, 
                p.nome, 
                p.estoque_atual, 
                c.nome AS categoria, 
                f.razao_social AS fornecedor
            FROM produtos p
            LEFT JOIN categorias c ON p.categoria_id = c.id
            LEFT JOIN fornecedores f ON p.fornecedor_principal_id = f.id
            WHERE p.ativo = TRUE
                AND (:produto_id_null IS NULL OR p.id = :produto_id)
                AND (:categoria_id_null IS NULL OR p.categoria_id = :categoria_id)
                AND (:fornecedor_id_null IS NULL OR p.fornecedor_principal_id = :fornecedor_id)
            ORDER BY p.nome ASC;
        
Params:  6
Key: Name: [16] :produto_id_null
paramno=0
name=[16] ":produto_id_null"
is_param=1
param_type=0
Key: Name: [11] :produto_id
paramno=1
name=[11] ":produto_id"
is_param=1
param_type=0
Key: Name: [18] :categoria_id_null
paramno=2
name=[18] ":categoria_id_null"
is_param=1
param_type=0
Key: Name: [13] :categoria_id
paramno=3
name=[13] ":categoria_id"
is_param=1
param_type=0
Key: Name: [19] :fornecedor_id_null
paramno=4
name=[19] ":fornecedor_id_null"
is_param=1
param_type=0
Key: Name: [14] :fornecedor_id
paramno=5
name=[14] ":fornecedor_id"
is_param=1
param_type=0

[2025-09-06 20:08:27] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
         com parâmetros: {":produto_id":3,":data_fim_a":"2025-09-30",":data_fim":"2025-09-30"}
[2025-09-06 20:08:27] [DATABASE ERROR] Parâmetro associado: :produto_id = 3 (tipo: 1)
[2025-09-06 20:08:27] [DATABASE ERROR] Parâmetro associado: :data_fim_a = 2025-09-30 (tipo: 2)
[2025-09-06 20:08:27] [DATABASE ERROR] Parâmetro associado: :data_fim = 2025-09-30 (tipo: 2)
[2025-09-06 20:08:27] [DATABASE ERROR] Debug PDO após binding: SQL: [538] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=2
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=2

[2025-09-06 20:08:27] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":3}
[2025-09-06 20:08:27] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-06 20:08:27] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-06 20:08:27] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
         com parâmetros: {":produto_id":1,":data_fim_a":"2025-09-30",":data_fim":"2025-09-30"}
[2025-09-06 20:08:27] [DATABASE ERROR] Parâmetro associado: :produto_id = 1 (tipo: 1)
[2025-09-06 20:08:27] [DATABASE ERROR] Parâmetro associado: :data_fim_a = 2025-09-30 (tipo: 2)
[2025-09-06 20:08:27] [DATABASE ERROR] Parâmetro associado: :data_fim = 2025-09-30 (tipo: 2)
[2025-09-06 20:08:27] [DATABASE ERROR] Debug PDO após binding: SQL: [538] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=2
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=2

[2025-09-06 20:08:27] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":1}
[2025-09-06 20:08:27] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-09-06 20:08:27] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-06 20:08:27] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
         com parâmetros: {":produto_id":2,":data_fim_a":"2025-09-30",":data_fim":"2025-09-30"}
[2025-09-06 20:08:27] [DATABASE ERROR] Parâmetro associado: :produto_id = 2 (tipo: 1)
[2025-09-06 20:08:27] [DATABASE ERROR] Parâmetro associado: :data_fim_a = 2025-09-30 (tipo: 2)
[2025-09-06 20:08:27] [DATABASE ERROR] Parâmetro associado: :data_fim = 2025-09-30 (tipo: 2)
[2025-09-06 20:08:27] [DATABASE ERROR] Debug PDO após binding: SQL: [538] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=2
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=2

[2025-09-06 20:08:27] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":2}
[2025-09-06 20:08:27] [DATABASE ERROR] Parâmetro associado: :id = 2 (tipo: 1)
[2025-09-06 20:08:27] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-06 20:10:43] [DATABASE ERROR] Preparando query: SELECT * FROM categorias WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-06 20:10:43] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-06 20:10:43] [DATABASE ERROR] Debug PDO após binding: SQL: [45] SELECT * FROM categorias WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-06 20:10:43] [DATABASE ERROR] Preparando query: SELECT * FROM fornecedores WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-06 20:10:43] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-06 20:10:43] [DATABASE ERROR] Debug PDO após binding: SQL: [47] SELECT * FROM fornecedores WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-06 20:10:43] [DATABASE ERROR] Preparando query: SELECT * FROM tipos_movimentacao com parâmetros: []
[2025-09-06 20:10:43] [DATABASE ERROR] Debug PDO após binding: SQL: [32] SELECT * FROM tipos_movimentacao
Params:  0

[2025-09-06 20:10:47] [DATABASE ERROR] Preparando query: SELECT SUM(estoque_atual) as total_estoque FROM produtos WHERE ativo = TRUE com parâmetros: []
[2025-09-06 20:10:47] [DATABASE ERROR] Debug PDO após binding: SQL: [75] SELECT SUM(estoque_atual) as total_estoque FROM produtos WHERE ativo = TRUE
Params:  0

[2025-09-06 20:10:47] [DATABASE ERROR] Preparando query: SELECT id FROM produtos WHERE ativo = TRUE com parâmetros: []
[2025-09-06 20:10:47] [DATABASE ERROR] Debug PDO após binding: SQL: [42] SELECT id FROM produtos WHERE ativo = TRUE
Params:  0

[2025-09-06 20:10:47] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
         com parâmetros: {":produto_id":1,":data_fim_a":null,":data_fim":null}
[2025-09-06 20:10:47] [DATABASE ERROR] Parâmetro associado: :produto_id = 1 (tipo: 1)
[2025-09-06 20:10:47] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-09-06 20:10:47] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-09-06 20:10:47] [DATABASE ERROR] Debug PDO após binding: SQL: [538] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-09-06 20:10:47] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":1}
[2025-09-06 20:10:47] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-09-06 20:10:47] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-06 20:10:47] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
         com parâmetros: {":produto_id":2,":data_fim_a":null,":data_fim":null}
[2025-09-06 20:10:47] [DATABASE ERROR] Parâmetro associado: :produto_id = 2 (tipo: 1)
[2025-09-06 20:10:47] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-09-06 20:10:47] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-09-06 20:10:47] [DATABASE ERROR] Debug PDO após binding: SQL: [538] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-09-06 20:10:47] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":2}
[2025-09-06 20:10:47] [DATABASE ERROR] Parâmetro associado: :id = 2 (tipo: 1)
[2025-09-06 20:10:47] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-06 20:10:47] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
         com parâmetros: {":produto_id":3,":data_fim_a":null,":data_fim":null}
[2025-09-06 20:10:47] [DATABASE ERROR] Parâmetro associado: :produto_id = 3 (tipo: 1)
[2025-09-06 20:10:47] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-09-06 20:10:47] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-09-06 20:10:47] [DATABASE ERROR] Debug PDO após binding: SQL: [538] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-09-06 20:10:47] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":3}
[2025-09-06 20:10:47] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-06 20:10:47] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-06 20:10:47] [DATABASE ERROR] Preparando query: SELECT id, codigo, nome, estoque_atual, estoque_minimo, categoria, fornecedor 
                    FROM vw_produtos_estoque_critico 
                    ORDER BY estoque_atual ASC 
                    LIMIT 10 com parâmetros: []
[2025-09-06 20:10:47] [DATABASE ERROR] Debug PDO após binding: SQL: [212] SELECT id, codigo, nome, estoque_atual, estoque_minimo, categoria, fornecedor 
                    FROM vw_produtos_estoque_critico 
                    ORDER BY estoque_atual ASC 
                    LIMIT 10
Params:  0

[2025-09-06 20:10:47] [DATABASE ERROR] Preparando query: SELECT id, tipo, categoria, documento_numero, data_movimentacao, valor_total, fornecedor, usuario 
                    FROM vw_movimentacoes_recentes 
                    ORDER BY data_movimentacao DESC 
                    LIMIT 10 com parâmetros: []
[2025-09-06 20:10:47] [DATABASE ERROR] Debug PDO após binding: SQL: [235] SELECT id, tipo, categoria, documento_numero, data_movimentacao, valor_total, fornecedor, usuario 
                    FROM vw_movimentacoes_recentes 
                    ORDER BY data_movimentacao DESC 
                    LIMIT 10
Params:  0

[2025-09-06 20:10:47] [DATABASE ERROR] Preparando query: 
                SELECT 
                    DATE_FORMAT(m.data_movimentacao, '%Y-%m') as periodo,
                    tm.tipo,
                    SUM(mi.quantidade) as total_quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                WHERE m.status = 'PROCESSADO'
                    AND m.data_movimentacao >= DATE_SUB(CURDATE(), INTERVAL 6 MONTH)
                GROUP BY periodo, tm.tipo
                ORDER BY periodo ASC com parâmetros: []
[2025-09-06 20:10:47] [DATABASE ERROR] Debug PDO após binding: SQL: [593] 
                SELECT 
                    DATE_FORMAT(m.data_movimentacao, '%Y-%m') as periodo,
                    tm.tipo,
                    SUM(mi.quantidade) as total_quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                WHERE m.status = 'PROCESSADO'
                    AND m.data_movimentacao >= DATE_SUB(CURDATE(), INTERVAL 6 MONTH)
                GROUP BY periodo, tm.tipo
                ORDER BY periodo ASC
Params:  0

[2025-09-06 20:10:50] [DATABASE ERROR] Preparando query: SELECT * FROM categorias WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-06 20:10:50] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-06 20:10:50] [DATABASE ERROR] Debug PDO após binding: SQL: [45] SELECT * FROM categorias WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-06 20:10:52] [DATABASE ERROR] Preparando query: SELECT * FROM produtos WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-06 20:10:52] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-06 20:10:52] [DATABASE ERROR] Debug PDO após binding: SQL: [43] SELECT * FROM produtos WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-06 20:10:52] [DATABASE ERROR] Preparando query: SELECT * FROM categorias WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-06 20:10:52] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-06 20:10:52] [DATABASE ERROR] Debug PDO após binding: SQL: [45] SELECT * FROM categorias WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-06 20:10:52] [DATABASE ERROR] Preparando query: SELECT * FROM categorias WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-06 20:10:52] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-06 20:10:52] [DATABASE ERROR] Debug PDO após binding: SQL: [45] SELECT * FROM categorias WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-06 20:10:52] [DATABASE ERROR] Preparando query: SELECT * FROM unidades_medida com parâmetros: []
[2025-09-06 20:10:52] [DATABASE ERROR] Debug PDO após binding: SQL: [29] SELECT * FROM unidades_medida
Params:  0

[2025-09-06 20:10:52] [DATABASE ERROR] Preparando query: SELECT * FROM fornecedores WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-06 20:10:52] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-06 20:10:52] [DATABASE ERROR] Debug PDO após binding: SQL: [47] SELECT * FROM fornecedores WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-06 20:10:52] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-06 20:10:52] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-06 20:10:52] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-06 20:10:53] [DATABASE ERROR] Preparando query: SELECT * FROM produtos WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-06 20:10:53] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-06 20:10:53] [DATABASE ERROR] Debug PDO após binding: SQL: [43] SELECT * FROM produtos WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-06 20:10:57] [DATABASE ERROR] Preparando query: SELECT u.id, u.nome_completo, u.email, u.usuario, 
                       u.ativo, u.ultimo_acesso, u.criado_em,
                       p.nome as perfil_nome 
                FROM usuarios u 
                JOIN perfis p ON u.perfil_id = p.id ORDER BY u.nome_completo com parâmetros: []
[2025-09-06 20:10:57] [DATABASE ERROR] Debug PDO após binding: SQL: [268] SELECT u.id, u.nome_completo, u.email, u.usuario, 
                       u.ativo, u.ultimo_acesso, u.criado_em,
                       p.nome as perfil_nome 
                FROM usuarios u 
                JOIN perfis p ON u.perfil_id = p.id ORDER BY u.nome_completo
Params:  0

[2025-09-06 20:11:01] [DATABASE ERROR] Preparando query: SELECT * FROM produtos WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-06 20:11:01] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-06 20:11:01] [DATABASE ERROR] Debug PDO após binding: SQL: [43] SELECT * FROM produtos WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-06 20:11:03] [DATABASE ERROR] Preparando query: SELECT * FROM categorias WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-06 20:11:03] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-06 20:11:03] [DATABASE ERROR] Debug PDO após binding: SQL: [45] SELECT * FROM categorias WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-06 20:11:03] [DATABASE ERROR] Preparando query: SELECT * FROM fornecedores WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-06 20:11:03] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-06 20:11:03] [DATABASE ERROR] Debug PDO após binding: SQL: [47] SELECT * FROM fornecedores WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-06 20:11:03] [DATABASE ERROR] Preparando query: SELECT * FROM tipos_movimentacao com parâmetros: []
[2025-09-06 20:11:03] [DATABASE ERROR] Debug PDO após binding: SQL: [32] SELECT * FROM tipos_movimentacao
Params:  0

[2025-09-06 20:11:04] [DATABASE ERROR] Preparando query: SELECT * FROM produtos WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-06 20:11:04] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-06 20:11:04] [DATABASE ERROR] Debug PDO após binding: SQL: [43] SELECT * FROM produtos WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-06 20:11:07] [DATABASE ERROR] Preparando query: SELECT u.id, u.nome_completo, u.email, u.usuario, 
                       u.ativo, u.ultimo_acesso, u.criado_em,
                       p.nome as perfil_nome 
                FROM usuarios u 
                JOIN perfis p ON u.perfil_id = p.id ORDER BY u.nome_completo com parâmetros: []
[2025-09-06 20:11:07] [DATABASE ERROR] Debug PDO após binding: SQL: [268] SELECT u.id, u.nome_completo, u.email, u.usuario, 
                       u.ativo, u.ultimo_acesso, u.criado_em,
                       p.nome as perfil_nome 
                FROM usuarios u 
                JOIN perfis p ON u.perfil_id = p.id ORDER BY u.nome_completo
Params:  0

[2025-09-06 20:11:08] [DATABASE ERROR] Preparando query: SELECT * FROM categorias WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-06 20:11:08] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-06 20:11:08] [DATABASE ERROR] Debug PDO após binding: SQL: [45] SELECT * FROM categorias WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-06 20:11:08] [DATABASE ERROR] Preparando query: SELECT * FROM fornecedores WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-06 20:11:08] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-06 20:11:08] [DATABASE ERROR] Debug PDO após binding: SQL: [47] SELECT * FROM fornecedores WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-06 20:11:08] [DATABASE ERROR] Preparando query: SELECT * FROM tipos_movimentacao com parâmetros: []
[2025-09-06 20:11:08] [DATABASE ERROR] Debug PDO após binding: SQL: [32] SELECT * FROM tipos_movimentacao
Params:  0

[2025-09-06 20:11:10] [DATABASE ERROR] Preparando query: SELECT u.id, u.nome_completo, u.email, u.usuario, 
                       u.ativo, u.ultimo_acesso, u.criado_em,
                       p.nome as perfil_nome 
                FROM usuarios u 
                JOIN perfis p ON u.perfil_id = p.id ORDER BY u.nome_completo com parâmetros: []
[2025-09-06 20:11:10] [DATABASE ERROR] Debug PDO após binding: SQL: [268] SELECT u.id, u.nome_completo, u.email, u.usuario, 
                       u.ativo, u.ultimo_acesso, u.criado_em,
                       p.nome as perfil_nome 
                FROM usuarios u 
                JOIN perfis p ON u.perfil_id = p.id ORDER BY u.nome_completo
Params:  0

[2025-09-06 20:11:10] [DATABASE ERROR] Preparando query: SELECT * FROM produtos WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-06 20:11:10] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-06 20:11:10] [DATABASE ERROR] Debug PDO após binding: SQL: [43] SELECT * FROM produtos WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-06 20:12:48] [DATABASE ERROR] Preparando query: SELECT u.id, u.nome_completo, u.email, u.usuario, 
                       u.ativo, u.ultimo_acesso, u.criado_em,
                       p.nome as perfil_nome 
                FROM usuarios u 
                JOIN perfis p ON u.perfil_id = p.id ORDER BY u.nome_completo com parâmetros: []
[2025-09-06 20:12:48] [DATABASE ERROR] Debug PDO após binding: SQL: [268] SELECT u.id, u.nome_completo, u.email, u.usuario, 
                       u.ativo, u.ultimo_acesso, u.criado_em,
                       p.nome as perfil_nome 
                FROM usuarios u 
                JOIN perfis p ON u.perfil_id = p.id ORDER BY u.nome_completo
Params:  0

[2025-09-06 20:12:53] [DATABASE ERROR] Preparando query: SELECT 
                    a.id, a.tabela, a.registro_id, a.acao, a.dados_anteriores, a.dados_novos,
                    u.nome_completo AS usuario, a.ip_address, a.user_agent, a.criado_em
                FROM auditoria a
                LEFT JOIN usuarios u ON a.usuario_id = u.id
                WHERE 1=1 ORDER BY a.criado_em DESC LIMIT 100 com parâmetros: []
[2025-09-06 20:12:53] [DATABASE ERROR] Debug PDO após binding: SQL: [349] SELECT 
                    a.id, a.tabela, a.registro_id, a.acao, a.dados_anteriores, a.dados_novos,
                    u.nome_completo AS usuario, a.ip_address, a.user_agent, a.criado_em
                FROM auditoria a
                LEFT JOIN usuarios u ON a.usuario_id = u.id
                WHERE 1=1 ORDER BY a.criado_em DESC LIMIT 100
Params:  0

[2025-09-06 20:13:03] [DATABASE ERROR] Preparando query: SELECT 
                    a.id, a.tabela, a.registro_id, a.acao, a.dados_anteriores, a.dados_novos,
                    u.nome_completo AS usuario, a.ip_address, a.user_agent, a.criado_em
                FROM auditoria a
                LEFT JOIN usuarios u ON a.usuario_id = u.id
                WHERE 1=1 AND a.tabela = :tabela ORDER BY a.criado_em DESC LIMIT 100 com parâmetros: {":tabela":"movimentacoes"}
[2025-09-06 20:13:03] [DATABASE ERROR] Parâmetro associado: :tabela = movimentacoes (tipo: 2)
[2025-09-06 20:13:03] [DATABASE ERROR] Debug PDO após binding: SQL: [372] SELECT 
                    a.id, a.tabela, a.registro_id, a.acao, a.dados_anteriores, a.dados_novos,
                    u.nome_completo AS usuario, a.ip_address, a.user_agent, a.criado_em
                FROM auditoria a
                LEFT JOIN usuarios u ON a.usuario_id = u.id
                WHERE 1=1 AND a.tabela = :tabela ORDER BY a.criado_em DESC LIMIT 100
Params:  1
Key: Name: [7] :tabela
paramno=0
name=[7] ":tabela"
is_param=1
param_type=2

[2025-09-06 20:13:06] [DATABASE ERROR] Preparando query: SELECT 
                    a.id, a.tabela, a.registro_id, a.acao, a.dados_anteriores, a.dados_novos,
                    u.nome_completo AS usuario, a.ip_address, a.user_agent, a.criado_em
                FROM auditoria a
                LEFT JOIN usuarios u ON a.usuario_id = u.id
                WHERE 1=1 AND a.tabela = :tabela ORDER BY a.criado_em DESC LIMIT 100 com parâmetros: {":tabela":"produtos"}
[2025-09-06 20:13:06] [DATABASE ERROR] Parâmetro associado: :tabela = produtos (tipo: 2)
[2025-09-06 20:13:06] [DATABASE ERROR] Debug PDO após binding: SQL: [372] SELECT 
                    a.id, a.tabela, a.registro_id, a.acao, a.dados_anteriores, a.dados_novos,
                    u.nome_completo AS usuario, a.ip_address, a.user_agent, a.criado_em
                FROM auditoria a
                LEFT JOIN usuarios u ON a.usuario_id = u.id
                WHERE 1=1 AND a.tabela = :tabela ORDER BY a.criado_em DESC LIMIT 100
Params:  1
Key: Name: [7] :tabela
paramno=0
name=[7] ":tabela"
is_param=1
param_type=2

[2025-09-06 20:13:10] [DATABASE ERROR] Preparando query: SELECT 
                    a.id, a.tabela, a.registro_id, a.acao, a.dados_anteriores, a.dados_novos,
                    u.nome_completo AS usuario, a.ip_address, a.user_agent, a.criado_em
                FROM auditoria a
                LEFT JOIN usuarios u ON a.usuario_id = u.id
                WHERE 1=1 AND a.tabela = :tabela ORDER BY a.criado_em DESC LIMIT 100 com parâmetros: {":tabela":"categorias"}
[2025-09-06 20:13:10] [DATABASE ERROR] Parâmetro associado: :tabela = categorias (tipo: 2)
[2025-09-06 20:13:10] [DATABASE ERROR] Debug PDO após binding: SQL: [372] SELECT 
                    a.id, a.tabela, a.registro_id, a.acao, a.dados_anteriores, a.dados_novos,
                    u.nome_completo AS usuario, a.ip_address, a.user_agent, a.criado_em
                FROM auditoria a
                LEFT JOIN usuarios u ON a.usuario_id = u.id
                WHERE 1=1 AND a.tabela = :tabela ORDER BY a.criado_em DESC LIMIT 100
Params:  1
Key: Name: [7] :tabela
paramno=0
name=[7] ":tabela"
is_param=1
param_type=2

[2025-09-06 20:13:27] [DATABASE ERROR] Preparando query: SELECT * FROM categorias WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-06 20:13:27] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-06 20:13:27] [DATABASE ERROR] Debug PDO após binding: SQL: [45] SELECT * FROM categorias WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-06 20:13:27] [DATABASE ERROR] Preparando query: SELECT * FROM fornecedores WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-06 20:13:27] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-06 20:13:27] [DATABASE ERROR] Debug PDO após binding: SQL: [47] SELECT * FROM fornecedores WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-06 20:13:27] [DATABASE ERROR] Preparando query: SELECT * FROM tipos_movimentacao com parâmetros: []
[2025-09-06 20:13:27] [DATABASE ERROR] Debug PDO após binding: SQL: [32] SELECT * FROM tipos_movimentacao
Params:  0

[2025-09-06 20:14:35] [DATABASE ERROR] Preparando query: SELECT * FROM produtos WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-06 20:14:35] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-06 20:14:35] [DATABASE ERROR] Debug PDO após binding: SQL: [43] SELECT * FROM produtos WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-06 20:20:53] [DATABASE ERROR] Preparando query: SELECT * FROM fornecedores WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-06 20:20:53] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-06 20:20:53] [DATABASE ERROR] Debug PDO após binding: SQL: [47] SELECT * FROM fornecedores WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-06 20:20:53] [DATABASE ERROR] Preparando query: SELECT * FROM produtos WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-06 20:20:53] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-06 20:20:53] [DATABASE ERROR] Debug PDO após binding: SQL: [43] SELECT * FROM produtos WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-06 20:24:02] [DATABASE ERROR] Preparando query: SELECT * FROM produtos WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-06 20:24:02] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-06 20:24:02] [DATABASE ERROR] Debug PDO após binding: SQL: [43] SELECT * FROM produtos WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-06 20:25:04] [DATABASE ERROR] Preparando query: SELECT * FROM produtos WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-06 20:25:04] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-06 20:25:04] [DATABASE ERROR] Debug PDO após binding: SQL: [43] SELECT * FROM produtos WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-06 20:28:19] [DATABASE ERROR] Preparando query: SELECT * FROM produtos WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-06 20:28:19] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-06 20:28:19] [DATABASE ERROR] Debug PDO após binding: SQL: [43] SELECT * FROM produtos WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-06 20:29:50] [DATABASE ERROR] Preparando query: SELECT * FROM produtos WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-06 20:29:50] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-06 20:29:50] [DATABASE ERROR] Debug PDO após binding: SQL: [43] SELECT * FROM produtos WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-06 20:36:35] [DATABASE ERROR] Parâmetro associado: :tabela = movimentacoes (tipo: 2)
[2025-09-06 20:36:35] [DATABASE ERROR] Parâmetro associado: :registro_id = 58 (tipo: 2)
[2025-09-06 20:36:35] [DATABASE ERROR] Parâmetro associado: :acao = INSERT (tipo: 2)
[2025-09-06 20:36:35] [DATABASE ERROR] Parâmetro associado: :dados_anteriores = NULL (tipo: 0)
[2025-09-06 20:36:35] [DATABASE ERROR] Parâmetro associado: :dados_novos = {"tipo_movimentacao_id":"1","observacao":"","produtos":{"1":"0","2":"1","3":"0"},"valor_unitario":{"1":"0","2":"52.32","3":"0"}} (tipo: 2)
[2025-09-06 20:36:35] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-09-06 20:36:35] [DATABASE ERROR] Parâmetro associado: :ip_address = ::1 (tipo: 2)
[2025-09-06 20:36:35] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36 Edg/139.0.0.0 (tipo: 2)
[2025-09-06 20:36:35] [DATABASE ERROR] Parâmetro associado: :id = 2 (tipo: 1)
[2025-09-06 20:36:35] [DATABASE ERROR] Parâmetro associado: :produto_id = 2 (tipo: 1)
[2025-09-06 20:36:35] [DATABASE ERROR] Parâmetro associado: :produto_id = 0 (tipo: 1)
[2025-09-06 20:36:35] [DATABASE ERROR] Parâmetro associado: :produto_id = 1 (tipo: 1)
[2025-09-06 20:36:35] [DATABASE ERROR] Parâmetro associado: :produto_id = 0 (tipo: 1)
[2025-09-06 20:36:35] [DATABASE ERROR] Preparando query: SELECT * FROM produtos WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-06 20:36:35] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-06 20:36:35] [DATABASE ERROR] Debug PDO após binding: SQL: [43] SELECT * FROM produtos WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-06 20:36:35] [DATABASE ERROR] Preparando query: SELECT * FROM categorias WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-06 20:36:35] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-06 20:36:35] [DATABASE ERROR] Debug PDO após binding: SQL: [45] SELECT * FROM categorias WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-06 20:36:35] [DATABASE ERROR] Preparando query: SELECT * FROM categorias WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-06 20:36:35] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-06 20:36:35] [DATABASE ERROR] Debug PDO após binding: SQL: [45] SELECT * FROM categorias WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-06 20:36:35] [DATABASE ERROR] Preparando query: SELECT * FROM unidades_medida com parâmetros: []
[2025-09-06 20:36:35] [DATABASE ERROR] Debug PDO após binding: SQL: [29] SELECT * FROM unidades_medida
Params:  0

[2025-09-06 20:36:35] [DATABASE ERROR] Preparando query: SELECT * FROM fornecedores WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-06 20:36:35] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-06 20:36:35] [DATABASE ERROR] Debug PDO após binding: SQL: [47] SELECT * FROM fornecedores WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-06 20:36:35] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-06 20:36:35] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-06 20:36:35] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-06 20:37:12] [DATABASE ERROR] Preparando query: SELECT * FROM produtos WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-06 20:37:12] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-06 20:37:12] [DATABASE ERROR] Debug PDO após binding: SQL: [43] SELECT * FROM produtos WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-06 20:37:41] [DATABASE ERROR] Parâmetro associado: :tabela = movimentacoes (tipo: 2)
[2025-09-06 20:37:41] [DATABASE ERROR] Parâmetro associado: :registro_id = 59 (tipo: 2)
[2025-09-06 20:37:41] [DATABASE ERROR] Parâmetro associado: :acao = INSERT (tipo: 2)
[2025-09-06 20:37:41] [DATABASE ERROR] Parâmetro associado: :dados_anteriores = NULL (tipo: 0)
[2025-09-06 20:37:41] [DATABASE ERROR] Parâmetro associado: :dados_novos = {"tipo_movimentacao_id":"1","observacao":"","produtos":{"1":"0","2":"1","3":"0"},"valor_unitario":{"1":"0","2":"5.00","3":"0"}} (tipo: 2)
[2025-09-06 20:37:41] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-09-06 20:37:41] [DATABASE ERROR] Parâmetro associado: :ip_address = ::1 (tipo: 2)
[2025-09-06 20:37:41] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36 Edg/139.0.0.0 (tipo: 2)
[2025-09-06 20:37:41] [DATABASE ERROR] Parâmetro associado: :id = 2 (tipo: 1)
[2025-09-06 20:37:41] [DATABASE ERROR] Parâmetro associado: :produto_id = 2 (tipo: 1)
[2025-09-06 20:37:41] [DATABASE ERROR] Parâmetro associado: :produto_id = 0 (tipo: 1)
[2025-09-06 20:37:41] [DATABASE ERROR] Parâmetro associado: :produto_id = 1 (tipo: 1)
[2025-09-06 20:37:41] [DATABASE ERROR] Parâmetro associado: :produto_id = 0 (tipo: 1)
[2025-09-06 20:37:42] [DATABASE ERROR] Preparando query: SELECT * FROM produtos WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-06 20:37:42] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-06 20:37:42] [DATABASE ERROR] Debug PDO após binding: SQL: [43] SELECT * FROM produtos WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-06 20:37:42] [DATABASE ERROR] Preparando query: SELECT * FROM categorias WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-06 20:37:42] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-06 20:37:42] [DATABASE ERROR] Debug PDO após binding: SQL: [45] SELECT * FROM categorias WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-06 20:37:42] [DATABASE ERROR] Preparando query: SELECT * FROM categorias WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-06 20:37:42] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-06 20:37:42] [DATABASE ERROR] Debug PDO após binding: SQL: [45] SELECT * FROM categorias WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-06 20:37:42] [DATABASE ERROR] Preparando query: SELECT * FROM unidades_medida com parâmetros: []
[2025-09-06 20:37:42] [DATABASE ERROR] Debug PDO após binding: SQL: [29] SELECT * FROM unidades_medida
Params:  0

[2025-09-06 20:37:42] [DATABASE ERROR] Preparando query: SELECT * FROM fornecedores WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-06 20:37:42] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-06 20:37:42] [DATABASE ERROR] Debug PDO após binding: SQL: [47] SELECT * FROM fornecedores WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-06 20:37:42] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-06 20:37:42] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-06 20:37:42] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-06 20:38:21] [DATABASE ERROR] Parâmetro associado: :user_id = 1 (tipo: 1)
[2025-09-06 20:38:27] [DATABASE ERROR] Parâmetro associado: :username = admin (tipo: 2)
[2025-09-06 20:38:27] [DATABASE ERROR] Parâmetro associado: :email = admin (tipo: 2)
[2025-09-06 20:38:27] [DATABASE ERROR] Preparando query: UPDATE usuarios SET ultimo_acesso = NOW() WHERE id = :id com parâmetros: {":id":1}
[2025-09-06 20:38:27] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-09-06 20:38:27] [DATABASE ERROR] Debug PDO após binding: SQL: [56] UPDATE usuarios SET ultimo_acesso = NOW() WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-06 20:38:27] [DATABASE ERROR] Parâmetro associado: :tabela = usuarios (tipo: 2)
[2025-09-06 20:38:27] [DATABASE ERROR] Parâmetro associado: :registro_id = 1 (tipo: 1)
[2025-09-06 20:38:27] [DATABASE ERROR] Parâmetro associado: :acao = LOGIN (tipo: 2)
[2025-09-06 20:38:27] [DATABASE ERROR] Parâmetro associado: :dados_anteriores = NULL (tipo: 0)
[2025-09-06 20:38:27] [DATABASE ERROR] Parâmetro associado: :dados_novos = NULL (tipo: 0)
[2025-09-06 20:38:27] [DATABASE ERROR] Parâmetro associado: :usuario_id = NULL (tipo: 0)
[2025-09-06 20:38:27] [DATABASE ERROR] Parâmetro associado: :ip_address = ::1 (tipo: 2)
[2025-09-06 20:38:27] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36 Edg/139.0.0.0 (tipo: 2)
[2025-09-06 20:38:27] [DATABASE ERROR] Parâmetro associado: :id = tibl0rfsj0f68da97s36t7s78h (tipo: 2)
[2025-09-06 20:38:27] [DATABASE ERROR] Parâmetro associado: :id = tibl0rfsj0f68da97s36t7s78h (tipo: 2)
[2025-09-06 20:38:27] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-09-06 20:38:27] [DATABASE ERROR] Parâmetro associado: :ip_address = ::1 (tipo: 2)
[2025-09-06 20:38:27] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36 Edg/139.0.0.0 (tipo: 2)
[2025-09-06 20:38:27] [DATABASE ERROR] Parâmetro associado: :dados = {"user_id":1,"user_name":"Administrador do Sistema","user_email":"flavioafj@yahoo.com.br","user_profile":1,"user_profile_name":"Administrador","logged_in":true,"login_time":1757201907} (tipo: 2)
[2025-09-06 20:38:28] [DATABASE ERROR] Preparando query: SELECT id, codigo, nome, estoque_atual, estoque_minimo, categoria, fornecedor 
                    FROM vw_produtos_estoque_critico 
                    ORDER BY estoque_atual ASC 
                    LIMIT 10 com parâmetros: []
[2025-09-06 20:38:28] [DATABASE ERROR] Debug PDO após binding: SQL: [212] SELECT id, codigo, nome, estoque_atual, estoque_minimo, categoria, fornecedor 
                    FROM vw_produtos_estoque_critico 
                    ORDER BY estoque_atual ASC 
                    LIMIT 10
Params:  0

[2025-09-06 20:38:28] [DATABASE ERROR] Preparando query: SELECT SUM(estoque_atual) as total_estoque FROM produtos WHERE ativo = TRUE com parâmetros: []
[2025-09-06 20:38:28] [DATABASE ERROR] Debug PDO após binding: SQL: [75] SELECT SUM(estoque_atual) as total_estoque FROM produtos WHERE ativo = TRUE
Params:  0

[2025-09-06 20:38:28] [DATABASE ERROR] Preparando query: SELECT id FROM produtos WHERE ativo = TRUE com parâmetros: []
[2025-09-06 20:38:28] [DATABASE ERROR] Debug PDO após binding: SQL: [42] SELECT id FROM produtos WHERE ativo = TRUE
Params:  0

[2025-09-06 20:38:28] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
         com parâmetros: {":produto_id":1,":data_fim_a":null,":data_fim":null}
[2025-09-06 20:38:28] [DATABASE ERROR] Parâmetro associado: :produto_id = 1 (tipo: 1)
[2025-09-06 20:38:28] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-09-06 20:38:28] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-09-06 20:38:28] [DATABASE ERROR] Debug PDO após binding: SQL: [538] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-09-06 20:38:28] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":1}
[2025-09-06 20:38:28] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-09-06 20:38:28] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-06 20:38:28] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
         com parâmetros: {":produto_id":2,":data_fim_a":null,":data_fim":null}
[2025-09-06 20:38:28] [DATABASE ERROR] Parâmetro associado: :produto_id = 2 (tipo: 1)
[2025-09-06 20:38:28] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-09-06 20:38:28] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-09-06 20:38:28] [DATABASE ERROR] Debug PDO após binding: SQL: [538] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-09-06 20:38:28] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":2}
[2025-09-06 20:38:28] [DATABASE ERROR] Parâmetro associado: :id = 2 (tipo: 1)
[2025-09-06 20:38:28] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-06 20:38:28] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
         com parâmetros: {":produto_id":3,":data_fim_a":null,":data_fim":null}
[2025-09-06 20:38:28] [DATABASE ERROR] Parâmetro associado: :produto_id = 3 (tipo: 1)
[2025-09-06 20:38:28] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-09-06 20:38:28] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-09-06 20:38:28] [DATABASE ERROR] Debug PDO após binding: SQL: [538] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-09-06 20:38:28] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":3}
[2025-09-06 20:38:28] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-06 20:38:28] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-06 20:38:28] [DATABASE ERROR] Preparando query: SELECT id, tipo, categoria, documento_numero, data_movimentacao, valor_total, fornecedor, usuario 
                    FROM vw_movimentacoes_recentes 
                    ORDER BY data_movimentacao DESC 
                    LIMIT 10 com parâmetros: []
[2025-09-06 20:38:28] [DATABASE ERROR] Debug PDO após binding: SQL: [235] SELECT id, tipo, categoria, documento_numero, data_movimentacao, valor_total, fornecedor, usuario 
                    FROM vw_movimentacoes_recentes 
                    ORDER BY data_movimentacao DESC 
                    LIMIT 10
Params:  0

[2025-09-06 20:38:28] [DATABASE ERROR] Preparando query: 
                SELECT 
                    DATE_FORMAT(m.data_movimentacao, '%Y-%m') as periodo,
                    tm.tipo,
                    SUM(mi.quantidade) as total_quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                WHERE m.status = 'PROCESSADO'
                    AND m.data_movimentacao >= DATE_SUB(CURDATE(), INTERVAL 6 MONTH)
                GROUP BY periodo, tm.tipo
                ORDER BY periodo ASC com parâmetros: []
[2025-09-06 20:38:28] [DATABASE ERROR] Debug PDO após binding: SQL: [593] 
                SELECT 
                    DATE_FORMAT(m.data_movimentacao, '%Y-%m') as periodo,
                    tm.tipo,
                    SUM(mi.quantidade) as total_quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                WHERE m.status = 'PROCESSADO'
                    AND m.data_movimentacao >= DATE_SUB(CURDATE(), INTERVAL 6 MONTH)
                GROUP BY periodo, tm.tipo
                ORDER BY periodo ASC
Params:  0

[2025-09-06 20:38:33] [DATABASE ERROR] Preparando query: SELECT * FROM categorias WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-06 20:38:33] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-06 20:38:33] [DATABASE ERROR] Debug PDO após binding: SQL: [45] SELECT * FROM categorias WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-06 20:38:33] [DATABASE ERROR] Preparando query: SELECT * FROM fornecedores WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-06 20:38:33] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-06 20:38:33] [DATABASE ERROR] Debug PDO após binding: SQL: [47] SELECT * FROM fornecedores WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-06 20:38:33] [DATABASE ERROR] Preparando query: SELECT * FROM tipos_movimentacao com parâmetros: []
[2025-09-06 20:38:33] [DATABASE ERROR] Debug PDO após binding: SQL: [32] SELECT * FROM tipos_movimentacao
Params:  0

[2025-09-06 20:38:36] [DATABASE ERROR] Preparando query: 
            SELECT 
                p.id, 
                p.nome, 
                p.estoque_atual, 
                c.nome AS categoria, 
                f.razao_social AS fornecedor
            FROM produtos p
            LEFT JOIN categorias c ON p.categoria_id = c.id
            LEFT JOIN fornecedores f ON p.fornecedor_principal_id = f.id
            WHERE p.ativo = TRUE
                AND (:produto_id_null IS NULL OR p.id = :produto_id)
                AND (:categoria_id_null IS NULL OR p.categoria_id = :categoria_id)
                AND (:fornecedor_id_null IS NULL OR p.fornecedor_principal_id = :fornecedor_id)
            ORDER BY p.nome ASC;
         com parâmetros: {":produto_id_null":null,":produto_id":null,":categoria_id_null":null,":categoria_id":null,":fornecedor_id_null":null,":fornecedor_id":null}
[2025-09-06 20:38:36] [DATABASE ERROR] Parâmetro associado: :produto_id_null = NULL (tipo: 0)
[2025-09-06 20:38:36] [DATABASE ERROR] Parâmetro associado: :produto_id = NULL (tipo: 0)
[2025-09-06 20:38:36] [DATABASE ERROR] Parâmetro associado: :categoria_id_null = NULL (tipo: 0)
[2025-09-06 20:38:36] [DATABASE ERROR] Parâmetro associado: :categoria_id = NULL (tipo: 0)
[2025-09-06 20:38:36] [DATABASE ERROR] Parâmetro associado: :fornecedor_id_null = NULL (tipo: 0)
[2025-09-06 20:38:36] [DATABASE ERROR] Parâmetro associado: :fornecedor_id = NULL (tipo: 0)
[2025-09-06 20:38:36] [DATABASE ERROR] Debug PDO após binding: SQL: [684] 
            SELECT 
                p.id, 
                p.nome, 
                p.estoque_atual, 
                c.nome AS categoria, 
                f.razao_social AS fornecedor
            FROM produtos p
            LEFT JOIN categorias c ON p.categoria_id = c.id
            LEFT JOIN fornecedores f ON p.fornecedor_principal_id = f.id
            WHERE p.ativo = TRUE
                AND (:produto_id_null IS NULL OR p.id = :produto_id)
                AND (:categoria_id_null IS NULL OR p.categoria_id = :categoria_id)
                AND (:fornecedor_id_null IS NULL OR p.fornecedor_principal_id = :fornecedor_id)
            ORDER BY p.nome ASC;
        
Params:  6
Key: Name: [16] :produto_id_null
paramno=0
name=[16] ":produto_id_null"
is_param=1
param_type=0
Key: Name: [11] :produto_id
paramno=1
name=[11] ":produto_id"
is_param=1
param_type=0
Key: Name: [18] :categoria_id_null
paramno=2
name=[18] ":categoria_id_null"
is_param=1
param_type=0
Key: Name: [13] :categoria_id
paramno=3
name=[13] ":categoria_id"
is_param=1
param_type=0
Key: Name: [19] :fornecedor_id_null
paramno=4
name=[19] ":fornecedor_id_null"
is_param=1
param_type=0
Key: Name: [14] :fornecedor_id
paramno=5
name=[14] ":fornecedor_id"
is_param=1
param_type=0

[2025-09-06 20:38:36] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
         com parâmetros: {":produto_id":3,":data_fim_a":null,":data_fim":null}
[2025-09-06 20:38:36] [DATABASE ERROR] Parâmetro associado: :produto_id = 3 (tipo: 1)
[2025-09-06 20:38:36] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-09-06 20:38:36] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-09-06 20:38:36] [DATABASE ERROR] Debug PDO após binding: SQL: [538] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-09-06 20:38:36] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":3}
[2025-09-06 20:38:36] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-06 20:38:36] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-06 20:38:36] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
         com parâmetros: {":produto_id":1,":data_fim_a":null,":data_fim":null}
[2025-09-06 20:38:36] [DATABASE ERROR] Parâmetro associado: :produto_id = 1 (tipo: 1)
[2025-09-06 20:38:36] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-09-06 20:38:36] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-09-06 20:38:36] [DATABASE ERROR] Debug PDO após binding: SQL: [538] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-09-06 20:38:36] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":1}
[2025-09-06 20:38:36] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-09-06 20:38:36] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-06 20:38:36] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
         com parâmetros: {":produto_id":2,":data_fim_a":null,":data_fim":null}
[2025-09-06 20:38:36] [DATABASE ERROR] Parâmetro associado: :produto_id = 2 (tipo: 1)
[2025-09-06 20:38:36] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-09-06 20:38:36] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-09-06 20:38:36] [DATABASE ERROR] Debug PDO após binding: SQL: [538] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-09-06 20:38:36] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":2}
[2025-09-06 20:38:36] [DATABASE ERROR] Parâmetro associado: :id = 2 (tipo: 1)
[2025-09-06 20:38:36] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-06 20:41:47] [DATABASE ERROR] Preparando query: SELECT * FROM produtos WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-06 20:41:47] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-06 20:41:47] [DATABASE ERROR] Debug PDO após binding: SQL: [43] SELECT * FROM produtos WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-06 20:41:54] [DATABASE ERROR] Preparando query: SELECT * FROM fornecedores WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-06 20:41:54] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-06 20:41:54] [DATABASE ERROR] Debug PDO após binding: SQL: [47] SELECT * FROM fornecedores WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-06 20:41:54] [DATABASE ERROR] Preparando query: SELECT * FROM produtos WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-06 20:41:54] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-06 20:41:54] [DATABASE ERROR] Debug PDO após binding: SQL: [43] SELECT * FROM produtos WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-06 20:53:21] [DATABASE ERROR] Preparando query: SELECT * FROM produtos WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-06 20:53:21] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-06 20:53:21] [DATABASE ERROR] Debug PDO após binding: SQL: [43] SELECT * FROM produtos WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-06 20:53:29] [DATABASE ERROR] Preparando query: SELECT * FROM fornecedores WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-06 20:53:29] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-06 20:53:29] [DATABASE ERROR] Debug PDO após binding: SQL: [47] SELECT * FROM fornecedores WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-06 20:53:29] [DATABASE ERROR] Preparando query: SELECT * FROM produtos WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-06 20:53:29] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-06 20:53:29] [DATABASE ERROR] Debug PDO após binding: SQL: [43] SELECT * FROM produtos WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-06 20:53:35] [DATABASE ERROR] Parâmetro associado: :id = 2 (tipo: 2)
[2025-09-06 20:53:35] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-09-06 20:53:35] [DATABASE ERROR] Parâmetro associado: :produto_id = 1 (tipo: 1)
[2025-09-06 20:53:35] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-06 20:53:35] [DATABASE ERROR] Parâmetro associado: :produto_id = 3 (tipo: 1)
[2025-09-06 20:53:35] [DATABASE ERROR] Parâmetro associado: :id = 2 (tipo: 1)
[2025-09-06 20:53:35] [DATABASE ERROR] Parâmetro associado: :produto_id = 2 (tipo: 1)
[2025-09-06 20:53:35] [DATABASE ERROR] Parâmetro associado: :movimentacao_id = 60 (tipo: 2)
[2025-09-06 20:53:35] [DATABASE ERROR] Parâmetro associado: :numero_nota = 104112 (tipo: 2)
[2025-09-06 20:53:35] [DATABASE ERROR] Parâmetro associado: :chave_acesso = 35250850902071001120550010001041121803777739 (tipo: 2)
[2025-09-06 20:53:35] [DATABASE ERROR] Parâmetro associado: :data_emissao = 2025-08-28 (tipo: 2)
[2025-09-06 20:53:35] [DATABASE ERROR] Parâmetro associado: :fornecedor_id = 2 (tipo: 1)
[2025-09-06 20:53:35] [DATABASE ERROR] Parâmetro associado: :valor_total = 1533.87 (tipo: 2)
[2025-09-06 20:53:35] [DATABASE ERROR] Parâmetro associado: :processado = 1 (tipo: 5)
[2025-09-06 20:53:35] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-09-06 20:53:36] [DATABASE ERROR] Preparando query: SELECT * FROM produtos WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-06 20:53:36] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-06 20:53:36] [DATABASE ERROR] Debug PDO após binding: SQL: [43] SELECT * FROM produtos WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-06 20:55:41] [DATABASE ERROR] Preparando query: SELECT * FROM fornecedores WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-06 20:55:41] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-06 20:55:41] [DATABASE ERROR] Debug PDO após binding: SQL: [47] SELECT * FROM fornecedores WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-06 20:55:41] [DATABASE ERROR] Preparando query: SELECT * FROM produtos WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-06 20:55:41] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-06 20:55:41] [DATABASE ERROR] Debug PDO após binding: SQL: [43] SELECT * FROM produtos WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-06 20:55:54] [DATABASE ERROR] Parâmetro associado: :id = 2 (tipo: 2)
[2025-09-06 20:56:11] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-09-06 20:56:11] [DATABASE ERROR] Parâmetro associado: :produto_id = 1 (tipo: 1)
[2025-09-06 20:57:09] [DATABASE ERROR] Preparando query: SELECT * FROM produtos WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-06 20:57:09] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-06 20:57:09] [DATABASE ERROR] Debug PDO após binding: SQL: [43] SELECT * FROM produtos WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-06 20:57:26] [DATABASE ERROR] Preparando query: SELECT * FROM fornecedores WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-06 20:57:26] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-06 20:57:26] [DATABASE ERROR] Debug PDO após binding: SQL: [47] SELECT * FROM fornecedores WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-06 20:57:26] [DATABASE ERROR] Preparando query: SELECT * FROM produtos WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-06 20:57:26] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-06 20:57:26] [DATABASE ERROR] Debug PDO após binding: SQL: [43] SELECT * FROM produtos WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-06 20:57:29] [DATABASE ERROR] Parâmetro associado: :id = 2 (tipo: 2)
[2025-09-06 20:57:37] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-09-06 20:57:37] [DATABASE ERROR] Parâmetro associado: :produto_id = 1 (tipo: 1)
[2025-09-06 20:57:44] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-06 20:57:44] [DATABASE ERROR] Parâmetro associado: :produto_id = 3 (tipo: 1)
[2025-09-06 20:57:48] [DATABASE ERROR] Parâmetro associado: :id = 2 (tipo: 1)
[2025-09-06 20:57:48] [DATABASE ERROR] Parâmetro associado: :produto_id = 2 (tipo: 1)
[2025-09-06 20:57:48] [DATABASE ERROR] Parâmetro associado: :movimentacao_id = 62 (tipo: 2)
[2025-09-06 20:57:48] [DATABASE ERROR] Parâmetro associado: :numero_nota = 104112 (tipo: 2)
[2025-09-06 20:57:48] [DATABASE ERROR] Parâmetro associado: :chave_acesso = 35250850902071001120550010001041121803777739 (tipo: 2)
[2025-09-06 20:57:48] [DATABASE ERROR] Parâmetro associado: :data_emissao = 2025-08-28 (tipo: 2)
[2025-09-06 20:57:48] [DATABASE ERROR] Parâmetro associado: :fornecedor_id = 2 (tipo: 1)
[2025-09-06 20:57:48] [DATABASE ERROR] Parâmetro associado: :valor_total = 1533.87 (tipo: 2)
[2025-09-06 20:57:48] [DATABASE ERROR] Parâmetro associado: :processado = 1 (tipo: 5)
[2025-09-06 20:57:48] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-09-06 20:57:48] [DATABASE ERROR] Preparando query: SELECT * FROM produtos WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-06 20:57:48] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-06 20:57:48] [DATABASE ERROR] Debug PDO após binding: SQL: [43] SELECT * FROM produtos WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-06 20:58:36] [DATABASE ERROR] Parâmetro associado: :tabela = movimentacoes (tipo: 2)
[2025-09-06 20:58:36] [DATABASE ERROR] Parâmetro associado: :registro_id = 63 (tipo: 2)
[2025-09-06 20:58:36] [DATABASE ERROR] Parâmetro associado: :acao = INSERT (tipo: 2)
[2025-09-06 20:58:36] [DATABASE ERROR] Parâmetro associado: :dados_anteriores = NULL (tipo: 0)
[2025-09-06 20:58:36] [DATABASE ERROR] Parâmetro associado: :dados_novos = {"tipo_movimentacao_id":"1","observacao":"","produtos":{"1":"2","2":"0","3":"0"},"valor_unitario":{"1":"10","2":"0","3":"0"}} (tipo: 2)
[2025-09-06 20:58:36] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-09-06 20:58:36] [DATABASE ERROR] Parâmetro associado: :ip_address = ::1 (tipo: 2)
[2025-09-06 20:58:36] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36 Edg/139.0.0.0 (tipo: 2)
[2025-09-06 20:58:44] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-09-06 20:58:44] [DATABASE ERROR] Parâmetro associado: :produto_id = 1 (tipo: 1)
[2025-09-06 20:58:44] [DATABASE ERROR] Parâmetro associado: :produto_id = 2 (tipo: 1)
[2025-09-06 20:58:44] [DATABASE ERROR] Parâmetro associado: :produto_id = 0 (tipo: 1)
[2025-09-06 20:58:44] [DATABASE ERROR] Parâmetro associado: :produto_id = 0 (tipo: 1)
[2025-09-06 20:58:44] [DATABASE ERROR] Preparando query: SELECT * FROM produtos WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-06 20:58:44] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-06 20:58:44] [DATABASE ERROR] Debug PDO após binding: SQL: [43] SELECT * FROM produtos WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-06 20:58:44] [DATABASE ERROR] Preparando query: SELECT * FROM categorias WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-06 20:58:44] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-06 20:58:44] [DATABASE ERROR] Debug PDO após binding: SQL: [45] SELECT * FROM categorias WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-06 20:58:44] [DATABASE ERROR] Preparando query: SELECT * FROM categorias WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-06 20:58:44] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-06 20:58:44] [DATABASE ERROR] Debug PDO após binding: SQL: [45] SELECT * FROM categorias WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-06 20:58:44] [DATABASE ERROR] Preparando query: SELECT * FROM unidades_medida com parâmetros: []
[2025-09-06 20:58:44] [DATABASE ERROR] Debug PDO após binding: SQL: [29] SELECT * FROM unidades_medida
Params:  0

[2025-09-06 20:58:44] [DATABASE ERROR] Preparando query: SELECT * FROM fornecedores WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-06 20:58:44] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-06 20:58:44] [DATABASE ERROR] Debug PDO após binding: SQL: [47] SELECT * FROM fornecedores WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-06 20:58:44] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-06 20:58:44] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-06 20:58:44] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-06 20:59:06] [DATABASE ERROR] Preparando query: SELECT SUM(estoque_atual) as total_estoque FROM produtos WHERE ativo = TRUE com parâmetros: []
[2025-09-06 20:59:06] [DATABASE ERROR] Debug PDO após binding: SQL: [75] SELECT SUM(estoque_atual) as total_estoque FROM produtos WHERE ativo = TRUE
Params:  0

[2025-09-06 20:59:06] [DATABASE ERROR] Preparando query: SELECT id FROM produtos WHERE ativo = TRUE com parâmetros: []
[2025-09-06 20:59:06] [DATABASE ERROR] Debug PDO após binding: SQL: [42] SELECT id FROM produtos WHERE ativo = TRUE
Params:  0

[2025-09-06 20:59:06] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
         com parâmetros: {":produto_id":1,":data_fim_a":null,":data_fim":null}
[2025-09-06 20:59:06] [DATABASE ERROR] Parâmetro associado: :produto_id = 1 (tipo: 1)
[2025-09-06 20:59:06] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-09-06 20:59:06] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-09-06 20:59:06] [DATABASE ERROR] Debug PDO após binding: SQL: [538] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-09-06 20:59:06] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":1}
[2025-09-06 20:59:06] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-09-06 20:59:06] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-06 20:59:06] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
         com parâmetros: {":produto_id":2,":data_fim_a":null,":data_fim":null}
[2025-09-06 20:59:06] [DATABASE ERROR] Parâmetro associado: :produto_id = 2 (tipo: 1)
[2025-09-06 20:59:06] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-09-06 20:59:06] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-09-06 20:59:06] [DATABASE ERROR] Debug PDO após binding: SQL: [538] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-09-06 20:59:06] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":2}
[2025-09-06 20:59:06] [DATABASE ERROR] Parâmetro associado: :id = 2 (tipo: 1)
[2025-09-06 20:59:06] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-06 20:59:06] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
         com parâmetros: {":produto_id":3,":data_fim_a":null,":data_fim":null}
[2025-09-06 20:59:06] [DATABASE ERROR] Parâmetro associado: :produto_id = 3 (tipo: 1)
[2025-09-06 20:59:06] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-09-06 20:59:06] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-09-06 20:59:06] [DATABASE ERROR] Debug PDO após binding: SQL: [538] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-09-06 20:59:06] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":3}
[2025-09-06 20:59:06] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-06 20:59:06] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-06 20:59:06] [DATABASE ERROR] Preparando query: SELECT id, codigo, nome, estoque_atual, estoque_minimo, categoria, fornecedor 
                    FROM vw_produtos_estoque_critico 
                    ORDER BY estoque_atual ASC 
                    LIMIT 10 com parâmetros: []
[2025-09-06 20:59:06] [DATABASE ERROR] Debug PDO após binding: SQL: [212] SELECT id, codigo, nome, estoque_atual, estoque_minimo, categoria, fornecedor 
                    FROM vw_produtos_estoque_critico 
                    ORDER BY estoque_atual ASC 
                    LIMIT 10
Params:  0

[2025-09-06 20:59:06] [DATABASE ERROR] Preparando query: 
                SELECT 
                    DATE_FORMAT(m.data_movimentacao, '%Y-%m') as periodo,
                    tm.tipo,
                    SUM(mi.quantidade) as total_quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                WHERE m.status = 'PROCESSADO'
                    AND m.data_movimentacao >= DATE_SUB(CURDATE(), INTERVAL 6 MONTH)
                GROUP BY periodo, tm.tipo
                ORDER BY periodo ASC com parâmetros: []
[2025-09-06 20:59:06] [DATABASE ERROR] Debug PDO após binding: SQL: [593] 
                SELECT 
                    DATE_FORMAT(m.data_movimentacao, '%Y-%m') as periodo,
                    tm.tipo,
                    SUM(mi.quantidade) as total_quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                WHERE m.status = 'PROCESSADO'
                    AND m.data_movimentacao >= DATE_SUB(CURDATE(), INTERVAL 6 MONTH)
                GROUP BY periodo, tm.tipo
                ORDER BY periodo ASC
Params:  0

[2025-09-06 20:59:06] [DATABASE ERROR] Preparando query: SELECT id, tipo, categoria, documento_numero, data_movimentacao, valor_total, fornecedor, usuario 
                    FROM vw_movimentacoes_recentes 
                    ORDER BY data_movimentacao DESC 
                    LIMIT 10 com parâmetros: []
[2025-09-06 20:59:06] [DATABASE ERROR] Debug PDO após binding: SQL: [235] SELECT id, tipo, categoria, documento_numero, data_movimentacao, valor_total, fornecedor, usuario 
                    FROM vw_movimentacoes_recentes 
                    ORDER BY data_movimentacao DESC 
                    LIMIT 10
Params:  0

[2025-09-06 20:59:12] [DATABASE ERROR] Preparando query: SELECT * FROM categorias WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-06 20:59:12] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-06 20:59:12] [DATABASE ERROR] Debug PDO após binding: SQL: [45] SELECT * FROM categorias WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-06 20:59:12] [DATABASE ERROR] Preparando query: SELECT * FROM fornecedores WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-06 20:59:12] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-06 20:59:12] [DATABASE ERROR] Debug PDO após binding: SQL: [47] SELECT * FROM fornecedores WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-06 20:59:12] [DATABASE ERROR] Preparando query: SELECT * FROM tipos_movimentacao com parâmetros: []
[2025-09-06 20:59:12] [DATABASE ERROR] Debug PDO após binding: SQL: [32] SELECT * FROM tipos_movimentacao
Params:  0

[2025-09-06 20:59:21] [DATABASE ERROR] Preparando query: 
            SELECT 
                p.id, 
                p.nome, 
                p.estoque_atual, 
                c.nome AS categoria, 
                f.razao_social AS fornecedor
            FROM produtos p
            LEFT JOIN categorias c ON p.categoria_id = c.id
            LEFT JOIN fornecedores f ON p.fornecedor_principal_id = f.id
            WHERE p.ativo = TRUE
                AND (:produto_id_null IS NULL OR p.id = :produto_id)
                AND (:categoria_id_null IS NULL OR p.categoria_id = :categoria_id)
                AND (:fornecedor_id_null IS NULL OR p.fornecedor_principal_id = :fornecedor_id)
            ORDER BY p.nome ASC;
         com parâmetros: {":produto_id_null":null,":produto_id":null,":categoria_id_null":null,":categoria_id":null,":fornecedor_id_null":null,":fornecedor_id":null}
[2025-09-06 20:59:21] [DATABASE ERROR] Parâmetro associado: :produto_id_null = NULL (tipo: 0)
[2025-09-06 20:59:21] [DATABASE ERROR] Parâmetro associado: :produto_id = NULL (tipo: 0)
[2025-09-06 20:59:21] [DATABASE ERROR] Parâmetro associado: :categoria_id_null = NULL (tipo: 0)
[2025-09-06 20:59:21] [DATABASE ERROR] Parâmetro associado: :categoria_id = NULL (tipo: 0)
[2025-09-06 20:59:21] [DATABASE ERROR] Parâmetro associado: :fornecedor_id_null = NULL (tipo: 0)
[2025-09-06 20:59:21] [DATABASE ERROR] Parâmetro associado: :fornecedor_id = NULL (tipo: 0)
[2025-09-06 20:59:21] [DATABASE ERROR] Debug PDO após binding: SQL: [684] 
            SELECT 
                p.id, 
                p.nome, 
                p.estoque_atual, 
                c.nome AS categoria, 
                f.razao_social AS fornecedor
            FROM produtos p
            LEFT JOIN categorias c ON p.categoria_id = c.id
            LEFT JOIN fornecedores f ON p.fornecedor_principal_id = f.id
            WHERE p.ativo = TRUE
                AND (:produto_id_null IS NULL OR p.id = :produto_id)
                AND (:categoria_id_null IS NULL OR p.categoria_id = :categoria_id)
                AND (:fornecedor_id_null IS NULL OR p.fornecedor_principal_id = :fornecedor_id)
            ORDER BY p.nome ASC;
        
Params:  6
Key: Name: [16] :produto_id_null
paramno=0
name=[16] ":produto_id_null"
is_param=1
param_type=0
Key: Name: [11] :produto_id
paramno=1
name=[11] ":produto_id"
is_param=1
param_type=0
Key: Name: [18] :categoria_id_null
paramno=2
name=[18] ":categoria_id_null"
is_param=1
param_type=0
Key: Name: [13] :categoria_id
paramno=3
name=[13] ":categoria_id"
is_param=1
param_type=0
Key: Name: [19] :fornecedor_id_null
paramno=4
name=[19] ":fornecedor_id_null"
is_param=1
param_type=0
Key: Name: [14] :fornecedor_id
paramno=5
name=[14] ":fornecedor_id"
is_param=1
param_type=0

[2025-09-06 20:59:21] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
         com parâmetros: {":produto_id":3,":data_fim_a":"2025-09-13",":data_fim":"2025-09-13"}
[2025-09-06 20:59:21] [DATABASE ERROR] Parâmetro associado: :produto_id = 3 (tipo: 1)
[2025-09-06 20:59:21] [DATABASE ERROR] Parâmetro associado: :data_fim_a = 2025-09-13 (tipo: 2)
[2025-09-06 20:59:21] [DATABASE ERROR] Parâmetro associado: :data_fim = 2025-09-13 (tipo: 2)
[2025-09-06 20:59:21] [DATABASE ERROR] Debug PDO após binding: SQL: [538] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=2
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=2

[2025-09-06 20:59:21] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":3}
[2025-09-06 20:59:21] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-06 20:59:21] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-06 20:59:21] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
         com parâmetros: {":produto_id":1,":data_fim_a":"2025-09-13",":data_fim":"2025-09-13"}
[2025-09-06 20:59:21] [DATABASE ERROR] Parâmetro associado: :produto_id = 1 (tipo: 1)
[2025-09-06 20:59:21] [DATABASE ERROR] Parâmetro associado: :data_fim_a = 2025-09-13 (tipo: 2)
[2025-09-06 20:59:21] [DATABASE ERROR] Parâmetro associado: :data_fim = 2025-09-13 (tipo: 2)
[2025-09-06 20:59:21] [DATABASE ERROR] Debug PDO após binding: SQL: [538] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=2
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=2

[2025-09-06 20:59:21] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":1}
[2025-09-06 20:59:21] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-09-06 20:59:21] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-06 20:59:21] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
         com parâmetros: {":produto_id":2,":data_fim_a":"2025-09-13",":data_fim":"2025-09-13"}
[2025-09-06 20:59:21] [DATABASE ERROR] Parâmetro associado: :produto_id = 2 (tipo: 1)
[2025-09-06 20:59:21] [DATABASE ERROR] Parâmetro associado: :data_fim_a = 2025-09-13 (tipo: 2)
[2025-09-06 20:59:21] [DATABASE ERROR] Parâmetro associado: :data_fim = 2025-09-13 (tipo: 2)
[2025-09-06 20:59:21] [DATABASE ERROR] Debug PDO após binding: SQL: [538] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em ASC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=2
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=2

[2025-09-06 20:59:21] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":2}
[2025-09-06 20:59:21] [DATABASE ERROR] Parâmetro associado: :id = 2 (tipo: 1)
[2025-09-06 20:59:21] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-06 21:04:44] [DATABASE ERROR] Preparando query: 
            SELECT 
                p.id, 
                p.nome, 
                p.estoque_atual, 
                c.nome AS categoria, 
                f.razao_social AS fornecedor
            FROM produtos p
            LEFT JOIN categorias c ON p.categoria_id = c.id
            LEFT JOIN fornecedores f ON p.fornecedor_principal_id = f.id
            WHERE p.ativo = TRUE
                AND (:produto_id_null IS NULL OR p.id = :produto_id)
                AND (:categoria_id_null IS NULL OR p.categoria_id = :categoria_id)
                AND (:fornecedor_id_null IS NULL OR p.fornecedor_principal_id = :fornecedor_id)
            ORDER BY p.nome ASC;
         com parâmetros: {":produto_id_null":null,":produto_id":null,":categoria_id_null":null,":categoria_id":null,":fornecedor_id_null":null,":fornecedor_id":null}
[2025-09-06 21:04:44] [DATABASE ERROR] Parâmetro associado: :produto_id_null = NULL (tipo: 0)
[2025-09-06 21:04:44] [DATABASE ERROR] Parâmetro associado: :produto_id = NULL (tipo: 0)
[2025-09-06 21:04:44] [DATABASE ERROR] Parâmetro associado: :categoria_id_null = NULL (tipo: 0)
[2025-09-06 21:04:44] [DATABASE ERROR] Parâmetro associado: :categoria_id = NULL (tipo: 0)
[2025-09-06 21:04:44] [DATABASE ERROR] Parâmetro associado: :fornecedor_id_null = NULL (tipo: 0)
[2025-09-06 21:04:44] [DATABASE ERROR] Parâmetro associado: :fornecedor_id = NULL (tipo: 0)
[2025-09-06 21:04:44] [DATABASE ERROR] Debug PDO após binding: SQL: [684] 
            SELECT 
                p.id, 
                p.nome, 
                p.estoque_atual, 
                c.nome AS categoria, 
                f.razao_social AS fornecedor
            FROM produtos p
            LEFT JOIN categorias c ON p.categoria_id = c.id
            LEFT JOIN fornecedores f ON p.fornecedor_principal_id = f.id
            WHERE p.ativo = TRUE
                AND (:produto_id_null IS NULL OR p.id = :produto_id)
                AND (:categoria_id_null IS NULL OR p.categoria_id = :categoria_id)
                AND (:fornecedor_id_null IS NULL OR p.fornecedor_principal_id = :fornecedor_id)
            ORDER BY p.nome ASC;
        
Params:  6
Key: Name: [16] :produto_id_null
paramno=0
name=[16] ":produto_id_null"
is_param=1
param_type=0
Key: Name: [11] :produto_id
paramno=1
name=[11] ":produto_id"
is_param=1
param_type=0
Key: Name: [18] :categoria_id_null
paramno=2
name=[18] ":categoria_id_null"
is_param=1
param_type=0
Key: Name: [13] :categoria_id
paramno=3
name=[13] ":categoria_id"
is_param=1
param_type=0
Key: Name: [19] :fornecedor_id_null
paramno=4
name=[19] ":fornecedor_id_null"
is_param=1
param_type=0
Key: Name: [14] :fornecedor_id
paramno=5
name=[14] ":fornecedor_id"
is_param=1
param_type=0

[2025-09-06 21:04:44] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":3,":data_fim_a":"2025-09-13",":data_fim":"2025-09-13"}
[2025-09-06 21:04:44] [DATABASE ERROR] Parâmetro associado: :produto_id = 3 (tipo: 1)
[2025-09-06 21:04:44] [DATABASE ERROR] Parâmetro associado: :data_fim_a = 2025-09-13 (tipo: 2)
[2025-09-06 21:04:44] [DATABASE ERROR] Parâmetro associado: :data_fim = 2025-09-13 (tipo: 2)
[2025-09-06 21:04:44] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=2
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=2

[2025-09-06 21:04:44] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":3}
[2025-09-06 21:04:44] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-06 21:04:44] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-06 21:04:44] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":1,":data_fim_a":"2025-09-13",":data_fim":"2025-09-13"}
[2025-09-06 21:04:44] [DATABASE ERROR] Parâmetro associado: :produto_id = 1 (tipo: 1)
[2025-09-06 21:04:44] [DATABASE ERROR] Parâmetro associado: :data_fim_a = 2025-09-13 (tipo: 2)
[2025-09-06 21:04:44] [DATABASE ERROR] Parâmetro associado: :data_fim = 2025-09-13 (tipo: 2)
[2025-09-06 21:04:44] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=2
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=2

[2025-09-06 21:04:44] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":1}
[2025-09-06 21:04:44] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-09-06 21:04:44] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-06 21:04:44] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":2,":data_fim_a":"2025-09-13",":data_fim":"2025-09-13"}
[2025-09-06 21:04:44] [DATABASE ERROR] Parâmetro associado: :produto_id = 2 (tipo: 1)
[2025-09-06 21:04:44] [DATABASE ERROR] Parâmetro associado: :data_fim_a = 2025-09-13 (tipo: 2)
[2025-09-06 21:04:44] [DATABASE ERROR] Parâmetro associado: :data_fim = 2025-09-13 (tipo: 2)
[2025-09-06 21:04:44] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=2
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=2

[2025-09-06 21:04:44] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":2}
[2025-09-06 21:04:44] [DATABASE ERROR] Parâmetro associado: :id = 2 (tipo: 1)
[2025-09-06 21:04:44] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-06 21:04:53] [DATABASE ERROR] Preparando query: SELECT SUM(estoque_atual) as total_estoque FROM produtos WHERE ativo = TRUE com parâmetros: []
[2025-09-06 21:04:53] [DATABASE ERROR] Debug PDO após binding: SQL: [75] SELECT SUM(estoque_atual) as total_estoque FROM produtos WHERE ativo = TRUE
Params:  0

[2025-09-06 21:04:53] [DATABASE ERROR] Preparando query: SELECT id FROM produtos WHERE ativo = TRUE com parâmetros: []
[2025-09-06 21:04:53] [DATABASE ERROR] Debug PDO após binding: SQL: [42] SELECT id FROM produtos WHERE ativo = TRUE
Params:  0

[2025-09-06 21:04:53] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":1,":data_fim_a":null,":data_fim":null}
[2025-09-06 21:04:53] [DATABASE ERROR] Parâmetro associado: :produto_id = 1 (tipo: 1)
[2025-09-06 21:04:53] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-09-06 21:04:53] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-09-06 21:04:53] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-09-06 21:04:53] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":1}
[2025-09-06 21:04:53] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-09-06 21:04:53] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-06 21:04:53] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":2,":data_fim_a":null,":data_fim":null}
[2025-09-06 21:04:53] [DATABASE ERROR] Parâmetro associado: :produto_id = 2 (tipo: 1)
[2025-09-06 21:04:53] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-09-06 21:04:53] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-09-06 21:04:53] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-09-06 21:04:53] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":2}
[2025-09-06 21:04:53] [DATABASE ERROR] Parâmetro associado: :id = 2 (tipo: 1)
[2025-09-06 21:04:53] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-06 21:04:53] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":3,":data_fim_a":null,":data_fim":null}
[2025-09-06 21:04:53] [DATABASE ERROR] Parâmetro associado: :produto_id = 3 (tipo: 1)
[2025-09-06 21:04:53] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-09-06 21:04:53] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-09-06 21:04:53] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-09-06 21:04:53] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":3}
[2025-09-06 21:04:53] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-06 21:04:53] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-06 21:04:53] [DATABASE ERROR] Preparando query: SELECT id, tipo, categoria, documento_numero, data_movimentacao, valor_total, fornecedor, usuario 
                    FROM vw_movimentacoes_recentes 
                    ORDER BY data_movimentacao DESC 
                    LIMIT 10 com parâmetros: []
[2025-09-06 21:04:53] [DATABASE ERROR] Debug PDO após binding: SQL: [235] SELECT id, tipo, categoria, documento_numero, data_movimentacao, valor_total, fornecedor, usuario 
                    FROM vw_movimentacoes_recentes 
                    ORDER BY data_movimentacao DESC 
                    LIMIT 10
Params:  0

[2025-09-06 21:04:53] [DATABASE ERROR] Preparando query: 
                SELECT 
                    DATE_FORMAT(m.data_movimentacao, '%Y-%m') as periodo,
                    tm.tipo,
                    SUM(mi.quantidade) as total_quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                WHERE m.status = 'PROCESSADO'
                    AND m.data_movimentacao >= DATE_SUB(CURDATE(), INTERVAL 6 MONTH)
                GROUP BY periodo, tm.tipo
                ORDER BY periodo ASC com parâmetros: []
[2025-09-06 21:04:53] [DATABASE ERROR] Debug PDO após binding: SQL: [593] 
                SELECT 
                    DATE_FORMAT(m.data_movimentacao, '%Y-%m') as periodo,
                    tm.tipo,
                    SUM(mi.quantidade) as total_quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                WHERE m.status = 'PROCESSADO'
                    AND m.data_movimentacao >= DATE_SUB(CURDATE(), INTERVAL 6 MONTH)
                GROUP BY periodo, tm.tipo
                ORDER BY periodo ASC
Params:  0

[2025-09-06 21:04:54] [DATABASE ERROR] Preparando query: SELECT id, codigo, nome, estoque_atual, estoque_minimo, categoria, fornecedor 
                    FROM vw_produtos_estoque_critico 
                    ORDER BY estoque_atual ASC 
                    LIMIT 10 com parâmetros: []
[2025-09-06 21:04:54] [DATABASE ERROR] Debug PDO após binding: SQL: [212] SELECT id, codigo, nome, estoque_atual, estoque_minimo, categoria, fornecedor 
                    FROM vw_produtos_estoque_critico 
                    ORDER BY estoque_atual ASC 
                    LIMIT 10
Params:  0

[2025-09-06 21:10:09] [DATABASE ERROR] Preparando query: SELECT * FROM produtos WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-06 21:10:09] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-06 21:10:09] [DATABASE ERROR] Debug PDO após binding: SQL: [43] SELECT * FROM produtos WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-06 21:10:09] [DATABASE ERROR] Preparando query: SELECT * FROM categorias WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-06 21:10:09] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-06 21:10:09] [DATABASE ERROR] Debug PDO após binding: SQL: [45] SELECT * FROM categorias WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-06 21:10:09] [DATABASE ERROR] Preparando query: SELECT * FROM categorias WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-06 21:10:09] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-06 21:10:09] [DATABASE ERROR] Debug PDO após binding: SQL: [45] SELECT * FROM categorias WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-06 21:10:09] [DATABASE ERROR] Preparando query: SELECT * FROM unidades_medida com parâmetros: []
[2025-09-06 21:10:10] [DATABASE ERROR] Debug PDO após binding: SQL: [29] SELECT * FROM unidades_medida
Params:  0

[2025-09-06 21:10:10] [DATABASE ERROR] Preparando query: SELECT * FROM fornecedores WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-06 21:10:10] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-06 21:10:10] [DATABASE ERROR] Debug PDO após binding: SQL: [47] SELECT * FROM fornecedores WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-06 21:10:10] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-06 21:10:10] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-06 21:10:10] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-06 21:10:40] [DATABASE ERROR] Preparando query: SELECT * FROM produtos WHERE ativo = :value com parâmetros: {":value":0}
[2025-09-06 21:10:40] [DATABASE ERROR] Parâmetro associado: :value = 0 (tipo: 1)
[2025-09-06 21:10:40] [DATABASE ERROR] Debug PDO após binding: SQL: [43] SELECT * FROM produtos WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-06 21:10:40] [DATABASE ERROR] Preparando query: SELECT * FROM categorias WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-06 21:10:40] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-06 21:10:40] [DATABASE ERROR] Debug PDO após binding: SQL: [45] SELECT * FROM categorias WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-06 21:10:40] [DATABASE ERROR] Preparando query: SELECT * FROM categorias WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-06 21:10:40] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-06 21:10:40] [DATABASE ERROR] Debug PDO após binding: SQL: [45] SELECT * FROM categorias WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-06 21:10:40] [DATABASE ERROR] Preparando query: SELECT * FROM unidades_medida com parâmetros: []
[2025-09-06 21:10:40] [DATABASE ERROR] Debug PDO após binding: SQL: [29] SELECT * FROM unidades_medida
Params:  0

[2025-09-06 21:10:40] [DATABASE ERROR] Preparando query: SELECT * FROM fornecedores WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-06 21:10:40] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-06 21:10:40] [DATABASE ERROR] Debug PDO após binding: SQL: [47] SELECT * FROM fornecedores WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-06 21:10:42] [DATABASE ERROR] Preparando query: SELECT * FROM produtos WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-06 21:10:42] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-06 21:10:42] [DATABASE ERROR] Debug PDO após binding: SQL: [43] SELECT * FROM produtos WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-06 21:10:42] [DATABASE ERROR] Preparando query: SELECT * FROM categorias WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-06 21:10:42] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-06 21:10:42] [DATABASE ERROR] Debug PDO após binding: SQL: [45] SELECT * FROM categorias WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-06 21:10:42] [DATABASE ERROR] Preparando query: SELECT * FROM categorias WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-06 21:10:42] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-06 21:10:42] [DATABASE ERROR] Debug PDO após binding: SQL: [45] SELECT * FROM categorias WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-06 21:10:42] [DATABASE ERROR] Preparando query: SELECT * FROM unidades_medida com parâmetros: []
[2025-09-06 21:10:42] [DATABASE ERROR] Debug PDO após binding: SQL: [29] SELECT * FROM unidades_medida
Params:  0

[2025-09-06 21:10:42] [DATABASE ERROR] Preparando query: SELECT * FROM fornecedores WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-06 21:10:42] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-06 21:10:42] [DATABASE ERROR] Debug PDO após binding: SQL: [47] SELECT * FROM fornecedores WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-06 21:10:42] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-06 21:10:42] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-06 21:10:42] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-06 21:12:39] [DATABASE ERROR] Preparando query: SELECT * FROM categorias WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-06 21:12:39] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-06 21:12:39] [DATABASE ERROR] Debug PDO após binding: SQL: [45] SELECT * FROM categorias WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-06 21:12:39] [DATABASE ERROR] Preparando query: SELECT * FROM fornecedores WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-06 21:12:39] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-06 21:12:39] [DATABASE ERROR] Debug PDO após binding: SQL: [47] SELECT * FROM fornecedores WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-06 21:12:39] [DATABASE ERROR] Preparando query: SELECT * FROM tipos_movimentacao com parâmetros: []
[2025-09-06 21:12:39] [DATABASE ERROR] Debug PDO após binding: SQL: [32] SELECT * FROM tipos_movimentacao
Params:  0

[2025-09-06 21:12:49] [DATABASE ERROR] Preparando query: 
            SELECT 
                p.id, 
                p.nome, 
                p.estoque_atual, 
                c.nome AS categoria, 
                f.razao_social AS fornecedor
            FROM produtos p
            LEFT JOIN categorias c ON p.categoria_id = c.id
            LEFT JOIN fornecedores f ON p.fornecedor_principal_id = f.id
            WHERE p.ativo = TRUE
                AND (:produto_id_null IS NULL OR p.id = :produto_id)
                AND (:categoria_id_null IS NULL OR p.categoria_id = :categoria_id)
                AND (:fornecedor_id_null IS NULL OR p.fornecedor_principal_id = :fornecedor_id)
            ORDER BY p.nome ASC;
         com parâmetros: {":produto_id_null":null,":produto_id":null,":categoria_id_null":null,":categoria_id":null,":fornecedor_id_null":null,":fornecedor_id":null}
[2025-09-06 21:12:49] [DATABASE ERROR] Parâmetro associado: :produto_id_null = NULL (tipo: 0)
[2025-09-06 21:12:49] [DATABASE ERROR] Parâmetro associado: :produto_id = NULL (tipo: 0)
[2025-09-06 21:12:49] [DATABASE ERROR] Parâmetro associado: :categoria_id_null = NULL (tipo: 0)
[2025-09-06 21:12:49] [DATABASE ERROR] Parâmetro associado: :categoria_id = NULL (tipo: 0)
[2025-09-06 21:12:49] [DATABASE ERROR] Parâmetro associado: :fornecedor_id_null = NULL (tipo: 0)
[2025-09-06 21:12:49] [DATABASE ERROR] Parâmetro associado: :fornecedor_id = NULL (tipo: 0)
[2025-09-06 21:12:49] [DATABASE ERROR] Debug PDO após binding: SQL: [684] 
            SELECT 
                p.id, 
                p.nome, 
                p.estoque_atual, 
                c.nome AS categoria, 
                f.razao_social AS fornecedor
            FROM produtos p
            LEFT JOIN categorias c ON p.categoria_id = c.id
            LEFT JOIN fornecedores f ON p.fornecedor_principal_id = f.id
            WHERE p.ativo = TRUE
                AND (:produto_id_null IS NULL OR p.id = :produto_id)
                AND (:categoria_id_null IS NULL OR p.categoria_id = :categoria_id)
                AND (:fornecedor_id_null IS NULL OR p.fornecedor_principal_id = :fornecedor_id)
            ORDER BY p.nome ASC;
        
Params:  6
Key: Name: [16] :produto_id_null
paramno=0
name=[16] ":produto_id_null"
is_param=1
param_type=0
Key: Name: [11] :produto_id
paramno=1
name=[11] ":produto_id"
is_param=1
param_type=0
Key: Name: [18] :categoria_id_null
paramno=2
name=[18] ":categoria_id_null"
is_param=1
param_type=0
Key: Name: [13] :categoria_id
paramno=3
name=[13] ":categoria_id"
is_param=1
param_type=0
Key: Name: [19] :fornecedor_id_null
paramno=4
name=[19] ":fornecedor_id_null"
is_param=1
param_type=0
Key: Name: [14] :fornecedor_id
paramno=5
name=[14] ":fornecedor_id"
is_param=1
param_type=0

[2025-09-06 21:12:49] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":3,":data_fim_a":"2025-09-07",":data_fim":"2025-09-07"}
[2025-09-06 21:12:49] [DATABASE ERROR] Parâmetro associado: :produto_id = 3 (tipo: 1)
[2025-09-06 21:12:49] [DATABASE ERROR] Parâmetro associado: :data_fim_a = 2025-09-07 (tipo: 2)
[2025-09-06 21:12:49] [DATABASE ERROR] Parâmetro associado: :data_fim = 2025-09-07 (tipo: 2)
[2025-09-06 21:12:49] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=2
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=2

[2025-09-06 21:12:49] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":3}
[2025-09-06 21:12:49] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-06 21:12:49] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-06 21:12:49] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":1,":data_fim_a":"2025-09-07",":data_fim":"2025-09-07"}
[2025-09-06 21:12:49] [DATABASE ERROR] Parâmetro associado: :produto_id = 1 (tipo: 1)
[2025-09-06 21:12:49] [DATABASE ERROR] Parâmetro associado: :data_fim_a = 2025-09-07 (tipo: 2)
[2025-09-06 21:12:49] [DATABASE ERROR] Parâmetro associado: :data_fim = 2025-09-07 (tipo: 2)
[2025-09-06 21:12:49] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=2
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=2

[2025-09-06 21:12:49] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":1}
[2025-09-06 21:12:49] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-09-06 21:12:49] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-06 21:12:49] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":2,":data_fim_a":"2025-09-07",":data_fim":"2025-09-07"}
[2025-09-06 21:12:49] [DATABASE ERROR] Parâmetro associado: :produto_id = 2 (tipo: 1)
[2025-09-06 21:12:49] [DATABASE ERROR] Parâmetro associado: :data_fim_a = 2025-09-07 (tipo: 2)
[2025-09-06 21:12:49] [DATABASE ERROR] Parâmetro associado: :data_fim = 2025-09-07 (tipo: 2)
[2025-09-06 21:12:49] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=2
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=2

[2025-09-06 21:12:49] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":2}
[2025-09-06 21:12:49] [DATABASE ERROR] Parâmetro associado: :id = 2 (tipo: 1)
[2025-09-06 21:12:49] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-06 21:13:06] [DATABASE ERROR] Preparando query: SELECT SUM(estoque_atual) as total_estoque FROM produtos WHERE ativo = TRUE com parâmetros: []
[2025-09-06 21:13:06] [DATABASE ERROR] Debug PDO após binding: SQL: [75] SELECT SUM(estoque_atual) as total_estoque FROM produtos WHERE ativo = TRUE
Params:  0

[2025-09-06 21:13:06] [DATABASE ERROR] Preparando query: SELECT id FROM produtos WHERE ativo = TRUE com parâmetros: []
[2025-09-06 21:13:06] [DATABASE ERROR] Debug PDO após binding: SQL: [42] SELECT id FROM produtos WHERE ativo = TRUE
Params:  0

[2025-09-06 21:13:06] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":1,":data_fim_a":null,":data_fim":null}
[2025-09-06 21:13:06] [DATABASE ERROR] Parâmetro associado: :produto_id = 1 (tipo: 1)
[2025-09-06 21:13:06] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-09-06 21:13:06] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-09-06 21:13:06] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-09-06 21:13:06] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":1}
[2025-09-06 21:13:06] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-09-06 21:13:06] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-06 21:13:06] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":2,":data_fim_a":null,":data_fim":null}
[2025-09-06 21:13:06] [DATABASE ERROR] Parâmetro associado: :produto_id = 2 (tipo: 1)
[2025-09-06 21:13:06] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-09-06 21:13:06] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-09-06 21:13:06] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-09-06 21:13:06] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":2}
[2025-09-06 21:13:06] [DATABASE ERROR] Parâmetro associado: :id = 2 (tipo: 1)
[2025-09-06 21:13:06] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-06 21:13:06] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":3,":data_fim_a":null,":data_fim":null}
[2025-09-06 21:13:06] [DATABASE ERROR] Parâmetro associado: :produto_id = 3 (tipo: 1)
[2025-09-06 21:13:06] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-09-06 21:13:06] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-09-06 21:13:06] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-09-06 21:13:06] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":3}
[2025-09-06 21:13:06] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-06 21:13:06] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-06 21:13:06] [DATABASE ERROR] Preparando query: SELECT id, codigo, nome, estoque_atual, estoque_minimo, categoria, fornecedor 
                    FROM vw_produtos_estoque_critico 
                    ORDER BY estoque_atual ASC 
                    LIMIT 10 com parâmetros: []
[2025-09-06 21:13:06] [DATABASE ERROR] Debug PDO após binding: SQL: [212] SELECT id, codigo, nome, estoque_atual, estoque_minimo, categoria, fornecedor 
                    FROM vw_produtos_estoque_critico 
                    ORDER BY estoque_atual ASC 
                    LIMIT 10
Params:  0

[2025-09-06 21:13:06] [DATABASE ERROR] Preparando query: SELECT id, tipo, categoria, documento_numero, data_movimentacao, valor_total, fornecedor, usuario 
                    FROM vw_movimentacoes_recentes 
                    ORDER BY data_movimentacao DESC 
                    LIMIT 10 com parâmetros: []
[2025-09-06 21:13:06] [DATABASE ERROR] Debug PDO após binding: SQL: [235] SELECT id, tipo, categoria, documento_numero, data_movimentacao, valor_total, fornecedor, usuario 
                    FROM vw_movimentacoes_recentes 
                    ORDER BY data_movimentacao DESC 
                    LIMIT 10
Params:  0

[2025-09-06 21:13:06] [DATABASE ERROR] Preparando query: 
                SELECT 
                    DATE_FORMAT(m.data_movimentacao, '%Y-%m') as periodo,
                    tm.tipo,
                    SUM(mi.quantidade) as total_quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                WHERE m.status = 'PROCESSADO'
                    AND m.data_movimentacao >= DATE_SUB(CURDATE(), INTERVAL 6 MONTH)
                GROUP BY periodo, tm.tipo
                ORDER BY periodo ASC com parâmetros: []
[2025-09-06 21:13:06] [DATABASE ERROR] Debug PDO após binding: SQL: [593] 
                SELECT 
                    DATE_FORMAT(m.data_movimentacao, '%Y-%m') as periodo,
                    tm.tipo,
                    SUM(mi.quantidade) as total_quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                WHERE m.status = 'PROCESSADO'
                    AND m.data_movimentacao >= DATE_SUB(CURDATE(), INTERVAL 6 MONTH)
                GROUP BY periodo, tm.tipo
                ORDER BY periodo ASC
Params:  0

[2025-09-06 22:22:01] [DATABASE ERROR] Preparando query: SELECT * FROM produtos WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-06 22:22:01] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-06 22:22:01] [DATABASE ERROR] Debug PDO após binding: SQL: [43] SELECT * FROM produtos WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-06 22:22:13] [DATABASE ERROR] Parâmetro associado: :tabela = movimentacoes (tipo: 2)
[2025-09-06 22:22:13] [DATABASE ERROR] Parâmetro associado: :registro_id = 64 (tipo: 2)
[2025-09-06 22:22:13] [DATABASE ERROR] Parâmetro associado: :acao = INSERT (tipo: 2)
[2025-09-06 22:22:13] [DATABASE ERROR] Parâmetro associado: :dados_anteriores = NULL (tipo: 0)
[2025-09-06 22:22:13] [DATABASE ERROR] Parâmetro associado: :dados_novos = {"tipo_movimentacao_id":"2","observacao":"","produtos":{"1":"0","2":"2","3":"0"},"valor_unitario":{"1":"0","2":"10","3":"0"}} (tipo: 2)
[2025-09-06 22:22:13] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-09-06 22:22:13] [DATABASE ERROR] Parâmetro associado: :ip_address = ::1 (tipo: 2)
[2025-09-06 22:22:13] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36 Edg/139.0.0.0 (tipo: 2)
[2025-09-06 22:22:13] [DATABASE ERROR] Erro ao preparar query: SQLSTATE[42000]: Syntax error or access violation: 1110 Column 'valor_unitario' specified twice SQL: INSERT INTO movimentacao_itens (movimentacao_id, produto_id, quantidade, valor_unitario, valor_unitario) VALUES (?, ?, ?, ?, ?)
[2025-09-06 22:22:14] [DATABASE ERROR] Preparando query: SELECT * FROM produtos WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-06 22:22:14] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-06 22:22:14] [DATABASE ERROR] Debug PDO após binding: SQL: [43] SELECT * FROM produtos WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-06 22:22:14] [DATABASE ERROR] Preparando query: SELECT * FROM categorias WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-06 22:22:14] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-06 22:22:14] [DATABASE ERROR] Debug PDO após binding: SQL: [45] SELECT * FROM categorias WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-06 22:22:14] [DATABASE ERROR] Preparando query: SELECT * FROM categorias WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-06 22:22:14] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-06 22:22:14] [DATABASE ERROR] Debug PDO após binding: SQL: [45] SELECT * FROM categorias WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-06 22:22:14] [DATABASE ERROR] Preparando query: SELECT * FROM unidades_medida com parâmetros: []
[2025-09-06 22:22:14] [DATABASE ERROR] Debug PDO após binding: SQL: [29] SELECT * FROM unidades_medida
Params:  0

[2025-09-06 22:22:14] [DATABASE ERROR] Preparando query: SELECT * FROM fornecedores WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-06 22:22:14] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-06 22:22:14] [DATABASE ERROR] Debug PDO após binding: SQL: [47] SELECT * FROM fornecedores WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-06 22:22:14] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-06 22:22:14] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-06 22:22:14] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-06 22:22:21] [DATABASE ERROR] Preparando query: SELECT * FROM produtos WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-06 22:22:21] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-06 22:22:21] [DATABASE ERROR] Debug PDO após binding: SQL: [43] SELECT * FROM produtos WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-06 22:24:03] [DATABASE ERROR] Parâmetro associado: :tabela = movimentacoes (tipo: 2)
[2025-09-06 22:24:03] [DATABASE ERROR] Parâmetro associado: :registro_id = 65 (tipo: 2)
[2025-09-06 22:24:03] [DATABASE ERROR] Parâmetro associado: :acao = INSERT (tipo: 2)
[2025-09-06 22:24:03] [DATABASE ERROR] Parâmetro associado: :dados_anteriores = NULL (tipo: 0)
[2025-09-06 22:24:03] [DATABASE ERROR] Parâmetro associado: :dados_novos = {"tipo_movimentacao_id":"2","observacao":"","produtos":{"1":"0","2":"2","3":"0"},"valor_unitario":{"1":"0","2":"5","3":"0"}} (tipo: 2)
[2025-09-06 22:24:03] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-09-06 22:24:03] [DATABASE ERROR] Parâmetro associado: :ip_address = ::1 (tipo: 2)
[2025-09-06 22:24:03] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36 Edg/139.0.0.0 (tipo: 2)
[2025-09-06 22:25:59] [DATABASE ERROR] Erro ao preparar query: SQLSTATE[42000]: Syntax error or access violation: 1110 Column 'valor_unitario' specified twice SQL: INSERT INTO movimentacao_itens (movimentacao_id, produto_id, quantidade, valor_unitario, valor_unitario) VALUES (?, ?, ?, ?, ?)
[2025-09-06 22:26:08] [DATABASE ERROR] Preparando query: SELECT * FROM produtos WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-06 22:26:08] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-06 22:26:08] [DATABASE ERROR] Debug PDO após binding: SQL: [43] SELECT * FROM produtos WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-06 22:26:08] [DATABASE ERROR] Preparando query: SELECT * FROM categorias WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-06 22:26:08] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-06 22:26:08] [DATABASE ERROR] Debug PDO após binding: SQL: [45] SELECT * FROM categorias WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-06 22:26:08] [DATABASE ERROR] Preparando query: SELECT * FROM categorias WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-06 22:26:08] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-06 22:26:08] [DATABASE ERROR] Debug PDO após binding: SQL: [45] SELECT * FROM categorias WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-06 22:26:08] [DATABASE ERROR] Preparando query: SELECT * FROM unidades_medida com parâmetros: []
[2025-09-06 22:26:08] [DATABASE ERROR] Debug PDO após binding: SQL: [29] SELECT * FROM unidades_medida
Params:  0

[2025-09-06 22:26:08] [DATABASE ERROR] Preparando query: SELECT * FROM fornecedores WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-06 22:26:08] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-06 22:26:08] [DATABASE ERROR] Debug PDO após binding: SQL: [47] SELECT * FROM fornecedores WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-06 22:26:08] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-06 22:26:08] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-06 22:26:08] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-06 22:26:16] [DATABASE ERROR] Preparando query: SELECT * FROM produtos WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-06 22:26:16] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-06 22:26:16] [DATABASE ERROR] Debug PDO após binding: SQL: [43] SELECT * FROM produtos WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-06 22:27:20] [DATABASE ERROR] Parâmetro associado: :tabela = movimentacoes (tipo: 2)
[2025-09-06 22:27:20] [DATABASE ERROR] Parâmetro associado: :registro_id = 66 (tipo: 2)
[2025-09-06 22:27:20] [DATABASE ERROR] Parâmetro associado: :acao = INSERT (tipo: 2)
[2025-09-06 22:27:20] [DATABASE ERROR] Parâmetro associado: :dados_anteriores = NULL (tipo: 0)
[2025-09-06 22:27:20] [DATABASE ERROR] Parâmetro associado: :dados_novos = {"tipo_movimentacao_id":"1","observacao":"","produtos":{"1":"0","2":"2","3":"0"},"valor_unitario":{"1":"0","2":"3","3":"0"}} (tipo: 2)
[2025-09-06 22:27:20] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-09-06 22:27:20] [DATABASE ERROR] Parâmetro associado: :ip_address = ::1 (tipo: 2)
[2025-09-06 22:27:20] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36 Edg/139.0.0.0 (tipo: 2)
[2025-09-06 22:28:26] [DATABASE ERROR] Erro ao preparar query: SQLSTATE[42000]: Syntax error or access violation: 1110 Column 'valor_unitario' specified twice SQL: INSERT INTO movimentacao_itens (movimentacao_id, produto_id, quantidade, valor_unitario, valor_unitario) VALUES (?, ?, ?, ?, ?)
[2025-09-06 22:28:33] [DATABASE ERROR] Preparando query: SELECT * FROM produtos WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-06 22:28:33] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-06 22:28:33] [DATABASE ERROR] Debug PDO após binding: SQL: [43] SELECT * FROM produtos WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-06 22:28:33] [DATABASE ERROR] Preparando query: SELECT * FROM categorias WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-06 22:28:33] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-06 22:28:33] [DATABASE ERROR] Debug PDO após binding: SQL: [45] SELECT * FROM categorias WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-06 22:28:33] [DATABASE ERROR] Preparando query: SELECT * FROM categorias WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-06 22:28:33] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-06 22:28:33] [DATABASE ERROR] Debug PDO após binding: SQL: [45] SELECT * FROM categorias WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-06 22:28:33] [DATABASE ERROR] Preparando query: SELECT * FROM unidades_medida com parâmetros: []
[2025-09-06 22:28:33] [DATABASE ERROR] Debug PDO após binding: SQL: [29] SELECT * FROM unidades_medida
Params:  0

[2025-09-06 22:28:33] [DATABASE ERROR] Preparando query: SELECT * FROM fornecedores WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-06 22:28:33] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-06 22:28:33] [DATABASE ERROR] Debug PDO após binding: SQL: [47] SELECT * FROM fornecedores WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-06 22:28:33] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-06 22:28:33] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-06 22:28:33] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-06 22:29:32] [DATABASE ERROR] Preparando query: SELECT * FROM produtos WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-06 22:29:32] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-06 22:29:32] [DATABASE ERROR] Debug PDO após binding: SQL: [43] SELECT * FROM produtos WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-06 22:30:10] [DATABASE ERROR] Parâmetro associado: :tabela = movimentacoes (tipo: 2)
[2025-09-06 22:30:10] [DATABASE ERROR] Parâmetro associado: :registro_id = 67 (tipo: 2)
[2025-09-06 22:30:10] [DATABASE ERROR] Parâmetro associado: :acao = INSERT (tipo: 2)
[2025-09-06 22:30:10] [DATABASE ERROR] Parâmetro associado: :dados_anteriores = NULL (tipo: 0)
[2025-09-06 22:30:10] [DATABASE ERROR] Parâmetro associado: :dados_novos = {"tipo_movimentacao_id":"3","observacao":"","produtos":{"1":"2","2":"0","3":"0"},"valor_unitario":{"1":"10","2":"0","3":"0"}} (tipo: 2)
[2025-09-06 22:30:10] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-09-06 22:30:10] [DATABASE ERROR] Parâmetro associado: :ip_address = ::1 (tipo: 2)
[2025-09-06 22:30:10] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36 Edg/139.0.0.0 (tipo: 2)
[2025-09-06 22:30:15] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-09-06 22:30:15] [DATABASE ERROR] Parâmetro associado: :produto_id = 1 (tipo: 1)
[2025-09-06 22:30:15] [DATABASE ERROR] Parâmetro associado: :produto_id = 2 (tipo: 1)
[2025-09-06 22:30:15] [DATABASE ERROR] Parâmetro associado: :produto_id = 0 (tipo: 1)
[2025-09-06 22:30:15] [DATABASE ERROR] Parâmetro associado: :produto_id = 0 (tipo: 1)
[2025-09-06 22:30:15] [DATABASE ERROR] Preparando query: SELECT * FROM produtos WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-06 22:30:15] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-06 22:30:15] [DATABASE ERROR] Debug PDO após binding: SQL: [43] SELECT * FROM produtos WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-06 22:30:15] [DATABASE ERROR] Preparando query: SELECT * FROM categorias WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-06 22:30:15] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-06 22:30:15] [DATABASE ERROR] Debug PDO após binding: SQL: [45] SELECT * FROM categorias WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-06 22:30:15] [DATABASE ERROR] Preparando query: SELECT * FROM categorias WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-06 22:30:15] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-06 22:30:15] [DATABASE ERROR] Debug PDO após binding: SQL: [45] SELECT * FROM categorias WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-06 22:30:15] [DATABASE ERROR] Preparando query: SELECT * FROM unidades_medida com parâmetros: []
[2025-09-06 22:30:15] [DATABASE ERROR] Debug PDO após binding: SQL: [29] SELECT * FROM unidades_medida
Params:  0

[2025-09-06 22:30:15] [DATABASE ERROR] Preparando query: SELECT * FROM fornecedores WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-06 22:30:15] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-06 22:30:15] [DATABASE ERROR] Debug PDO após binding: SQL: [47] SELECT * FROM fornecedores WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-06 22:30:15] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-06 22:30:15] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-06 22:30:15] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-06 22:31:00] [DATABASE ERROR] Parâmetro associado: :user_id = 1 (tipo: 1)
[2025-09-06 22:31:11] [DATABASE ERROR] Parâmetro associado: :username = admin (tipo: 2)
[2025-09-06 22:31:11] [DATABASE ERROR] Parâmetro associado: :email = admin (tipo: 2)
[2025-09-06 22:31:11] [DATABASE ERROR] Preparando query: UPDATE usuarios SET ultimo_acesso = NOW() WHERE id = :id com parâmetros: {":id":1}
[2025-09-06 22:31:11] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-09-06 22:31:11] [DATABASE ERROR] Debug PDO após binding: SQL: [56] UPDATE usuarios SET ultimo_acesso = NOW() WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-06 22:31:11] [DATABASE ERROR] Parâmetro associado: :tabela = usuarios (tipo: 2)
[2025-09-06 22:31:11] [DATABASE ERROR] Parâmetro associado: :registro_id = 1 (tipo: 1)
[2025-09-06 22:31:11] [DATABASE ERROR] Parâmetro associado: :acao = LOGIN (tipo: 2)
[2025-09-06 22:31:11] [DATABASE ERROR] Parâmetro associado: :dados_anteriores = NULL (tipo: 0)
[2025-09-06 22:31:11] [DATABASE ERROR] Parâmetro associado: :dados_novos = NULL (tipo: 0)
[2025-09-06 22:31:11] [DATABASE ERROR] Parâmetro associado: :usuario_id = NULL (tipo: 0)
[2025-09-06 22:31:11] [DATABASE ERROR] Parâmetro associado: :ip_address = ::1 (tipo: 2)
[2025-09-06 22:31:11] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36 Edg/139.0.0.0 (tipo: 2)
[2025-09-06 22:31:11] [DATABASE ERROR] Parâmetro associado: :id = dp5ppd1tt9aruvjbe2lo1p9f0a (tipo: 2)
[2025-09-06 22:31:11] [DATABASE ERROR] Parâmetro associado: :id = dp5ppd1tt9aruvjbe2lo1p9f0a (tipo: 2)
[2025-09-06 22:31:11] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-09-06 22:31:11] [DATABASE ERROR] Parâmetro associado: :ip_address = ::1 (tipo: 2)
[2025-09-06 22:31:11] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36 Edg/139.0.0.0 (tipo: 2)
[2025-09-06 22:31:11] [DATABASE ERROR] Parâmetro associado: :dados = {"user_id":1,"user_name":"Administrador do Sistema","user_email":"flavioafj@yahoo.com.br","user_profile":1,"user_profile_name":"Administrador","logged_in":true,"login_time":1757208671} (tipo: 2)
[2025-09-06 22:31:11] [DATABASE ERROR] Preparando query: SELECT SUM(estoque_atual) as total_estoque FROM produtos WHERE ativo = TRUE com parâmetros: []
[2025-09-06 22:31:12] [DATABASE ERROR] Debug PDO após binding: SQL: [75] SELECT SUM(estoque_atual) as total_estoque FROM produtos WHERE ativo = TRUE
Params:  0

[2025-09-06 22:31:12] [DATABASE ERROR] Preparando query: SELECT id FROM produtos WHERE ativo = TRUE com parâmetros: []
[2025-09-06 22:31:12] [DATABASE ERROR] Debug PDO após binding: SQL: [42] SELECT id FROM produtos WHERE ativo = TRUE
Params:  0

[2025-09-06 22:31:12] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":1,":data_fim_a":null,":data_fim":null}
[2025-09-06 22:31:12] [DATABASE ERROR] Parâmetro associado: :produto_id = 1 (tipo: 1)
[2025-09-06 22:31:12] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-09-06 22:31:12] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-09-06 22:31:12] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-09-06 22:31:12] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":1}
[2025-09-06 22:31:12] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-09-06 22:31:12] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-06 22:31:12] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":2,":data_fim_a":null,":data_fim":null}
[2025-09-06 22:31:12] [DATABASE ERROR] Parâmetro associado: :produto_id = 2 (tipo: 1)
[2025-09-06 22:31:12] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-09-06 22:31:12] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-09-06 22:31:12] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-09-06 22:31:12] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":2}
[2025-09-06 22:31:12] [DATABASE ERROR] Parâmetro associado: :id = 2 (tipo: 1)
[2025-09-06 22:31:12] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-06 22:31:12] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":3,":data_fim_a":null,":data_fim":null}
[2025-09-06 22:31:12] [DATABASE ERROR] Parâmetro associado: :produto_id = 3 (tipo: 1)
[2025-09-06 22:31:12] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-09-06 22:31:12] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-09-06 22:31:12] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-09-06 22:31:12] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":3}
[2025-09-06 22:31:12] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-06 22:31:12] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-06 22:31:12] [DATABASE ERROR] Preparando query: SELECT id, tipo, categoria, documento_numero, data_movimentacao, valor_total, fornecedor, usuario 
                    FROM vw_movimentacoes_recentes 
                    ORDER BY data_movimentacao DESC 
                    LIMIT 10 com parâmetros: []
[2025-09-06 22:31:12] [DATABASE ERROR] Debug PDO após binding: SQL: [235] SELECT id, tipo, categoria, documento_numero, data_movimentacao, valor_total, fornecedor, usuario 
                    FROM vw_movimentacoes_recentes 
                    ORDER BY data_movimentacao DESC 
                    LIMIT 10
Params:  0

[2025-09-06 22:31:12] [DATABASE ERROR] Preparando query: SELECT id, codigo, nome, estoque_atual, estoque_minimo, categoria, fornecedor 
                    FROM vw_produtos_estoque_critico 
                    ORDER BY estoque_atual ASC 
                    LIMIT 10 com parâmetros: []
[2025-09-06 22:31:12] [DATABASE ERROR] Debug PDO após binding: SQL: [212] SELECT id, codigo, nome, estoque_atual, estoque_minimo, categoria, fornecedor 
                    FROM vw_produtos_estoque_critico 
                    ORDER BY estoque_atual ASC 
                    LIMIT 10
Params:  0

[2025-09-06 22:31:12] [DATABASE ERROR] Preparando query: 
                SELECT 
                    DATE_FORMAT(m.data_movimentacao, '%Y-%m') as periodo,
                    tm.tipo,
                    SUM(mi.quantidade) as total_quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                WHERE m.status = 'PROCESSADO'
                    AND m.data_movimentacao >= DATE_SUB(CURDATE(), INTERVAL 6 MONTH)
                GROUP BY periodo, tm.tipo
                ORDER BY periodo ASC com parâmetros: []
[2025-09-06 22:31:12] [DATABASE ERROR] Debug PDO após binding: SQL: [593] 
                SELECT 
                    DATE_FORMAT(m.data_movimentacao, '%Y-%m') as periodo,
                    tm.tipo,
                    SUM(mi.quantidade) as total_quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                WHERE m.status = 'PROCESSADO'
                    AND m.data_movimentacao >= DATE_SUB(CURDATE(), INTERVAL 6 MONTH)
                GROUP BY periodo, tm.tipo
                ORDER BY periodo ASC
Params:  0

[2025-09-06 22:32:10] [DATABASE ERROR] Preparando query: 
                SELECT 
                    DATE_FORMAT(m.data_movimentacao, '%Y-%m') as periodo,
                    tm.tipo,
                    SUM(mi.quantidade) as total_quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                WHERE m.status = 'PROCESSADO'
                    AND m.data_movimentacao >= DATE_SUB(CURDATE(), INTERVAL 6 MONTH)
                GROUP BY periodo, tm.tipo
                ORDER BY periodo ASC com parâmetros: []
[2025-09-06 22:32:10] [DATABASE ERROR] Debug PDO após binding: SQL: [593] 
                SELECT 
                    DATE_FORMAT(m.data_movimentacao, '%Y-%m') as periodo,
                    tm.tipo,
                    SUM(mi.quantidade) as total_quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                WHERE m.status = 'PROCESSADO'
                    AND m.data_movimentacao >= DATE_SUB(CURDATE(), INTERVAL 6 MONTH)
                GROUP BY periodo, tm.tipo
                ORDER BY periodo ASC
Params:  0

[2025-09-06 22:32:10] [DATABASE ERROR] Preparando query: SELECT id, tipo, categoria, documento_numero, data_movimentacao, valor_total, fornecedor, usuario 
                    FROM vw_movimentacoes_recentes 
                    ORDER BY data_movimentacao DESC 
                    LIMIT 10 com parâmetros: []
[2025-09-06 22:32:10] [DATABASE ERROR] Debug PDO após binding: SQL: [235] SELECT id, tipo, categoria, documento_numero, data_movimentacao, valor_total, fornecedor, usuario 
                    FROM vw_movimentacoes_recentes 
                    ORDER BY data_movimentacao DESC 
                    LIMIT 10
Params:  0

[2025-09-06 22:32:42] [DATABASE ERROR] Preparando query: SELECT SUM(estoque_atual) as total_estoque FROM produtos WHERE ativo = TRUE com parâmetros: []
[2025-09-06 22:32:42] [DATABASE ERROR] Debug PDO após binding: SQL: [75] SELECT SUM(estoque_atual) as total_estoque FROM produtos WHERE ativo = TRUE
Params:  0

[2025-09-06 22:32:42] [DATABASE ERROR] Preparando query: SELECT id FROM produtos WHERE ativo = TRUE com parâmetros: []
[2025-09-06 22:32:42] [DATABASE ERROR] Debug PDO após binding: SQL: [42] SELECT id FROM produtos WHERE ativo = TRUE
Params:  0

[2025-09-06 22:32:42] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":1,":data_fim_a":null,":data_fim":null}
[2025-09-06 22:32:42] [DATABASE ERROR] Parâmetro associado: :produto_id = 1 (tipo: 1)
[2025-09-06 22:32:42] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-09-06 22:32:42] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-09-06 22:32:42] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-09-06 22:32:42] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":1}
[2025-09-06 22:32:42] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-09-06 22:32:42] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-06 22:32:42] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":2,":data_fim_a":null,":data_fim":null}
[2025-09-06 22:32:42] [DATABASE ERROR] Parâmetro associado: :produto_id = 2 (tipo: 1)
[2025-09-06 22:32:42] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-09-06 22:32:42] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-09-06 22:32:42] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-09-06 22:32:42] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":2}
[2025-09-06 22:32:42] [DATABASE ERROR] Parâmetro associado: :id = 2 (tipo: 1)
[2025-09-06 22:32:42] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-06 22:32:42] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":3,":data_fim_a":null,":data_fim":null}
[2025-09-06 22:32:42] [DATABASE ERROR] Parâmetro associado: :produto_id = 3 (tipo: 1)
[2025-09-06 22:32:42] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-09-06 22:32:42] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-09-06 22:32:42] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-09-06 22:32:42] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":3}
[2025-09-06 22:32:42] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-06 22:32:42] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-06 22:32:42] [DATABASE ERROR] Preparando query: SELECT id, codigo, nome, estoque_atual, estoque_minimo, categoria, fornecedor 
                    FROM vw_produtos_estoque_critico 
                    ORDER BY estoque_atual ASC 
                    LIMIT 10 com parâmetros: []
[2025-09-06 22:32:42] [DATABASE ERROR] Debug PDO após binding: SQL: [212] SELECT id, codigo, nome, estoque_atual, estoque_minimo, categoria, fornecedor 
                    FROM vw_produtos_estoque_critico 
                    ORDER BY estoque_atual ASC 
                    LIMIT 10
Params:  0

[2025-09-06 22:50:59] [DATABASE ERROR] Preparando query: SELECT * FROM produtos WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-06 22:50:59] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-06 22:50:59] [DATABASE ERROR] Debug PDO após binding: SQL: [43] SELECT * FROM produtos WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-06 22:51:05] [DATABASE ERROR] Preparando query: SELECT * FROM fornecedores WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-06 22:51:05] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-06 22:51:05] [DATABASE ERROR] Debug PDO após binding: SQL: [47] SELECT * FROM fornecedores WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-06 22:51:05] [DATABASE ERROR] Preparando query: SELECT * FROM produtos WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-06 22:51:05] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-06 22:51:05] [DATABASE ERROR] Debug PDO após binding: SQL: [43] SELECT * FROM produtos WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-06 22:51:49] [DATABASE ERROR] Preparando query: SELECT * FROM produtos WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-06 22:51:49] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-06 22:51:49] [DATABASE ERROR] Debug PDO após binding: SQL: [43] SELECT * FROM produtos WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-06 22:58:29] [DATABASE ERROR] Preparando query: SELECT * FROM fornecedores WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-06 22:58:29] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-06 22:58:29] [DATABASE ERROR] Debug PDO após binding: SQL: [47] SELECT * FROM fornecedores WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-06 22:58:29] [DATABASE ERROR] Preparando query: SELECT * FROM produtos WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-06 22:58:29] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-06 22:58:29] [DATABASE ERROR] Debug PDO após binding: SQL: [43] SELECT * FROM produtos WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-06 22:58:32] [DATABASE ERROR] Parâmetro associado: :id = 2 (tipo: 2)
[2025-09-06 22:58:32] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-09-06 22:58:32] [DATABASE ERROR] Parâmetro associado: :produto_id = 1 (tipo: 1)
[2025-09-06 22:58:32] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-06 22:58:32] [DATABASE ERROR] Parâmetro associado: :produto_id = 3 (tipo: 1)
[2025-09-06 22:58:32] [DATABASE ERROR] Parâmetro associado: :id = 2 (tipo: 1)
[2025-09-06 22:58:32] [DATABASE ERROR] Parâmetro associado: :produto_id = 2 (tipo: 1)
[2025-09-06 22:59:57] [DATABASE ERROR] Preparando query: SELECT * FROM fornecedores WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-06 22:59:57] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-06 22:59:57] [DATABASE ERROR] Debug PDO após binding: SQL: [47] SELECT * FROM fornecedores WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-06 22:59:57] [DATABASE ERROR] Preparando query: SELECT * FROM produtos WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-06 22:59:57] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-06 22:59:57] [DATABASE ERROR] Debug PDO após binding: SQL: [43] SELECT * FROM produtos WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-06 23:00:00] [DATABASE ERROR] Parâmetro associado: :id = 2 (tipo: 2)
[2025-09-06 23:00:00] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-09-06 23:00:00] [DATABASE ERROR] Parâmetro associado: :produto_id = 1 (tipo: 1)
[2025-09-06 23:00:00] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-06 23:00:00] [DATABASE ERROR] Parâmetro associado: :produto_id = 3 (tipo: 1)
[2025-09-06 23:00:00] [DATABASE ERROR] Parâmetro associado: :id = 2 (tipo: 1)
[2025-09-06 23:00:00] [DATABASE ERROR] Parâmetro associado: :produto_id = 2 (tipo: 1)
[2025-09-06 23:00:40] [DATABASE ERROR] Preparando query: SELECT * FROM fornecedores WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-06 23:00:40] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-06 23:00:40] [DATABASE ERROR] Debug PDO após binding: SQL: [47] SELECT * FROM fornecedores WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-06 23:00:40] [DATABASE ERROR] Preparando query: SELECT * FROM produtos WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-06 23:00:40] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-06 23:00:40] [DATABASE ERROR] Debug PDO após binding: SQL: [43] SELECT * FROM produtos WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-06 23:00:48] [DATABASE ERROR] Parâmetro associado: :id = 2 (tipo: 2)
[2025-09-06 23:00:53] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-09-06 23:00:53] [DATABASE ERROR] Parâmetro associado: :produto_id = 1 (tipo: 1)
[2025-09-06 23:00:53] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-06 23:00:53] [DATABASE ERROR] Parâmetro associado: :produto_id = 3 (tipo: 1)
[2025-09-06 23:00:53] [DATABASE ERROR] Parâmetro associado: :id = 2 (tipo: 1)
[2025-09-06 23:00:53] [DATABASE ERROR] Parâmetro associado: :produto_id = 2 (tipo: 1)
[2025-09-06 23:02:19] [DATABASE ERROR] Parâmetro associado: :id = 2 (tipo: 2)
[2025-09-06 23:02:19] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-09-06 23:02:19] [DATABASE ERROR] Parâmetro associado: :produto_id = 1 (tipo: 1)
[2025-09-06 23:02:19] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-06 23:02:19] [DATABASE ERROR] Parâmetro associado: :produto_id = 3 (tipo: 1)
[2025-09-06 23:02:19] [DATABASE ERROR] Parâmetro associado: :id = 2 (tipo: 1)
[2025-09-06 23:02:19] [DATABASE ERROR] Parâmetro associado: :produto_id = 2 (tipo: 1)
[2025-09-06 23:02:26] [DATABASE ERROR] Erro ao preparar query: SQLSTATE[42000]: Syntax error or access violation: 1064 You have an error in your SQL syntax; check the manual that corresponds to your MariaDB server version for the right syntax to use near 'WHERE id = ?' at line 1 SQL: INSERT INTO movimentacoes (valorTotal) VALUES (?) WHERE id = ?
[2025-09-06 23:04:07] [DATABASE ERROR] Parâmetro associado: :id = 2 (tipo: 2)
[2025-09-06 23:04:07] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-09-06 23:04:07] [DATABASE ERROR] Parâmetro associado: :produto_id = 1 (tipo: 1)
[2025-09-06 23:04:07] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-06 23:04:07] [DATABASE ERROR] Parâmetro associado: :produto_id = 3 (tipo: 1)
[2025-09-06 23:04:07] [DATABASE ERROR] Parâmetro associado: :id = 2 (tipo: 1)
[2025-09-06 23:04:07] [DATABASE ERROR] Parâmetro associado: :produto_id = 2 (tipo: 1)
[2025-09-06 23:04:10] [DATABASE ERROR] Erro ao preparar query: SQLSTATE[42000]: Syntax error or access violation: 1064 You have an error in your SQL syntax; check the manual that corresponds to your MariaDB server version for the right syntax to use near 'WHERE id = ?' at line 1 SQL: INSERT INTO movimentacoes (valorTotal) VALUES (?) WHERE id = ?
[2025-09-06 23:06:05] [DATABASE ERROR] Parâmetro associado: :id = 2 (tipo: 2)
[2025-09-06 23:06:05] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-09-06 23:06:05] [DATABASE ERROR] Parâmetro associado: :produto_id = 1 (tipo: 1)
[2025-09-06 23:06:05] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-06 23:06:05] [DATABASE ERROR] Parâmetro associado: :produto_id = 3 (tipo: 1)
[2025-09-06 23:06:05] [DATABASE ERROR] Parâmetro associado: :id = 2 (tipo: 1)
[2025-09-06 23:06:05] [DATABASE ERROR] Parâmetro associado: :produto_id = 2 (tipo: 1)
[2025-09-06 23:06:08] [DATABASE ERROR] Erro ao preparar query: SQLSTATE[42000]: Syntax error or access violation: 1064 You have an error in your SQL syntax; check the manual that corresponds to your MariaDB server version for the right syntax to use near 'WHERE id = ?' at line 1 SQL: INSERT INTO movimentacoes (valorTotal) VALUES (?) WHERE id = ?
[2025-09-06 23:06:58] [DATABASE ERROR] Parâmetro associado: :id = 2 (tipo: 2)
[2025-09-06 23:06:58] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-09-06 23:06:58] [DATABASE ERROR] Parâmetro associado: :produto_id = 1 (tipo: 1)
[2025-09-06 23:06:58] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-06 23:06:58] [DATABASE ERROR] Parâmetro associado: :produto_id = 3 (tipo: 1)
[2025-09-06 23:06:58] [DATABASE ERROR] Parâmetro associado: :id = 2 (tipo: 1)
[2025-09-06 23:06:58] [DATABASE ERROR] Parâmetro associado: :produto_id = 2 (tipo: 1)
[2025-09-06 23:07:00] [DATABASE ERROR] Erro ao preparar query: SQLSTATE[42000]: Syntax error or access violation: 1064 You have an error in your SQL syntax; check the manual that corresponds to your MariaDB server version for the right syntax to use near 'WHERE id = ?' at line 1 SQL: INSERT INTO movimentacoes (valorTotal) VALUES (?) WHERE id = ?
[2025-09-06 23:12:12] [DATABASE ERROR] Parâmetro associado: :id = 2 (tipo: 2)
[2025-09-06 23:12:12] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-09-06 23:12:12] [DATABASE ERROR] Parâmetro associado: :produto_id = 1 (tipo: 1)
[2025-09-06 23:12:12] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-06 23:12:12] [DATABASE ERROR] Parâmetro associado: :produto_id = 3 (tipo: 1)
[2025-09-06 23:12:12] [DATABASE ERROR] Parâmetro associado: :id = 2 (tipo: 1)
[2025-09-06 23:12:12] [DATABASE ERROR] Parâmetro associado: :produto_id = 2 (tipo: 1)
[2025-09-06 23:12:15] [DATABASE ERROR] Erro ao preparar query: SQLSTATE[42000]: Syntax error or access violation: 1064 You have an error in your SQL syntax; check the manual that corresponds to your MariaDB server version for the right syntax to use near '= ? WHERE id = ?' at line 1 SQL: UPDATE movimentacoes valor_Total = ? WHERE id = ?
[2025-09-06 23:18:07] [DATABASE ERROR] Parâmetro associado: :id = 2 (tipo: 2)
[2025-09-06 23:18:07] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-09-06 23:18:07] [DATABASE ERROR] Parâmetro associado: :produto_id = 1 (tipo: 1)
[2025-09-06 23:18:07] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-06 23:18:07] [DATABASE ERROR] Parâmetro associado: :produto_id = 3 (tipo: 1)
[2025-09-06 23:18:07] [DATABASE ERROR] Parâmetro associado: :id = 2 (tipo: 1)
[2025-09-06 23:18:07] [DATABASE ERROR] Parâmetro associado: :produto_id = 2 (tipo: 1)
[2025-09-06 23:18:09] [DATABASE ERROR] Parâmetro associado: :movimentacao_id = 76 (tipo: 2)
[2025-09-06 23:18:09] [DATABASE ERROR] Parâmetro associado: :numero_nota = 104112 (tipo: 2)
[2025-09-06 23:18:09] [DATABASE ERROR] Parâmetro associado: :chave_acesso = 35250850902071001120550010001041121803777739 (tipo: 2)
[2025-09-06 23:18:09] [DATABASE ERROR] Parâmetro associado: :data_emissao = 2025-08-28 (tipo: 2)
[2025-09-06 23:18:09] [DATABASE ERROR] Parâmetro associado: :fornecedor_id = 2 (tipo: 1)
[2025-09-06 23:18:09] [DATABASE ERROR] Parâmetro associado: :valor_total = 1533.87 (tipo: 2)
[2025-09-06 23:18:09] [DATABASE ERROR] Parâmetro associado: :processado = 1 (tipo: 5)
[2025-09-06 23:18:09] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-09-06 23:18:09] [DATABASE ERROR] Preparando query: SELECT * FROM produtos WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-06 23:18:09] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-06 23:18:09] [DATABASE ERROR] Debug PDO após binding: SQL: [43] SELECT * FROM produtos WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-06 23:21:13] [DATABASE ERROR] Parâmetro associado: :tabela = movimentacoes (tipo: 2)
[2025-09-06 23:21:13] [DATABASE ERROR] Parâmetro associado: :registro_id = 77 (tipo: 2)
[2025-09-06 23:21:13] [DATABASE ERROR] Parâmetro associado: :acao = INSERT (tipo: 2)
[2025-09-06 23:21:13] [DATABASE ERROR] Parâmetro associado: :dados_anteriores = NULL (tipo: 0)
[2025-09-06 23:21:13] [DATABASE ERROR] Parâmetro associado: :dados_novos = {"tipo_movimentacao_id":"1","observacao":"","produtos":{"1":"2","2":"3","3":"0"},"valor_unitario":{"1":"2","2":"4","3":"0"}} (tipo: 2)
[2025-09-06 23:21:13] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-09-06 23:21:13] [DATABASE ERROR] Parâmetro associado: :ip_address = ::1 (tipo: 2)
[2025-09-06 23:21:13] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36 Edg/139.0.0.0 (tipo: 2)
[2025-09-06 23:21:13] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-09-06 23:21:13] [DATABASE ERROR] Parâmetro associado: :produto_id = 1 (tipo: 1)
[2025-09-06 23:21:13] [DATABASE ERROR] Parâmetro associado: :id = 2 (tipo: 1)
[2025-09-06 23:21:13] [DATABASE ERROR] Parâmetro associado: :produto_id = 2 (tipo: 1)
[2025-09-06 23:25:49] [DATABASE ERROR] Parâmetro associado: :tabela = movimentacoes (tipo: 2)
[2025-09-06 23:25:49] [DATABASE ERROR] Parâmetro associado: :registro_id = 78 (tipo: 2)
[2025-09-06 23:25:49] [DATABASE ERROR] Parâmetro associado: :acao = INSERT (tipo: 2)
[2025-09-06 23:25:49] [DATABASE ERROR] Parâmetro associado: :dados_anteriores = NULL (tipo: 0)
[2025-09-06 23:25:49] [DATABASE ERROR] Parâmetro associado: :dados_novos = {"tipo_movimentacao_id":"1","observacao":"","produtos":{"1":"2","2":"3","3":"0"},"valor_unitario":{"1":"2","2":"4","3":"0"}} (tipo: 2)
[2025-09-06 23:25:49] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-09-06 23:25:49] [DATABASE ERROR] Parâmetro associado: :ip_address = ::1 (tipo: 2)
[2025-09-06 23:25:49] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36 Edg/139.0.0.0 (tipo: 2)
[2025-09-06 23:25:49] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-09-06 23:25:49] [DATABASE ERROR] Parâmetro associado: :produto_id = 1 (tipo: 1)
[2025-09-06 23:25:49] [DATABASE ERROR] Parâmetro associado: :id = 2 (tipo: 1)
[2025-09-06 23:25:49] [DATABASE ERROR] Parâmetro associado: :produto_id = 2 (tipo: 1)
[2025-09-06 23:25:49] [DATABASE ERROR] Parâmetro associado: :produto_id = 2 (tipo: 1)
[2025-09-06 23:25:49] [DATABASE ERROR] Parâmetro associado: :produto_id = 3 (tipo: 1)
[2025-09-06 23:25:49] [DATABASE ERROR] Parâmetro associado: :produto_id = 0 (tipo: 1)
[2025-09-06 23:25:49] [DATABASE ERROR] Preparando query: SELECT * FROM produtos WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-06 23:25:49] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-06 23:25:49] [DATABASE ERROR] Debug PDO após binding: SQL: [43] SELECT * FROM produtos WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-06 23:25:49] [DATABASE ERROR] Preparando query: SELECT * FROM categorias WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-06 23:25:49] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-06 23:25:49] [DATABASE ERROR] Debug PDO após binding: SQL: [45] SELECT * FROM categorias WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-06 23:25:49] [DATABASE ERROR] Preparando query: SELECT * FROM categorias WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-06 23:25:49] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-06 23:25:49] [DATABASE ERROR] Debug PDO após binding: SQL: [45] SELECT * FROM categorias WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-06 23:25:49] [DATABASE ERROR] Preparando query: SELECT * FROM unidades_medida com parâmetros: []
[2025-09-06 23:25:49] [DATABASE ERROR] Debug PDO após binding: SQL: [29] SELECT * FROM unidades_medida
Params:  0

[2025-09-06 23:25:49] [DATABASE ERROR] Preparando query: SELECT * FROM fornecedores WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-06 23:25:49] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-06 23:25:49] [DATABASE ERROR] Debug PDO após binding: SQL: [47] SELECT * FROM fornecedores WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-06 23:25:49] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-06 23:25:49] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-06 23:25:49] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-06 23:26:08] [DATABASE ERROR] Preparando query: SELECT SUM(estoque_atual) as total_estoque FROM produtos WHERE ativo = TRUE com parâmetros: []
[2025-09-06 23:26:08] [DATABASE ERROR] Debug PDO após binding: SQL: [75] SELECT SUM(estoque_atual) as total_estoque FROM produtos WHERE ativo = TRUE
Params:  0

[2025-09-06 23:26:08] [DATABASE ERROR] Preparando query: SELECT id FROM produtos WHERE ativo = TRUE com parâmetros: []
[2025-09-06 23:26:08] [DATABASE ERROR] Debug PDO após binding: SQL: [42] SELECT id FROM produtos WHERE ativo = TRUE
Params:  0

[2025-09-06 23:26:08] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":1,":data_fim_a":null,":data_fim":null}
[2025-09-06 23:26:08] [DATABASE ERROR] Parâmetro associado: :produto_id = 1 (tipo: 1)
[2025-09-06 23:26:08] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-09-06 23:26:08] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-09-06 23:26:08] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-09-06 23:26:08] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":1}
[2025-09-06 23:26:08] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-09-06 23:26:08] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-06 23:26:08] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":2,":data_fim_a":null,":data_fim":null}
[2025-09-06 23:26:08] [DATABASE ERROR] Parâmetro associado: :produto_id = 2 (tipo: 1)
[2025-09-06 23:26:08] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-09-06 23:26:08] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-09-06 23:26:08] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-09-06 23:26:08] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":2}
[2025-09-06 23:26:08] [DATABASE ERROR] Parâmetro associado: :id = 2 (tipo: 1)
[2025-09-06 23:26:08] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-06 23:26:08] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":3,":data_fim_a":null,":data_fim":null}
[2025-09-06 23:26:08] [DATABASE ERROR] Parâmetro associado: :produto_id = 3 (tipo: 1)
[2025-09-06 23:26:08] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-09-06 23:26:08] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-09-06 23:26:08] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-09-06 23:26:08] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":3}
[2025-09-06 23:26:08] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-06 23:26:08] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-06 23:26:08] [DATABASE ERROR] Preparando query: SELECT id, codigo, nome, estoque_atual, estoque_minimo, categoria, fornecedor 
                    FROM vw_produtos_estoque_critico 
                    ORDER BY estoque_atual ASC 
                    LIMIT 10 com parâmetros: []
[2025-09-06 23:26:08] [DATABASE ERROR] Debug PDO após binding: SQL: [212] SELECT id, codigo, nome, estoque_atual, estoque_minimo, categoria, fornecedor 
                    FROM vw_produtos_estoque_critico 
                    ORDER BY estoque_atual ASC 
                    LIMIT 10
Params:  0

[2025-09-06 23:26:08] [DATABASE ERROR] Preparando query: 
                SELECT 
                    DATE_FORMAT(m.data_movimentacao, '%Y-%m') as periodo,
                    tm.tipo,
                    SUM(mi.quantidade) as total_quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                WHERE m.status = 'PROCESSADO'
                    AND m.data_movimentacao >= DATE_SUB(CURDATE(), INTERVAL 6 MONTH)
                GROUP BY periodo, tm.tipo
                ORDER BY periodo ASC com parâmetros: []
[2025-09-06 23:26:08] [DATABASE ERROR] Debug PDO após binding: SQL: [593] 
                SELECT 
                    DATE_FORMAT(m.data_movimentacao, '%Y-%m') as periodo,
                    tm.tipo,
                    SUM(mi.quantidade) as total_quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                WHERE m.status = 'PROCESSADO'
                    AND m.data_movimentacao >= DATE_SUB(CURDATE(), INTERVAL 6 MONTH)
                GROUP BY periodo, tm.tipo
                ORDER BY periodo ASC
Params:  0

[2025-09-06 23:26:09] [DATABASE ERROR] Preparando query: SELECT id, tipo, categoria, documento_numero, data_movimentacao, valor_total, fornecedor, usuario 
                    FROM vw_movimentacoes_recentes 
                    ORDER BY data_movimentacao DESC 
                    LIMIT 10 com parâmetros: []
[2025-09-06 23:26:09] [DATABASE ERROR] Debug PDO após binding: SQL: [235] SELECT id, tipo, categoria, documento_numero, data_movimentacao, valor_total, fornecedor, usuario 
                    FROM vw_movimentacoes_recentes 
                    ORDER BY data_movimentacao DESC 
                    LIMIT 10
Params:  0

[2025-09-06 23:31:31] [DATABASE ERROR] Parâmetro associado: :user_id = 1 (tipo: 1)
[2025-09-06 23:31:37] [DATABASE ERROR] Parâmetro associado: :username = admin (tipo: 2)
[2025-09-06 23:31:37] [DATABASE ERROR] Parâmetro associado: :email = admin (tipo: 2)
[2025-09-06 23:31:38] [DATABASE ERROR] Preparando query: UPDATE usuarios SET ultimo_acesso = NOW() WHERE id = :id com parâmetros: {":id":1}
[2025-09-06 23:31:38] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-09-06 23:31:38] [DATABASE ERROR] Debug PDO após binding: SQL: [56] UPDATE usuarios SET ultimo_acesso = NOW() WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-06 23:31:38] [DATABASE ERROR] Parâmetro associado: :tabela = usuarios (tipo: 2)
[2025-09-06 23:31:38] [DATABASE ERROR] Parâmetro associado: :registro_id = 1 (tipo: 1)
[2025-09-06 23:31:38] [DATABASE ERROR] Parâmetro associado: :acao = LOGIN (tipo: 2)
[2025-09-06 23:31:38] [DATABASE ERROR] Parâmetro associado: :dados_anteriores = NULL (tipo: 0)
[2025-09-06 23:31:38] [DATABASE ERROR] Parâmetro associado: :dados_novos = NULL (tipo: 0)
[2025-09-06 23:31:38] [DATABASE ERROR] Parâmetro associado: :usuario_id = NULL (tipo: 0)
[2025-09-06 23:31:38] [DATABASE ERROR] Parâmetro associado: :ip_address = ::1 (tipo: 2)
[2025-09-06 23:31:38] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36 Edg/139.0.0.0 (tipo: 2)
[2025-09-06 23:31:38] [DATABASE ERROR] Parâmetro associado: :id = u5e3l14j81e8754psc44v3glvc (tipo: 2)
[2025-09-06 23:31:38] [DATABASE ERROR] Parâmetro associado: :id = u5e3l14j81e8754psc44v3glvc (tipo: 2)
[2025-09-06 23:31:38] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-09-06 23:31:38] [DATABASE ERROR] Parâmetro associado: :ip_address = ::1 (tipo: 2)
[2025-09-06 23:31:38] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36 Edg/139.0.0.0 (tipo: 2)
[2025-09-06 23:31:38] [DATABASE ERROR] Parâmetro associado: :dados = {"user_id":1,"user_name":"Administrador do Sistema","user_email":"flavioafj@yahoo.com.br","user_profile":1,"user_profile_name":"Administrador","logged_in":true,"login_time":1757212298} (tipo: 2)
[2025-09-06 23:31:39] [DATABASE ERROR] Preparando query: SELECT id, codigo, nome, estoque_atual, estoque_minimo, categoria, fornecedor 
                    FROM vw_produtos_estoque_critico 
                    ORDER BY estoque_atual ASC 
                    LIMIT 10 com parâmetros: []
[2025-09-06 23:31:39] [DATABASE ERROR] Debug PDO após binding: SQL: [212] SELECT id, codigo, nome, estoque_atual, estoque_minimo, categoria, fornecedor 
                    FROM vw_produtos_estoque_critico 
                    ORDER BY estoque_atual ASC 
                    LIMIT 10
Params:  0

[2025-09-06 23:31:39] [DATABASE ERROR] Preparando query: SELECT SUM(estoque_atual) as total_estoque FROM produtos WHERE ativo = TRUE com parâmetros: []
[2025-09-06 23:31:39] [DATABASE ERROR] Debug PDO após binding: SQL: [75] SELECT SUM(estoque_atual) as total_estoque FROM produtos WHERE ativo = TRUE
Params:  0

[2025-09-06 23:31:39] [DATABASE ERROR] Preparando query: SELECT id FROM produtos WHERE ativo = TRUE com parâmetros: []
[2025-09-06 23:31:39] [DATABASE ERROR] Debug PDO após binding: SQL: [42] SELECT id FROM produtos WHERE ativo = TRUE
Params:  0

[2025-09-06 23:31:39] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":1,":data_fim_a":null,":data_fim":null}
[2025-09-06 23:31:39] [DATABASE ERROR] Parâmetro associado: :produto_id = 1 (tipo: 1)
[2025-09-06 23:31:39] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-09-06 23:31:39] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-09-06 23:31:39] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-09-06 23:31:39] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":1}
[2025-09-06 23:31:39] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-09-06 23:31:39] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-06 23:31:39] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":2,":data_fim_a":null,":data_fim":null}
[2025-09-06 23:31:39] [DATABASE ERROR] Parâmetro associado: :produto_id = 2 (tipo: 1)
[2025-09-06 23:31:39] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-09-06 23:31:39] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-09-06 23:31:39] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-09-06 23:31:39] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":2}
[2025-09-06 23:31:39] [DATABASE ERROR] Parâmetro associado: :id = 2 (tipo: 1)
[2025-09-06 23:31:39] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-06 23:31:39] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":3,":data_fim_a":null,":data_fim":null}
[2025-09-06 23:31:39] [DATABASE ERROR] Parâmetro associado: :produto_id = 3 (tipo: 1)
[2025-09-06 23:31:39] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-09-06 23:31:39] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-09-06 23:31:39] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-09-06 23:31:39] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":3}
[2025-09-06 23:31:39] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-06 23:31:39] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-06 23:31:39] [DATABASE ERROR] Preparando query: SELECT id, tipo, categoria, documento_numero, data_movimentacao, valor_total, fornecedor, usuario 
                    FROM vw_movimentacoes_recentes 
                    ORDER BY data_movimentacao DESC 
                    LIMIT 10 com parâmetros: []
[2025-09-06 23:31:39] [DATABASE ERROR] Debug PDO após binding: SQL: [235] SELECT id, tipo, categoria, documento_numero, data_movimentacao, valor_total, fornecedor, usuario 
                    FROM vw_movimentacoes_recentes 
                    ORDER BY data_movimentacao DESC 
                    LIMIT 10
Params:  0

[2025-09-06 23:31:39] [DATABASE ERROR] Preparando query: 
                SELECT 
                    DATE_FORMAT(m.data_movimentacao, '%Y-%m') as periodo,
                    tm.tipo,
                    SUM(mi.quantidade) as total_quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                WHERE m.status = 'PROCESSADO'
                    AND m.data_movimentacao >= DATE_SUB(CURDATE(), INTERVAL 6 MONTH)
                GROUP BY periodo, tm.tipo
                ORDER BY periodo ASC com parâmetros: []
[2025-09-06 23:31:39] [DATABASE ERROR] Debug PDO após binding: SQL: [593] 
                SELECT 
                    DATE_FORMAT(m.data_movimentacao, '%Y-%m') as periodo,
                    tm.tipo,
                    SUM(mi.quantidade) as total_quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                WHERE m.status = 'PROCESSADO'
                    AND m.data_movimentacao >= DATE_SUB(CURDATE(), INTERVAL 6 MONTH)
                GROUP BY periodo, tm.tipo
                ORDER BY periodo ASC
Params:  0

[2025-09-06 23:32:12] [DATABASE ERROR] Preparando query: SELECT * FROM produtos WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-06 23:32:12] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-06 23:32:12] [DATABASE ERROR] Debug PDO após binding: SQL: [43] SELECT * FROM produtos WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-06 23:32:19] [DATABASE ERROR] Preparando query: SELECT * FROM fornecedores WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-06 23:32:19] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-06 23:32:19] [DATABASE ERROR] Debug PDO após binding: SQL: [47] SELECT * FROM fornecedores WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-06 23:32:19] [DATABASE ERROR] Preparando query: SELECT * FROM produtos WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-06 23:32:19] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-06 23:32:19] [DATABASE ERROR] Debug PDO após binding: SQL: [43] SELECT * FROM produtos WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-07 00:02:40] [DATABASE ERROR] Parâmetro associado: :id = 2 (tipo: 2)
[2025-09-07 00:02:40] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-09-07 00:02:40] [DATABASE ERROR] Parâmetro associado: :produto_id = 1 (tipo: 1)
[2025-09-07 00:02:40] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-07 00:02:40] [DATABASE ERROR] Parâmetro associado: :produto_id = 3 (tipo: 1)
[2025-09-07 00:02:40] [DATABASE ERROR] Parâmetro associado: :id = 2 (tipo: 1)
[2025-09-07 00:02:40] [DATABASE ERROR] Parâmetro associado: :produto_id = 2 (tipo: 1)
[2025-09-07 00:02:40] [DATABASE ERROR] Parâmetro associado: :movimentacao_id = 79 (tipo: 2)
[2025-09-07 00:02:40] [DATABASE ERROR] Parâmetro associado: :numero_nota = 104112 (tipo: 2)
[2025-09-07 00:02:40] [DATABASE ERROR] Parâmetro associado: :chave_acesso = 35250850902071001120550010001041121803777739 (tipo: 2)
[2025-09-07 00:02:40] [DATABASE ERROR] Parâmetro associado: :data_emissao = 2025-08-28 (tipo: 2)
[2025-09-07 00:02:40] [DATABASE ERROR] Parâmetro associado: :fornecedor_id = 2 (tipo: 1)
[2025-09-07 00:02:40] [DATABASE ERROR] Parâmetro associado: :valor_total = 1533.87 (tipo: 2)
[2025-09-07 00:02:40] [DATABASE ERROR] Parâmetro associado: :processado = 1 (tipo: 5)
[2025-09-07 00:02:40] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-09-07 00:02:41] [DATABASE ERROR] Preparando query: SELECT * FROM produtos WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-07 00:02:41] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-07 00:02:41] [DATABASE ERROR] Debug PDO após binding: SQL: [43] SELECT * FROM produtos WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-07 00:02:46] [DATABASE ERROR] Preparando query: SELECT SUM(estoque_atual) as total_estoque FROM produtos WHERE ativo = TRUE com parâmetros: []
[2025-09-07 00:02:46] [DATABASE ERROR] Debug PDO após binding: SQL: [75] SELECT SUM(estoque_atual) as total_estoque FROM produtos WHERE ativo = TRUE
Params:  0

[2025-09-07 00:02:46] [DATABASE ERROR] Preparando query: SELECT id FROM produtos WHERE ativo = TRUE com parâmetros: []
[2025-09-07 00:02:46] [DATABASE ERROR] Debug PDO após binding: SQL: [42] SELECT id FROM produtos WHERE ativo = TRUE
Params:  0

[2025-09-07 00:02:46] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":1,":data_fim_a":null,":data_fim":null}
[2025-09-07 00:02:46] [DATABASE ERROR] Parâmetro associado: :produto_id = 1 (tipo: 1)
[2025-09-07 00:02:46] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-09-07 00:02:46] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-09-07 00:02:46] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-09-07 00:02:46] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":1}
[2025-09-07 00:02:46] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-09-07 00:02:46] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-07 00:02:46] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":2,":data_fim_a":null,":data_fim":null}
[2025-09-07 00:02:46] [DATABASE ERROR] Parâmetro associado: :produto_id = 2 (tipo: 1)
[2025-09-07 00:02:46] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-09-07 00:02:46] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-09-07 00:02:46] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-09-07 00:02:46] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":2}
[2025-09-07 00:02:46] [DATABASE ERROR] Parâmetro associado: :id = 2 (tipo: 1)
[2025-09-07 00:02:46] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-07 00:02:46] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":3,":data_fim_a":null,":data_fim":null}
[2025-09-07 00:02:46] [DATABASE ERROR] Parâmetro associado: :produto_id = 3 (tipo: 1)
[2025-09-07 00:02:46] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-09-07 00:02:46] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-09-07 00:02:46] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-09-07 00:02:46] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":3}
[2025-09-07 00:02:46] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-07 00:02:46] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-07 00:02:46] [DATABASE ERROR] Preparando query: SELECT id, tipo, categoria, documento_numero, data_movimentacao, valor_total, fornecedor, usuario 
                    FROM vw_movimentacoes_recentes 
                    ORDER BY data_movimentacao DESC 
                    LIMIT 10 com parâmetros: []
[2025-09-07 00:02:46] [DATABASE ERROR] Debug PDO após binding: SQL: [235] SELECT id, tipo, categoria, documento_numero, data_movimentacao, valor_total, fornecedor, usuario 
                    FROM vw_movimentacoes_recentes 
                    ORDER BY data_movimentacao DESC 
                    LIMIT 10
Params:  0

[2025-09-07 00:02:46] [DATABASE ERROR] Preparando query: 
                SELECT 
                    DATE_FORMAT(m.data_movimentacao, '%Y-%m') as periodo,
                    tm.tipo,
                    SUM(mi.quantidade) as total_quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                WHERE m.status = 'PROCESSADO'
                    AND m.data_movimentacao >= DATE_SUB(CURDATE(), INTERVAL 6 MONTH)
                GROUP BY periodo, tm.tipo
                ORDER BY periodo ASC com parâmetros: []
[2025-09-07 00:02:46] [DATABASE ERROR] Debug PDO após binding: SQL: [593] 
                SELECT 
                    DATE_FORMAT(m.data_movimentacao, '%Y-%m') as periodo,
                    tm.tipo,
                    SUM(mi.quantidade) as total_quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                WHERE m.status = 'PROCESSADO'
                    AND m.data_movimentacao >= DATE_SUB(CURDATE(), INTERVAL 6 MONTH)
                GROUP BY periodo, tm.tipo
                ORDER BY periodo ASC
Params:  0

[2025-09-07 00:02:46] [DATABASE ERROR] Preparando query: SELECT id, codigo, nome, estoque_atual, estoque_minimo, categoria, fornecedor 
                    FROM vw_produtos_estoque_critico 
                    ORDER BY estoque_atual ASC 
                    LIMIT 10 com parâmetros: []
[2025-09-07 00:02:46] [DATABASE ERROR] Debug PDO após binding: SQL: [212] SELECT id, codigo, nome, estoque_atual, estoque_minimo, categoria, fornecedor 
                    FROM vw_produtos_estoque_critico 
                    ORDER BY estoque_atual ASC 
                    LIMIT 10
Params:  0

[2025-09-07 00:04:59] [DATABASE ERROR] Preparando query: SELECT * FROM categorias WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-07 00:04:59] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-07 00:04:59] [DATABASE ERROR] Debug PDO após binding: SQL: [45] SELECT * FROM categorias WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-07 00:04:59] [DATABASE ERROR] Preparando query: SELECT * FROM fornecedores WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-07 00:04:59] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-07 00:04:59] [DATABASE ERROR] Debug PDO após binding: SQL: [47] SELECT * FROM fornecedores WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-07 00:04:59] [DATABASE ERROR] Preparando query: SELECT * FROM tipos_movimentacao com parâmetros: []
[2025-09-07 00:04:59] [DATABASE ERROR] Debug PDO após binding: SQL: [32] SELECT * FROM tipos_movimentacao
Params:  0

[2025-09-07 00:05:10] [DATABASE ERROR] Preparando query: 
            SELECT 
                p.id, 
                p.nome, 
                p.estoque_atual, 
                c.nome AS categoria, 
                f.razao_social AS fornecedor
            FROM produtos p
            LEFT JOIN categorias c ON p.categoria_id = c.id
            LEFT JOIN fornecedores f ON p.fornecedor_principal_id = f.id
            WHERE p.ativo = TRUE
                AND (:produto_id_null IS NULL OR p.id = :produto_id)
                AND (:categoria_id_null IS NULL OR p.categoria_id = :categoria_id)
                AND (:fornecedor_id_null IS NULL OR p.fornecedor_principal_id = :fornecedor_id)
            ORDER BY p.nome ASC;
         com parâmetros: {":produto_id_null":null,":produto_id":null,":categoria_id_null":null,":categoria_id":null,":fornecedor_id_null":null,":fornecedor_id":null}
[2025-09-07 00:05:10] [DATABASE ERROR] Parâmetro associado: :produto_id_null = NULL (tipo: 0)
[2025-09-07 00:05:10] [DATABASE ERROR] Parâmetro associado: :produto_id = NULL (tipo: 0)
[2025-09-07 00:05:10] [DATABASE ERROR] Parâmetro associado: :categoria_id_null = NULL (tipo: 0)
[2025-09-07 00:05:10] [DATABASE ERROR] Parâmetro associado: :categoria_id = NULL (tipo: 0)
[2025-09-07 00:05:10] [DATABASE ERROR] Parâmetro associado: :fornecedor_id_null = NULL (tipo: 0)
[2025-09-07 00:05:10] [DATABASE ERROR] Parâmetro associado: :fornecedor_id = NULL (tipo: 0)
[2025-09-07 00:05:10] [DATABASE ERROR] Debug PDO após binding: SQL: [684] 
            SELECT 
                p.id, 
                p.nome, 
                p.estoque_atual, 
                c.nome AS categoria, 
                f.razao_social AS fornecedor
            FROM produtos p
            LEFT JOIN categorias c ON p.categoria_id = c.id
            LEFT JOIN fornecedores f ON p.fornecedor_principal_id = f.id
            WHERE p.ativo = TRUE
                AND (:produto_id_null IS NULL OR p.id = :produto_id)
                AND (:categoria_id_null IS NULL OR p.categoria_id = :categoria_id)
                AND (:fornecedor_id_null IS NULL OR p.fornecedor_principal_id = :fornecedor_id)
            ORDER BY p.nome ASC;
        
Params:  6
Key: Name: [16] :produto_id_null
paramno=0
name=[16] ":produto_id_null"
is_param=1
param_type=0
Key: Name: [11] :produto_id
paramno=1
name=[11] ":produto_id"
is_param=1
param_type=0
Key: Name: [18] :categoria_id_null
paramno=2
name=[18] ":categoria_id_null"
is_param=1
param_type=0
Key: Name: [13] :categoria_id
paramno=3
name=[13] ":categoria_id"
is_param=1
param_type=0
Key: Name: [19] :fornecedor_id_null
paramno=4
name=[19] ":fornecedor_id_null"
is_param=1
param_type=0
Key: Name: [14] :fornecedor_id
paramno=5
name=[14] ":fornecedor_id"
is_param=1
param_type=0

[2025-09-07 00:05:10] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":3,":data_fim_a":"2025-09-30",":data_fim":"2025-09-30"}
[2025-09-07 00:05:10] [DATABASE ERROR] Parâmetro associado: :produto_id = 3 (tipo: 1)
[2025-09-07 00:05:10] [DATABASE ERROR] Parâmetro associado: :data_fim_a = 2025-09-30 (tipo: 2)
[2025-09-07 00:05:10] [DATABASE ERROR] Parâmetro associado: :data_fim = 2025-09-30 (tipo: 2)
[2025-09-07 00:05:10] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=2
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=2

[2025-09-07 00:05:10] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":3}
[2025-09-07 00:05:10] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-07 00:05:10] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-07 00:05:10] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":1,":data_fim_a":"2025-09-30",":data_fim":"2025-09-30"}
[2025-09-07 00:05:10] [DATABASE ERROR] Parâmetro associado: :produto_id = 1 (tipo: 1)
[2025-09-07 00:05:10] [DATABASE ERROR] Parâmetro associado: :data_fim_a = 2025-09-30 (tipo: 2)
[2025-09-07 00:05:10] [DATABASE ERROR] Parâmetro associado: :data_fim = 2025-09-30 (tipo: 2)
[2025-09-07 00:05:10] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=2
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=2

[2025-09-07 00:05:10] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":1}
[2025-09-07 00:05:10] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-09-07 00:05:10] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-07 00:05:10] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":2,":data_fim_a":"2025-09-30",":data_fim":"2025-09-30"}
[2025-09-07 00:05:10] [DATABASE ERROR] Parâmetro associado: :produto_id = 2 (tipo: 1)
[2025-09-07 00:05:10] [DATABASE ERROR] Parâmetro associado: :data_fim_a = 2025-09-30 (tipo: 2)
[2025-09-07 00:05:10] [DATABASE ERROR] Parâmetro associado: :data_fim = 2025-09-30 (tipo: 2)
[2025-09-07 00:05:10] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=2
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=2

[2025-09-07 00:05:10] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":2}
[2025-09-07 00:05:10] [DATABASE ERROR] Parâmetro associado: :id = 2 (tipo: 1)
[2025-09-07 00:05:10] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-07 00:05:41] [DATABASE ERROR] Preparando query: 
            SELECT 
                p.id, 
                p.nome, 
                p.estoque_atual, 
                c.nome AS categoria, 
                f.razao_social AS fornecedor
            FROM produtos p
            LEFT JOIN categorias c ON p.categoria_id = c.id
            LEFT JOIN fornecedores f ON p.fornecedor_principal_id = f.id
            WHERE p.ativo = TRUE
                AND (:produto_id_null IS NULL OR p.id = :produto_id)
                AND (:categoria_id_null IS NULL OR p.categoria_id = :categoria_id)
                AND (:fornecedor_id_null IS NULL OR p.fornecedor_principal_id = :fornecedor_id)
            ORDER BY p.nome ASC;
         com parâmetros: {":produto_id_null":null,":produto_id":null,":categoria_id_null":2,":categoria_id":2,":fornecedor_id_null":null,":fornecedor_id":null}
[2025-09-07 00:05:41] [DATABASE ERROR] Parâmetro associado: :produto_id_null = NULL (tipo: 0)
[2025-09-07 00:05:41] [DATABASE ERROR] Parâmetro associado: :produto_id = NULL (tipo: 0)
[2025-09-07 00:05:41] [DATABASE ERROR] Parâmetro associado: :categoria_id_null = 2 (tipo: 1)
[2025-09-07 00:05:41] [DATABASE ERROR] Parâmetro associado: :categoria_id = 2 (tipo: 1)
[2025-09-07 00:05:41] [DATABASE ERROR] Parâmetro associado: :fornecedor_id_null = NULL (tipo: 0)
[2025-09-07 00:05:41] [DATABASE ERROR] Parâmetro associado: :fornecedor_id = NULL (tipo: 0)
[2025-09-07 00:05:41] [DATABASE ERROR] Debug PDO após binding: SQL: [684] 
            SELECT 
                p.id, 
                p.nome, 
                p.estoque_atual, 
                c.nome AS categoria, 
                f.razao_social AS fornecedor
            FROM produtos p
            LEFT JOIN categorias c ON p.categoria_id = c.id
            LEFT JOIN fornecedores f ON p.fornecedor_principal_id = f.id
            WHERE p.ativo = TRUE
                AND (:produto_id_null IS NULL OR p.id = :produto_id)
                AND (:categoria_id_null IS NULL OR p.categoria_id = :categoria_id)
                AND (:fornecedor_id_null IS NULL OR p.fornecedor_principal_id = :fornecedor_id)
            ORDER BY p.nome ASC;
        
Params:  6
Key: Name: [16] :produto_id_null
paramno=0
name=[16] ":produto_id_null"
is_param=1
param_type=0
Key: Name: [11] :produto_id
paramno=1
name=[11] ":produto_id"
is_param=1
param_type=0
Key: Name: [18] :categoria_id_null
paramno=2
name=[18] ":categoria_id_null"
is_param=1
param_type=1
Key: Name: [13] :categoria_id
paramno=3
name=[13] ":categoria_id"
is_param=1
param_type=1
Key: Name: [19] :fornecedor_id_null
paramno=4
name=[19] ":fornecedor_id_null"
is_param=1
param_type=0
Key: Name: [14] :fornecedor_id
paramno=5
name=[14] ":fornecedor_id"
is_param=1
param_type=0

[2025-09-07 00:05:48] [DATABASE ERROR] Preparando query: 
            SELECT 
                p.id, 
                p.nome, 
                p.estoque_atual, 
                c.nome AS categoria, 
                f.razao_social AS fornecedor
            FROM produtos p
            LEFT JOIN categorias c ON p.categoria_id = c.id
            LEFT JOIN fornecedores f ON p.fornecedor_principal_id = f.id
            WHERE p.ativo = TRUE
                AND (:produto_id_null IS NULL OR p.id = :produto_id)
                AND (:categoria_id_null IS NULL OR p.categoria_id = :categoria_id)
                AND (:fornecedor_id_null IS NULL OR p.fornecedor_principal_id = :fornecedor_id)
            ORDER BY p.nome ASC;
         com parâmetros: {":produto_id_null":null,":produto_id":null,":categoria_id_null":null,":categoria_id":null,":fornecedor_id_null":null,":fornecedor_id":null}
[2025-09-07 00:05:48] [DATABASE ERROR] Parâmetro associado: :produto_id_null = NULL (tipo: 0)
[2025-09-07 00:05:48] [DATABASE ERROR] Parâmetro associado: :produto_id = NULL (tipo: 0)
[2025-09-07 00:05:48] [DATABASE ERROR] Parâmetro associado: :categoria_id_null = NULL (tipo: 0)
[2025-09-07 00:05:48] [DATABASE ERROR] Parâmetro associado: :categoria_id = NULL (tipo: 0)
[2025-09-07 00:05:48] [DATABASE ERROR] Parâmetro associado: :fornecedor_id_null = NULL (tipo: 0)
[2025-09-07 00:05:48] [DATABASE ERROR] Parâmetro associado: :fornecedor_id = NULL (tipo: 0)
[2025-09-07 00:05:48] [DATABASE ERROR] Debug PDO após binding: SQL: [684] 
            SELECT 
                p.id, 
                p.nome, 
                p.estoque_atual, 
                c.nome AS categoria, 
                f.razao_social AS fornecedor
            FROM produtos p
            LEFT JOIN categorias c ON p.categoria_id = c.id
            LEFT JOIN fornecedores f ON p.fornecedor_principal_id = f.id
            WHERE p.ativo = TRUE
                AND (:produto_id_null IS NULL OR p.id = :produto_id)
                AND (:categoria_id_null IS NULL OR p.categoria_id = :categoria_id)
                AND (:fornecedor_id_null IS NULL OR p.fornecedor_principal_id = :fornecedor_id)
            ORDER BY p.nome ASC;
        
Params:  6
Key: Name: [16] :produto_id_null
paramno=0
name=[16] ":produto_id_null"
is_param=1
param_type=0
Key: Name: [11] :produto_id
paramno=1
name=[11] ":produto_id"
is_param=1
param_type=0
Key: Name: [18] :categoria_id_null
paramno=2
name=[18] ":categoria_id_null"
is_param=1
param_type=0
Key: Name: [13] :categoria_id
paramno=3
name=[13] ":categoria_id"
is_param=1
param_type=0
Key: Name: [19] :fornecedor_id_null
paramno=4
name=[19] ":fornecedor_id_null"
is_param=1
param_type=0
Key: Name: [14] :fornecedor_id
paramno=5
name=[14] ":fornecedor_id"
is_param=1
param_type=0

[2025-09-07 00:05:48] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":3,":data_fim_a":"2025-09-30",":data_fim":"2025-09-30"}
[2025-09-07 00:05:48] [DATABASE ERROR] Parâmetro associado: :produto_id = 3 (tipo: 1)
[2025-09-07 00:05:48] [DATABASE ERROR] Parâmetro associado: :data_fim_a = 2025-09-30 (tipo: 2)
[2025-09-07 00:05:48] [DATABASE ERROR] Parâmetro associado: :data_fim = 2025-09-30 (tipo: 2)
[2025-09-07 00:05:48] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=2
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=2

[2025-09-07 00:05:48] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":3}
[2025-09-07 00:05:48] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-07 00:05:48] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-07 00:05:48] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":1,":data_fim_a":"2025-09-30",":data_fim":"2025-09-30"}
[2025-09-07 00:05:48] [DATABASE ERROR] Parâmetro associado: :produto_id = 1 (tipo: 1)
[2025-09-07 00:05:48] [DATABASE ERROR] Parâmetro associado: :data_fim_a = 2025-09-30 (tipo: 2)
[2025-09-07 00:05:48] [DATABASE ERROR] Parâmetro associado: :data_fim = 2025-09-30 (tipo: 2)
[2025-09-07 00:05:48] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=2
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=2

[2025-09-07 00:05:48] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":1}
[2025-09-07 00:05:48] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-09-07 00:05:48] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-07 00:05:48] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":2,":data_fim_a":"2025-09-30",":data_fim":"2025-09-30"}
[2025-09-07 00:05:48] [DATABASE ERROR] Parâmetro associado: :produto_id = 2 (tipo: 1)
[2025-09-07 00:05:48] [DATABASE ERROR] Parâmetro associado: :data_fim_a = 2025-09-30 (tipo: 2)
[2025-09-07 00:05:48] [DATABASE ERROR] Parâmetro associado: :data_fim = 2025-09-30 (tipo: 2)
[2025-09-07 00:05:48] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=2
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=2

[2025-09-07 00:05:48] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":2}
[2025-09-07 00:05:48] [DATABASE ERROR] Parâmetro associado: :id = 2 (tipo: 1)
[2025-09-07 00:05:48] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-07 00:06:14] [DATABASE ERROR] Preparando query: SELECT * FROM produtos WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-07 00:06:14] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-07 00:06:14] [DATABASE ERROR] Debug PDO após binding: SQL: [43] SELECT * FROM produtos WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-07 00:06:14] [DATABASE ERROR] Preparando query: SELECT * FROM categorias WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-07 00:06:14] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-07 00:06:14] [DATABASE ERROR] Debug PDO após binding: SQL: [45] SELECT * FROM categorias WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-07 00:06:14] [DATABASE ERROR] Preparando query: SELECT * FROM categorias WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-07 00:06:14] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-07 00:06:14] [DATABASE ERROR] Debug PDO após binding: SQL: [45] SELECT * FROM categorias WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-07 00:06:14] [DATABASE ERROR] Preparando query: SELECT * FROM unidades_medida com parâmetros: []
[2025-09-07 00:06:14] [DATABASE ERROR] Debug PDO após binding: SQL: [29] SELECT * FROM unidades_medida
Params:  0

[2025-09-07 00:06:14] [DATABASE ERROR] Preparando query: SELECT * FROM fornecedores WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-07 00:06:14] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-07 00:06:14] [DATABASE ERROR] Debug PDO após binding: SQL: [47] SELECT * FROM fornecedores WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-07 00:06:14] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-07 00:06:14] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-07 00:06:14] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-07 00:06:19] [DATABASE ERROR] Preparando query: SELECT * FROM produtos WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-07 00:06:19] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-07 00:06:19] [DATABASE ERROR] Debug PDO após binding: SQL: [43] SELECT * FROM produtos WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-07 00:07:55] [DATABASE ERROR] Preparando query: SELECT * FROM produtos WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-07 00:07:55] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-07 00:07:55] [DATABASE ERROR] Debug PDO após binding: SQL: [43] SELECT * FROM produtos WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-07 00:07:55] [DATABASE ERROR] Preparando query: SELECT * FROM categorias WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-07 00:07:55] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-07 00:07:55] [DATABASE ERROR] Debug PDO após binding: SQL: [45] SELECT * FROM categorias WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-07 00:07:55] [DATABASE ERROR] Preparando query: SELECT * FROM categorias WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-07 00:07:55] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-07 00:07:55] [DATABASE ERROR] Debug PDO após binding: SQL: [45] SELECT * FROM categorias WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-07 00:07:55] [DATABASE ERROR] Preparando query: SELECT * FROM unidades_medida com parâmetros: []
[2025-09-07 00:07:55] [DATABASE ERROR] Debug PDO após binding: SQL: [29] SELECT * FROM unidades_medida
Params:  0

[2025-09-07 00:07:55] [DATABASE ERROR] Preparando query: SELECT * FROM fornecedores WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-07 00:07:55] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-07 00:07:55] [DATABASE ERROR] Debug PDO após binding: SQL: [47] SELECT * FROM fornecedores WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-07 00:07:55] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-07 00:07:55] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-07 00:07:55] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-07 00:10:15] [DATABASE ERROR] Preparando query: SELECT * FROM produtos WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-07 00:10:15] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-07 00:10:15] [DATABASE ERROR] Debug PDO após binding: SQL: [43] SELECT * FROM produtos WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-07 00:10:15] [DATABASE ERROR] Preparando query: SELECT * FROM categorias WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-07 00:10:15] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-07 00:10:15] [DATABASE ERROR] Debug PDO após binding: SQL: [45] SELECT * FROM categorias WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-07 00:10:15] [DATABASE ERROR] Preparando query: SELECT * FROM categorias WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-07 00:10:15] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-07 00:10:15] [DATABASE ERROR] Debug PDO após binding: SQL: [45] SELECT * FROM categorias WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-07 00:10:15] [DATABASE ERROR] Preparando query: SELECT * FROM unidades_medida com parâmetros: []
[2025-09-07 00:10:15] [DATABASE ERROR] Debug PDO após binding: SQL: [29] SELECT * FROM unidades_medida
Params:  0

[2025-09-07 00:10:15] [DATABASE ERROR] Preparando query: SELECT * FROM fornecedores WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-07 00:10:15] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-07 00:10:15] [DATABASE ERROR] Debug PDO após binding: SQL: [47] SELECT * FROM fornecedores WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-07 00:10:15] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-07 00:10:15] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-07 00:10:15] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-07 00:11:20] [DATABASE ERROR] Preparando query: SELECT * FROM produtos WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-07 00:11:20] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-07 00:11:20] [DATABASE ERROR] Debug PDO após binding: SQL: [43] SELECT * FROM produtos WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-07 00:11:20] [DATABASE ERROR] Preparando query: SELECT * FROM categorias WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-07 00:11:20] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-07 00:11:20] [DATABASE ERROR] Debug PDO após binding: SQL: [45] SELECT * FROM categorias WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-07 00:11:20] [DATABASE ERROR] Preparando query: SELECT * FROM categorias WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-07 00:11:20] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-07 00:11:20] [DATABASE ERROR] Debug PDO após binding: SQL: [45] SELECT * FROM categorias WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-07 00:11:20] [DATABASE ERROR] Preparando query: SELECT * FROM unidades_medida com parâmetros: []
[2025-09-07 00:11:20] [DATABASE ERROR] Debug PDO após binding: SQL: [29] SELECT * FROM unidades_medida
Params:  0

[2025-09-07 00:11:20] [DATABASE ERROR] Preparando query: SELECT * FROM fornecedores WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-07 00:11:20] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-07 00:11:20] [DATABASE ERROR] Debug PDO após binding: SQL: [47] SELECT * FROM fornecedores WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-07 00:11:20] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-07 00:11:20] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-07 00:11:20] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-07 00:11:27] [DATABASE ERROR] Preparando query: SELECT * FROM produtos WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-07 00:11:27] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-07 00:11:27] [DATABASE ERROR] Debug PDO após binding: SQL: [43] SELECT * FROM produtos WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-07 00:11:27] [DATABASE ERROR] Preparando query: SELECT * FROM categorias WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-07 00:11:27] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-07 00:11:27] [DATABASE ERROR] Debug PDO após binding: SQL: [45] SELECT * FROM categorias WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-07 00:11:27] [DATABASE ERROR] Preparando query: SELECT * FROM categorias WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-07 00:11:27] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-07 00:11:27] [DATABASE ERROR] Debug PDO após binding: SQL: [45] SELECT * FROM categorias WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-07 00:11:27] [DATABASE ERROR] Preparando query: SELECT * FROM unidades_medida com parâmetros: []
[2025-09-07 00:11:27] [DATABASE ERROR] Debug PDO após binding: SQL: [29] SELECT * FROM unidades_medida
Params:  0

[2025-09-07 00:11:27] [DATABASE ERROR] Preparando query: SELECT * FROM fornecedores WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-07 00:11:27] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-07 00:11:27] [DATABASE ERROR] Debug PDO após binding: SQL: [47] SELECT * FROM fornecedores WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-07 00:11:27] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-07 00:11:27] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-07 00:11:27] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-07 00:14:51] [DATABASE ERROR] Preparando query: SELECT * FROM produtos WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-07 00:14:51] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-07 00:14:51] [DATABASE ERROR] Debug PDO após binding: SQL: [43] SELECT * FROM produtos WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-07 00:14:51] [DATABASE ERROR] Preparando query: SELECT * FROM categorias WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-07 00:14:51] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-07 00:14:51] [DATABASE ERROR] Debug PDO após binding: SQL: [45] SELECT * FROM categorias WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-07 00:14:51] [DATABASE ERROR] Preparando query: SELECT * FROM categorias WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-07 00:14:51] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-07 00:14:51] [DATABASE ERROR] Debug PDO após binding: SQL: [45] SELECT * FROM categorias WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-07 00:14:51] [DATABASE ERROR] Preparando query: SELECT * FROM unidades_medida com parâmetros: []
[2025-09-07 00:14:51] [DATABASE ERROR] Debug PDO após binding: SQL: [29] SELECT * FROM unidades_medida
Params:  0

[2025-09-07 00:14:51] [DATABASE ERROR] Preparando query: SELECT * FROM fornecedores WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-07 00:14:51] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-07 00:14:51] [DATABASE ERROR] Debug PDO após binding: SQL: [47] SELECT * FROM fornecedores WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-07 00:14:51] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-07 00:14:51] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-07 00:14:51] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-07 00:17:16] [DATABASE ERROR] Preparando query: SELECT * FROM produtos WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-07 00:17:16] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-07 00:17:16] [DATABASE ERROR] Debug PDO após binding: SQL: [43] SELECT * FROM produtos WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-07 00:17:16] [DATABASE ERROR] Preparando query: SELECT * FROM categorias WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-07 00:17:16] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-07 00:17:16] [DATABASE ERROR] Debug PDO após binding: SQL: [45] SELECT * FROM categorias WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-07 00:17:16] [DATABASE ERROR] Preparando query: SELECT * FROM categorias WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-07 00:17:16] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-07 00:17:16] [DATABASE ERROR] Debug PDO após binding: SQL: [45] SELECT * FROM categorias WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-07 00:17:16] [DATABASE ERROR] Preparando query: SELECT * FROM unidades_medida com parâmetros: []
[2025-09-07 00:17:16] [DATABASE ERROR] Debug PDO após binding: SQL: [29] SELECT * FROM unidades_medida
Params:  0

[2025-09-07 00:17:16] [DATABASE ERROR] Preparando query: SELECT * FROM fornecedores WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-07 00:17:16] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-07 00:17:16] [DATABASE ERROR] Debug PDO após binding: SQL: [47] SELECT * FROM fornecedores WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-07 00:17:16] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-07 00:17:16] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-07 00:17:16] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-07 00:21:50] [DATABASE ERROR] Preparando query: SELECT * FROM produtos WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-07 00:21:50] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-07 00:21:50] [DATABASE ERROR] Debug PDO após binding: SQL: [43] SELECT * FROM produtos WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-07 00:21:50] [DATABASE ERROR] Preparando query: SELECT * FROM categorias WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-07 00:21:50] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-07 00:21:50] [DATABASE ERROR] Debug PDO após binding: SQL: [45] SELECT * FROM categorias WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-07 00:21:50] [DATABASE ERROR] Preparando query: SELECT * FROM categorias WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-07 00:21:50] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-07 00:21:50] [DATABASE ERROR] Debug PDO após binding: SQL: [45] SELECT * FROM categorias WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-07 00:21:50] [DATABASE ERROR] Preparando query: SELECT * FROM unidades_medida com parâmetros: []
[2025-09-07 00:21:50] [DATABASE ERROR] Debug PDO após binding: SQL: [29] SELECT * FROM unidades_medida
Params:  0

[2025-09-07 00:21:50] [DATABASE ERROR] Preparando query: SELECT * FROM fornecedores WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-07 00:21:50] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-07 00:21:50] [DATABASE ERROR] Debug PDO após binding: SQL: [47] SELECT * FROM fornecedores WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-07 00:21:50] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-07 00:21:50] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-07 00:21:50] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-07 00:21:53] [DATABASE ERROR] Preparando query: SELECT * FROM produtos WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-07 00:21:53] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-07 00:21:53] [DATABASE ERROR] Debug PDO após binding: SQL: [43] SELECT * FROM produtos WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-07 00:21:53] [DATABASE ERROR] Preparando query: SELECT * FROM categorias WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-07 00:21:53] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-07 00:21:53] [DATABASE ERROR] Debug PDO após binding: SQL: [45] SELECT * FROM categorias WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-07 00:21:53] [DATABASE ERROR] Preparando query: SELECT * FROM categorias WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-07 00:21:53] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-07 00:21:53] [DATABASE ERROR] Debug PDO após binding: SQL: [45] SELECT * FROM categorias WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-07 00:21:53] [DATABASE ERROR] Preparando query: SELECT * FROM unidades_medida com parâmetros: []
[2025-09-07 00:21:53] [DATABASE ERROR] Debug PDO após binding: SQL: [29] SELECT * FROM unidades_medida
Params:  0

[2025-09-07 00:21:53] [DATABASE ERROR] Preparando query: SELECT * FROM fornecedores WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-07 00:21:53] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-07 00:21:53] [DATABASE ERROR] Debug PDO após binding: SQL: [47] SELECT * FROM fornecedores WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-07 00:21:53] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-07 00:21:53] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-07 00:21:53] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-07 00:22:47] [DATABASE ERROR] Preparando query: SELECT * FROM produtos WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-07 00:22:47] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-07 00:22:47] [DATABASE ERROR] Debug PDO após binding: SQL: [43] SELECT * FROM produtos WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-07 00:22:47] [DATABASE ERROR] Preparando query: SELECT * FROM categorias WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-07 00:22:47] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-07 00:22:47] [DATABASE ERROR] Debug PDO após binding: SQL: [45] SELECT * FROM categorias WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-07 00:22:47] [DATABASE ERROR] Preparando query: SELECT * FROM categorias WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-07 00:22:47] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-07 00:22:47] [DATABASE ERROR] Debug PDO após binding: SQL: [45] SELECT * FROM categorias WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-07 00:22:47] [DATABASE ERROR] Preparando query: SELECT * FROM unidades_medida com parâmetros: []
[2025-09-07 00:22:47] [DATABASE ERROR] Debug PDO após binding: SQL: [29] SELECT * FROM unidades_medida
Params:  0

[2025-09-07 00:22:47] [DATABASE ERROR] Preparando query: SELECT * FROM fornecedores WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-07 00:22:47] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-07 00:22:47] [DATABASE ERROR] Debug PDO após binding: SQL: [47] SELECT * FROM fornecedores WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-07 00:22:47] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-07 00:22:47] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-07 00:22:47] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-07 00:30:53] [DATABASE ERROR] Preparando query: SELECT * FROM produtos WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-07 00:30:53] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-07 00:30:53] [DATABASE ERROR] Debug PDO após binding: SQL: [43] SELECT * FROM produtos WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-07 00:30:53] [DATABASE ERROR] Preparando query: SELECT * FROM categorias WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-07 00:30:53] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-07 00:30:53] [DATABASE ERROR] Debug PDO após binding: SQL: [45] SELECT * FROM categorias WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-07 00:30:53] [DATABASE ERROR] Preparando query: SELECT * FROM categorias WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-07 00:30:53] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-07 00:30:53] [DATABASE ERROR] Debug PDO após binding: SQL: [45] SELECT * FROM categorias WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-07 00:30:53] [DATABASE ERROR] Preparando query: SELECT * FROM unidades_medida com parâmetros: []
[2025-09-07 00:30:53] [DATABASE ERROR] Debug PDO após binding: SQL: [29] SELECT * FROM unidades_medida
Params:  0

[2025-09-07 00:30:53] [DATABASE ERROR] Preparando query: SELECT * FROM fornecedores WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-07 00:30:53] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-07 00:30:53] [DATABASE ERROR] Debug PDO após binding: SQL: [47] SELECT * FROM fornecedores WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-07 00:30:53] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-07 00:30:53] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-07 00:30:53] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-07 00:32:26] [DATABASE ERROR] Preparando query: SELECT * FROM produtos WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-07 00:32:26] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-07 00:32:26] [DATABASE ERROR] Debug PDO após binding: SQL: [43] SELECT * FROM produtos WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-07 00:32:26] [DATABASE ERROR] Preparando query: SELECT * FROM categorias WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-07 00:32:26] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-07 00:32:26] [DATABASE ERROR] Debug PDO após binding: SQL: [45] SELECT * FROM categorias WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-07 00:32:26] [DATABASE ERROR] Preparando query: SELECT * FROM categorias WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-07 00:32:26] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-07 00:32:26] [DATABASE ERROR] Debug PDO após binding: SQL: [45] SELECT * FROM categorias WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-07 00:32:26] [DATABASE ERROR] Preparando query: SELECT * FROM unidades_medida com parâmetros: []
[2025-09-07 00:32:26] [DATABASE ERROR] Debug PDO após binding: SQL: [29] SELECT * FROM unidades_medida
Params:  0

[2025-09-07 00:32:26] [DATABASE ERROR] Preparando query: SELECT * FROM fornecedores WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-07 00:32:26] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-07 00:32:26] [DATABASE ERROR] Debug PDO após binding: SQL: [47] SELECT * FROM fornecedores WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-07 00:32:26] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-07 00:32:26] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-07 00:32:26] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-07 00:32:39] [DATABASE ERROR] Preparando query: SELECT u.id, u.nome_completo, u.email, u.usuario, 
                       u.ativo, u.ultimo_acesso, u.criado_em,
                       p.nome as perfil_nome 
                FROM usuarios u 
                JOIN perfis p ON u.perfil_id = p.id ORDER BY u.nome_completo com parâmetros: []
[2025-09-07 00:32:39] [DATABASE ERROR] Debug PDO após binding: SQL: [268] SELECT u.id, u.nome_completo, u.email, u.usuario, 
                       u.ativo, u.ultimo_acesso, u.criado_em,
                       p.nome as perfil_nome 
                FROM usuarios u 
                JOIN perfis p ON u.perfil_id = p.id ORDER BY u.nome_completo
Params:  0

[2025-09-07 00:32:45] [DATABASE ERROR] Parâmetro associado: :user_id = 1 (tipo: 1)
[2025-09-07 00:35:25] [DATABASE ERROR] Parâmetro associado: :tabela = usuarios (tipo: 2)
[2025-09-07 00:35:25] [DATABASE ERROR] Parâmetro associado: :registro_id = NULL (tipo: 0)
[2025-09-07 00:35:25] [DATABASE ERROR] Parâmetro associado: :acao = LOGOUT (tipo: 2)
[2025-09-07 00:35:25] [DATABASE ERROR] Parâmetro associado: :dados_anteriores = NULL (tipo: 0)
[2025-09-07 00:35:25] [DATABASE ERROR] Parâmetro associado: :dados_novos = NULL (tipo: 0)
[2025-09-07 00:35:25] [DATABASE ERROR] Parâmetro associado: :usuario_id = NULL (tipo: 0)
[2025-09-07 00:35:25] [DATABASE ERROR] Parâmetro associado: :ip_address = ::1 (tipo: 2)
[2025-09-07 00:35:25] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36 Edg/139.0.0.0 (tipo: 2)
[2025-09-07 00:35:25] [DATABASE ERROR] Erro ao executar query: SQLSTATE[23000]: Integrity constraint violation: 1048 Column 'registro_id' cannot be null
[2025-09-07 00:35:25] [DATABASE ERROR] Parâmetro associado: :tabela = usuarios (tipo: 2)
[2025-09-07 00:35:25] [DATABASE ERROR] Parâmetro associado: :registro_id = NULL (tipo: 0)
[2025-09-07 00:35:25] [DATABASE ERROR] Parâmetro associado: :acao = LOGOUT (tipo: 2)
[2025-09-07 00:35:25] [DATABASE ERROR] Parâmetro associado: :dados_anteriores = NULL (tipo: 0)
[2025-09-07 00:35:25] [DATABASE ERROR] Parâmetro associado: :dados_novos = NULL (tipo: 0)
[2025-09-07 00:35:25] [DATABASE ERROR] Parâmetro associado: :usuario_id = NULL (tipo: 0)
[2025-09-07 00:35:25] [DATABASE ERROR] Parâmetro associado: :ip_address = ::1 (tipo: 2)
[2025-09-07 00:35:25] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36 Edg/139.0.0.0 (tipo: 2)
[2025-09-07 00:35:25] [DATABASE ERROR] Erro ao executar query: SQLSTATE[23000]: Integrity constraint violation: 1048 Column 'registro_id' cannot be null
[2025-09-07 00:35:31] [DATABASE ERROR] Parâmetro associado: :username = admin (tipo: 2)
[2025-09-07 00:35:31] [DATABASE ERROR] Parâmetro associado: :email = admin (tipo: 2)
[2025-09-07 00:35:32] [DATABASE ERROR] Preparando query: UPDATE usuarios SET ultimo_acesso = NOW() WHERE id = :id com parâmetros: {":id":1}
[2025-09-07 00:35:32] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-09-07 00:35:32] [DATABASE ERROR] Debug PDO após binding: SQL: [56] UPDATE usuarios SET ultimo_acesso = NOW() WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-07 00:35:32] [DATABASE ERROR] Parâmetro associado: :tabela = usuarios (tipo: 2)
[2025-09-07 00:35:32] [DATABASE ERROR] Parâmetro associado: :registro_id = 1 (tipo: 1)
[2025-09-07 00:35:32] [DATABASE ERROR] Parâmetro associado: :acao = LOGIN (tipo: 2)
[2025-09-07 00:35:32] [DATABASE ERROR] Parâmetro associado: :dados_anteriores = NULL (tipo: 0)
[2025-09-07 00:35:32] [DATABASE ERROR] Parâmetro associado: :dados_novos = NULL (tipo: 0)
[2025-09-07 00:35:32] [DATABASE ERROR] Parâmetro associado: :usuario_id = NULL (tipo: 0)
[2025-09-07 00:35:32] [DATABASE ERROR] Parâmetro associado: :ip_address = ::1 (tipo: 2)
[2025-09-07 00:35:32] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36 Edg/139.0.0.0 (tipo: 2)
[2025-09-07 00:35:32] [DATABASE ERROR] Parâmetro associado: :id = i85lhva61fl6una4eh3bsg4hhl (tipo: 2)
[2025-09-07 00:35:32] [DATABASE ERROR] Parâmetro associado: :id = i85lhva61fl6una4eh3bsg4hhl (tipo: 2)
[2025-09-07 00:35:32] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-09-07 00:35:32] [DATABASE ERROR] Parâmetro associado: :ip_address = ::1 (tipo: 2)
[2025-09-07 00:35:32] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36 Edg/139.0.0.0 (tipo: 2)
[2025-09-07 00:35:32] [DATABASE ERROR] Parâmetro associado: :dados = {"user_id":1,"user_name":"Administrador do Sistema","user_email":"flavioafj@yahoo.com.br","user_profile":1,"user_profile_name":"Administrador","logged_in":true,"login_time":1757216132} (tipo: 2)
[2025-09-07 00:35:32] [DATABASE ERROR] Preparando query: SELECT id, tipo, categoria, documento_numero, data_movimentacao, valor_total, fornecedor, usuario 
                    FROM vw_movimentacoes_recentes 
                    ORDER BY data_movimentacao DESC 
                    LIMIT 10 com parâmetros: []
[2025-09-07 00:35:32] [DATABASE ERROR] Debug PDO após binding: SQL: [235] SELECT id, tipo, categoria, documento_numero, data_movimentacao, valor_total, fornecedor, usuario 
                    FROM vw_movimentacoes_recentes 
                    ORDER BY data_movimentacao DESC 
                    LIMIT 10
Params:  0

[2025-09-07 00:35:39] [DATABASE ERROR] Preparando query: SELECT SUM(estoque_atual) as total_estoque FROM produtos WHERE ativo = TRUE com parâmetros: []
[2025-09-07 00:35:39] [DATABASE ERROR] Debug PDO após binding: SQL: [75] SELECT SUM(estoque_atual) as total_estoque FROM produtos WHERE ativo = TRUE
Params:  0

[2025-09-07 00:35:39] [DATABASE ERROR] Preparando query: SELECT id FROM produtos WHERE ativo = TRUE com parâmetros: []
[2025-09-07 00:35:39] [DATABASE ERROR] Debug PDO após binding: SQL: [42] SELECT id FROM produtos WHERE ativo = TRUE
Params:  0

[2025-09-07 00:35:39] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":1,":data_fim_a":null,":data_fim":null}
[2025-09-07 00:35:39] [DATABASE ERROR] Parâmetro associado: :produto_id = 1 (tipo: 1)
[2025-09-07 00:35:39] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-09-07 00:35:39] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-09-07 00:35:39] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-09-07 00:35:39] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":1}
[2025-09-07 00:35:39] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-09-07 00:35:39] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-07 00:35:39] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":2,":data_fim_a":null,":data_fim":null}
[2025-09-07 00:35:39] [DATABASE ERROR] Parâmetro associado: :produto_id = 2 (tipo: 1)
[2025-09-07 00:35:39] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-09-07 00:35:39] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-09-07 00:35:39] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-09-07 00:35:39] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":2}
[2025-09-07 00:35:39] [DATABASE ERROR] Parâmetro associado: :id = 2 (tipo: 1)
[2025-09-07 00:35:39] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-07 00:35:39] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":3,":data_fim_a":null,":data_fim":null}
[2025-09-07 00:35:39] [DATABASE ERROR] Parâmetro associado: :produto_id = 3 (tipo: 1)
[2025-09-07 00:35:39] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-09-07 00:35:39] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-09-07 00:35:39] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-09-07 00:35:39] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":3}
[2025-09-07 00:35:39] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-07 00:35:39] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-07 00:35:39] [DATABASE ERROR] Preparando query: SELECT id, codigo, nome, estoque_atual, estoque_minimo, categoria, fornecedor 
                    FROM vw_produtos_estoque_critico 
                    ORDER BY estoque_atual ASC 
                    LIMIT 10 com parâmetros: []
[2025-09-07 00:35:39] [DATABASE ERROR] Debug PDO após binding: SQL: [212] SELECT id, codigo, nome, estoque_atual, estoque_minimo, categoria, fornecedor 
                    FROM vw_produtos_estoque_critico 
                    ORDER BY estoque_atual ASC 
                    LIMIT 10
Params:  0

[2025-09-07 00:35:39] [DATABASE ERROR] Preparando query: 
                SELECT 
                    DATE_FORMAT(m.data_movimentacao, '%Y-%m') as periodo,
                    tm.tipo,
                    SUM(mi.quantidade) as total_quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                WHERE m.status = 'PROCESSADO'
                    AND m.data_movimentacao >= DATE_SUB(CURDATE(), INTERVAL 6 MONTH)
                GROUP BY periodo, tm.tipo
                ORDER BY periodo ASC com parâmetros: []
[2025-09-07 00:35:39] [DATABASE ERROR] Debug PDO após binding: SQL: [593] 
                SELECT 
                    DATE_FORMAT(m.data_movimentacao, '%Y-%m') as periodo,
                    tm.tipo,
                    SUM(mi.quantidade) as total_quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                WHERE m.status = 'PROCESSADO'
                    AND m.data_movimentacao >= DATE_SUB(CURDATE(), INTERVAL 6 MONTH)
                GROUP BY periodo, tm.tipo
                ORDER BY periodo ASC
Params:  0

[2025-09-07 00:35:39] [DATABASE ERROR] Preparando query: SELECT u.id, u.nome_completo, u.email, u.usuario, 
                       u.ativo, u.ultimo_acesso, u.criado_em,
                       p.nome as perfil_nome 
                FROM usuarios u 
                JOIN perfis p ON u.perfil_id = p.id ORDER BY u.nome_completo com parâmetros: []
[2025-09-07 00:35:39] [DATABASE ERROR] Debug PDO após binding: SQL: [268] SELECT u.id, u.nome_completo, u.email, u.usuario, 
                       u.ativo, u.ultimo_acesso, u.criado_em,
                       p.nome as perfil_nome 
                FROM usuarios u 
                JOIN perfis p ON u.perfil_id = p.id ORDER BY u.nome_completo
Params:  0

[2025-09-07 00:35:41] [DATABASE ERROR] Preparando query: SELECT 
                    a.id, a.tabela, a.registro_id, a.acao, a.dados_anteriores, a.dados_novos,
                    u.nome_completo AS usuario, a.ip_address, a.user_agent, a.criado_em
                FROM auditoria a
                LEFT JOIN usuarios u ON a.usuario_id = u.id
                WHERE 1=1 ORDER BY a.criado_em DESC LIMIT 100 com parâmetros: []
[2025-09-07 00:35:41] [DATABASE ERROR] Debug PDO após binding: SQL: [349] SELECT 
                    a.id, a.tabela, a.registro_id, a.acao, a.dados_anteriores, a.dados_novos,
                    u.nome_completo AS usuario, a.ip_address, a.user_agent, a.criado_em
                FROM auditoria a
                LEFT JOIN usuarios u ON a.usuario_id = u.id
                WHERE 1=1 ORDER BY a.criado_em DESC LIMIT 100
Params:  0

[2025-09-07 00:35:52] [DATABASE ERROR] Preparando query: SELECT 
                    a.id, a.tabela, a.registro_id, a.acao, a.dados_anteriores, a.dados_novos,
                    u.nome_completo AS usuario, a.ip_address, a.user_agent, a.criado_em
                FROM auditoria a
                LEFT JOIN usuarios u ON a.usuario_id = u.id
                WHERE 1=1 AND a.tabela = :tabela AND a.criado_em >= :data_inicio AND a.criado_em <= :data_fim ORDER BY a.criado_em DESC LIMIT 100 com parâmetros: {":tabela":"produtos",":data_inicio":"2025-09-01",":data_fim":"2025-09-07"}
[2025-09-07 00:35:52] [DATABASE ERROR] Parâmetro associado: :tabela = produtos (tipo: 2)
[2025-09-07 00:35:52] [DATABASE ERROR] Parâmetro associado: :data_inicio = 2025-09-01 (tipo: 2)
[2025-09-07 00:35:52] [DATABASE ERROR] Parâmetro associado: :data_fim = 2025-09-07 (tipo: 2)
[2025-09-07 00:35:52] [DATABASE ERROR] Debug PDO após binding: SQL: [433] SELECT 
                    a.id, a.tabela, a.registro_id, a.acao, a.dados_anteriores, a.dados_novos,
                    u.nome_completo AS usuario, a.ip_address, a.user_agent, a.criado_em
                FROM auditoria a
                LEFT JOIN usuarios u ON a.usuario_id = u.id
                WHERE 1=1 AND a.tabela = :tabela AND a.criado_em >= :data_inicio AND a.criado_em <= :data_fim ORDER BY a.criado_em DESC LIMIT 100
Params:  3
Key: Name: [7] :tabela
paramno=0
name=[7] ":tabela"
is_param=1
param_type=2
Key: Name: [12] :data_inicio
paramno=1
name=[12] ":data_inicio"
is_param=1
param_type=2
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=2

[2025-09-07 00:37:16] [DATABASE ERROR] Preparando query: SELECT 
                    a.id, a.tabela, a.registro_id, a.acao, a.dados_anteriores, a.dados_novos,
                    u.nome_completo AS usuario, a.ip_address, a.user_agent, a.criado_em
                FROM auditoria a
                LEFT JOIN usuarios u ON a.usuario_id = u.id
                WHERE 1=1 AND a.tabela = :tabela AND a.acao = :acao AND a.criado_em >= :data_inicio AND a.criado_em <= :data_fim ORDER BY a.criado_em DESC LIMIT 100 com parâmetros: {":tabela":"produtos",":acao":"LOGIN",":data_inicio":"2025-09-01",":data_fim":"2025-09-07"}
[2025-09-07 00:37:16] [DATABASE ERROR] Parâmetro associado: :tabela = produtos (tipo: 2)
[2025-09-07 00:37:16] [DATABASE ERROR] Parâmetro associado: :acao = LOGIN (tipo: 2)
[2025-09-07 00:37:16] [DATABASE ERROR] Parâmetro associado: :data_inicio = 2025-09-01 (tipo: 2)
[2025-09-07 00:37:16] [DATABASE ERROR] Parâmetro associado: :data_fim = 2025-09-07 (tipo: 2)
[2025-09-07 00:37:16] [DATABASE ERROR] Debug PDO após binding: SQL: [452] SELECT 
                    a.id, a.tabela, a.registro_id, a.acao, a.dados_anteriores, a.dados_novos,
                    u.nome_completo AS usuario, a.ip_address, a.user_agent, a.criado_em
                FROM auditoria a
                LEFT JOIN usuarios u ON a.usuario_id = u.id
                WHERE 1=1 AND a.tabela = :tabela AND a.acao = :acao AND a.criado_em >= :data_inicio AND a.criado_em <= :data_fim ORDER BY a.criado_em DESC LIMIT 100
Params:  4
Key: Name: [7] :tabela
paramno=0
name=[7] ":tabela"
is_param=1
param_type=2
Key: Name: [5] :acao
paramno=1
name=[5] ":acao"
is_param=1
param_type=2
Key: Name: [12] :data_inicio
paramno=2
name=[12] ":data_inicio"
is_param=1
param_type=2
Key: Name: [9] :data_fim
paramno=3
name=[9] ":data_fim"
is_param=1
param_type=2

[2025-09-07 00:37:24] [DATABASE ERROR] Preparando query: SELECT 
                    a.id, a.tabela, a.registro_id, a.acao, a.dados_anteriores, a.dados_novos,
                    u.nome_completo AS usuario, a.ip_address, a.user_agent, a.criado_em
                FROM auditoria a
                LEFT JOIN usuarios u ON a.usuario_id = u.id
                WHERE 1=1 AND a.acao = :acao AND a.criado_em >= :data_inicio AND a.criado_em <= :data_fim ORDER BY a.criado_em DESC LIMIT 100 com parâmetros: {":acao":"LOGIN",":data_inicio":"2025-09-01",":data_fim":"2025-09-07"}
[2025-09-07 00:37:24] [DATABASE ERROR] Parâmetro associado: :acao = LOGIN (tipo: 2)
[2025-09-07 00:37:24] [DATABASE ERROR] Parâmetro associado: :data_inicio = 2025-09-01 (tipo: 2)
[2025-09-07 00:37:24] [DATABASE ERROR] Parâmetro associado: :data_fim = 2025-09-07 (tipo: 2)
[2025-09-07 00:37:24] [DATABASE ERROR] Debug PDO após binding: SQL: [429] SELECT 
                    a.id, a.tabela, a.registro_id, a.acao, a.dados_anteriores, a.dados_novos,
                    u.nome_completo AS usuario, a.ip_address, a.user_agent, a.criado_em
                FROM auditoria a
                LEFT JOIN usuarios u ON a.usuario_id = u.id
                WHERE 1=1 AND a.acao = :acao AND a.criado_em >= :data_inicio AND a.criado_em <= :data_fim ORDER BY a.criado_em DESC LIMIT 100
Params:  3
Key: Name: [5] :acao
paramno=0
name=[5] ":acao"
is_param=1
param_type=2
Key: Name: [12] :data_inicio
paramno=1
name=[12] ":data_inicio"
is_param=1
param_type=2
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=2

[2025-09-07 00:37:28] [DATABASE ERROR] Preparando query: SELECT 
                    a.id, a.tabela, a.registro_id, a.acao, a.dados_anteriores, a.dados_novos,
                    u.nome_completo AS usuario, a.ip_address, a.user_agent, a.criado_em
                FROM auditoria a
                LEFT JOIN usuarios u ON a.usuario_id = u.id
                WHERE 1=1 AND a.acao = :acao AND a.criado_em >= :data_inicio AND a.criado_em <= :data_fim ORDER BY a.criado_em DESC LIMIT 100 com parâmetros: {":acao":"LOGIN",":data_inicio":"2025-09-01",":data_fim":"2025-09-07"}
[2025-09-07 00:37:28] [DATABASE ERROR] Parâmetro associado: :acao = LOGIN (tipo: 2)
[2025-09-07 00:37:28] [DATABASE ERROR] Parâmetro associado: :data_inicio = 2025-09-01 (tipo: 2)
[2025-09-07 00:37:28] [DATABASE ERROR] Parâmetro associado: :data_fim = 2025-09-07 (tipo: 2)
[2025-09-07 00:37:28] [DATABASE ERROR] Debug PDO após binding: SQL: [429] SELECT 
                    a.id, a.tabela, a.registro_id, a.acao, a.dados_anteriores, a.dados_novos,
                    u.nome_completo AS usuario, a.ip_address, a.user_agent, a.criado_em
                FROM auditoria a
                LEFT JOIN usuarios u ON a.usuario_id = u.id
                WHERE 1=1 AND a.acao = :acao AND a.criado_em >= :data_inicio AND a.criado_em <= :data_fim ORDER BY a.criado_em DESC LIMIT 100
Params:  3
Key: Name: [5] :acao
paramno=0
name=[5] ":acao"
is_param=1
param_type=2
Key: Name: [12] :data_inicio
paramno=1
name=[12] ":data_inicio"
is_param=1
param_type=2
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=2

[2025-09-07 00:37:31] [DATABASE ERROR] Preparando query: SELECT 
                    a.id, a.tabela, a.registro_id, a.acao, a.dados_anteriores, a.dados_novos,
                    u.nome_completo AS usuario, a.ip_address, a.user_agent, a.criado_em
                FROM auditoria a
                LEFT JOIN usuarios u ON a.usuario_id = u.id
                WHERE 1=1 AND a.criado_em >= :data_inicio AND a.criado_em <= :data_fim ORDER BY a.criado_em DESC LIMIT 100 com parâmetros: {":data_inicio":"2025-09-01",":data_fim":"2025-09-07"}
[2025-09-07 00:37:31] [DATABASE ERROR] Parâmetro associado: :data_inicio = 2025-09-01 (tipo: 2)
[2025-09-07 00:37:31] [DATABASE ERROR] Parâmetro associado: :data_fim = 2025-09-07 (tipo: 2)
[2025-09-07 00:37:31] [DATABASE ERROR] Debug PDO após binding: SQL: [410] SELECT 
                    a.id, a.tabela, a.registro_id, a.acao, a.dados_anteriores, a.dados_novos,
                    u.nome_completo AS usuario, a.ip_address, a.user_agent, a.criado_em
                FROM auditoria a
                LEFT JOIN usuarios u ON a.usuario_id = u.id
                WHERE 1=1 AND a.criado_em >= :data_inicio AND a.criado_em <= :data_fim ORDER BY a.criado_em DESC LIMIT 100
Params:  2
Key: Name: [12] :data_inicio
paramno=0
name=[12] ":data_inicio"
is_param=1
param_type=2
Key: Name: [9] :data_fim
paramno=1
name=[9] ":data_fim"
is_param=1
param_type=2

[2025-09-07 00:38:32] [DATABASE ERROR] Preparando query: SELECT * FROM produtos WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-07 00:38:32] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-07 00:38:32] [DATABASE ERROR] Debug PDO após binding: SQL: [43] SELECT * FROM produtos WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-07 00:38:32] [DATABASE ERROR] Preparando query: SELECT * FROM categorias WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-07 00:38:32] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-07 00:38:32] [DATABASE ERROR] Debug PDO após binding: SQL: [45] SELECT * FROM categorias WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-07 00:38:32] [DATABASE ERROR] Preparando query: SELECT * FROM categorias WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-07 00:38:32] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-07 00:38:32] [DATABASE ERROR] Debug PDO após binding: SQL: [45] SELECT * FROM categorias WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-07 00:38:32] [DATABASE ERROR] Preparando query: SELECT * FROM unidades_medida com parâmetros: []
[2025-09-07 00:38:32] [DATABASE ERROR] Debug PDO após binding: SQL: [29] SELECT * FROM unidades_medida
Params:  0

[2025-09-07 00:38:32] [DATABASE ERROR] Preparando query: SELECT * FROM fornecedores WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-07 00:38:32] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-07 00:38:32] [DATABASE ERROR] Debug PDO após binding: SQL: [47] SELECT * FROM fornecedores WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-07 00:38:32] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-07 00:38:32] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-07 00:38:32] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-07 00:41:15] [DATABASE ERROR] Preparando query: SELECT * FROM produtos WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-07 00:41:15] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-07 00:41:15] [DATABASE ERROR] Debug PDO após binding: SQL: [43] SELECT * FROM produtos WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-07 00:41:15] [DATABASE ERROR] Preparando query: SELECT * FROM categorias WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-07 00:41:15] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-07 00:41:15] [DATABASE ERROR] Debug PDO após binding: SQL: [45] SELECT * FROM categorias WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-07 00:41:15] [DATABASE ERROR] Preparando query: SELECT * FROM categorias WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-07 00:41:15] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-07 00:41:15] [DATABASE ERROR] Debug PDO após binding: SQL: [45] SELECT * FROM categorias WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-07 00:41:15] [DATABASE ERROR] Preparando query: SELECT * FROM unidades_medida com parâmetros: []
[2025-09-07 00:41:15] [DATABASE ERROR] Debug PDO após binding: SQL: [29] SELECT * FROM unidades_medida
Params:  0

[2025-09-07 00:41:15] [DATABASE ERROR] Preparando query: SELECT * FROM fornecedores WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-07 00:41:15] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-07 00:41:15] [DATABASE ERROR] Debug PDO após binding: SQL: [47] SELECT * FROM fornecedores WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-07 00:41:15] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-07 00:41:15] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-07 00:41:15] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-07 00:41:48] [DATABASE ERROR] Parâmetro associado: :value = LEITE A XANDO INTEGRAL (tipo: 2)
[2025-09-07 00:41:48] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 2)
[2025-09-07 00:41:48] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 2)
[2025-09-07 00:41:48] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 2)
[2025-09-07 00:41:48] [DATABASE ERROR] Parâmetro associado: :value = 3 (tipo: 2)
[2025-09-07 00:41:48] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 2)
[2025-09-07 00:41:48] [DATABASE ERROR] Parâmetro associado: :value = 2 (tipo: 2)
[2025-09-07 00:41:48] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-09-07 00:41:48] [DATABASE ERROR] Parâmetro associado: :nome = LEITE A XANDO INTEGRAL (tipo: 2)
[2025-09-07 00:41:48] [DATABASE ERROR] Parâmetro associado: :codigo = 1 (tipo: 2)
[2025-09-07 00:41:48] [DATABASE ERROR] Parâmetro associado: :categoria_id = 3 (tipo: 2)
[2025-09-07 00:41:48] [DATABASE ERROR] Parâmetro associado: :estoque_atual = 1663.000 (tipo: 2)
[2025-09-07 00:41:48] [DATABASE ERROR] Parâmetro associado: :estoque_minimo = 2.000 (tipo: 2)
[2025-09-07 00:41:48] [DATABASE ERROR] Parâmetro associado: :preco_venda = 2.00 (tipo: 2)
[2025-09-07 00:41:48] [DATABASE ERROR] Parâmetro associado: :descricao =  (tipo: 2)
[2025-09-07 00:41:48] [DATABASE ERROR] Parâmetro associado: :ativo = 1 (tipo: 1)
[2025-09-07 00:41:48] [DATABASE ERROR] Parâmetro associado: :unidade_medida_id = 1 (tipo: 2)
[2025-09-07 00:41:48] [DATABASE ERROR] Parâmetro associado: :estoque_maximo = 5.000 (tipo: 2)
[2025-09-07 00:41:48] [DATABASE ERROR] Parâmetro associado: :preco_custo = 1.00 (tipo: 2)
[2025-09-07 00:41:48] [DATABASE ERROR] Parâmetro associado: :margem_lucro = 0.00 (tipo: 2)
[2025-09-07 00:41:48] [DATABASE ERROR] Parâmetro associado: :fornecedor_principal_id = 2 (tipo: 2)
[2025-09-07 00:41:48] [DATABASE ERROR] Parâmetro associado: :atualizado_em = 2025-09-07 00:41:48 (tipo: 2)
[2025-09-07 00:41:48] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-09-07 00:41:48] [DATABASE ERROR] Parâmetro associado: :tabela = produtos (tipo: 2)
[2025-09-07 00:41:48] [DATABASE ERROR] Parâmetro associado: :registro_id = 1 (tipo: 1)
[2025-09-07 00:41:48] [DATABASE ERROR] Parâmetro associado: :acao = UPDATE (tipo: 2)
[2025-09-07 00:41:48] [DATABASE ERROR] Parâmetro associado: :dados_anteriores = {"id":1,"codigo":"","codigo_barras":null,"nome":"LEITE A XANDO INTEGRAL","descricao":"","categoria_id":3,"unidade_medida_id":1,"estoque_minimo":"2.000","estoque_maximo":"5.000","estoque_atual":"1663.000","preco_custo":"1.00","preco_venda":"2.00","margem_lucro":"0.00","localizacao":null,"fornecedor_principal_id":2,"ativo":1,"foto_url":null,"observacoes":null,"criado_por":1,"criado_em":"2025-09-05 15:17:20","atualizado_em":"2025-09-07 00:02:40"} (tipo: 2)
[2025-09-07 00:41:48] [DATABASE ERROR] Parâmetro associado: :dados_novos = {"nome":"LEITE A XANDO INTEGRAL","codigo":"1","categoria_id":"3","estoque_atual":"1663.000","estoque_minimo":"2.000","preco_venda":"2.00","descricao":"","ativo":1,"unidade_medida_id":"1","estoque_maximo":"5.000","preco_custo":"1.00","margem_lucro":"0.00","fornecedor_principal_id":"2","atualizado_em":"2025-09-07 00:41:48"} (tipo: 2)
[2025-09-07 00:41:48] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-09-07 00:41:48] [DATABASE ERROR] Parâmetro associado: :ip_address = ::1 (tipo: 2)
[2025-09-07 00:41:48] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36 Edg/139.0.0.0 (tipo: 2)
[2025-09-07 00:41:48] [DATABASE ERROR] Preparando query: SELECT * FROM produtos WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-07 00:41:48] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-07 00:41:48] [DATABASE ERROR] Debug PDO após binding: SQL: [43] SELECT * FROM produtos WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-07 00:41:48] [DATABASE ERROR] Preparando query: SELECT * FROM categorias WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-07 00:41:48] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-07 00:41:48] [DATABASE ERROR] Debug PDO após binding: SQL: [45] SELECT * FROM categorias WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-07 00:41:48] [DATABASE ERROR] Preparando query: SELECT * FROM categorias WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-07 00:41:48] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-07 00:41:48] [DATABASE ERROR] Debug PDO após binding: SQL: [45] SELECT * FROM categorias WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-07 00:41:48] [DATABASE ERROR] Preparando query: SELECT * FROM unidades_medida com parâmetros: []
[2025-09-07 00:41:48] [DATABASE ERROR] Debug PDO após binding: SQL: [29] SELECT * FROM unidades_medida
Params:  0

[2025-09-07 00:41:48] [DATABASE ERROR] Preparando query: SELECT * FROM fornecedores WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-07 00:41:48] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-07 00:41:48] [DATABASE ERROR] Debug PDO após binding: SQL: [47] SELECT * FROM fornecedores WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-07 00:41:48] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-07 00:41:48] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-07 00:41:48] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-07 00:42:13] [DATABASE ERROR] Preparando query: SELECT * FROM produtos WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-07 00:42:13] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-07 00:42:13] [DATABASE ERROR] Debug PDO após binding: SQL: [43] SELECT * FROM produtos WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-07 00:42:13] [DATABASE ERROR] Preparando query: SELECT * FROM categorias WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-07 00:42:13] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-07 00:42:13] [DATABASE ERROR] Debug PDO após binding: SQL: [45] SELECT * FROM categorias WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-07 00:42:13] [DATABASE ERROR] Preparando query: SELECT * FROM categorias WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-07 00:42:13] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-07 00:42:13] [DATABASE ERROR] Debug PDO após binding: SQL: [45] SELECT * FROM categorias WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-07 00:42:13] [DATABASE ERROR] Preparando query: SELECT * FROM unidades_medida com parâmetros: []
[2025-09-07 00:42:13] [DATABASE ERROR] Debug PDO após binding: SQL: [29] SELECT * FROM unidades_medida
Params:  0

[2025-09-07 00:42:13] [DATABASE ERROR] Preparando query: SELECT * FROM fornecedores WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-07 00:42:13] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-07 00:42:13] [DATABASE ERROR] Debug PDO após binding: SQL: [47] SELECT * FROM fornecedores WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-07 00:42:14] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-07 00:42:14] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-07 00:42:14] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-07 00:43:20] [DATABASE ERROR] Preparando query: SELECT * FROM produtos WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-07 00:43:20] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-07 00:43:20] [DATABASE ERROR] Debug PDO após binding: SQL: [43] SELECT * FROM produtos WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-07 00:43:20] [DATABASE ERROR] Preparando query: SELECT * FROM categorias WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-07 00:43:20] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-07 00:43:20] [DATABASE ERROR] Debug PDO após binding: SQL: [45] SELECT * FROM categorias WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-07 00:43:20] [DATABASE ERROR] Preparando query: SELECT * FROM categorias WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-07 00:43:20] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-07 00:43:20] [DATABASE ERROR] Debug PDO após binding: SQL: [45] SELECT * FROM categorias WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-07 00:43:20] [DATABASE ERROR] Preparando query: SELECT * FROM unidades_medida com parâmetros: []
[2025-09-07 00:43:20] [DATABASE ERROR] Debug PDO após binding: SQL: [29] SELECT * FROM unidades_medida
Params:  0

[2025-09-07 00:43:20] [DATABASE ERROR] Preparando query: SELECT * FROM fornecedores WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-07 00:43:20] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-07 00:43:20] [DATABASE ERROR] Debug PDO após binding: SQL: [47] SELECT * FROM fornecedores WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-07 00:43:20] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-07 00:43:20] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-07 00:43:20] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-07 00:44:12] [DATABASE ERROR] Preparando query: SELECT * FROM produtos WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-07 00:44:12] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-07 00:44:12] [DATABASE ERROR] Debug PDO após binding: SQL: [43] SELECT * FROM produtos WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-07 00:44:12] [DATABASE ERROR] Preparando query: SELECT * FROM categorias WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-07 00:44:12] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-07 00:44:12] [DATABASE ERROR] Debug PDO após binding: SQL: [45] SELECT * FROM categorias WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-07 00:44:12] [DATABASE ERROR] Preparando query: SELECT * FROM categorias WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-07 00:44:12] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-07 00:44:12] [DATABASE ERROR] Debug PDO após binding: SQL: [45] SELECT * FROM categorias WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-07 00:44:12] [DATABASE ERROR] Preparando query: SELECT * FROM unidades_medida com parâmetros: []
[2025-09-07 00:44:12] [DATABASE ERROR] Debug PDO após binding: SQL: [29] SELECT * FROM unidades_medida
Params:  0

[2025-09-07 00:44:12] [DATABASE ERROR] Preparando query: SELECT * FROM fornecedores WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-07 00:44:12] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-07 00:44:12] [DATABASE ERROR] Debug PDO após binding: SQL: [47] SELECT * FROM fornecedores WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-07 00:44:12] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-07 00:44:12] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-07 00:44:12] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-07 00:44:50] [DATABASE ERROR] Preparando query: SELECT * FROM produtos WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-07 00:44:50] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-07 00:44:50] [DATABASE ERROR] Debug PDO após binding: SQL: [43] SELECT * FROM produtos WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-07 00:44:50] [DATABASE ERROR] Preparando query: SELECT * FROM categorias WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-07 00:44:50] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-07 00:44:50] [DATABASE ERROR] Debug PDO após binding: SQL: [45] SELECT * FROM categorias WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-07 00:44:50] [DATABASE ERROR] Preparando query: SELECT * FROM categorias WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-07 00:44:50] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-07 00:44:50] [DATABASE ERROR] Debug PDO após binding: SQL: [45] SELECT * FROM categorias WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-07 00:44:50] [DATABASE ERROR] Preparando query: SELECT * FROM unidades_medida com parâmetros: []
[2025-09-07 00:44:50] [DATABASE ERROR] Debug PDO após binding: SQL: [29] SELECT * FROM unidades_medida
Params:  0

[2025-09-07 00:44:50] [DATABASE ERROR] Preparando query: SELECT * FROM fornecedores WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-07 00:44:50] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-07 00:44:50] [DATABASE ERROR] Debug PDO após binding: SQL: [47] SELECT * FROM fornecedores WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-07 00:44:50] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-07 00:44:50] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-07 00:44:50] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-07 00:45:31] [DATABASE ERROR] Preparando query: SELECT * FROM produtos WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-07 00:45:31] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-07 00:45:31] [DATABASE ERROR] Debug PDO após binding: SQL: [43] SELECT * FROM produtos WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-07 00:45:31] [DATABASE ERROR] Preparando query: SELECT * FROM categorias WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-07 00:45:31] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-07 00:45:31] [DATABASE ERROR] Debug PDO após binding: SQL: [45] SELECT * FROM categorias WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-07 00:45:31] [DATABASE ERROR] Preparando query: SELECT * FROM categorias WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-07 00:45:31] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-07 00:45:31] [DATABASE ERROR] Debug PDO após binding: SQL: [45] SELECT * FROM categorias WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-07 00:45:31] [DATABASE ERROR] Preparando query: SELECT * FROM unidades_medida com parâmetros: []
[2025-09-07 00:45:31] [DATABASE ERROR] Debug PDO após binding: SQL: [29] SELECT * FROM unidades_medida
Params:  0

[2025-09-07 00:45:31] [DATABASE ERROR] Preparando query: SELECT * FROM fornecedores WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-07 00:45:31] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-07 00:45:31] [DATABASE ERROR] Debug PDO após binding: SQL: [47] SELECT * FROM fornecedores WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-07 00:45:31] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-07 00:45:31] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-07 00:45:31] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-07 00:46:05] [DATABASE ERROR] Parâmetro associado: :value = LEITE A XANDO INTEGRAL (tipo: 2)
[2025-09-07 00:46:05] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 2)
[2025-09-07 00:46:05] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 2)
[2025-09-07 00:46:05] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 2)
[2025-09-07 00:46:05] [DATABASE ERROR] Parâmetro associado: :value = 3 (tipo: 2)
[2025-09-07 00:46:05] [DATABASE ERROR] Parâmetro associado: :value = 4 (tipo: 2)
[2025-09-07 00:46:05] [DATABASE ERROR] Parâmetro associado: :value = 2 (tipo: 2)
[2025-09-07 00:46:05] [DATABASE ERROR] Preparando query: SELECT * FROM produtos WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-07 00:46:05] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-07 00:46:05] [DATABASE ERROR] Debug PDO após binding: SQL: [43] SELECT * FROM produtos WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-07 00:46:05] [DATABASE ERROR] Preparando query: SELECT * FROM categorias WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-07 00:46:05] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-07 00:46:05] [DATABASE ERROR] Debug PDO após binding: SQL: [45] SELECT * FROM categorias WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-07 00:46:05] [DATABASE ERROR] Preparando query: SELECT * FROM categorias WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-07 00:46:05] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-07 00:46:05] [DATABASE ERROR] Debug PDO após binding: SQL: [45] SELECT * FROM categorias WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-07 00:46:05] [DATABASE ERROR] Preparando query: SELECT * FROM unidades_medida com parâmetros: []
[2025-09-07 00:46:05] [DATABASE ERROR] Debug PDO após binding: SQL: [29] SELECT * FROM unidades_medida
Params:  0

[2025-09-07 00:46:05] [DATABASE ERROR] Preparando query: SELECT * FROM fornecedores WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-07 00:46:05] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-07 00:46:05] [DATABASE ERROR] Debug PDO após binding: SQL: [47] SELECT * FROM fornecedores WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-07 00:46:05] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-07 00:46:05] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-07 00:46:05] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-07 00:48:11] [DATABASE ERROR] Parâmetro associado: :value = LEITE A XANDO INTEGRAL (tipo: 2)
[2025-09-07 00:48:11] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 2)
[2025-09-07 00:48:11] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 2)
[2025-09-07 00:48:11] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 2)
[2025-09-07 00:48:11] [DATABASE ERROR] Parâmetro associado: :value = 3 (tipo: 2)
[2025-09-07 00:48:11] [DATABASE ERROR] Parâmetro associado: :value = 4 (tipo: 2)
[2025-09-07 00:48:11] [DATABASE ERROR] Parâmetro associado: :value = 2 (tipo: 2)
[2025-09-07 00:48:11] [DATABASE ERROR] Preparando query: SELECT * FROM produtos WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-07 00:48:11] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-07 00:48:11] [DATABASE ERROR] Debug PDO após binding: SQL: [43] SELECT * FROM produtos WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-07 00:48:11] [DATABASE ERROR] Preparando query: SELECT * FROM categorias WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-07 00:48:11] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-07 00:48:11] [DATABASE ERROR] Debug PDO após binding: SQL: [45] SELECT * FROM categorias WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-07 00:48:11] [DATABASE ERROR] Preparando query: SELECT * FROM categorias WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-07 00:48:11] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-07 00:48:11] [DATABASE ERROR] Debug PDO após binding: SQL: [45] SELECT * FROM categorias WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-07 00:48:11] [DATABASE ERROR] Preparando query: SELECT * FROM unidades_medida com parâmetros: []
[2025-09-07 00:48:11] [DATABASE ERROR] Debug PDO após binding: SQL: [29] SELECT * FROM unidades_medida
Params:  0

[2025-09-07 00:48:11] [DATABASE ERROR] Preparando query: SELECT * FROM fornecedores WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-07 00:48:11] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-07 00:48:11] [DATABASE ERROR] Debug PDO após binding: SQL: [47] SELECT * FROM fornecedores WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-07 00:48:11] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-07 00:48:11] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-07 00:48:11] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-07 00:49:31] [DATABASE ERROR] Parâmetro associado: :value = LEITE A XANDO INTEGRAL (tipo: 2)
[2025-09-07 00:49:31] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 2)
[2025-09-07 00:49:31] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 2)
[2025-09-07 00:49:31] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 2)
[2025-09-07 00:49:31] [DATABASE ERROR] Parâmetro associado: :value = 3 (tipo: 2)
[2025-09-07 00:49:31] [DATABASE ERROR] Parâmetro associado: :value = 4 (tipo: 2)
[2025-09-07 00:49:31] [DATABASE ERROR] Parâmetro associado: :value = 2 (tipo: 2)
[2025-09-07 00:49:31] [DATABASE ERROR] Preparando query: SELECT * FROM produtos WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-07 00:49:31] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-07 00:49:31] [DATABASE ERROR] Debug PDO após binding: SQL: [43] SELECT * FROM produtos WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-07 00:49:31] [DATABASE ERROR] Preparando query: SELECT * FROM categorias WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-07 00:49:31] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-07 00:49:31] [DATABASE ERROR] Debug PDO após binding: SQL: [45] SELECT * FROM categorias WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-07 00:49:31] [DATABASE ERROR] Preparando query: SELECT * FROM categorias WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-07 00:49:31] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-07 00:49:31] [DATABASE ERROR] Debug PDO após binding: SQL: [45] SELECT * FROM categorias WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-07 00:49:31] [DATABASE ERROR] Preparando query: SELECT * FROM unidades_medida com parâmetros: []
[2025-09-07 00:49:31] [DATABASE ERROR] Debug PDO após binding: SQL: [29] SELECT * FROM unidades_medida
Params:  0

[2025-09-07 00:49:31] [DATABASE ERROR] Preparando query: SELECT * FROM fornecedores WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-07 00:49:31] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-07 00:49:31] [DATABASE ERROR] Debug PDO após binding: SQL: [47] SELECT * FROM fornecedores WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-07 00:49:31] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-07 00:49:31] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-07 00:49:31] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-07 00:49:42] [DATABASE ERROR] Parâmetro associado: :value = LEITE A XANDO INTEGRAL (tipo: 2)
[2025-09-07 00:49:42] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 2)
[2025-09-07 00:49:42] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 2)
[2025-09-07 00:49:42] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 2)
[2025-09-07 00:49:42] [DATABASE ERROR] Parâmetro associado: :value = 3 (tipo: 2)
[2025-09-07 00:49:42] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 2)
[2025-09-07 00:49:42] [DATABASE ERROR] Parâmetro associado: :value = 2 (tipo: 2)
[2025-09-07 00:49:43] [DATABASE ERROR] Preparando query: SELECT * FROM produtos WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-07 00:49:43] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-07 00:49:43] [DATABASE ERROR] Debug PDO após binding: SQL: [43] SELECT * FROM produtos WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-07 00:49:43] [DATABASE ERROR] Preparando query: SELECT * FROM categorias WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-07 00:49:43] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-07 00:49:43] [DATABASE ERROR] Debug PDO após binding: SQL: [45] SELECT * FROM categorias WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-07 00:49:43] [DATABASE ERROR] Preparando query: SELECT * FROM categorias WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-07 00:49:43] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-07 00:49:43] [DATABASE ERROR] Debug PDO após binding: SQL: [45] SELECT * FROM categorias WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-07 00:49:43] [DATABASE ERROR] Preparando query: SELECT * FROM unidades_medida com parâmetros: []
[2025-09-07 00:49:43] [DATABASE ERROR] Debug PDO após binding: SQL: [29] SELECT * FROM unidades_medida
Params:  0

[2025-09-07 00:49:43] [DATABASE ERROR] Preparando query: SELECT * FROM fornecedores WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-07 00:49:43] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-07 00:49:43] [DATABASE ERROR] Debug PDO após binding: SQL: [47] SELECT * FROM fornecedores WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-07 00:49:43] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-07 00:49:43] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-07 00:49:43] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-07 00:50:48] [DATABASE ERROR] Parâmetro associado: :value = LEITE A XANDO INTEGRAL (tipo: 2)
[2025-09-07 00:50:48] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 2)
[2025-09-07 00:50:48] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 2)
[2025-09-07 00:50:48] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 2)
[2025-09-07 00:50:48] [DATABASE ERROR] Parâmetro associado: :value = 3 (tipo: 2)
[2025-09-07 00:50:48] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 2)
[2025-09-07 00:50:48] [DATABASE ERROR] Parâmetro associado: :value = 2 (tipo: 2)
[2025-09-07 00:50:48] [DATABASE ERROR] Preparando query: SELECT * FROM produtos WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-07 00:50:48] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-07 00:50:48] [DATABASE ERROR] Debug PDO após binding: SQL: [43] SELECT * FROM produtos WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-07 00:50:48] [DATABASE ERROR] Preparando query: SELECT * FROM categorias WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-07 00:50:48] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-07 00:50:48] [DATABASE ERROR] Debug PDO após binding: SQL: [45] SELECT * FROM categorias WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-07 00:50:48] [DATABASE ERROR] Preparando query: SELECT * FROM categorias WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-07 00:50:48] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-07 00:50:48] [DATABASE ERROR] Debug PDO após binding: SQL: [45] SELECT * FROM categorias WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-07 00:50:48] [DATABASE ERROR] Preparando query: SELECT * FROM unidades_medida com parâmetros: []
[2025-09-07 00:50:48] [DATABASE ERROR] Debug PDO após binding: SQL: [29] SELECT * FROM unidades_medida
Params:  0

[2025-09-07 00:50:48] [DATABASE ERROR] Preparando query: SELECT * FROM fornecedores WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-07 00:50:48] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-07 00:50:48] [DATABASE ERROR] Debug PDO após binding: SQL: [47] SELECT * FROM fornecedores WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-07 00:50:48] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-07 00:50:48] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-07 00:50:48] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-07 00:51:32] [DATABASE ERROR] Parâmetro associado: :value = LEITE A XANDO INTEGRAL (tipo: 2)
[2025-09-07 00:51:32] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 2)
[2025-09-07 00:51:32] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 2)
[2025-09-07 00:51:32] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 2)
[2025-09-07 00:51:32] [DATABASE ERROR] Parâmetro associado: :value = 3 (tipo: 2)
[2025-09-07 00:51:32] [DATABASE ERROR] Parâmetro associado: :value = 4 (tipo: 2)
[2025-09-07 00:51:32] [DATABASE ERROR] Parâmetro associado: :value = 2 (tipo: 2)
[2025-09-07 00:51:33] [DATABASE ERROR] Preparando query: SELECT * FROM produtos WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-07 00:51:33] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-07 00:51:33] [DATABASE ERROR] Debug PDO após binding: SQL: [43] SELECT * FROM produtos WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-07 00:51:33] [DATABASE ERROR] Preparando query: SELECT * FROM categorias WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-07 00:51:33] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-07 00:51:33] [DATABASE ERROR] Debug PDO após binding: SQL: [45] SELECT * FROM categorias WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-07 00:51:33] [DATABASE ERROR] Preparando query: SELECT * FROM categorias WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-07 00:51:33] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-07 00:51:33] [DATABASE ERROR] Debug PDO após binding: SQL: [45] SELECT * FROM categorias WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-07 00:51:33] [DATABASE ERROR] Preparando query: SELECT * FROM unidades_medida com parâmetros: []
[2025-09-07 00:51:33] [DATABASE ERROR] Debug PDO após binding: SQL: [29] SELECT * FROM unidades_medida
Params:  0

[2025-09-07 00:51:33] [DATABASE ERROR] Preparando query: SELECT * FROM fornecedores WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-07 00:51:33] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-07 00:51:33] [DATABASE ERROR] Debug PDO após binding: SQL: [47] SELECT * FROM fornecedores WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-07 00:51:33] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-07 00:51:33] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-07 00:51:33] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-07 00:52:24] [DATABASE ERROR] Parâmetro associado: :value = LEITE A XANDO INTEGRAL (tipo: 2)
[2025-09-07 00:52:24] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 2)
[2025-09-07 00:52:24] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 2)
[2025-09-07 00:52:24] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 2)
[2025-09-07 00:52:24] [DATABASE ERROR] Parâmetro associado: :value = 3 (tipo: 2)
[2025-09-07 00:52:24] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 2)
[2025-09-07 00:52:24] [DATABASE ERROR] Parâmetro associado: :value = 2 (tipo: 2)
[2025-09-07 00:52:24] [DATABASE ERROR] Preparando query: SELECT * FROM produtos WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-07 00:52:24] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-07 00:52:24] [DATABASE ERROR] Debug PDO após binding: SQL: [43] SELECT * FROM produtos WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-07 00:52:24] [DATABASE ERROR] Preparando query: SELECT * FROM categorias WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-07 00:52:24] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-07 00:52:24] [DATABASE ERROR] Debug PDO após binding: SQL: [45] SELECT * FROM categorias WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-07 00:52:24] [DATABASE ERROR] Preparando query: SELECT * FROM categorias WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-07 00:52:24] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-07 00:52:24] [DATABASE ERROR] Debug PDO após binding: SQL: [45] SELECT * FROM categorias WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-07 00:52:24] [DATABASE ERROR] Preparando query: SELECT * FROM unidades_medida com parâmetros: []
[2025-09-07 00:52:24] [DATABASE ERROR] Debug PDO após binding: SQL: [29] SELECT * FROM unidades_medida
Params:  0

[2025-09-07 00:52:24] [DATABASE ERROR] Preparando query: SELECT * FROM fornecedores WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-07 00:52:24] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-07 00:52:24] [DATABASE ERROR] Debug PDO após binding: SQL: [47] SELECT * FROM fornecedores WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-07 00:52:24] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-07 00:52:24] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-07 00:52:24] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-07 00:53:12] [DATABASE ERROR] Parâmetro associado: :value = LEITE A XANDO INTEGRAL (tipo: 2)
[2025-09-07 00:53:12] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 2)
[2025-09-07 00:53:12] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 2)
[2025-09-07 00:53:12] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 2)
[2025-09-07 00:53:12] [DATABASE ERROR] Parâmetro associado: :value = 3 (tipo: 2)
[2025-09-07 00:53:12] [DATABASE ERROR] Parâmetro associado: :value = 4 (tipo: 2)
[2025-09-07 00:53:12] [DATABASE ERROR] Parâmetro associado: :value = 2 (tipo: 2)
[2025-09-07 00:53:12] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-09-07 00:53:12] [DATABASE ERROR] Parâmetro associado: :nome = LEITE A XANDO INTEGRAL (tipo: 2)
[2025-09-07 00:53:12] [DATABASE ERROR] Parâmetro associado: :codigo = 1 (tipo: 2)
[2025-09-07 00:53:12] [DATABASE ERROR] Parâmetro associado: :categoria_id = 3 (tipo: 2)
[2025-09-07 00:53:12] [DATABASE ERROR] Parâmetro associado: :estoque_atual = 1663.000 (tipo: 2)
[2025-09-07 00:53:12] [DATABASE ERROR] Parâmetro associado: :estoque_minimo = 2.000 (tipo: 2)
[2025-09-07 00:53:12] [DATABASE ERROR] Parâmetro associado: :preco_venda = NULL (tipo: 0)
[2025-09-07 00:53:12] [DATABASE ERROR] Parâmetro associado: :descricao =  (tipo: 2)
[2025-09-07 00:53:12] [DATABASE ERROR] Parâmetro associado: :ativo = 1 (tipo: 1)
[2025-09-07 00:53:12] [DATABASE ERROR] Parâmetro associado: :unidade_medida_id = 4 (tipo: 2)
[2025-09-07 00:53:12] [DATABASE ERROR] Parâmetro associado: :estoque_maximo = NULL (tipo: 0)
[2025-09-07 00:53:12] [DATABASE ERROR] Parâmetro associado: :preco_custo = NULL (tipo: 0)
[2025-09-07 00:53:12] [DATABASE ERROR] Parâmetro associado: :margem_lucro = NULL (tipo: 0)
[2025-09-07 00:53:12] [DATABASE ERROR] Parâmetro associado: :fornecedor_principal_id = 2 (tipo: 2)
[2025-09-07 00:53:12] [DATABASE ERROR] Parâmetro associado: :atualizado_em = 2025-09-07 00:53:12 (tipo: 2)
[2025-09-07 00:53:12] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-09-07 00:53:12] [DATABASE ERROR] Parâmetro associado: :tabela = produtos (tipo: 2)
[2025-09-07 00:53:12] [DATABASE ERROR] Parâmetro associado: :registro_id = 1 (tipo: 1)
[2025-09-07 00:53:12] [DATABASE ERROR] Parâmetro associado: :acao = UPDATE (tipo: 2)
[2025-09-07 00:53:12] [DATABASE ERROR] Parâmetro associado: :dados_anteriores = {"id":1,"codigo":"1","codigo_barras":null,"nome":"LEITE A XANDO INTEGRAL","descricao":"","categoria_id":3,"unidade_medida_id":1,"estoque_minimo":"2.000","estoque_maximo":"5.000","estoque_atual":"1663.000","preco_custo":"1.00","preco_venda":"2.00","margem_lucro":"0.00","localizacao":null,"fornecedor_principal_id":2,"ativo":1,"foto_url":null,"observacoes":null,"criado_por":1,"criado_em":"2025-09-05 15:17:20","atualizado_em":"2025-09-07 00:41:48"} (tipo: 2)
[2025-09-07 00:53:12] [DATABASE ERROR] Parâmetro associado: :dados_novos = {"nome":"LEITE A XANDO INTEGRAL","codigo":"1","categoria_id":"3","estoque_atual":"1663.000","estoque_minimo":"2.000","preco_venda":null,"descricao":"","ativo":1,"unidade_medida_id":"4","estoque_maximo":null,"preco_custo":null,"margem_lucro":null,"fornecedor_principal_id":"2","atualizado_em":"2025-09-07 00:53:12"} (tipo: 2)
[2025-09-07 00:53:12] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-09-07 00:53:12] [DATABASE ERROR] Parâmetro associado: :ip_address = ::1 (tipo: 2)
[2025-09-07 00:53:12] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36 Edg/139.0.0.0 (tipo: 2)
[2025-09-07 00:53:12] [DATABASE ERROR] Preparando query: SELECT * FROM produtos WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-07 00:53:12] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-07 00:53:12] [DATABASE ERROR] Debug PDO após binding: SQL: [43] SELECT * FROM produtos WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-07 00:53:12] [DATABASE ERROR] Preparando query: SELECT * FROM categorias WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-07 00:53:12] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-07 00:53:12] [DATABASE ERROR] Debug PDO após binding: SQL: [45] SELECT * FROM categorias WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-07 00:53:12] [DATABASE ERROR] Preparando query: SELECT * FROM categorias WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-07 00:53:12] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-07 00:53:12] [DATABASE ERROR] Debug PDO após binding: SQL: [45] SELECT * FROM categorias WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-07 00:53:12] [DATABASE ERROR] Preparando query: SELECT * FROM unidades_medida com parâmetros: []
[2025-09-07 00:53:12] [DATABASE ERROR] Debug PDO após binding: SQL: [29] SELECT * FROM unidades_medida
Params:  0

[2025-09-07 00:53:12] [DATABASE ERROR] Preparando query: SELECT * FROM fornecedores WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-07 00:53:12] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-07 00:53:12] [DATABASE ERROR] Debug PDO após binding: SQL: [47] SELECT * FROM fornecedores WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-07 00:53:12] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-07 00:53:12] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-07 00:53:12] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-07 00:53:20] [DATABASE ERROR] Preparando query: SELECT SUM(estoque_atual) as total_estoque FROM produtos WHERE ativo = TRUE com parâmetros: []
[2025-09-07 00:53:20] [DATABASE ERROR] Debug PDO após binding: SQL: [75] SELECT SUM(estoque_atual) as total_estoque FROM produtos WHERE ativo = TRUE
Params:  0

[2025-09-07 00:53:20] [DATABASE ERROR] Preparando query: SELECT id FROM produtos WHERE ativo = TRUE com parâmetros: []
[2025-09-07 00:53:20] [DATABASE ERROR] Debug PDO após binding: SQL: [42] SELECT id FROM produtos WHERE ativo = TRUE
Params:  0

[2025-09-07 00:53:20] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":1,":data_fim_a":null,":data_fim":null}
[2025-09-07 00:53:20] [DATABASE ERROR] Parâmetro associado: :produto_id = 1 (tipo: 1)
[2025-09-07 00:53:20] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-09-07 00:53:20] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-09-07 00:53:20] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-09-07 00:53:20] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":1}
[2025-09-07 00:53:20] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-09-07 00:53:20] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-07 00:53:20] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":2,":data_fim_a":null,":data_fim":null}
[2025-09-07 00:53:20] [DATABASE ERROR] Parâmetro associado: :produto_id = 2 (tipo: 1)
[2025-09-07 00:53:20] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-09-07 00:53:20] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-09-07 00:53:20] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-09-07 00:53:20] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":2}
[2025-09-07 00:53:20] [DATABASE ERROR] Parâmetro associado: :id = 2 (tipo: 1)
[2025-09-07 00:53:20] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-07 00:53:20] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":3,":data_fim_a":null,":data_fim":null}
[2025-09-07 00:53:20] [DATABASE ERROR] Parâmetro associado: :produto_id = 3 (tipo: 1)
[2025-09-07 00:53:20] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-09-07 00:53:20] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-09-07 00:53:20] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-09-07 00:53:20] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":3}
[2025-09-07 00:53:20] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-07 00:53:20] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-07 00:53:21] [DATABASE ERROR] Preparando query: SELECT id, codigo, nome, estoque_atual, estoque_minimo, categoria, fornecedor 
                    FROM vw_produtos_estoque_critico 
                    ORDER BY estoque_atual ASC 
                    LIMIT 10 com parâmetros: []
[2025-09-07 00:53:21] [DATABASE ERROR] Debug PDO após binding: SQL: [212] SELECT id, codigo, nome, estoque_atual, estoque_minimo, categoria, fornecedor 
                    FROM vw_produtos_estoque_critico 
                    ORDER BY estoque_atual ASC 
                    LIMIT 10
Params:  0

[2025-09-07 00:53:21] [DATABASE ERROR] Preparando query: 
                SELECT 
                    DATE_FORMAT(m.data_movimentacao, '%Y-%m') as periodo,
                    tm.tipo,
                    SUM(mi.quantidade) as total_quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                WHERE m.status = 'PROCESSADO'
                    AND m.data_movimentacao >= DATE_SUB(CURDATE(), INTERVAL 6 MONTH)
                GROUP BY periodo, tm.tipo
                ORDER BY periodo ASC com parâmetros: []
[2025-09-07 00:53:21] [DATABASE ERROR] Debug PDO após binding: SQL: [593] 
                SELECT 
                    DATE_FORMAT(m.data_movimentacao, '%Y-%m') as periodo,
                    tm.tipo,
                    SUM(mi.quantidade) as total_quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                WHERE m.status = 'PROCESSADO'
                    AND m.data_movimentacao >= DATE_SUB(CURDATE(), INTERVAL 6 MONTH)
                GROUP BY periodo, tm.tipo
                ORDER BY periodo ASC
Params:  0

[2025-09-07 00:53:21] [DATABASE ERROR] Preparando query: SELECT id, tipo, categoria, documento_numero, data_movimentacao, valor_total, fornecedor, usuario 
                    FROM vw_movimentacoes_recentes 
                    ORDER BY data_movimentacao DESC 
                    LIMIT 10 com parâmetros: []
[2025-09-07 00:53:21] [DATABASE ERROR] Debug PDO após binding: SQL: [235] SELECT id, tipo, categoria, documento_numero, data_movimentacao, valor_total, fornecedor, usuario 
                    FROM vw_movimentacoes_recentes 
                    ORDER BY data_movimentacao DESC 
                    LIMIT 10
Params:  0

[2025-09-07 00:53:55] [DATABASE ERROR] Preparando query: SELECT * FROM categorias WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-07 00:53:55] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-07 00:53:55] [DATABASE ERROR] Debug PDO após binding: SQL: [45] SELECT * FROM categorias WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-07 00:53:55] [DATABASE ERROR] Preparando query: SELECT * FROM fornecedores WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-07 00:53:55] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-07 00:53:55] [DATABASE ERROR] Debug PDO após binding: SQL: [47] SELECT * FROM fornecedores WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-07 00:53:55] [DATABASE ERROR] Preparando query: SELECT * FROM tipos_movimentacao com parâmetros: []
[2025-09-07 00:53:55] [DATABASE ERROR] Debug PDO após binding: SQL: [32] SELECT * FROM tipos_movimentacao
Params:  0

[2025-09-07 00:54:03] [DATABASE ERROR] Preparando query: 
            SELECT 
                p.id, 
                p.nome, 
                p.estoque_atual, 
                c.nome AS categoria, 
                f.razao_social AS fornecedor
            FROM produtos p
            LEFT JOIN categorias c ON p.categoria_id = c.id
            LEFT JOIN fornecedores f ON p.fornecedor_principal_id = f.id
            WHERE p.ativo = TRUE
                AND (:produto_id_null IS NULL OR p.id = :produto_id)
                AND (:categoria_id_null IS NULL OR p.categoria_id = :categoria_id)
                AND (:fornecedor_id_null IS NULL OR p.fornecedor_principal_id = :fornecedor_id)
            ORDER BY p.nome ASC;
         com parâmetros: {":produto_id_null":null,":produto_id":null,":categoria_id_null":null,":categoria_id":null,":fornecedor_id_null":null,":fornecedor_id":null}
[2025-09-07 00:54:03] [DATABASE ERROR] Parâmetro associado: :produto_id_null = NULL (tipo: 0)
[2025-09-07 00:54:03] [DATABASE ERROR] Parâmetro associado: :produto_id = NULL (tipo: 0)
[2025-09-07 00:54:03] [DATABASE ERROR] Parâmetro associado: :categoria_id_null = NULL (tipo: 0)
[2025-09-07 00:54:03] [DATABASE ERROR] Parâmetro associado: :categoria_id = NULL (tipo: 0)
[2025-09-07 00:54:03] [DATABASE ERROR] Parâmetro associado: :fornecedor_id_null = NULL (tipo: 0)
[2025-09-07 00:54:03] [DATABASE ERROR] Parâmetro associado: :fornecedor_id = NULL (tipo: 0)
[2025-09-07 00:54:03] [DATABASE ERROR] Debug PDO após binding: SQL: [684] 
            SELECT 
                p.id, 
                p.nome, 
                p.estoque_atual, 
                c.nome AS categoria, 
                f.razao_social AS fornecedor
            FROM produtos p
            LEFT JOIN categorias c ON p.categoria_id = c.id
            LEFT JOIN fornecedores f ON p.fornecedor_principal_id = f.id
            WHERE p.ativo = TRUE
                AND (:produto_id_null IS NULL OR p.id = :produto_id)
                AND (:categoria_id_null IS NULL OR p.categoria_id = :categoria_id)
                AND (:fornecedor_id_null IS NULL OR p.fornecedor_principal_id = :fornecedor_id)
            ORDER BY p.nome ASC;
        
Params:  6
Key: Name: [16] :produto_id_null
paramno=0
name=[16] ":produto_id_null"
is_param=1
param_type=0
Key: Name: [11] :produto_id
paramno=1
name=[11] ":produto_id"
is_param=1
param_type=0
Key: Name: [18] :categoria_id_null
paramno=2
name=[18] ":categoria_id_null"
is_param=1
param_type=0
Key: Name: [13] :categoria_id
paramno=3
name=[13] ":categoria_id"
is_param=1
param_type=0
Key: Name: [19] :fornecedor_id_null
paramno=4
name=[19] ":fornecedor_id_null"
is_param=1
param_type=0
Key: Name: [14] :fornecedor_id
paramno=5
name=[14] ":fornecedor_id"
is_param=1
param_type=0

[2025-09-07 00:54:03] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":3,":data_fim_a":"2025-09-10",":data_fim":"2025-09-10"}
[2025-09-07 00:54:03] [DATABASE ERROR] Parâmetro associado: :produto_id = 3 (tipo: 1)
[2025-09-07 00:54:03] [DATABASE ERROR] Parâmetro associado: :data_fim_a = 2025-09-10 (tipo: 2)
[2025-09-07 00:54:03] [DATABASE ERROR] Parâmetro associado: :data_fim = 2025-09-10 (tipo: 2)
[2025-09-07 00:54:03] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=2
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=2

[2025-09-07 00:54:03] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":3}
[2025-09-07 00:54:03] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-07 00:54:03] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-07 00:54:03] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":1,":data_fim_a":"2025-09-10",":data_fim":"2025-09-10"}
[2025-09-07 00:54:03] [DATABASE ERROR] Parâmetro associado: :produto_id = 1 (tipo: 1)
[2025-09-07 00:54:03] [DATABASE ERROR] Parâmetro associado: :data_fim_a = 2025-09-10 (tipo: 2)
[2025-09-07 00:54:03] [DATABASE ERROR] Parâmetro associado: :data_fim = 2025-09-10 (tipo: 2)
[2025-09-07 00:54:03] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=2
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=2

[2025-09-07 00:54:03] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":1}
[2025-09-07 00:54:03] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-09-07 00:54:03] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-07 00:54:03] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":2,":data_fim_a":"2025-09-10",":data_fim":"2025-09-10"}
[2025-09-07 00:54:03] [DATABASE ERROR] Parâmetro associado: :produto_id = 2 (tipo: 1)
[2025-09-07 00:54:03] [DATABASE ERROR] Parâmetro associado: :data_fim_a = 2025-09-10 (tipo: 2)
[2025-09-07 00:54:03] [DATABASE ERROR] Parâmetro associado: :data_fim = 2025-09-10 (tipo: 2)
[2025-09-07 00:54:03] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=2
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=2

[2025-09-07 00:54:03] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":2}
[2025-09-07 00:54:03] [DATABASE ERROR] Parâmetro associado: :id = 2 (tipo: 1)
[2025-09-07 00:54:03] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-07 00:54:33] [DATABASE ERROR] Preparando query: 
            SELECT 
                p.id, 
                p.nome, 
                p.estoque_atual, 
                c.nome AS categoria, 
                f.razao_social AS fornecedor
            FROM produtos p
            LEFT JOIN categorias c ON p.categoria_id = c.id
            LEFT JOIN fornecedores f ON p.fornecedor_principal_id = f.id
            WHERE p.ativo = TRUE
                AND (:produto_id_null IS NULL OR p.id = :produto_id)
                AND (:categoria_id_null IS NULL OR p.categoria_id = :categoria_id)
                AND (:fornecedor_id_null IS NULL OR p.fornecedor_principal_id = :fornecedor_id)
            ORDER BY p.nome ASC;
         com parâmetros: {":produto_id_null":null,":produto_id":null,":categoria_id_null":null,":categoria_id":null,":fornecedor_id_null":null,":fornecedor_id":null}
[2025-09-07 00:54:33] [DATABASE ERROR] Parâmetro associado: :produto_id_null = NULL (tipo: 0)
[2025-09-07 00:54:33] [DATABASE ERROR] Parâmetro associado: :produto_id = NULL (tipo: 0)
[2025-09-07 00:54:33] [DATABASE ERROR] Parâmetro associado: :categoria_id_null = NULL (tipo: 0)
[2025-09-07 00:54:33] [DATABASE ERROR] Parâmetro associado: :categoria_id = NULL (tipo: 0)
[2025-09-07 00:54:33] [DATABASE ERROR] Parâmetro associado: :fornecedor_id_null = NULL (tipo: 0)
[2025-09-07 00:54:33] [DATABASE ERROR] Parâmetro associado: :fornecedor_id = NULL (tipo: 0)
[2025-09-07 00:54:33] [DATABASE ERROR] Debug PDO após binding: SQL: [684] 
            SELECT 
                p.id, 
                p.nome, 
                p.estoque_atual, 
                c.nome AS categoria, 
                f.razao_social AS fornecedor
            FROM produtos p
            LEFT JOIN categorias c ON p.categoria_id = c.id
            LEFT JOIN fornecedores f ON p.fornecedor_principal_id = f.id
            WHERE p.ativo = TRUE
                AND (:produto_id_null IS NULL OR p.id = :produto_id)
                AND (:categoria_id_null IS NULL OR p.categoria_id = :categoria_id)
                AND (:fornecedor_id_null IS NULL OR p.fornecedor_principal_id = :fornecedor_id)
            ORDER BY p.nome ASC;
        
Params:  6
Key: Name: [16] :produto_id_null
paramno=0
name=[16] ":produto_id_null"
is_param=1
param_type=0
Key: Name: [11] :produto_id
paramno=1
name=[11] ":produto_id"
is_param=1
param_type=0
Key: Name: [18] :categoria_id_null
paramno=2
name=[18] ":categoria_id_null"
is_param=1
param_type=0
Key: Name: [13] :categoria_id
paramno=3
name=[13] ":categoria_id"
is_param=1
param_type=0
Key: Name: [19] :fornecedor_id_null
paramno=4
name=[19] ":fornecedor_id_null"
is_param=1
param_type=0
Key: Name: [14] :fornecedor_id
paramno=5
name=[14] ":fornecedor_id"
is_param=1
param_type=0

[2025-09-07 00:54:33] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":3,":data_fim_a":"2025-09-10",":data_fim":"2025-09-10"}
[2025-09-07 00:54:33] [DATABASE ERROR] Parâmetro associado: :produto_id = 3 (tipo: 1)
[2025-09-07 00:54:33] [DATABASE ERROR] Parâmetro associado: :data_fim_a = 2025-09-10 (tipo: 2)
[2025-09-07 00:54:33] [DATABASE ERROR] Parâmetro associado: :data_fim = 2025-09-10 (tipo: 2)
[2025-09-07 00:54:33] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=2
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=2

[2025-09-07 00:54:33] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":3}
[2025-09-07 00:54:33] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-07 00:54:33] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-07 00:54:33] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":1,":data_fim_a":"2025-09-10",":data_fim":"2025-09-10"}
[2025-09-07 00:54:33] [DATABASE ERROR] Parâmetro associado: :produto_id = 1 (tipo: 1)
[2025-09-07 00:54:33] [DATABASE ERROR] Parâmetro associado: :data_fim_a = 2025-09-10 (tipo: 2)
[2025-09-07 00:54:33] [DATABASE ERROR] Parâmetro associado: :data_fim = 2025-09-10 (tipo: 2)
[2025-09-07 00:54:33] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=2
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=2

[2025-09-07 00:54:33] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":1}
[2025-09-07 00:54:33] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-09-07 00:54:33] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-07 00:54:33] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":2,":data_fim_a":"2025-09-10",":data_fim":"2025-09-10"}
[2025-09-07 00:54:33] [DATABASE ERROR] Parâmetro associado: :produto_id = 2 (tipo: 1)
[2025-09-07 00:54:33] [DATABASE ERROR] Parâmetro associado: :data_fim_a = 2025-09-10 (tipo: 2)
[2025-09-07 00:54:33] [DATABASE ERROR] Parâmetro associado: :data_fim = 2025-09-10 (tipo: 2)
[2025-09-07 00:54:33] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=2
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=2

[2025-09-07 00:54:33] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":2}
[2025-09-07 00:54:33] [DATABASE ERROR] Parâmetro associado: :id = 2 (tipo: 1)
[2025-09-07 00:54:33] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-07 00:54:37] [DATABASE ERROR] Preparando query: 
            SELECT 
                p.id, 
                p.nome, 
                p.estoque_atual, 
                c.nome AS categoria, 
                f.razao_social AS fornecedor
            FROM produtos p
            LEFT JOIN categorias c ON p.categoria_id = c.id
            LEFT JOIN fornecedores f ON p.fornecedor_principal_id = f.id
            WHERE p.ativo = TRUE
                AND (:produto_id_null IS NULL OR p.id = :produto_id)
                AND (:categoria_id_null IS NULL OR p.categoria_id = :categoria_id)
                AND (:fornecedor_id_null IS NULL OR p.fornecedor_principal_id = :fornecedor_id)
            ORDER BY p.nome ASC;
         com parâmetros: {":produto_id_null":null,":produto_id":null,":categoria_id_null":null,":categoria_id":null,":fornecedor_id_null":null,":fornecedor_id":null}
[2025-09-07 00:54:37] [DATABASE ERROR] Parâmetro associado: :produto_id_null = NULL (tipo: 0)
[2025-09-07 00:54:37] [DATABASE ERROR] Parâmetro associado: :produto_id = NULL (tipo: 0)
[2025-09-07 00:54:37] [DATABASE ERROR] Parâmetro associado: :categoria_id_null = NULL (tipo: 0)
[2025-09-07 00:54:37] [DATABASE ERROR] Parâmetro associado: :categoria_id = NULL (tipo: 0)
[2025-09-07 00:54:37] [DATABASE ERROR] Parâmetro associado: :fornecedor_id_null = NULL (tipo: 0)
[2025-09-07 00:54:37] [DATABASE ERROR] Parâmetro associado: :fornecedor_id = NULL (tipo: 0)
[2025-09-07 00:54:37] [DATABASE ERROR] Debug PDO após binding: SQL: [684] 
            SELECT 
                p.id, 
                p.nome, 
                p.estoque_atual, 
                c.nome AS categoria, 
                f.razao_social AS fornecedor
            FROM produtos p
            LEFT JOIN categorias c ON p.categoria_id = c.id
            LEFT JOIN fornecedores f ON p.fornecedor_principal_id = f.id
            WHERE p.ativo = TRUE
                AND (:produto_id_null IS NULL OR p.id = :produto_id)
                AND (:categoria_id_null IS NULL OR p.categoria_id = :categoria_id)
                AND (:fornecedor_id_null IS NULL OR p.fornecedor_principal_id = :fornecedor_id)
            ORDER BY p.nome ASC;
        
Params:  6
Key: Name: [16] :produto_id_null
paramno=0
name=[16] ":produto_id_null"
is_param=1
param_type=0
Key: Name: [11] :produto_id
paramno=1
name=[11] ":produto_id"
is_param=1
param_type=0
Key: Name: [18] :categoria_id_null
paramno=2
name=[18] ":categoria_id_null"
is_param=1
param_type=0
Key: Name: [13] :categoria_id
paramno=3
name=[13] ":categoria_id"
is_param=1
param_type=0
Key: Name: [19] :fornecedor_id_null
paramno=4
name=[19] ":fornecedor_id_null"
is_param=1
param_type=0
Key: Name: [14] :fornecedor_id
paramno=5
name=[14] ":fornecedor_id"
is_param=1
param_type=0

[2025-09-07 00:54:37] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":3,":data_fim_a":"2025-09-10",":data_fim":"2025-09-10"}
[2025-09-07 00:54:37] [DATABASE ERROR] Parâmetro associado: :produto_id = 3 (tipo: 1)
[2025-09-07 00:54:37] [DATABASE ERROR] Parâmetro associado: :data_fim_a = 2025-09-10 (tipo: 2)
[2025-09-07 00:54:37] [DATABASE ERROR] Parâmetro associado: :data_fim = 2025-09-10 (tipo: 2)
[2025-09-07 00:54:37] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=2
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=2

[2025-09-07 00:54:37] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":3}
[2025-09-07 00:54:37] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-07 00:54:37] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-07 00:54:37] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":1,":data_fim_a":"2025-09-10",":data_fim":"2025-09-10"}
[2025-09-07 00:54:37] [DATABASE ERROR] Parâmetro associado: :produto_id = 1 (tipo: 1)
[2025-09-07 00:54:37] [DATABASE ERROR] Parâmetro associado: :data_fim_a = 2025-09-10 (tipo: 2)
[2025-09-07 00:54:37] [DATABASE ERROR] Parâmetro associado: :data_fim = 2025-09-10 (tipo: 2)
[2025-09-07 00:54:37] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=2
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=2

[2025-09-07 00:54:37] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":1}
[2025-09-07 00:54:37] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-09-07 00:54:37] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-07 00:54:37] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":2,":data_fim_a":"2025-09-10",":data_fim":"2025-09-10"}
[2025-09-07 00:54:37] [DATABASE ERROR] Parâmetro associado: :produto_id = 2 (tipo: 1)
[2025-09-07 00:54:37] [DATABASE ERROR] Parâmetro associado: :data_fim_a = 2025-09-10 (tipo: 2)
[2025-09-07 00:54:37] [DATABASE ERROR] Parâmetro associado: :data_fim = 2025-09-10 (tipo: 2)
[2025-09-07 00:54:37] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=2
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=2

[2025-09-07 00:54:37] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":2}
[2025-09-07 00:54:37] [DATABASE ERROR] Parâmetro associado: :id = 2 (tipo: 1)
[2025-09-07 00:54:37] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-07 00:54:45] [DATABASE ERROR] Preparando query: 
            SELECT 
                p.id, 
                p.nome, 
                p.estoque_atual, 
                c.nome AS categoria, 
                f.razao_social AS fornecedor
            FROM produtos p
            LEFT JOIN categorias c ON p.categoria_id = c.id
            LEFT JOIN fornecedores f ON p.fornecedor_principal_id = f.id
            WHERE p.ativo = TRUE
                AND (:produto_id_null IS NULL OR p.id = :produto_id)
                AND (:categoria_id_null IS NULL OR p.categoria_id = :categoria_id)
                AND (:fornecedor_id_null IS NULL OR p.fornecedor_principal_id = :fornecedor_id)
            ORDER BY p.nome ASC;
         com parâmetros: {":produto_id_null":null,":produto_id":null,":categoria_id_null":null,":categoria_id":null,":fornecedor_id_null":null,":fornecedor_id":null}
[2025-09-07 00:54:45] [DATABASE ERROR] Parâmetro associado: :produto_id_null = NULL (tipo: 0)
[2025-09-07 00:54:45] [DATABASE ERROR] Parâmetro associado: :produto_id = NULL (tipo: 0)
[2025-09-07 00:54:45] [DATABASE ERROR] Parâmetro associado: :categoria_id_null = NULL (tipo: 0)
[2025-09-07 00:54:45] [DATABASE ERROR] Parâmetro associado: :categoria_id = NULL (tipo: 0)
[2025-09-07 00:54:45] [DATABASE ERROR] Parâmetro associado: :fornecedor_id_null = NULL (tipo: 0)
[2025-09-07 00:54:45] [DATABASE ERROR] Parâmetro associado: :fornecedor_id = NULL (tipo: 0)
[2025-09-07 00:54:45] [DATABASE ERROR] Debug PDO após binding: SQL: [684] 
            SELECT 
                p.id, 
                p.nome, 
                p.estoque_atual, 
                c.nome AS categoria, 
                f.razao_social AS fornecedor
            FROM produtos p
            LEFT JOIN categorias c ON p.categoria_id = c.id
            LEFT JOIN fornecedores f ON p.fornecedor_principal_id = f.id
            WHERE p.ativo = TRUE
                AND (:produto_id_null IS NULL OR p.id = :produto_id)
                AND (:categoria_id_null IS NULL OR p.categoria_id = :categoria_id)
                AND (:fornecedor_id_null IS NULL OR p.fornecedor_principal_id = :fornecedor_id)
            ORDER BY p.nome ASC;
        
Params:  6
Key: Name: [16] :produto_id_null
paramno=0
name=[16] ":produto_id_null"
is_param=1
param_type=0
Key: Name: [11] :produto_id
paramno=1
name=[11] ":produto_id"
is_param=1
param_type=0
Key: Name: [18] :categoria_id_null
paramno=2
name=[18] ":categoria_id_null"
is_param=1
param_type=0
Key: Name: [13] :categoria_id
paramno=3
name=[13] ":categoria_id"
is_param=1
param_type=0
Key: Name: [19] :fornecedor_id_null
paramno=4
name=[19] ":fornecedor_id_null"
is_param=1
param_type=0
Key: Name: [14] :fornecedor_id
paramno=5
name=[14] ":fornecedor_id"
is_param=1
param_type=0

[2025-09-07 00:54:45] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":3,":data_fim_a":"2025-09-10",":data_fim":"2025-09-10"}
[2025-09-07 00:54:45] [DATABASE ERROR] Parâmetro associado: :produto_id = 3 (tipo: 1)
[2025-09-07 00:54:45] [DATABASE ERROR] Parâmetro associado: :data_fim_a = 2025-09-10 (tipo: 2)
[2025-09-07 00:54:45] [DATABASE ERROR] Parâmetro associado: :data_fim = 2025-09-10 (tipo: 2)
[2025-09-07 00:54:45] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=2
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=2

[2025-09-07 00:54:45] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":3}
[2025-09-07 00:54:45] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-07 00:54:45] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-07 00:54:45] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":1,":data_fim_a":"2025-09-10",":data_fim":"2025-09-10"}
[2025-09-07 00:54:45] [DATABASE ERROR] Parâmetro associado: :produto_id = 1 (tipo: 1)
[2025-09-07 00:54:45] [DATABASE ERROR] Parâmetro associado: :data_fim_a = 2025-09-10 (tipo: 2)
[2025-09-07 00:54:45] [DATABASE ERROR] Parâmetro associado: :data_fim = 2025-09-10 (tipo: 2)
[2025-09-07 00:54:45] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=2
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=2

[2025-09-07 00:54:45] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":1}
[2025-09-07 00:54:45] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-09-07 00:54:45] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-07 00:54:45] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":2,":data_fim_a":"2025-09-10",":data_fim":"2025-09-10"}
[2025-09-07 00:54:45] [DATABASE ERROR] Parâmetro associado: :produto_id = 2 (tipo: 1)
[2025-09-07 00:54:45] [DATABASE ERROR] Parâmetro associado: :data_fim_a = 2025-09-10 (tipo: 2)
[2025-09-07 00:54:45] [DATABASE ERROR] Parâmetro associado: :data_fim = 2025-09-10 (tipo: 2)
[2025-09-07 00:54:45] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=2
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=2

[2025-09-07 00:54:45] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":2}
[2025-09-07 00:54:45] [DATABASE ERROR] Parâmetro associado: :id = 2 (tipo: 1)
[2025-09-07 00:54:45] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-07 00:54:59] [DATABASE ERROR] Preparando query: 
            SELECT 
                p.id, 
                p.nome, 
                p.estoque_atual, 
                c.nome AS categoria, 
                f.razao_social AS fornecedor
            FROM produtos p
            LEFT JOIN categorias c ON p.categoria_id = c.id
            LEFT JOIN fornecedores f ON p.fornecedor_principal_id = f.id
            WHERE p.ativo = TRUE
                AND (:produto_id_null IS NULL OR p.id = :produto_id)
                AND (:categoria_id_null IS NULL OR p.categoria_id = :categoria_id)
                AND (:fornecedor_id_null IS NULL OR p.fornecedor_principal_id = :fornecedor_id)
            ORDER BY p.nome ASC;
         com parâmetros: {":produto_id_null":null,":produto_id":null,":categoria_id_null":null,":categoria_id":null,":fornecedor_id_null":null,":fornecedor_id":null}
[2025-09-07 00:54:59] [DATABASE ERROR] Parâmetro associado: :produto_id_null = NULL (tipo: 0)
[2025-09-07 00:54:59] [DATABASE ERROR] Parâmetro associado: :produto_id = NULL (tipo: 0)
[2025-09-07 00:54:59] [DATABASE ERROR] Parâmetro associado: :categoria_id_null = NULL (tipo: 0)
[2025-09-07 00:54:59] [DATABASE ERROR] Parâmetro associado: :categoria_id = NULL (tipo: 0)
[2025-09-07 00:54:59] [DATABASE ERROR] Parâmetro associado: :fornecedor_id_null = NULL (tipo: 0)
[2025-09-07 00:54:59] [DATABASE ERROR] Parâmetro associado: :fornecedor_id = NULL (tipo: 0)
[2025-09-07 00:54:59] [DATABASE ERROR] Debug PDO após binding: SQL: [684] 
            SELECT 
                p.id, 
                p.nome, 
                p.estoque_atual, 
                c.nome AS categoria, 
                f.razao_social AS fornecedor
            FROM produtos p
            LEFT JOIN categorias c ON p.categoria_id = c.id
            LEFT JOIN fornecedores f ON p.fornecedor_principal_id = f.id
            WHERE p.ativo = TRUE
                AND (:produto_id_null IS NULL OR p.id = :produto_id)
                AND (:categoria_id_null IS NULL OR p.categoria_id = :categoria_id)
                AND (:fornecedor_id_null IS NULL OR p.fornecedor_principal_id = :fornecedor_id)
            ORDER BY p.nome ASC;
        
Params:  6
Key: Name: [16] :produto_id_null
paramno=0
name=[16] ":produto_id_null"
is_param=1
param_type=0
Key: Name: [11] :produto_id
paramno=1
name=[11] ":produto_id"
is_param=1
param_type=0
Key: Name: [18] :categoria_id_null
paramno=2
name=[18] ":categoria_id_null"
is_param=1
param_type=0
Key: Name: [13] :categoria_id
paramno=3
name=[13] ":categoria_id"
is_param=1
param_type=0
Key: Name: [19] :fornecedor_id_null
paramno=4
name=[19] ":fornecedor_id_null"
is_param=1
param_type=0
Key: Name: [14] :fornecedor_id
paramno=5
name=[14] ":fornecedor_id"
is_param=1
param_type=0

[2025-09-07 00:54:59] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":3,":data_fim_a":"2025-09-10",":data_fim":"2025-09-10"}
[2025-09-07 00:54:59] [DATABASE ERROR] Parâmetro associado: :produto_id = 3 (tipo: 1)
[2025-09-07 00:54:59] [DATABASE ERROR] Parâmetro associado: :data_fim_a = 2025-09-10 (tipo: 2)
[2025-09-07 00:54:59] [DATABASE ERROR] Parâmetro associado: :data_fim = 2025-09-10 (tipo: 2)
[2025-09-07 00:54:59] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=2
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=2

[2025-09-07 00:54:59] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":3}
[2025-09-07 00:54:59] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-07 00:54:59] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-07 00:54:59] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":1,":data_fim_a":"2025-09-10",":data_fim":"2025-09-10"}
[2025-09-07 00:54:59] [DATABASE ERROR] Parâmetro associado: :produto_id = 1 (tipo: 1)
[2025-09-07 00:54:59] [DATABASE ERROR] Parâmetro associado: :data_fim_a = 2025-09-10 (tipo: 2)
[2025-09-07 00:54:59] [DATABASE ERROR] Parâmetro associado: :data_fim = 2025-09-10 (tipo: 2)
[2025-09-07 00:54:59] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=2
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=2

[2025-09-07 00:54:59] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":1}
[2025-09-07 00:54:59] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-09-07 00:54:59] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-07 00:54:59] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":2,":data_fim_a":"2025-09-10",":data_fim":"2025-09-10"}
[2025-09-07 00:54:59] [DATABASE ERROR] Parâmetro associado: :produto_id = 2 (tipo: 1)
[2025-09-07 00:54:59] [DATABASE ERROR] Parâmetro associado: :data_fim_a = 2025-09-10 (tipo: 2)
[2025-09-07 00:54:59] [DATABASE ERROR] Parâmetro associado: :data_fim = 2025-09-10 (tipo: 2)
[2025-09-07 00:54:59] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=2
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=2

[2025-09-07 00:54:59] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":2}
[2025-09-07 00:54:59] [DATABASE ERROR] Parâmetro associado: :id = 2 (tipo: 1)
[2025-09-07 00:54:59] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-07 00:55:19] [DATABASE ERROR] Preparando query: 
            SELECT 
                p.id, 
                p.nome, 
                p.estoque_atual, 
                c.nome AS categoria, 
                f.razao_social AS fornecedor
            FROM produtos p
            LEFT JOIN categorias c ON p.categoria_id = c.id
            LEFT JOIN fornecedores f ON p.fornecedor_principal_id = f.id
            WHERE p.ativo = TRUE
                AND (:produto_id_null IS NULL OR p.id = :produto_id)
                AND (:categoria_id_null IS NULL OR p.categoria_id = :categoria_id)
                AND (:fornecedor_id_null IS NULL OR p.fornecedor_principal_id = :fornecedor_id)
            ORDER BY p.nome ASC;
         com parâmetros: {":produto_id_null":null,":produto_id":null,":categoria_id_null":null,":categoria_id":null,":fornecedor_id_null":null,":fornecedor_id":null}
[2025-09-07 00:55:19] [DATABASE ERROR] Parâmetro associado: :produto_id_null = NULL (tipo: 0)
[2025-09-07 00:55:19] [DATABASE ERROR] Parâmetro associado: :produto_id = NULL (tipo: 0)
[2025-09-07 00:55:19] [DATABASE ERROR] Parâmetro associado: :categoria_id_null = NULL (tipo: 0)
[2025-09-07 00:55:19] [DATABASE ERROR] Parâmetro associado: :categoria_id = NULL (tipo: 0)
[2025-09-07 00:55:19] [DATABASE ERROR] Parâmetro associado: :fornecedor_id_null = NULL (tipo: 0)
[2025-09-07 00:55:19] [DATABASE ERROR] Parâmetro associado: :fornecedor_id = NULL (tipo: 0)
[2025-09-07 00:55:19] [DATABASE ERROR] Debug PDO após binding: SQL: [684] 
            SELECT 
                p.id, 
                p.nome, 
                p.estoque_atual, 
                c.nome AS categoria, 
                f.razao_social AS fornecedor
            FROM produtos p
            LEFT JOIN categorias c ON p.categoria_id = c.id
            LEFT JOIN fornecedores f ON p.fornecedor_principal_id = f.id
            WHERE p.ativo = TRUE
                AND (:produto_id_null IS NULL OR p.id = :produto_id)
                AND (:categoria_id_null IS NULL OR p.categoria_id = :categoria_id)
                AND (:fornecedor_id_null IS NULL OR p.fornecedor_principal_id = :fornecedor_id)
            ORDER BY p.nome ASC;
        
Params:  6
Key: Name: [16] :produto_id_null
paramno=0
name=[16] ":produto_id_null"
is_param=1
param_type=0
Key: Name: [11] :produto_id
paramno=1
name=[11] ":produto_id"
is_param=1
param_type=0
Key: Name: [18] :categoria_id_null
paramno=2
name=[18] ":categoria_id_null"
is_param=1
param_type=0
Key: Name: [13] :categoria_id
paramno=3
name=[13] ":categoria_id"
is_param=1
param_type=0
Key: Name: [19] :fornecedor_id_null
paramno=4
name=[19] ":fornecedor_id_null"
is_param=1
param_type=0
Key: Name: [14] :fornecedor_id
paramno=5
name=[14] ":fornecedor_id"
is_param=1
param_type=0

[2025-09-07 00:55:19] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":3,":data_fim_a":"2025-09-10",":data_fim":"2025-09-10"}
[2025-09-07 00:55:19] [DATABASE ERROR] Parâmetro associado: :produto_id = 3 (tipo: 1)
[2025-09-07 00:55:19] [DATABASE ERROR] Parâmetro associado: :data_fim_a = 2025-09-10 (tipo: 2)
[2025-09-07 00:55:19] [DATABASE ERROR] Parâmetro associado: :data_fim = 2025-09-10 (tipo: 2)
[2025-09-07 00:55:19] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=2
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=2

[2025-09-07 00:55:19] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":3}
[2025-09-07 00:55:19] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-07 00:55:19] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-07 00:55:19] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":1,":data_fim_a":"2025-09-10",":data_fim":"2025-09-10"}
[2025-09-07 00:55:19] [DATABASE ERROR] Parâmetro associado: :produto_id = 1 (tipo: 1)
[2025-09-07 00:55:19] [DATABASE ERROR] Parâmetro associado: :data_fim_a = 2025-09-10 (tipo: 2)
[2025-09-07 00:55:19] [DATABASE ERROR] Parâmetro associado: :data_fim = 2025-09-10 (tipo: 2)
[2025-09-07 00:55:19] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=2
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=2

[2025-09-07 00:55:19] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":1}
[2025-09-07 00:55:19] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-09-07 00:55:19] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-07 00:55:19] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":2,":data_fim_a":"2025-09-10",":data_fim":"2025-09-10"}
[2025-09-07 00:55:19] [DATABASE ERROR] Parâmetro associado: :produto_id = 2 (tipo: 1)
[2025-09-07 00:55:19] [DATABASE ERROR] Parâmetro associado: :data_fim_a = 2025-09-10 (tipo: 2)
[2025-09-07 00:55:19] [DATABASE ERROR] Parâmetro associado: :data_fim = 2025-09-10 (tipo: 2)
[2025-09-07 00:55:19] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=2
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=2

[2025-09-07 00:55:19] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":2}
[2025-09-07 00:55:19] [DATABASE ERROR] Parâmetro associado: :id = 2 (tipo: 1)
[2025-09-07 00:55:19] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-07 00:55:56] [DATABASE ERROR] Preparando query: SELECT id, codigo, nome, estoque_atual, estoque_minimo, categoria, fornecedor 
                    FROM vw_produtos_estoque_critico 
                    ORDER BY estoque_atual ASC 
                    LIMIT 10 com parâmetros: []
[2025-09-07 00:55:56] [DATABASE ERROR] Debug PDO após binding: SQL: [212] SELECT id, codigo, nome, estoque_atual, estoque_minimo, categoria, fornecedor 
                    FROM vw_produtos_estoque_critico 
                    ORDER BY estoque_atual ASC 
                    LIMIT 10
Params:  0

[2025-09-07 00:55:56] [DATABASE ERROR] Preparando query: 
                SELECT 
                    DATE_FORMAT(m.data_movimentacao, '%Y-%m') as periodo,
                    tm.tipo,
                    SUM(mi.quantidade) as total_quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                WHERE m.status = 'PROCESSADO'
                    AND m.data_movimentacao >= DATE_SUB(CURDATE(), INTERVAL 6 MONTH)
                GROUP BY periodo, tm.tipo
                ORDER BY periodo ASC com parâmetros: []
[2025-09-07 00:55:56] [DATABASE ERROR] Debug PDO após binding: SQL: [593] 
                SELECT 
                    DATE_FORMAT(m.data_movimentacao, '%Y-%m') as periodo,
                    tm.tipo,
                    SUM(mi.quantidade) as total_quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                WHERE m.status = 'PROCESSADO'
                    AND m.data_movimentacao >= DATE_SUB(CURDATE(), INTERVAL 6 MONTH)
                GROUP BY periodo, tm.tipo
                ORDER BY periodo ASC
Params:  0

[2025-09-07 00:55:56] [DATABASE ERROR] Preparando query: SELECT SUM(estoque_atual) as total_estoque FROM produtos WHERE ativo = TRUE com parâmetros: []
[2025-09-07 00:55:56] [DATABASE ERROR] Debug PDO após binding: SQL: [75] SELECT SUM(estoque_atual) as total_estoque FROM produtos WHERE ativo = TRUE
Params:  0

[2025-09-07 00:55:56] [DATABASE ERROR] Preparando query: SELECT id FROM produtos WHERE ativo = TRUE com parâmetros: []
[2025-09-07 00:55:57] [DATABASE ERROR] Debug PDO após binding: SQL: [42] SELECT id FROM produtos WHERE ativo = TRUE
Params:  0

[2025-09-07 00:55:57] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":1,":data_fim_a":null,":data_fim":null}
[2025-09-07 00:55:57] [DATABASE ERROR] Parâmetro associado: :produto_id = 1 (tipo: 1)
[2025-09-07 00:55:57] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-09-07 00:55:57] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-09-07 00:55:57] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-09-07 00:55:57] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":1}
[2025-09-07 00:55:57] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-09-07 00:55:57] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-07 00:55:57] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":2,":data_fim_a":null,":data_fim":null}
[2025-09-07 00:55:57] [DATABASE ERROR] Parâmetro associado: :produto_id = 2 (tipo: 1)
[2025-09-07 00:55:57] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-09-07 00:55:57] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-09-07 00:55:57] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-09-07 00:55:57] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":2}
[2025-09-07 00:55:57] [DATABASE ERROR] Parâmetro associado: :id = 2 (tipo: 1)
[2025-09-07 00:55:57] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-07 00:55:57] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":3,":data_fim_a":null,":data_fim":null}
[2025-09-07 00:55:57] [DATABASE ERROR] Parâmetro associado: :produto_id = 3 (tipo: 1)
[2025-09-07 00:55:57] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-09-07 00:55:57] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-09-07 00:55:57] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-09-07 00:55:57] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":3}
[2025-09-07 00:55:57] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-07 00:55:57] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-07 00:55:57] [DATABASE ERROR] Preparando query: SELECT id, tipo, categoria, documento_numero, data_movimentacao, valor_total, fornecedor, usuario 
                    FROM vw_movimentacoes_recentes 
                    ORDER BY data_movimentacao DESC 
                    LIMIT 10 com parâmetros: []
[2025-09-07 00:55:57] [DATABASE ERROR] Debug PDO após binding: SQL: [235] SELECT id, tipo, categoria, documento_numero, data_movimentacao, valor_total, fornecedor, usuario 
                    FROM vw_movimentacoes_recentes 
                    ORDER BY data_movimentacao DESC 
                    LIMIT 10
Params:  0

[2025-09-07 00:56:02] [DATABASE ERROR] Parâmetro associado: :user_id = 1 (tipo: 1)
[2025-09-07 00:56:02] [DATABASE ERROR] Parâmetro associado: :tabela = usuarios (tipo: 2)
[2025-09-07 00:56:02] [DATABASE ERROR] Parâmetro associado: :registro_id = NULL (tipo: 0)
[2025-09-07 00:56:02] [DATABASE ERROR] Parâmetro associado: :acao = LOGOUT (tipo: 2)
[2025-09-07 00:56:02] [DATABASE ERROR] Parâmetro associado: :dados_anteriores = NULL (tipo: 0)
[2025-09-07 00:56:02] [DATABASE ERROR] Parâmetro associado: :dados_novos = NULL (tipo: 0)
[2025-09-07 00:56:02] [DATABASE ERROR] Parâmetro associado: :usuario_id = NULL (tipo: 0)
[2025-09-07 00:56:02] [DATABASE ERROR] Parâmetro associado: :ip_address = ::1 (tipo: 2)
[2025-09-07 00:56:02] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36 Edg/139.0.0.0 (tipo: 2)
[2025-09-07 00:56:02] [DATABASE ERROR] Erro ao executar query: SQLSTATE[23000]: Integrity constraint violation: 1048 Column 'registro_id' cannot be null
[2025-09-07 00:56:07] [DATABASE ERROR] Parâmetro associado: :username = Flávio (tipo: 2)
[2025-09-07 00:56:07] [DATABASE ERROR] Parâmetro associado: :email = Flávio (tipo: 2)
[2025-09-07 00:56:07] [DATABASE ERROR] Preparando query: UPDATE usuarios SET ultimo_acesso = NOW() WHERE id = :id com parâmetros: {":id":2}
[2025-09-07 00:56:07] [DATABASE ERROR] Parâmetro associado: :id = 2 (tipo: 1)
[2025-09-07 00:56:07] [DATABASE ERROR] Debug PDO após binding: SQL: [56] UPDATE usuarios SET ultimo_acesso = NOW() WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-07 00:56:07] [DATABASE ERROR] Parâmetro associado: :tabela = usuarios (tipo: 2)
[2025-09-07 00:56:07] [DATABASE ERROR] Parâmetro associado: :registro_id = 2 (tipo: 1)
[2025-09-07 00:56:07] [DATABASE ERROR] Parâmetro associado: :acao = LOGIN (tipo: 2)
[2025-09-07 00:56:07] [DATABASE ERROR] Parâmetro associado: :dados_anteriores = NULL (tipo: 0)
[2025-09-07 00:56:07] [DATABASE ERROR] Parâmetro associado: :dados_novos = NULL (tipo: 0)
[2025-09-07 00:56:07] [DATABASE ERROR] Parâmetro associado: :usuario_id = NULL (tipo: 0)
[2025-09-07 00:56:07] [DATABASE ERROR] Parâmetro associado: :ip_address = ::1 (tipo: 2)
[2025-09-07 00:56:07] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36 Edg/139.0.0.0 (tipo: 2)
[2025-09-07 00:56:07] [DATABASE ERROR] Parâmetro associado: :id = k6od1rnbus1eb2ljmr1ijkof3p (tipo: 2)
[2025-09-07 00:56:07] [DATABASE ERROR] Parâmetro associado: :id = k6od1rnbus1eb2ljmr1ijkof3p (tipo: 2)
[2025-09-07 00:56:07] [DATABASE ERROR] Parâmetro associado: :usuario_id = 2 (tipo: 1)
[2025-09-07 00:56:07] [DATABASE ERROR] Parâmetro associado: :ip_address = ::1 (tipo: 2)
[2025-09-07 00:56:07] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36 Edg/139.0.0.0 (tipo: 2)
[2025-09-07 00:56:07] [DATABASE ERROR] Parâmetro associado: :dados = {"user_id":2,"user_name":"Fl\u00e1vio","user_email":"flavioafj2@yahoo.com.br","user_profile":2,"user_profile_name":"Operador","logged_in":true,"login_time":1757217367} (tipo: 2)
[2025-09-07 01:00:06] [DATABASE ERROR] Parâmetro associado: :user_id = 2 (tipo: 1)
[2025-09-07 01:00:06] [DATABASE ERROR] Parâmetro associado: :tabela = usuarios (tipo: 2)
[2025-09-07 01:00:06] [DATABASE ERROR] Parâmetro associado: :registro_id = NULL (tipo: 0)
[2025-09-07 01:00:06] [DATABASE ERROR] Parâmetro associado: :acao = LOGOUT (tipo: 2)
[2025-09-07 01:00:06] [DATABASE ERROR] Parâmetro associado: :dados_anteriores = NULL (tipo: 0)
[2025-09-07 01:00:06] [DATABASE ERROR] Parâmetro associado: :dados_novos = NULL (tipo: 0)
[2025-09-07 01:00:06] [DATABASE ERROR] Parâmetro associado: :usuario_id = NULL (tipo: 0)
[2025-09-07 01:00:06] [DATABASE ERROR] Parâmetro associado: :ip_address = ::1 (tipo: 2)
[2025-09-07 01:00:06] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36 Edg/139.0.0.0 (tipo: 2)
[2025-09-07 01:00:06] [DATABASE ERROR] Erro ao executar query: SQLSTATE[23000]: Integrity constraint violation: 1048 Column 'registro_id' cannot be null
[2025-09-07 01:00:11] [DATABASE ERROR] Parâmetro associado: :username = admin (tipo: 2)
[2025-09-07 01:00:11] [DATABASE ERROR] Parâmetro associado: :email = admin (tipo: 2)
[2025-09-07 01:00:12] [DATABASE ERROR] Preparando query: UPDATE usuarios SET ultimo_acesso = NOW() WHERE id = :id com parâmetros: {":id":1}
[2025-09-07 01:00:12] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-09-07 01:00:12] [DATABASE ERROR] Debug PDO após binding: SQL: [56] UPDATE usuarios SET ultimo_acesso = NOW() WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-07 01:00:12] [DATABASE ERROR] Parâmetro associado: :tabela = usuarios (tipo: 2)
[2025-09-07 01:00:12] [DATABASE ERROR] Parâmetro associado: :registro_id = 1 (tipo: 1)
[2025-09-07 01:00:12] [DATABASE ERROR] Parâmetro associado: :acao = LOGIN (tipo: 2)
[2025-09-07 01:00:12] [DATABASE ERROR] Parâmetro associado: :dados_anteriores = NULL (tipo: 0)
[2025-09-07 01:00:12] [DATABASE ERROR] Parâmetro associado: :dados_novos = NULL (tipo: 0)
[2025-09-07 01:00:12] [DATABASE ERROR] Parâmetro associado: :usuario_id = NULL (tipo: 0)
[2025-09-07 01:00:12] [DATABASE ERROR] Parâmetro associado: :ip_address = ::1 (tipo: 2)
[2025-09-07 01:00:12] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36 Edg/139.0.0.0 (tipo: 2)
[2025-09-07 01:00:12] [DATABASE ERROR] Parâmetro associado: :id = 7nuic8ikbueki46g503lmpd1tc (tipo: 2)
[2025-09-07 01:00:12] [DATABASE ERROR] Parâmetro associado: :id = 7nuic8ikbueki46g503lmpd1tc (tipo: 2)
[2025-09-07 01:00:12] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-09-07 01:00:12] [DATABASE ERROR] Parâmetro associado: :ip_address = ::1 (tipo: 2)
[2025-09-07 01:00:12] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36 Edg/139.0.0.0 (tipo: 2)
[2025-09-07 01:00:12] [DATABASE ERROR] Parâmetro associado: :dados = {"user_id":1,"user_name":"Administrador do Sistema","user_email":"flavioafj@yahoo.com.br","user_profile":1,"user_profile_name":"Administrador","logged_in":true,"login_time":1757217612} (tipo: 2)
[2025-09-07 01:00:12] [DATABASE ERROR] Preparando query: SELECT SUM(estoque_atual) as total_estoque FROM produtos WHERE ativo = TRUE com parâmetros: []
[2025-09-07 01:00:12] [DATABASE ERROR] Debug PDO após binding: SQL: [75] SELECT SUM(estoque_atual) as total_estoque FROM produtos WHERE ativo = TRUE
Params:  0

[2025-09-07 01:00:12] [DATABASE ERROR] Preparando query: SELECT id FROM produtos WHERE ativo = TRUE com parâmetros: []
[2025-09-07 01:00:12] [DATABASE ERROR] Debug PDO após binding: SQL: [42] SELECT id FROM produtos WHERE ativo = TRUE
Params:  0

[2025-09-07 01:00:12] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":1,":data_fim_a":null,":data_fim":null}
[2025-09-07 01:00:12] [DATABASE ERROR] Parâmetro associado: :produto_id = 1 (tipo: 1)
[2025-09-07 01:00:12] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-09-07 01:00:12] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-09-07 01:00:12] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-09-07 01:00:12] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":1}
[2025-09-07 01:00:12] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-09-07 01:00:12] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-07 01:00:12] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":2,":data_fim_a":null,":data_fim":null}
[2025-09-07 01:00:12] [DATABASE ERROR] Parâmetro associado: :produto_id = 2 (tipo: 1)
[2025-09-07 01:00:12] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-09-07 01:00:12] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-09-07 01:00:12] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-09-07 01:00:12] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":2}
[2025-09-07 01:00:12] [DATABASE ERROR] Parâmetro associado: :id = 2 (tipo: 1)
[2025-09-07 01:00:12] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-07 01:00:12] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":3,":data_fim_a":null,":data_fim":null}
[2025-09-07 01:00:12] [DATABASE ERROR] Parâmetro associado: :produto_id = 3 (tipo: 1)
[2025-09-07 01:00:12] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-09-07 01:00:12] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-09-07 01:00:12] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-09-07 01:00:12] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":3}
[2025-09-07 01:00:12] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-07 01:00:12] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-07 01:00:12] [DATABASE ERROR] Preparando query: SELECT id, tipo, categoria, documento_numero, data_movimentacao, valor_total, fornecedor, usuario 
                    FROM vw_movimentacoes_recentes 
                    ORDER BY data_movimentacao DESC 
                    LIMIT 10 com parâmetros: []
[2025-09-07 01:00:12] [DATABASE ERROR] Debug PDO após binding: SQL: [235] SELECT id, tipo, categoria, documento_numero, data_movimentacao, valor_total, fornecedor, usuario 
                    FROM vw_movimentacoes_recentes 
                    ORDER BY data_movimentacao DESC 
                    LIMIT 10
Params:  0

[2025-09-07 01:00:12] [DATABASE ERROR] Preparando query: 
                SELECT 
                    DATE_FORMAT(m.data_movimentacao, '%Y-%m') as periodo,
                    tm.tipo,
                    SUM(mi.quantidade) as total_quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                WHERE m.status = 'PROCESSADO'
                    AND m.data_movimentacao >= DATE_SUB(CURDATE(), INTERVAL 6 MONTH)
                GROUP BY periodo, tm.tipo
                ORDER BY periodo ASC com parâmetros: []
[2025-09-07 01:00:12] [DATABASE ERROR] Debug PDO após binding: SQL: [593] 
                SELECT 
                    DATE_FORMAT(m.data_movimentacao, '%Y-%m') as periodo,
                    tm.tipo,
                    SUM(mi.quantidade) as total_quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                WHERE m.status = 'PROCESSADO'
                    AND m.data_movimentacao >= DATE_SUB(CURDATE(), INTERVAL 6 MONTH)
                GROUP BY periodo, tm.tipo
                ORDER BY periodo ASC
Params:  0

[2025-09-07 01:00:12] [DATABASE ERROR] Preparando query: SELECT id, codigo, nome, estoque_atual, estoque_minimo, categoria, fornecedor 
                    FROM vw_produtos_estoque_critico 
                    ORDER BY estoque_atual ASC 
                    LIMIT 10 com parâmetros: []
[2025-09-07 01:00:12] [DATABASE ERROR] Debug PDO após binding: SQL: [212] SELECT id, codigo, nome, estoque_atual, estoque_minimo, categoria, fornecedor 
                    FROM vw_produtos_estoque_critico 
                    ORDER BY estoque_atual ASC 
                    LIMIT 10
Params:  0

[2025-09-07 01:00:17] [DATABASE ERROR] Parâmetro associado: :user_id = 1 (tipo: 1)
[2025-09-07 01:00:17] [DATABASE ERROR] Parâmetro associado: :tabela = usuarios (tipo: 2)
[2025-09-07 01:00:17] [DATABASE ERROR] Parâmetro associado: :registro_id = NULL (tipo: 0)
[2025-09-07 01:00:17] [DATABASE ERROR] Parâmetro associado: :acao = LOGOUT (tipo: 2)
[2025-09-07 01:00:17] [DATABASE ERROR] Parâmetro associado: :dados_anteriores = NULL (tipo: 0)
[2025-09-07 01:00:17] [DATABASE ERROR] Parâmetro associado: :dados_novos = NULL (tipo: 0)
[2025-09-07 01:00:17] [DATABASE ERROR] Parâmetro associado: :usuario_id = NULL (tipo: 0)
[2025-09-07 01:00:17] [DATABASE ERROR] Parâmetro associado: :ip_address = ::1 (tipo: 2)
[2025-09-07 01:00:17] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36 Edg/139.0.0.0 (tipo: 2)
[2025-09-07 01:00:17] [DATABASE ERROR] Erro ao executar query: SQLSTATE[23000]: Integrity constraint violation: 1048 Column 'registro_id' cannot be null
[2025-09-07 01:00:22] [DATABASE ERROR] Parâmetro associado: :username = Flávio (tipo: 2)
[2025-09-07 01:00:22] [DATABASE ERROR] Parâmetro associado: :email = Flávio (tipo: 2)
[2025-09-07 01:00:22] [DATABASE ERROR] Preparando query: UPDATE usuarios SET ultimo_acesso = NOW() WHERE id = :id com parâmetros: {":id":2}
[2025-09-07 01:00:22] [DATABASE ERROR] Parâmetro associado: :id = 2 (tipo: 1)
[2025-09-07 01:00:22] [DATABASE ERROR] Debug PDO após binding: SQL: [56] UPDATE usuarios SET ultimo_acesso = NOW() WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-07 01:00:22] [DATABASE ERROR] Parâmetro associado: :tabela = usuarios (tipo: 2)
[2025-09-07 01:00:22] [DATABASE ERROR] Parâmetro associado: :registro_id = 2 (tipo: 1)
[2025-09-07 01:00:22] [DATABASE ERROR] Parâmetro associado: :acao = LOGIN (tipo: 2)
[2025-09-07 01:00:22] [DATABASE ERROR] Parâmetro associado: :dados_anteriores = NULL (tipo: 0)
[2025-09-07 01:00:22] [DATABASE ERROR] Parâmetro associado: :dados_novos = NULL (tipo: 0)
[2025-09-07 01:00:22] [DATABASE ERROR] Parâmetro associado: :usuario_id = NULL (tipo: 0)
[2025-09-07 01:00:22] [DATABASE ERROR] Parâmetro associado: :ip_address = ::1 (tipo: 2)
[2025-09-07 01:00:22] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36 Edg/139.0.0.0 (tipo: 2)
[2025-09-07 01:00:22] [DATABASE ERROR] Parâmetro associado: :id = k2pmlkr05jok34rmm9lcshff0e (tipo: 2)
[2025-09-07 01:00:22] [DATABASE ERROR] Parâmetro associado: :id = k2pmlkr05jok34rmm9lcshff0e (tipo: 2)
[2025-09-07 01:00:22] [DATABASE ERROR] Parâmetro associado: :usuario_id = 2 (tipo: 1)
[2025-09-07 01:00:22] [DATABASE ERROR] Parâmetro associado: :ip_address = ::1 (tipo: 2)
[2025-09-07 01:00:22] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36 Edg/139.0.0.0 (tipo: 2)
[2025-09-07 01:00:22] [DATABASE ERROR] Parâmetro associado: :dados = {"user_id":2,"user_name":"Fl\u00e1vio","user_email":"flavioafj2@yahoo.com.br","user_profile":2,"user_profile_name":"Operador","logged_in":true,"login_time":1757217622} (tipo: 2)
[2025-09-07 01:00:24] [DATABASE ERROR] Preparando query: SELECT * FROM produtos WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-07 01:00:24] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-07 01:00:24] [DATABASE ERROR] Debug PDO após binding: SQL: [43] SELECT * FROM produtos WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-07 01:00:50] [DATABASE ERROR] Parâmetro associado: :tabela = movimentacoes (tipo: 2)
[2025-09-07 01:00:50] [DATABASE ERROR] Parâmetro associado: :registro_id = 80 (tipo: 2)
[2025-09-07 01:00:50] [DATABASE ERROR] Parâmetro associado: :acao = INSERT (tipo: 2)
[2025-09-07 01:00:50] [DATABASE ERROR] Parâmetro associado: :dados_anteriores = NULL (tipo: 0)
[2025-09-07 01:00:50] [DATABASE ERROR] Parâmetro associado: :dados_novos = {"tipo_movimentacao_id":"5","produtos":{"1":"1662","2":"0","3":"0"},"observacao":""} (tipo: 2)
[2025-09-07 01:00:50] [DATABASE ERROR] Parâmetro associado: :usuario_id = 2 (tipo: 1)
[2025-09-07 01:00:50] [DATABASE ERROR] Parâmetro associado: :ip_address = ::1 (tipo: 2)
[2025-09-07 01:00:50] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36 Edg/139.0.0.0 (tipo: 2)
[2025-09-07 01:02:51] [DATABASE ERROR] Parâmetro associado: :tabela = movimentacoes (tipo: 2)
[2025-09-07 01:02:51] [DATABASE ERROR] Parâmetro associado: :registro_id = 81 (tipo: 2)
[2025-09-07 01:02:51] [DATABASE ERROR] Parâmetro associado: :acao = INSERT (tipo: 2)
[2025-09-07 01:02:51] [DATABASE ERROR] Parâmetro associado: :dados_anteriores = NULL (tipo: 0)
[2025-09-07 01:02:51] [DATABASE ERROR] Parâmetro associado: :dados_novos = {"tipo_movimentacao_id":"5","produtos":{"1":"1662","2":"0","3":"0"},"observacao":""} (tipo: 2)
[2025-09-07 01:02:51] [DATABASE ERROR] Parâmetro associado: :usuario_id = 2 (tipo: 1)
[2025-09-07 01:02:51] [DATABASE ERROR] Parâmetro associado: :ip_address = ::1 (tipo: 2)
[2025-09-07 01:02:51] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36 Edg/139.0.0.0 (tipo: 2)
[2025-09-07 01:02:51] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-09-07 01:02:51] [DATABASE ERROR] Parâmetro associado: :produto_id = 1 (tipo: 1)
[2025-09-07 01:02:51] [DATABASE ERROR] Parâmetro associado: :produto_id = 1 (tipo: 1)
[2025-09-07 01:02:51] [DATABASE ERROR] Parâmetro associado: :produto_id = 1 (tipo: 1)
[2025-09-07 01:02:51] [DATABASE ERROR] Parâmetro associado: :mensagem = Produto LEITE A XANDO INTEGRAL com estoque baixo: 1.000 <= 2.000. (tipo: 2)
[2025-09-07 01:02:51] [DATABASE ERROR] Parâmetro associado: :tabela = alertas_estoque (tipo: 2)
[2025-09-07 01:02:51] [DATABASE ERROR] Parâmetro associado: :registro_id = 17 (tipo: 2)
[2025-09-07 01:02:51] [DATABASE ERROR] Parâmetro associado: :acao = alertas_estoque (tipo: 2)
[2025-09-07 01:02:51] [DATABASE ERROR] Parâmetro associado: :dados_anteriores = "INSERT" (tipo: 2)
[2025-09-07 01:02:51] [DATABASE ERROR] Parâmetro associado: :dados_novos = NULL (tipo: 0)
[2025-09-07 01:02:51] [DATABASE ERROR] Parâmetro associado: :usuario_id = 2 (tipo: 1)
[2025-09-07 01:02:51] [DATABASE ERROR] Parâmetro associado: :ip_address = ::1 (tipo: 2)
[2025-09-07 01:02:51] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36 Edg/139.0.0.0 (tipo: 2)
[2025-09-07 01:02:51] [DATABASE ERROR] Parâmetro associado: :alert_id = 17 (tipo: 1)
[2025-09-07 01:02:54] [DATABASE ERROR] Parâmetro associado: :produto_id = 1 (tipo: 1)
[2025-09-07 01:02:54] [DATABASE ERROR] Parâmetro associado: :produto_id = 1 (tipo: 1)
[2025-09-07 01:02:54] [DATABASE ERROR] Parâmetro associado: :produto_id = 2 (tipo: 1)
[2025-09-07 01:02:54] [DATABASE ERROR] Parâmetro associado: :produto_id = 3 (tipo: 1)
[2025-09-07 01:04:09] [DATABASE ERROR] Parâmetro associado: :user_id = 2 (tipo: 1)
[2025-09-07 01:04:09] [DATABASE ERROR] Parâmetro associado: :tabela = usuarios (tipo: 2)
[2025-09-07 01:04:09] [DATABASE ERROR] Parâmetro associado: :registro_id = NULL (tipo: 0)
[2025-09-07 01:04:09] [DATABASE ERROR] Parâmetro associado: :acao = LOGOUT (tipo: 2)
[2025-09-07 01:04:09] [DATABASE ERROR] Parâmetro associado: :dados_anteriores = NULL (tipo: 0)
[2025-09-07 01:04:09] [DATABASE ERROR] Parâmetro associado: :dados_novos = NULL (tipo: 0)
[2025-09-07 01:04:09] [DATABASE ERROR] Parâmetro associado: :usuario_id = NULL (tipo: 0)
[2025-09-07 01:04:09] [DATABASE ERROR] Parâmetro associado: :ip_address = ::1 (tipo: 2)
[2025-09-07 01:04:09] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36 Edg/139.0.0.0 (tipo: 2)
[2025-09-07 01:04:09] [DATABASE ERROR] Erro ao executar query: SQLSTATE[23000]: Integrity constraint violation: 1048 Column 'registro_id' cannot be null
[2025-09-07 01:04:14] [DATABASE ERROR] Parâmetro associado: :username = admin (tipo: 2)
[2025-09-07 01:04:14] [DATABASE ERROR] Parâmetro associado: :email = admin (tipo: 2)
[2025-09-07 01:04:14] [DATABASE ERROR] Preparando query: UPDATE usuarios SET ultimo_acesso = NOW() WHERE id = :id com parâmetros: {":id":1}
[2025-09-07 01:04:14] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-09-07 01:04:14] [DATABASE ERROR] Debug PDO após binding: SQL: [56] UPDATE usuarios SET ultimo_acesso = NOW() WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-07 01:04:14] [DATABASE ERROR] Parâmetro associado: :tabela = usuarios (tipo: 2)
[2025-09-07 01:04:14] [DATABASE ERROR] Parâmetro associado: :registro_id = 1 (tipo: 1)
[2025-09-07 01:04:14] [DATABASE ERROR] Parâmetro associado: :acao = LOGIN (tipo: 2)
[2025-09-07 01:04:14] [DATABASE ERROR] Parâmetro associado: :dados_anteriores = NULL (tipo: 0)
[2025-09-07 01:04:14] [DATABASE ERROR] Parâmetro associado: :dados_novos = NULL (tipo: 0)
[2025-09-07 01:04:14] [DATABASE ERROR] Parâmetro associado: :usuario_id = NULL (tipo: 0)
[2025-09-07 01:04:14] [DATABASE ERROR] Parâmetro associado: :ip_address = ::1 (tipo: 2)
[2025-09-07 01:04:14] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36 Edg/139.0.0.0 (tipo: 2)
[2025-09-07 01:04:14] [DATABASE ERROR] Parâmetro associado: :id = 127qp3h0dkedc7nolmevfpech4 (tipo: 2)
[2025-09-07 01:04:14] [DATABASE ERROR] Parâmetro associado: :id = 127qp3h0dkedc7nolmevfpech4 (tipo: 2)
[2025-09-07 01:04:14] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-09-07 01:04:14] [DATABASE ERROR] Parâmetro associado: :ip_address = ::1 (tipo: 2)
[2025-09-07 01:04:14] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36 Edg/139.0.0.0 (tipo: 2)
[2025-09-07 01:04:14] [DATABASE ERROR] Parâmetro associado: :dados = {"user_id":1,"user_name":"Administrador do Sistema","user_email":"flavioafj@yahoo.com.br","user_profile":1,"user_profile_name":"Administrador","logged_in":true,"login_time":1757217854} (tipo: 2)
[2025-09-07 01:04:15] [DATABASE ERROR] Preparando query: SELECT SUM(estoque_atual) as total_estoque FROM produtos WHERE ativo = TRUE com parâmetros: []
[2025-09-07 01:04:15] [DATABASE ERROR] Debug PDO após binding: SQL: [75] SELECT SUM(estoque_atual) as total_estoque FROM produtos WHERE ativo = TRUE
Params:  0

[2025-09-07 01:04:15] [DATABASE ERROR] Preparando query: SELECT id FROM produtos WHERE ativo = TRUE com parâmetros: []
[2025-09-07 01:04:15] [DATABASE ERROR] Debug PDO após binding: SQL: [42] SELECT id FROM produtos WHERE ativo = TRUE
Params:  0

[2025-09-07 01:04:15] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":1,":data_fim_a":null,":data_fim":null}
[2025-09-07 01:04:15] [DATABASE ERROR] Parâmetro associado: :produto_id = 1 (tipo: 1)
[2025-09-07 01:04:15] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-09-07 01:04:15] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-09-07 01:04:15] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-09-07 01:04:15] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":1}
[2025-09-07 01:04:15] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-09-07 01:04:15] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-07 01:04:15] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":2,":data_fim_a":null,":data_fim":null}
[2025-09-07 01:04:15] [DATABASE ERROR] Parâmetro associado: :produto_id = 2 (tipo: 1)
[2025-09-07 01:04:15] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-09-07 01:04:15] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-09-07 01:04:15] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-09-07 01:04:15] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":2}
[2025-09-07 01:04:15] [DATABASE ERROR] Parâmetro associado: :id = 2 (tipo: 1)
[2025-09-07 01:04:15] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-07 01:04:15] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":3,":data_fim_a":null,":data_fim":null}
[2025-09-07 01:04:15] [DATABASE ERROR] Parâmetro associado: :produto_id = 3 (tipo: 1)
[2025-09-07 01:04:15] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-09-07 01:04:15] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-09-07 01:04:15] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-09-07 01:04:15] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":3}
[2025-09-07 01:04:15] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-07 01:04:15] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-07 01:04:15] [DATABASE ERROR] Preparando query: SELECT id, codigo, nome, estoque_atual, estoque_minimo, categoria, fornecedor 
                    FROM vw_produtos_estoque_critico 
                    ORDER BY estoque_atual ASC 
                    LIMIT 10 com parâmetros: []
[2025-09-07 01:04:15] [DATABASE ERROR] Debug PDO após binding: SQL: [212] SELECT id, codigo, nome, estoque_atual, estoque_minimo, categoria, fornecedor 
                    FROM vw_produtos_estoque_critico 
                    ORDER BY estoque_atual ASC 
                    LIMIT 10
Params:  0

[2025-09-07 01:04:15] [DATABASE ERROR] Preparando query: SELECT id, tipo, categoria, documento_numero, data_movimentacao, valor_total, fornecedor, usuario 
                    FROM vw_movimentacoes_recentes 
                    ORDER BY data_movimentacao DESC 
                    LIMIT 10 com parâmetros: []
[2025-09-07 01:04:15] [DATABASE ERROR] Debug PDO após binding: SQL: [235] SELECT id, tipo, categoria, documento_numero, data_movimentacao, valor_total, fornecedor, usuario 
                    FROM vw_movimentacoes_recentes 
                    ORDER BY data_movimentacao DESC 
                    LIMIT 10
Params:  0

[2025-09-07 01:04:15] [DATABASE ERROR] Preparando query: 
                SELECT 
                    DATE_FORMAT(m.data_movimentacao, '%Y-%m') as periodo,
                    tm.tipo,
                    SUM(mi.quantidade) as total_quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                WHERE m.status = 'PROCESSADO'
                    AND m.data_movimentacao >= DATE_SUB(CURDATE(), INTERVAL 6 MONTH)
                GROUP BY periodo, tm.tipo
                ORDER BY periodo ASC com parâmetros: []
[2025-09-07 01:04:15] [DATABASE ERROR] Debug PDO após binding: SQL: [593] 
                SELECT 
                    DATE_FORMAT(m.data_movimentacao, '%Y-%m') as periodo,
                    tm.tipo,
                    SUM(mi.quantidade) as total_quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                WHERE m.status = 'PROCESSADO'
                    AND m.data_movimentacao >= DATE_SUB(CURDATE(), INTERVAL 6 MONTH)
                GROUP BY periodo, tm.tipo
                ORDER BY periodo ASC
Params:  0

[2025-09-07 01:05:31] [DATABASE ERROR] Preparando query: SELECT SUM(estoque_atual) as total_estoque FROM produtos WHERE ativo = TRUE com parâmetros: []
[2025-09-07 01:05:31] [DATABASE ERROR] Debug PDO após binding: SQL: [75] SELECT SUM(estoque_atual) as total_estoque FROM produtos WHERE ativo = TRUE
Params:  0

[2025-09-07 01:05:31] [DATABASE ERROR] Preparando query: SELECT id FROM produtos WHERE ativo = TRUE com parâmetros: []
[2025-09-07 01:05:31] [DATABASE ERROR] Debug PDO após binding: SQL: [42] SELECT id FROM produtos WHERE ativo = TRUE
Params:  0

[2025-09-07 01:05:31] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":1,":data_fim_a":null,":data_fim":null}
[2025-09-07 01:05:31] [DATABASE ERROR] Parâmetro associado: :produto_id = 1 (tipo: 1)
[2025-09-07 01:05:31] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-09-07 01:05:31] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-09-07 01:05:31] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-09-07 01:05:31] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":1}
[2025-09-07 01:05:31] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-09-07 01:05:31] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-07 01:05:31] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":2,":data_fim_a":null,":data_fim":null}
[2025-09-07 01:05:31] [DATABASE ERROR] Parâmetro associado: :produto_id = 2 (tipo: 1)
[2025-09-07 01:05:31] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-09-07 01:05:31] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-09-07 01:05:31] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-09-07 01:05:31] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":2}
[2025-09-07 01:05:31] [DATABASE ERROR] Parâmetro associado: :id = 2 (tipo: 1)
[2025-09-07 01:05:31] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-07 01:05:31] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":3,":data_fim_a":null,":data_fim":null}
[2025-09-07 01:05:31] [DATABASE ERROR] Parâmetro associado: :produto_id = 3 (tipo: 1)
[2025-09-07 01:05:31] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-09-07 01:05:31] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-09-07 01:05:31] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-09-07 01:05:31] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":3}
[2025-09-07 01:05:31] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-07 01:05:31] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-07 01:05:31] [DATABASE ERROR] Preparando query: SELECT id, codigo, nome, estoque_atual, estoque_minimo, categoria, fornecedor 
                    FROM vw_produtos_estoque_critico 
                    ORDER BY estoque_atual ASC 
                    LIMIT 10 com parâmetros: []
[2025-09-07 01:05:31] [DATABASE ERROR] Debug PDO após binding: SQL: [212] SELECT id, codigo, nome, estoque_atual, estoque_minimo, categoria, fornecedor 
                    FROM vw_produtos_estoque_critico 
                    ORDER BY estoque_atual ASC 
                    LIMIT 10
Params:  0

[2025-09-07 01:05:31] [DATABASE ERROR] Preparando query: SELECT id, tipo, categoria, documento_numero, data_movimentacao, valor_total, fornecedor, usuario 
                    FROM vw_movimentacoes_recentes 
                    ORDER BY data_movimentacao DESC 
                    LIMIT 10 com parâmetros: []
[2025-09-07 01:05:31] [DATABASE ERROR] Debug PDO após binding: SQL: [235] SELECT id, tipo, categoria, documento_numero, data_movimentacao, valor_total, fornecedor, usuario 
                    FROM vw_movimentacoes_recentes 
                    ORDER BY data_movimentacao DESC 
                    LIMIT 10
Params:  0

[2025-09-07 01:05:31] [DATABASE ERROR] Preparando query: 
                SELECT 
                    DATE_FORMAT(m.data_movimentacao, '%Y-%m') as periodo,
                    tm.tipo,
                    SUM(mi.quantidade) as total_quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                WHERE m.status = 'PROCESSADO'
                    AND m.data_movimentacao >= DATE_SUB(CURDATE(), INTERVAL 6 MONTH)
                GROUP BY periodo, tm.tipo
                ORDER BY periodo ASC com parâmetros: []
[2025-09-07 01:05:31] [DATABASE ERROR] Debug PDO após binding: SQL: [593] 
                SELECT 
                    DATE_FORMAT(m.data_movimentacao, '%Y-%m') as periodo,
                    tm.tipo,
                    SUM(mi.quantidade) as total_quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                WHERE m.status = 'PROCESSADO'
                    AND m.data_movimentacao >= DATE_SUB(CURDATE(), INTERVAL 6 MONTH)
                GROUP BY periodo, tm.tipo
                ORDER BY periodo ASC
Params:  0

[2025-09-07 01:05:49] [DATABASE ERROR] Parâmetro associado: :alert_id = 17 (tipo: 1)
[2025-09-07 01:05:49] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-09-07 01:05:49] [DATABASE ERROR] Parâmetro associado: :tabela = alertas_estoque (tipo: 2)
[2025-09-07 01:05:49] [DATABASE ERROR] Parâmetro associado: :registro_id = 17 (tipo: 1)
[2025-09-07 01:05:49] [DATABASE ERROR] Parâmetro associado: :acao = alertas_estoque (tipo: 2)
[2025-09-07 01:05:49] [DATABASE ERROR] Parâmetro associado: :dados_anteriores = "UPDATE" (tipo: 2)
[2025-09-07 01:05:49] [DATABASE ERROR] Parâmetro associado: :dados_novos = {"lido":false} (tipo: 2)
[2025-09-07 01:05:49] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-09-07 01:05:49] [DATABASE ERROR] Parâmetro associado: :ip_address = ::1 (tipo: 2)
[2025-09-07 01:05:49] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36 Edg/139.0.0.0 (tipo: 2)
[2025-09-07 01:06:03] [DATABASE ERROR] Preparando query: SELECT id, codigo, nome, estoque_atual, estoque_minimo, categoria, fornecedor 
                    FROM vw_produtos_estoque_critico 
                    ORDER BY estoque_atual ASC 
                    LIMIT 10 com parâmetros: []
[2025-09-07 01:06:03] [DATABASE ERROR] Debug PDO após binding: SQL: [212] SELECT id, codigo, nome, estoque_atual, estoque_minimo, categoria, fornecedor 
                    FROM vw_produtos_estoque_critico 
                    ORDER BY estoque_atual ASC 
                    LIMIT 10
Params:  0

[2025-09-07 01:06:03] [DATABASE ERROR] Preparando query: 
                SELECT 
                    DATE_FORMAT(m.data_movimentacao, '%Y-%m') as periodo,
                    tm.tipo,
                    SUM(mi.quantidade) as total_quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                WHERE m.status = 'PROCESSADO'
                    AND m.data_movimentacao >= DATE_SUB(CURDATE(), INTERVAL 6 MONTH)
                GROUP BY periodo, tm.tipo
                ORDER BY periodo ASC com parâmetros: []
[2025-09-07 01:06:03] [DATABASE ERROR] Debug PDO após binding: SQL: [593] 
                SELECT 
                    DATE_FORMAT(m.data_movimentacao, '%Y-%m') as periodo,
                    tm.tipo,
                    SUM(mi.quantidade) as total_quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                WHERE m.status = 'PROCESSADO'
                    AND m.data_movimentacao >= DATE_SUB(CURDATE(), INTERVAL 6 MONTH)
                GROUP BY periodo, tm.tipo
                ORDER BY periodo ASC
Params:  0

[2025-09-07 01:06:03] [DATABASE ERROR] Preparando query: SELECT SUM(estoque_atual) as total_estoque FROM produtos WHERE ativo = TRUE com parâmetros: []
[2025-09-07 01:06:03] [DATABASE ERROR] Debug PDO após binding: SQL: [75] SELECT SUM(estoque_atual) as total_estoque FROM produtos WHERE ativo = TRUE
Params:  0

[2025-09-07 01:06:03] [DATABASE ERROR] Preparando query: SELECT id FROM produtos WHERE ativo = TRUE com parâmetros: []
[2025-09-07 01:06:03] [DATABASE ERROR] Debug PDO após binding: SQL: [42] SELECT id FROM produtos WHERE ativo = TRUE
Params:  0

[2025-09-07 01:06:03] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":1,":data_fim_a":null,":data_fim":null}
[2025-09-07 01:06:03] [DATABASE ERROR] Parâmetro associado: :produto_id = 1 (tipo: 1)
[2025-09-07 01:06:03] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-09-07 01:06:03] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-09-07 01:06:03] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-09-07 01:06:03] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":1}
[2025-09-07 01:06:03] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-09-07 01:06:03] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-07 01:06:03] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":2,":data_fim_a":null,":data_fim":null}
[2025-09-07 01:06:03] [DATABASE ERROR] Parâmetro associado: :produto_id = 2 (tipo: 1)
[2025-09-07 01:06:03] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-09-07 01:06:03] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-09-07 01:06:03] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-09-07 01:06:03] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":2}
[2025-09-07 01:06:03] [DATABASE ERROR] Parâmetro associado: :id = 2 (tipo: 1)
[2025-09-07 01:06:03] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-07 01:06:03] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":3,":data_fim_a":null,":data_fim":null}
[2025-09-07 01:06:03] [DATABASE ERROR] Parâmetro associado: :produto_id = 3 (tipo: 1)
[2025-09-07 01:06:03] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-09-07 01:06:03] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-09-07 01:06:03] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-09-07 01:06:03] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":3}
[2025-09-07 01:06:03] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-07 01:06:03] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-07 01:06:03] [DATABASE ERROR] Preparando query: SELECT id, tipo, categoria, documento_numero, data_movimentacao, valor_total, fornecedor, usuario 
                    FROM vw_movimentacoes_recentes 
                    ORDER BY data_movimentacao DESC 
                    LIMIT 10 com parâmetros: []
[2025-09-07 01:06:03] [DATABASE ERROR] Debug PDO após binding: SQL: [235] SELECT id, tipo, categoria, documento_numero, data_movimentacao, valor_total, fornecedor, usuario 
                    FROM vw_movimentacoes_recentes 
                    ORDER BY data_movimentacao DESC 
                    LIMIT 10
Params:  0

[2025-09-07 01:06:38] [DATABASE ERROR] Preparando query: SELECT * FROM categorias WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-07 01:06:38] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-07 01:06:38] [DATABASE ERROR] Debug PDO após binding: SQL: [45] SELECT * FROM categorias WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-07 01:06:38] [DATABASE ERROR] Preparando query: SELECT * FROM fornecedores WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-07 01:06:38] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-07 01:06:38] [DATABASE ERROR] Debug PDO após binding: SQL: [47] SELECT * FROM fornecedores WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-07 01:06:38] [DATABASE ERROR] Preparando query: SELECT * FROM tipos_movimentacao com parâmetros: []
[2025-09-07 01:06:38] [DATABASE ERROR] Debug PDO após binding: SQL: [32] SELECT * FROM tipos_movimentacao
Params:  0

[2025-09-07 01:06:53] [DATABASE ERROR] Preparando query: 
            SELECT 
                p.id, 
                p.nome, 
                p.estoque_atual, 
                c.nome AS categoria, 
                f.razao_social AS fornecedor
            FROM produtos p
            LEFT JOIN categorias c ON p.categoria_id = c.id
            LEFT JOIN fornecedores f ON p.fornecedor_principal_id = f.id
            WHERE p.ativo = TRUE
                AND (:produto_id_null IS NULL OR p.id = :produto_id)
                AND (:categoria_id_null IS NULL OR p.categoria_id = :categoria_id)
                AND (:fornecedor_id_null IS NULL OR p.fornecedor_principal_id = :fornecedor_id)
            ORDER BY p.nome ASC;
         com parâmetros: {":produto_id_null":null,":produto_id":null,":categoria_id_null":null,":categoria_id":null,":fornecedor_id_null":null,":fornecedor_id":null}
[2025-09-07 01:06:53] [DATABASE ERROR] Parâmetro associado: :produto_id_null = NULL (tipo: 0)
[2025-09-07 01:06:53] [DATABASE ERROR] Parâmetro associado: :produto_id = NULL (tipo: 0)
[2025-09-07 01:06:53] [DATABASE ERROR] Parâmetro associado: :categoria_id_null = NULL (tipo: 0)
[2025-09-07 01:06:53] [DATABASE ERROR] Parâmetro associado: :categoria_id = NULL (tipo: 0)
[2025-09-07 01:06:53] [DATABASE ERROR] Parâmetro associado: :fornecedor_id_null = NULL (tipo: 0)
[2025-09-07 01:06:53] [DATABASE ERROR] Parâmetro associado: :fornecedor_id = NULL (tipo: 0)
[2025-09-07 01:06:53] [DATABASE ERROR] Debug PDO após binding: SQL: [684] 
            SELECT 
                p.id, 
                p.nome, 
                p.estoque_atual, 
                c.nome AS categoria, 
                f.razao_social AS fornecedor
            FROM produtos p
            LEFT JOIN categorias c ON p.categoria_id = c.id
            LEFT JOIN fornecedores f ON p.fornecedor_principal_id = f.id
            WHERE p.ativo = TRUE
                AND (:produto_id_null IS NULL OR p.id = :produto_id)
                AND (:categoria_id_null IS NULL OR p.categoria_id = :categoria_id)
                AND (:fornecedor_id_null IS NULL OR p.fornecedor_principal_id = :fornecedor_id)
            ORDER BY p.nome ASC;
        
Params:  6
Key: Name: [16] :produto_id_null
paramno=0
name=[16] ":produto_id_null"
is_param=1
param_type=0
Key: Name: [11] :produto_id
paramno=1
name=[11] ":produto_id"
is_param=1
param_type=0
Key: Name: [18] :categoria_id_null
paramno=2
name=[18] ":categoria_id_null"
is_param=1
param_type=0
Key: Name: [13] :categoria_id
paramno=3
name=[13] ":categoria_id"
is_param=1
param_type=0
Key: Name: [19] :fornecedor_id_null
paramno=4
name=[19] ":fornecedor_id_null"
is_param=1
param_type=0
Key: Name: [14] :fornecedor_id
paramno=5
name=[14] ":fornecedor_id"
is_param=1
param_type=0

[2025-09-07 01:06:53] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":3,":data_fim_a":"2025-09-09",":data_fim":"2025-09-09"}
[2025-09-07 01:06:53] [DATABASE ERROR] Parâmetro associado: :produto_id = 3 (tipo: 1)
[2025-09-07 01:06:53] [DATABASE ERROR] Parâmetro associado: :data_fim_a = 2025-09-09 (tipo: 2)
[2025-09-07 01:06:53] [DATABASE ERROR] Parâmetro associado: :data_fim = 2025-09-09 (tipo: 2)
[2025-09-07 01:06:53] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=2
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=2

[2025-09-07 01:06:53] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":3}
[2025-09-07 01:06:53] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-07 01:06:53] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-07 01:06:53] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":1,":data_fim_a":"2025-09-09",":data_fim":"2025-09-09"}
[2025-09-07 01:06:53] [DATABASE ERROR] Parâmetro associado: :produto_id = 1 (tipo: 1)
[2025-09-07 01:06:53] [DATABASE ERROR] Parâmetro associado: :data_fim_a = 2025-09-09 (tipo: 2)
[2025-09-07 01:06:53] [DATABASE ERROR] Parâmetro associado: :data_fim = 2025-09-09 (tipo: 2)
[2025-09-07 01:06:53] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=2
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=2

[2025-09-07 01:06:53] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":1}
[2025-09-07 01:06:53] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-09-07 01:06:53] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-07 01:06:53] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":2,":data_fim_a":"2025-09-09",":data_fim":"2025-09-09"}
[2025-09-07 01:06:53] [DATABASE ERROR] Parâmetro associado: :produto_id = 2 (tipo: 1)
[2025-09-07 01:06:53] [DATABASE ERROR] Parâmetro associado: :data_fim_a = 2025-09-09 (tipo: 2)
[2025-09-07 01:06:53] [DATABASE ERROR] Parâmetro associado: :data_fim = 2025-09-09 (tipo: 2)
[2025-09-07 01:06:53] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=2
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=2

[2025-09-07 01:06:53] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":2}
[2025-09-07 01:06:53] [DATABASE ERROR] Parâmetro associado: :id = 2 (tipo: 1)
[2025-09-07 01:06:53] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-07 01:07:06] [DATABASE ERROR] Preparando query: 
            SELECT 
                p.id, 
                p.nome, 
                p.estoque_atual, 
                c.nome AS categoria, 
                f.razao_social AS fornecedor
            FROM produtos p
            LEFT JOIN categorias c ON p.categoria_id = c.id
            LEFT JOIN fornecedores f ON p.fornecedor_principal_id = f.id
            WHERE p.ativo = TRUE
                AND (:produto_id_null IS NULL OR p.id = :produto_id)
                AND (:categoria_id_null IS NULL OR p.categoria_id = :categoria_id)
                AND (:fornecedor_id_null IS NULL OR p.fornecedor_principal_id = :fornecedor_id)
            ORDER BY p.nome ASC;
         com parâmetros: {":produto_id_null":null,":produto_id":null,":categoria_id_null":null,":categoria_id":null,":fornecedor_id_null":null,":fornecedor_id":null}
[2025-09-07 01:07:06] [DATABASE ERROR] Parâmetro associado: :produto_id_null = NULL (tipo: 0)
[2025-09-07 01:07:06] [DATABASE ERROR] Parâmetro associado: :produto_id = NULL (tipo: 0)
[2025-09-07 01:07:06] [DATABASE ERROR] Parâmetro associado: :categoria_id_null = NULL (tipo: 0)
[2025-09-07 01:07:06] [DATABASE ERROR] Parâmetro associado: :categoria_id = NULL (tipo: 0)
[2025-09-07 01:07:06] [DATABASE ERROR] Parâmetro associado: :fornecedor_id_null = NULL (tipo: 0)
[2025-09-07 01:07:06] [DATABASE ERROR] Parâmetro associado: :fornecedor_id = NULL (tipo: 0)
[2025-09-07 01:07:06] [DATABASE ERROR] Debug PDO após binding: SQL: [684] 
            SELECT 
                p.id, 
                p.nome, 
                p.estoque_atual, 
                c.nome AS categoria, 
                f.razao_social AS fornecedor
            FROM produtos p
            LEFT JOIN categorias c ON p.categoria_id = c.id
            LEFT JOIN fornecedores f ON p.fornecedor_principal_id = f.id
            WHERE p.ativo = TRUE
                AND (:produto_id_null IS NULL OR p.id = :produto_id)
                AND (:categoria_id_null IS NULL OR p.categoria_id = :categoria_id)
                AND (:fornecedor_id_null IS NULL OR p.fornecedor_principal_id = :fornecedor_id)
            ORDER BY p.nome ASC;
        
Params:  6
Key: Name: [16] :produto_id_null
paramno=0
name=[16] ":produto_id_null"
is_param=1
param_type=0
Key: Name: [11] :produto_id
paramno=1
name=[11] ":produto_id"
is_param=1
param_type=0
Key: Name: [18] :categoria_id_null
paramno=2
name=[18] ":categoria_id_null"
is_param=1
param_type=0
Key: Name: [13] :categoria_id
paramno=3
name=[13] ":categoria_id"
is_param=1
param_type=0
Key: Name: [19] :fornecedor_id_null
paramno=4
name=[19] ":fornecedor_id_null"
is_param=1
param_type=0
Key: Name: [14] :fornecedor_id
paramno=5
name=[14] ":fornecedor_id"
is_param=1
param_type=0

[2025-09-07 01:07:06] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":3,":data_fim_a":"2025-09-09",":data_fim":"2025-09-09"}
[2025-09-07 01:07:06] [DATABASE ERROR] Parâmetro associado: :produto_id = 3 (tipo: 1)
[2025-09-07 01:07:06] [DATABASE ERROR] Parâmetro associado: :data_fim_a = 2025-09-09 (tipo: 2)
[2025-09-07 01:07:06] [DATABASE ERROR] Parâmetro associado: :data_fim = 2025-09-09 (tipo: 2)
[2025-09-07 01:07:06] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=2
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=2

[2025-09-07 01:07:06] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":3}
[2025-09-07 01:07:06] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-07 01:07:06] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-07 01:07:06] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":1,":data_fim_a":"2025-09-09",":data_fim":"2025-09-09"}
[2025-09-07 01:07:06] [DATABASE ERROR] Parâmetro associado: :produto_id = 1 (tipo: 1)
[2025-09-07 01:07:06] [DATABASE ERROR] Parâmetro associado: :data_fim_a = 2025-09-09 (tipo: 2)
[2025-09-07 01:07:06] [DATABASE ERROR] Parâmetro associado: :data_fim = 2025-09-09 (tipo: 2)
[2025-09-07 01:07:06] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=2
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=2

[2025-09-07 01:07:06] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":1}
[2025-09-07 01:07:06] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-09-07 01:07:06] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-07 01:07:06] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":2,":data_fim_a":"2025-09-09",":data_fim":"2025-09-09"}
[2025-09-07 01:07:06] [DATABASE ERROR] Parâmetro associado: :produto_id = 2 (tipo: 1)
[2025-09-07 01:07:06] [DATABASE ERROR] Parâmetro associado: :data_fim_a = 2025-09-09 (tipo: 2)
[2025-09-07 01:07:06] [DATABASE ERROR] Parâmetro associado: :data_fim = 2025-09-09 (tipo: 2)
[2025-09-07 01:07:06] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=2
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=2

[2025-09-07 01:07:06] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":2}
[2025-09-07 01:07:06] [DATABASE ERROR] Parâmetro associado: :id = 2 (tipo: 1)
[2025-09-07 01:07:06] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-07 01:10:00] [DATABASE ERROR] Parâmetro associado: :user_id = 1 (tipo: 1)
[2025-09-07 01:10:00] [DATABASE ERROR] Parâmetro associado: :tabela = usuarios (tipo: 2)
[2025-09-07 01:10:00] [DATABASE ERROR] Parâmetro associado: :registro_id = NULL (tipo: 0)
[2025-09-07 01:10:00] [DATABASE ERROR] Parâmetro associado: :acao = LOGOUT (tipo: 2)
[2025-09-07 01:10:00] [DATABASE ERROR] Parâmetro associado: :dados_anteriores = NULL (tipo: 0)
[2025-09-07 01:10:00] [DATABASE ERROR] Parâmetro associado: :dados_novos = NULL (tipo: 0)
[2025-09-07 01:10:00] [DATABASE ERROR] Parâmetro associado: :usuario_id = NULL (tipo: 0)
[2025-09-07 01:10:00] [DATABASE ERROR] Parâmetro associado: :ip_address = ::1 (tipo: 2)
[2025-09-07 01:10:00] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36 Edg/139.0.0.0 (tipo: 2)
[2025-09-07 01:10:00] [DATABASE ERROR] Erro ao executar query: SQLSTATE[23000]: Integrity constraint violation: 1048 Column 'registro_id' cannot be null
[2025-09-07 12:52:46] [DATABASE ERROR] Parâmetro associado: :username = admin (tipo: 2)
[2025-09-07 12:52:46] [DATABASE ERROR] Parâmetro associado: :email = admin (tipo: 2)
[2025-09-07 12:52:46] [DATABASE ERROR] Preparando query: UPDATE usuarios SET ultimo_acesso = NOW() WHERE id = :id com parâmetros: {":id":1}
[2025-09-07 12:52:46] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-09-07 12:52:46] [DATABASE ERROR] Debug PDO após binding: SQL: [56] UPDATE usuarios SET ultimo_acesso = NOW() WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-07 12:52:46] [DATABASE ERROR] Parâmetro associado: :tabela = usuarios (tipo: 2)
[2025-09-07 12:52:46] [DATABASE ERROR] Parâmetro associado: :registro_id = 1 (tipo: 1)
[2025-09-07 12:52:46] [DATABASE ERROR] Parâmetro associado: :acao = LOGIN (tipo: 2)
[2025-09-07 12:52:46] [DATABASE ERROR] Parâmetro associado: :dados_anteriores = NULL (tipo: 0)
[2025-09-07 12:52:46] [DATABASE ERROR] Parâmetro associado: :dados_novos = NULL (tipo: 0)
[2025-09-07 12:52:46] [DATABASE ERROR] Parâmetro associado: :usuario_id = NULL (tipo: 0)
[2025-09-07 12:52:46] [DATABASE ERROR] Parâmetro associado: :ip_address = ::1 (tipo: 2)
[2025-09-07 12:52:46] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 Edg/140.0.0.0 (tipo: 2)
[2025-09-07 12:52:46] [DATABASE ERROR] Parâmetro associado: :id = otrcjbulaolk0l7q4eiok2nnbi (tipo: 2)
[2025-09-07 12:52:46] [DATABASE ERROR] Parâmetro associado: :id = otrcjbulaolk0l7q4eiok2nnbi (tipo: 2)
[2025-09-07 12:52:46] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-09-07 12:52:46] [DATABASE ERROR] Parâmetro associado: :ip_address = ::1 (tipo: 2)
[2025-09-07 12:52:46] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 Edg/140.0.0.0 (tipo: 2)
[2025-09-07 12:52:46] [DATABASE ERROR] Parâmetro associado: :dados = {"user_id":1,"user_name":"Administrador do Sistema","user_email":"flavioafj@yahoo.com.br","user_profile":1,"user_profile_name":"Administrador","logged_in":true,"login_time":1757260366} (tipo: 2)
[2025-09-07 12:52:47] [DATABASE ERROR] Preparando query: SELECT SUM(estoque_atual) as total_estoque FROM produtos WHERE ativo = TRUE com parâmetros: []
[2025-09-07 12:52:47] [DATABASE ERROR] Debug PDO após binding: SQL: [75] SELECT SUM(estoque_atual) as total_estoque FROM produtos WHERE ativo = TRUE
Params:  0

[2025-09-07 12:52:47] [DATABASE ERROR] Preparando query: SELECT id FROM produtos WHERE ativo = TRUE com parâmetros: []
[2025-09-07 12:52:47] [DATABASE ERROR] Debug PDO após binding: SQL: [42] SELECT id FROM produtos WHERE ativo = TRUE
Params:  0

[2025-09-07 12:52:47] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":1,":data_fim_a":null,":data_fim":null}
[2025-09-07 12:52:47] [DATABASE ERROR] Parâmetro associado: :produto_id = 1 (tipo: 1)
[2025-09-07 12:52:47] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-09-07 12:52:47] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-09-07 12:52:47] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-09-07 12:52:47] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":1}
[2025-09-07 12:52:47] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-09-07 12:52:47] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-07 12:52:47] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":2,":data_fim_a":null,":data_fim":null}
[2025-09-07 12:52:47] [DATABASE ERROR] Parâmetro associado: :produto_id = 2 (tipo: 1)
[2025-09-07 12:52:47] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-09-07 12:52:47] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-09-07 12:52:47] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-09-07 12:52:47] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":2}
[2025-09-07 12:52:47] [DATABASE ERROR] Parâmetro associado: :id = 2 (tipo: 1)
[2025-09-07 12:52:47] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-07 12:52:47] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":3,":data_fim_a":null,":data_fim":null}
[2025-09-07 12:52:47] [DATABASE ERROR] Parâmetro associado: :produto_id = 3 (tipo: 1)
[2025-09-07 12:52:47] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-09-07 12:52:47] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-09-07 12:52:47] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-09-07 12:52:47] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":3}
[2025-09-07 12:52:47] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-07 12:52:47] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-07 12:52:47] [DATABASE ERROR] Preparando query: SELECT id, codigo, nome, estoque_atual, estoque_minimo, categoria, fornecedor 
                    FROM vw_produtos_estoque_critico 
                    ORDER BY estoque_atual ASC 
                    LIMIT 10 com parâmetros: []
[2025-09-07 12:52:47] [DATABASE ERROR] Debug PDO após binding: SQL: [212] SELECT id, codigo, nome, estoque_atual, estoque_minimo, categoria, fornecedor 
                    FROM vw_produtos_estoque_critico 
                    ORDER BY estoque_atual ASC 
                    LIMIT 10
Params:  0

[2025-09-07 12:52:48] [DATABASE ERROR] Preparando query: SELECT id, tipo, categoria, documento_numero, data_movimentacao, valor_total, fornecedor, usuario 
                    FROM vw_movimentacoes_recentes 
                    ORDER BY data_movimentacao DESC 
                    LIMIT 10 com parâmetros: []
[2025-09-07 12:52:48] [DATABASE ERROR] Debug PDO após binding: SQL: [235] SELECT id, tipo, categoria, documento_numero, data_movimentacao, valor_total, fornecedor, usuario 
                    FROM vw_movimentacoes_recentes 
                    ORDER BY data_movimentacao DESC 
                    LIMIT 10
Params:  0

[2025-09-07 12:52:48] [DATABASE ERROR] Preparando query: 
                SELECT 
                    DATE_FORMAT(m.data_movimentacao, '%Y-%m') as periodo,
                    tm.tipo,
                    SUM(mi.quantidade) as total_quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                WHERE m.status = 'PROCESSADO'
                    AND m.data_movimentacao >= DATE_SUB(CURDATE(), INTERVAL 6 MONTH)
                GROUP BY periodo, tm.tipo
                ORDER BY periodo ASC com parâmetros: []
[2025-09-07 12:52:48] [DATABASE ERROR] Debug PDO após binding: SQL: [593] 
                SELECT 
                    DATE_FORMAT(m.data_movimentacao, '%Y-%m') as periodo,
                    tm.tipo,
                    SUM(mi.quantidade) as total_quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                WHERE m.status = 'PROCESSADO'
                    AND m.data_movimentacao >= DATE_SUB(CURDATE(), INTERVAL 6 MONTH)
                GROUP BY periodo, tm.tipo
                ORDER BY periodo ASC
Params:  0

[2025-09-07 14:30:29] [DATABASE ERROR] Parâmetro associado: :user_id = 1 (tipo: 1)
[2025-09-07 14:31:00] [DATABASE ERROR] Parâmetro associado: :username = admin (tipo: 2)
[2025-09-07 14:31:00] [DATABASE ERROR] Parâmetro associado: :email = admin (tipo: 2)
[2025-09-07 14:31:00] [DATABASE ERROR] Preparando query: UPDATE usuarios SET ultimo_acesso = NOW() WHERE id = :id com parâmetros: {":id":1}
[2025-09-07 14:31:00] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-09-07 14:31:00] [DATABASE ERROR] Debug PDO após binding: SQL: [56] UPDATE usuarios SET ultimo_acesso = NOW() WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-07 14:31:00] [DATABASE ERROR] Parâmetro associado: :tabela = usuarios (tipo: 2)
[2025-09-07 14:31:00] [DATABASE ERROR] Parâmetro associado: :registro_id = 1 (tipo: 1)
[2025-09-07 14:31:00] [DATABASE ERROR] Parâmetro associado: :acao = LOGIN (tipo: 2)
[2025-09-07 14:31:00] [DATABASE ERROR] Parâmetro associado: :dados_anteriores = NULL (tipo: 0)
[2025-09-07 14:31:00] [DATABASE ERROR] Parâmetro associado: :dados_novos = NULL (tipo: 0)
[2025-09-07 14:31:00] [DATABASE ERROR] Parâmetro associado: :usuario_id = NULL (tipo: 0)
[2025-09-07 14:31:00] [DATABASE ERROR] Parâmetro associado: :ip_address = ::1 (tipo: 2)
[2025-09-07 14:31:00] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 Edg/140.0.0.0 (tipo: 2)
[2025-09-07 14:31:00] [DATABASE ERROR] Parâmetro associado: :id = lfscruf4j47bqqgjprpf7kshlj (tipo: 2)
[2025-09-07 14:31:00] [DATABASE ERROR] Parâmetro associado: :id = lfscruf4j47bqqgjprpf7kshlj (tipo: 2)
[2025-09-07 14:31:00] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-09-07 14:31:00] [DATABASE ERROR] Parâmetro associado: :ip_address = ::1 (tipo: 2)
[2025-09-07 14:31:00] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 Edg/140.0.0.0 (tipo: 2)
[2025-09-07 14:31:00] [DATABASE ERROR] Parâmetro associado: :dados = {"user_id":1,"user_name":"Administrador do Sistema","user_email":"flavioafj@yahoo.com.br","user_profile":1,"user_profile_name":"Administrador","logged_in":true,"login_time":1757266260} (tipo: 2)
[2025-09-07 14:31:01] [DATABASE ERROR] Preparando query: SELECT id, codigo, nome, estoque_atual, estoque_minimo, categoria, fornecedor 
                    FROM vw_produtos_estoque_critico 
                    ORDER BY estoque_atual ASC 
                    LIMIT 10 com parâmetros: []
[2025-09-07 14:31:01] [DATABASE ERROR] Debug PDO após binding: SQL: [212] SELECT id, codigo, nome, estoque_atual, estoque_minimo, categoria, fornecedor 
                    FROM vw_produtos_estoque_critico 
                    ORDER BY estoque_atual ASC 
                    LIMIT 10
Params:  0

[2025-09-07 14:31:01] [DATABASE ERROR] Preparando query: SELECT SUM(estoque_atual) as total_estoque FROM produtos WHERE ativo = TRUE com parâmetros: []
[2025-09-07 14:31:01] [DATABASE ERROR] Debug PDO após binding: SQL: [75] SELECT SUM(estoque_atual) as total_estoque FROM produtos WHERE ativo = TRUE
Params:  0

[2025-09-07 14:31:01] [DATABASE ERROR] Preparando query: SELECT id FROM produtos WHERE ativo = TRUE com parâmetros: []
[2025-09-07 14:31:01] [DATABASE ERROR] Debug PDO após binding: SQL: [42] SELECT id FROM produtos WHERE ativo = TRUE
Params:  0

[2025-09-07 14:31:01] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":1,":data_fim_a":null,":data_fim":null}
[2025-09-07 14:31:01] [DATABASE ERROR] Parâmetro associado: :produto_id = 1 (tipo: 1)
[2025-09-07 14:31:01] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-09-07 14:31:01] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-09-07 14:31:01] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-09-07 14:31:01] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":1}
[2025-09-07 14:31:01] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-09-07 14:31:01] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-07 14:31:01] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":2,":data_fim_a":null,":data_fim":null}
[2025-09-07 14:31:01] [DATABASE ERROR] Parâmetro associado: :produto_id = 2 (tipo: 1)
[2025-09-07 14:31:01] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-09-07 14:31:01] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-09-07 14:31:01] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-09-07 14:31:01] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":2}
[2025-09-07 14:31:01] [DATABASE ERROR] Parâmetro associado: :id = 2 (tipo: 1)
[2025-09-07 14:31:01] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-07 14:31:01] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":3,":data_fim_a":null,":data_fim":null}
[2025-09-07 14:31:01] [DATABASE ERROR] Parâmetro associado: :produto_id = 3 (tipo: 1)
[2025-09-07 14:31:01] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-09-07 14:31:01] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-09-07 14:31:01] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-09-07 14:31:01] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":3}
[2025-09-07 14:31:01] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-07 14:31:01] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-07 14:31:01] [DATABASE ERROR] Preparando query: 
                SELECT 
                    DATE_FORMAT(m.data_movimentacao, '%Y-%m') as periodo,
                    tm.tipo,
                    SUM(mi.quantidade) as total_quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                WHERE m.status = 'PROCESSADO'
                    AND m.data_movimentacao >= DATE_SUB(CURDATE(), INTERVAL 6 MONTH)
                GROUP BY periodo, tm.tipo
                ORDER BY periodo ASC com parâmetros: []
[2025-09-07 14:31:01] [DATABASE ERROR] Debug PDO após binding: SQL: [593] 
                SELECT 
                    DATE_FORMAT(m.data_movimentacao, '%Y-%m') as periodo,
                    tm.tipo,
                    SUM(mi.quantidade) as total_quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                WHERE m.status = 'PROCESSADO'
                    AND m.data_movimentacao >= DATE_SUB(CURDATE(), INTERVAL 6 MONTH)
                GROUP BY periodo, tm.tipo
                ORDER BY periodo ASC
Params:  0

[2025-09-07 14:31:01] [DATABASE ERROR] Preparando query: SELECT id, tipo, categoria, documento_numero, data_movimentacao, valor_total, fornecedor, usuario 
                    FROM vw_movimentacoes_recentes 
                    ORDER BY data_movimentacao DESC 
                    LIMIT 10 com parâmetros: []
[2025-09-07 14:31:01] [DATABASE ERROR] Debug PDO após binding: SQL: [235] SELECT id, tipo, categoria, documento_numero, data_movimentacao, valor_total, fornecedor, usuario 
                    FROM vw_movimentacoes_recentes 
                    ORDER BY data_movimentacao DESC 
                    LIMIT 10
Params:  0

[2025-09-07 14:32:58] [DATABASE ERROR] Preparando query: SELECT id, codigo, nome, estoque_atual, estoque_minimo, categoria, fornecedor 
                    FROM vw_produtos_estoque_critico 
                    ORDER BY estoque_atual ASC 
                    LIMIT 10 com parâmetros: []
[2025-09-07 14:32:58] [DATABASE ERROR] Debug PDO após binding: SQL: [212] SELECT id, codigo, nome, estoque_atual, estoque_minimo, categoria, fornecedor 
                    FROM vw_produtos_estoque_critico 
                    ORDER BY estoque_atual ASC 
                    LIMIT 10
Params:  0

[2025-09-07 14:32:58] [DATABASE ERROR] Preparando query: SELECT id, tipo, categoria, documento_numero, data_movimentacao, valor_total, fornecedor, usuario 
                    FROM vw_movimentacoes_recentes 
                    ORDER BY data_movimentacao DESC 
                    LIMIT 10 com parâmetros: []
[2025-09-07 14:32:58] [DATABASE ERROR] Debug PDO após binding: SQL: [235] SELECT id, tipo, categoria, documento_numero, data_movimentacao, valor_total, fornecedor, usuario 
                    FROM vw_movimentacoes_recentes 
                    ORDER BY data_movimentacao DESC 
                    LIMIT 10
Params:  0

[2025-09-07 14:32:58] [DATABASE ERROR] Preparando query: SELECT SUM(estoque_atual) as total_estoque FROM produtos WHERE ativo = TRUE com parâmetros: []
[2025-09-07 14:32:58] [DATABASE ERROR] Debug PDO após binding: SQL: [75] SELECT SUM(estoque_atual) as total_estoque FROM produtos WHERE ativo = TRUE
Params:  0

[2025-09-07 14:32:58] [DATABASE ERROR] Preparando query: SELECT id FROM produtos WHERE ativo = TRUE com parâmetros: []
[2025-09-07 14:32:58] [DATABASE ERROR] Debug PDO após binding: SQL: [42] SELECT id FROM produtos WHERE ativo = TRUE
Params:  0

[2025-09-07 14:32:58] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":1,":data_fim_a":null,":data_fim":null}
[2025-09-07 14:32:58] [DATABASE ERROR] Parâmetro associado: :produto_id = 1 (tipo: 1)
[2025-09-07 14:32:58] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-09-07 14:32:58] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-09-07 14:32:58] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-09-07 14:32:58] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":1}
[2025-09-07 14:32:58] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-09-07 14:32:58] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-07 14:32:58] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":2,":data_fim_a":null,":data_fim":null}
[2025-09-07 14:32:58] [DATABASE ERROR] Parâmetro associado: :produto_id = 2 (tipo: 1)
[2025-09-07 14:32:58] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-09-07 14:32:58] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-09-07 14:32:58] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-09-07 14:32:58] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":2}
[2025-09-07 14:32:58] [DATABASE ERROR] Parâmetro associado: :id = 2 (tipo: 1)
[2025-09-07 14:32:58] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-07 14:32:58] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":3,":data_fim_a":null,":data_fim":null}
[2025-09-07 14:32:58] [DATABASE ERROR] Parâmetro associado: :produto_id = 3 (tipo: 1)
[2025-09-07 14:32:58] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-09-07 14:32:58] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-09-07 14:32:58] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-09-07 14:32:58] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":3}
[2025-09-07 14:32:58] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-07 14:32:58] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-07 14:32:58] [DATABASE ERROR] Preparando query: 
                SELECT 
                    DATE_FORMAT(m.data_movimentacao, '%Y-%m') as periodo,
                    tm.tipo,
                    SUM(mi.quantidade) as total_quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                WHERE m.status = 'PROCESSADO'
                    AND m.data_movimentacao >= DATE_SUB(CURDATE(), INTERVAL 6 MONTH)
                GROUP BY periodo, tm.tipo
                ORDER BY periodo ASC com parâmetros: []
[2025-09-07 14:32:58] [DATABASE ERROR] Debug PDO após binding: SQL: [593] 
                SELECT 
                    DATE_FORMAT(m.data_movimentacao, '%Y-%m') as periodo,
                    tm.tipo,
                    SUM(mi.quantidade) as total_quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                WHERE m.status = 'PROCESSADO'
                    AND m.data_movimentacao >= DATE_SUB(CURDATE(), INTERVAL 6 MONTH)
                GROUP BY periodo, tm.tipo
                ORDER BY periodo ASC
Params:  0

[2025-09-07 14:34:28] [DATABASE ERROR] Preparando query: SELECT id, tipo, categoria, documento_numero, data_movimentacao, valor_total, fornecedor, usuario 
                    FROM vw_movimentacoes_recentes 
                    ORDER BY data_movimentacao DESC 
                    LIMIT 10 com parâmetros: []
[2025-09-07 14:34:28] [DATABASE ERROR] Debug PDO após binding: SQL: [235] SELECT id, tipo, categoria, documento_numero, data_movimentacao, valor_total, fornecedor, usuario 
                    FROM vw_movimentacoes_recentes 
                    ORDER BY data_movimentacao DESC 
                    LIMIT 10
Params:  0

[2025-09-07 14:34:28] [DATABASE ERROR] Preparando query: SELECT id, codigo, nome, estoque_atual, estoque_minimo, categoria, fornecedor 
                    FROM vw_produtos_estoque_critico 
                    ORDER BY estoque_atual ASC 
                    LIMIT 10 com parâmetros: []
[2025-09-07 14:34:28] [DATABASE ERROR] Debug PDO após binding: SQL: [212] SELECT id, codigo, nome, estoque_atual, estoque_minimo, categoria, fornecedor 
                    FROM vw_produtos_estoque_critico 
                    ORDER BY estoque_atual ASC 
                    LIMIT 10
Params:  0

[2025-09-07 14:34:28] [DATABASE ERROR] Preparando query: 
                SELECT 
                    DATE_FORMAT(m.data_movimentacao, '%Y-%m') as periodo,
                    tm.tipo,
                    SUM(mi.quantidade) as total_quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                WHERE m.status = 'PROCESSADO'
                    AND m.data_movimentacao >= DATE_SUB(CURDATE(), INTERVAL 6 MONTH)
                GROUP BY periodo, tm.tipo
                ORDER BY periodo ASC com parâmetros: []
[2025-09-07 14:34:28] [DATABASE ERROR] Debug PDO após binding: SQL: [593] 
                SELECT 
                    DATE_FORMAT(m.data_movimentacao, '%Y-%m') as periodo,
                    tm.tipo,
                    SUM(mi.quantidade) as total_quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                WHERE m.status = 'PROCESSADO'
                    AND m.data_movimentacao >= DATE_SUB(CURDATE(), INTERVAL 6 MONTH)
                GROUP BY periodo, tm.tipo
                ORDER BY periodo ASC
Params:  0

[2025-09-07 14:34:28] [DATABASE ERROR] Preparando query: SELECT SUM(estoque_atual) as total_estoque FROM produtos WHERE ativo = TRUE com parâmetros: []
[2025-09-07 14:34:28] [DATABASE ERROR] Debug PDO após binding: SQL: [75] SELECT SUM(estoque_atual) as total_estoque FROM produtos WHERE ativo = TRUE
Params:  0

[2025-09-07 14:34:28] [DATABASE ERROR] Preparando query: SELECT id FROM produtos WHERE ativo = TRUE com parâmetros: []
[2025-09-07 14:34:28] [DATABASE ERROR] Debug PDO após binding: SQL: [42] SELECT id FROM produtos WHERE ativo = TRUE
Params:  0

[2025-09-07 14:34:28] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":1,":data_fim_a":null,":data_fim":null}
[2025-09-07 14:34:28] [DATABASE ERROR] Parâmetro associado: :produto_id = 1 (tipo: 1)
[2025-09-07 14:34:28] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-09-07 14:34:28] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-09-07 14:34:28] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-09-07 14:34:28] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":1}
[2025-09-07 14:34:28] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-09-07 14:34:28] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-07 14:34:28] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":2,":data_fim_a":null,":data_fim":null}
[2025-09-07 14:34:28] [DATABASE ERROR] Parâmetro associado: :produto_id = 2 (tipo: 1)
[2025-09-07 14:34:28] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-09-07 14:34:28] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-09-07 14:34:28] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-09-07 14:34:28] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":2}
[2025-09-07 14:34:28] [DATABASE ERROR] Parâmetro associado: :id = 2 (tipo: 1)
[2025-09-07 14:34:28] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-07 14:34:28] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":3,":data_fim_a":null,":data_fim":null}
[2025-09-07 14:34:28] [DATABASE ERROR] Parâmetro associado: :produto_id = 3 (tipo: 1)
[2025-09-07 14:34:28] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-09-07 14:34:28] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-09-07 14:34:28] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-09-07 14:34:28] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":3}
[2025-09-07 14:34:28] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-07 14:34:28] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-07 14:49:46] [DATABASE ERROR] Preparando query: SELECT SUM(estoque_atual) as total_estoque FROM produtos WHERE ativo = TRUE com parâmetros: []
[2025-09-07 14:49:46] [DATABASE ERROR] Debug PDO após binding: SQL: [75] SELECT SUM(estoque_atual) as total_estoque FROM produtos WHERE ativo = TRUE
Params:  0

[2025-09-07 14:49:46] [DATABASE ERROR] Preparando query: SELECT id FROM produtos WHERE ativo = TRUE com parâmetros: []
[2025-09-07 14:49:46] [DATABASE ERROR] Debug PDO após binding: SQL: [42] SELECT id FROM produtos WHERE ativo = TRUE
Params:  0

[2025-09-07 14:49:46] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":1,":data_fim_a":null,":data_fim":null}
[2025-09-07 14:49:46] [DATABASE ERROR] Parâmetro associado: :produto_id = 1 (tipo: 1)
[2025-09-07 14:49:46] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-09-07 14:49:46] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-09-07 14:49:46] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-09-07 14:49:46] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":1}
[2025-09-07 14:49:46] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-09-07 14:49:46] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-07 14:49:46] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":2,":data_fim_a":null,":data_fim":null}
[2025-09-07 14:49:46] [DATABASE ERROR] Parâmetro associado: :produto_id = 2 (tipo: 1)
[2025-09-07 14:49:46] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-09-07 14:49:46] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-09-07 14:49:46] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-09-07 14:49:46] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":2}
[2025-09-07 14:49:46] [DATABASE ERROR] Parâmetro associado: :id = 2 (tipo: 1)
[2025-09-07 14:49:46] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-07 14:49:46] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":3,":data_fim_a":null,":data_fim":null}
[2025-09-07 14:49:46] [DATABASE ERROR] Parâmetro associado: :produto_id = 3 (tipo: 1)
[2025-09-07 14:49:46] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-09-07 14:49:46] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-09-07 14:49:46] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-09-07 14:49:46] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":3}
[2025-09-07 14:49:46] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-07 14:49:46] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-07 14:49:47] [DATABASE ERROR] Preparando query: SELECT id, codigo, nome, estoque_atual, estoque_minimo, categoria, fornecedor 
                    FROM vw_produtos_estoque_critico 
                    ORDER BY estoque_atual ASC 
                    LIMIT 10 com parâmetros: []
[2025-09-07 14:49:47] [DATABASE ERROR] Debug PDO após binding: SQL: [212] SELECT id, codigo, nome, estoque_atual, estoque_minimo, categoria, fornecedor 
                    FROM vw_produtos_estoque_critico 
                    ORDER BY estoque_atual ASC 
                    LIMIT 10
Params:  0

[2025-09-07 14:49:48] [DATABASE ERROR] Preparando query: 
                SELECT 
                    DATE_FORMAT(m.data_movimentacao, '%Y-%m') as periodo,
                    tm.tipo,
                    SUM(mi.quantidade) as total_quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                WHERE m.status = 'PROCESSADO'
                    AND m.data_movimentacao >= DATE_SUB(CURDATE(), INTERVAL 6 MONTH)
                GROUP BY periodo, tm.tipo
                ORDER BY periodo ASC com parâmetros: []
[2025-09-07 14:49:48] [DATABASE ERROR] Debug PDO após binding: SQL: [593] 
                SELECT 
                    DATE_FORMAT(m.data_movimentacao, '%Y-%m') as periodo,
                    tm.tipo,
                    SUM(mi.quantidade) as total_quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                WHERE m.status = 'PROCESSADO'
                    AND m.data_movimentacao >= DATE_SUB(CURDATE(), INTERVAL 6 MONTH)
                GROUP BY periodo, tm.tipo
                ORDER BY periodo ASC
Params:  0

[2025-09-07 14:49:50] [DATABASE ERROR] Preparando query: SELECT id, tipo, categoria, documento_numero, data_movimentacao, valor_total, fornecedor, usuario 
                    FROM vw_movimentacoes_recentes 
                    ORDER BY data_movimentacao DESC 
                    LIMIT 10 com parâmetros: []
[2025-09-07 14:49:50] [DATABASE ERROR] Debug PDO após binding: SQL: [235] SELECT id, tipo, categoria, documento_numero, data_movimentacao, valor_total, fornecedor, usuario 
                    FROM vw_movimentacoes_recentes 
                    ORDER BY data_movimentacao DESC 
                    LIMIT 10
Params:  0

[2025-09-07 14:50:12] [DATABASE ERROR] Preparando query: SELECT u.id, u.nome_completo, u.email, u.usuario, 
                       u.ativo, u.ultimo_acesso, u.criado_em,
                       p.nome as perfil_nome 
                FROM usuarios u 
                JOIN perfis p ON u.perfil_id = p.id ORDER BY u.nome_completo com parâmetros: []
[2025-09-07 14:50:12] [DATABASE ERROR] Debug PDO após binding: SQL: [268] SELECT u.id, u.nome_completo, u.email, u.usuario, 
                       u.ativo, u.ultimo_acesso, u.criado_em,
                       p.nome as perfil_nome 
                FROM usuarios u 
                JOIN perfis p ON u.perfil_id = p.id ORDER BY u.nome_completo
Params:  0

[2025-09-07 14:55:52] [DATABASE ERROR] Preparando query: 
                SELECT 
                    DATE_FORMAT(m.data_movimentacao, '%Y-%m') as periodo,
                    tm.tipo,
                    SUM(mi.quantidade) as total_quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                WHERE m.status = 'PROCESSADO'
                    AND mi.produto_id = :product_id
                    AND m.data_movimentacao BETWEEN :start_date AND :end_date
                GROUP BY periodo, tm.tipo
                ORDER BY periodo ASC com parâmetros: {":product_id":"2",":start_date":"2025-09-01",":end_date":"2025-09-30"}
[2025-09-07 14:55:52] [DATABASE ERROR] Parâmetro associado: :product_id = 2 (tipo: 2)
[2025-09-07 14:55:52] [DATABASE ERROR] Parâmetro associado: :start_date = 2025-09-01 (tipo: 2)
[2025-09-07 14:55:52] [DATABASE ERROR] Parâmetro associado: :end_date = 2025-09-30 (tipo: 2)
[2025-09-07 14:55:52] [DATABASE ERROR] Debug PDO após binding: SQL: [639] 
                SELECT 
                    DATE_FORMAT(m.data_movimentacao, '%Y-%m') as periodo,
                    tm.tipo,
                    SUM(mi.quantidade) as total_quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                WHERE m.status = 'PROCESSADO'
                    AND mi.produto_id = :product_id
                    AND m.data_movimentacao BETWEEN :start_date AND :end_date
                GROUP BY periodo, tm.tipo
                ORDER BY periodo ASC
Params:  3
Key: Name: [11] :product_id
paramno=0
name=[11] ":product_id"
is_param=1
param_type=2
Key: Name: [11] :start_date
paramno=1
name=[11] ":start_date"
is_param=1
param_type=2
Key: Name: [9] :end_date
paramno=2
name=[9] ":end_date"
is_param=1
param_type=2

[2025-09-07 14:55:52] [DATABASE ERROR] Preparando query: 
                SELECT m.documento_numero, m.data_movimentacao, u.nome_completo as usuario, mi.quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                JOIN usuarios u ON m.usuario_id = u.id
                WHERE tm.tipo = 'ENTRADA' 
                    AND mi.produto_id = :product_id
                    AND m.data_movimentacao BETWEEN :start_date AND :end_date
                ORDER BY m.data_movimentacao DESC com parâmetros: {":product_id":"2",":start_date":"2025-09-01",":end_date":"2025-09-30"}
[2025-09-07 14:55:52] [DATABASE ERROR] Parâmetro associado: :product_id = 2 (tipo: 2)
[2025-09-07 14:55:52] [DATABASE ERROR] Parâmetro associado: :start_date = 2025-09-01 (tipo: 2)
[2025-09-07 14:55:52] [DATABASE ERROR] Parâmetro associado: :end_date = 2025-09-30 (tipo: 2)
[2025-09-07 14:55:52] [DATABASE ERROR] Debug PDO após binding: SQL: [579] 
                SELECT m.documento_numero, m.data_movimentacao, u.nome_completo as usuario, mi.quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                JOIN usuarios u ON m.usuario_id = u.id
                WHERE tm.tipo = 'ENTRADA' 
                    AND mi.produto_id = :product_id
                    AND m.data_movimentacao BETWEEN :start_date AND :end_date
                ORDER BY m.data_movimentacao DESC
Params:  3
Key: Name: [11] :product_id
paramno=0
name=[11] ":product_id"
is_param=1
param_type=2
Key: Name: [11] :start_date
paramno=1
name=[11] ":start_date"
is_param=1
param_type=2
Key: Name: [9] :end_date
paramno=2
name=[9] ":end_date"
is_param=1
param_type=2

[2025-09-07 14:55:52] [DATABASE ERROR] Preparando query: 
                SELECT m.documento_numero, m.data_movimentacao, u.nome_completo as usuario, mi.quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                JOIN usuarios u ON m.usuario_id = u.id
                WHERE tm.tipo = 'SAIDA' 
                    AND mi.produto_id = :product_id
                    AND m.data_movimentacao BETWEEN :start_date AND :end_date
                ORDER BY m.data_movimentacao DESC com parâmetros: {":product_id":"2",":start_date":"2025-09-01",":end_date":"2025-09-30"}
[2025-09-07 14:55:52] [DATABASE ERROR] Parâmetro associado: :product_id = 2 (tipo: 2)
[2025-09-07 14:55:52] [DATABASE ERROR] Parâmetro associado: :start_date = 2025-09-01 (tipo: 2)
[2025-09-07 14:55:52] [DATABASE ERROR] Parâmetro associado: :end_date = 2025-09-30 (tipo: 2)
[2025-09-07 14:55:52] [DATABASE ERROR] Debug PDO após binding: SQL: [577] 
                SELECT m.documento_numero, m.data_movimentacao, u.nome_completo as usuario, mi.quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                JOIN usuarios u ON m.usuario_id = u.id
                WHERE tm.tipo = 'SAIDA' 
                    AND mi.produto_id = :product_id
                    AND m.data_movimentacao BETWEEN :start_date AND :end_date
                ORDER BY m.data_movimentacao DESC
Params:  3
Key: Name: [11] :product_id
paramno=0
name=[11] ":product_id"
is_param=1
param_type=2
Key: Name: [11] :start_date
paramno=1
name=[11] ":start_date"
is_param=1
param_type=2
Key: Name: [9] :end_date
paramno=2
name=[9] ":end_date"
is_param=1
param_type=2

[2025-09-07 14:56:54] [DATABASE ERROR] Preparando query: 
                SELECT 
                    DATE_FORMAT(m.data_movimentacao, '%Y-%m') as periodo,
                    tm.tipo,
                    SUM(mi.quantidade) as total_quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                WHERE m.status = 'PROCESSADO'
                    AND mi.produto_id = :product_id
                    AND m.data_movimentacao BETWEEN :start_date AND :end_date
                GROUP BY periodo, tm.tipo
                ORDER BY periodo ASC com parâmetros: {":product_id":"2",":start_date":"2025-03-07",":end_date":"2025-09-07"}
[2025-09-07 14:56:54] [DATABASE ERROR] Parâmetro associado: :product_id = 2 (tipo: 2)
[2025-09-07 14:56:54] [DATABASE ERROR] Parâmetro associado: :start_date = 2025-03-07 (tipo: 2)
[2025-09-07 14:56:54] [DATABASE ERROR] Parâmetro associado: :end_date = 2025-09-07 (tipo: 2)
[2025-09-07 14:56:54] [DATABASE ERROR] Debug PDO após binding: SQL: [639] 
                SELECT 
                    DATE_FORMAT(m.data_movimentacao, '%Y-%m') as periodo,
                    tm.tipo,
                    SUM(mi.quantidade) as total_quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                WHERE m.status = 'PROCESSADO'
                    AND mi.produto_id = :product_id
                    AND m.data_movimentacao BETWEEN :start_date AND :end_date
                GROUP BY periodo, tm.tipo
                ORDER BY periodo ASC
Params:  3
Key: Name: [11] :product_id
paramno=0
name=[11] ":product_id"
is_param=1
param_type=2
Key: Name: [11] :start_date
paramno=1
name=[11] ":start_date"
is_param=1
param_type=2
Key: Name: [9] :end_date
paramno=2
name=[9] ":end_date"
is_param=1
param_type=2

[2025-09-07 14:56:54] [DATABASE ERROR] Preparando query: 
                SELECT m.documento_numero, m.data_movimentacao, u.nome_completo as usuario, mi.quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                JOIN usuarios u ON m.usuario_id = u.id
                WHERE tm.tipo = 'ENTRADA' 
                    AND mi.produto_id = :product_id
                    AND m.data_movimentacao BETWEEN :start_date AND :end_date
                ORDER BY m.data_movimentacao DESC com parâmetros: {":product_id":"2",":start_date":"2025-03-07",":end_date":"2025-09-07"}
[2025-09-07 14:56:54] [DATABASE ERROR] Parâmetro associado: :product_id = 2 (tipo: 2)
[2025-09-07 14:56:54] [DATABASE ERROR] Parâmetro associado: :start_date = 2025-03-07 (tipo: 2)
[2025-09-07 14:56:54] [DATABASE ERROR] Parâmetro associado: :end_date = 2025-09-07 (tipo: 2)
[2025-09-07 14:56:54] [DATABASE ERROR] Debug PDO após binding: SQL: [579] 
                SELECT m.documento_numero, m.data_movimentacao, u.nome_completo as usuario, mi.quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                JOIN usuarios u ON m.usuario_id = u.id
                WHERE tm.tipo = 'ENTRADA' 
                    AND mi.produto_id = :product_id
                    AND m.data_movimentacao BETWEEN :start_date AND :end_date
                ORDER BY m.data_movimentacao DESC
Params:  3
Key: Name: [11] :product_id
paramno=0
name=[11] ":product_id"
is_param=1
param_type=2
Key: Name: [11] :start_date
paramno=1
name=[11] ":start_date"
is_param=1
param_type=2
Key: Name: [9] :end_date
paramno=2
name=[9] ":end_date"
is_param=1
param_type=2

[2025-09-07 14:56:54] [DATABASE ERROR] Preparando query: 
                SELECT m.documento_numero, m.data_movimentacao, u.nome_completo as usuario, mi.quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                JOIN usuarios u ON m.usuario_id = u.id
                WHERE tm.tipo = 'SAIDA' 
                    AND mi.produto_id = :product_id
                    AND m.data_movimentacao BETWEEN :start_date AND :end_date
                ORDER BY m.data_movimentacao DESC com parâmetros: {":product_id":"2",":start_date":"2025-03-07",":end_date":"2025-09-07"}
[2025-09-07 14:56:54] [DATABASE ERROR] Parâmetro associado: :product_id = 2 (tipo: 2)
[2025-09-07 14:56:54] [DATABASE ERROR] Parâmetro associado: :start_date = 2025-03-07 (tipo: 2)
[2025-09-07 14:56:54] [DATABASE ERROR] Parâmetro associado: :end_date = 2025-09-07 (tipo: 2)
[2025-09-07 14:56:54] [DATABASE ERROR] Debug PDO após binding: SQL: [577] 
                SELECT m.documento_numero, m.data_movimentacao, u.nome_completo as usuario, mi.quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                JOIN usuarios u ON m.usuario_id = u.id
                WHERE tm.tipo = 'SAIDA' 
                    AND mi.produto_id = :product_id
                    AND m.data_movimentacao BETWEEN :start_date AND :end_date
                ORDER BY m.data_movimentacao DESC
Params:  3
Key: Name: [11] :product_id
paramno=0
name=[11] ":product_id"
is_param=1
param_type=2
Key: Name: [11] :start_date
paramno=1
name=[11] ":start_date"
is_param=1
param_type=2
Key: Name: [9] :end_date
paramno=2
name=[9] ":end_date"
is_param=1
param_type=2

[2025-09-07 14:57:02] [DATABASE ERROR] Preparando query: 
                SELECT 
                    DATE_FORMAT(m.data_movimentacao, '%Y-%m') as periodo,
                    tm.tipo,
                    SUM(mi.quantidade) as total_quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                WHERE m.status = 'PROCESSADO'
                    AND mi.produto_id = :product_id
                    AND m.data_movimentacao BETWEEN :start_date AND :end_date
                GROUP BY periodo, tm.tipo
                ORDER BY periodo ASC com parâmetros: {":product_id":"2",":start_date":"2025-03-07",":end_date":"2025-09-07"}
[2025-09-07 14:57:02] [DATABASE ERROR] Parâmetro associado: :product_id = 2 (tipo: 2)
[2025-09-07 14:57:02] [DATABASE ERROR] Parâmetro associado: :start_date = 2025-03-07 (tipo: 2)
[2025-09-07 14:57:02] [DATABASE ERROR] Parâmetro associado: :end_date = 2025-09-07 (tipo: 2)
[2025-09-07 14:57:02] [DATABASE ERROR] Debug PDO após binding: SQL: [639] 
                SELECT 
                    DATE_FORMAT(m.data_movimentacao, '%Y-%m') as periodo,
                    tm.tipo,
                    SUM(mi.quantidade) as total_quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                WHERE m.status = 'PROCESSADO'
                    AND mi.produto_id = :product_id
                    AND m.data_movimentacao BETWEEN :start_date AND :end_date
                GROUP BY periodo, tm.tipo
                ORDER BY periodo ASC
Params:  3
Key: Name: [11] :product_id
paramno=0
name=[11] ":product_id"
is_param=1
param_type=2
Key: Name: [11] :start_date
paramno=1
name=[11] ":start_date"
is_param=1
param_type=2
Key: Name: [9] :end_date
paramno=2
name=[9] ":end_date"
is_param=1
param_type=2

[2025-09-07 14:57:02] [DATABASE ERROR] Preparando query: 
                SELECT m.documento_numero, m.data_movimentacao, u.nome_completo as usuario, mi.quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                JOIN usuarios u ON m.usuario_id = u.id
                WHERE tm.tipo = 'ENTRADA' 
                    AND mi.produto_id = :product_id
                    AND m.data_movimentacao BETWEEN :start_date AND :end_date
                ORDER BY m.data_movimentacao DESC com parâmetros: {":product_id":"2",":start_date":"2025-03-07",":end_date":"2025-09-07"}
[2025-09-07 14:57:02] [DATABASE ERROR] Parâmetro associado: :product_id = 2 (tipo: 2)
[2025-09-07 14:57:02] [DATABASE ERROR] Parâmetro associado: :start_date = 2025-03-07 (tipo: 2)
[2025-09-07 14:57:02] [DATABASE ERROR] Parâmetro associado: :end_date = 2025-09-07 (tipo: 2)
[2025-09-07 14:57:02] [DATABASE ERROR] Debug PDO após binding: SQL: [579] 
                SELECT m.documento_numero, m.data_movimentacao, u.nome_completo as usuario, mi.quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                JOIN usuarios u ON m.usuario_id = u.id
                WHERE tm.tipo = 'ENTRADA' 
                    AND mi.produto_id = :product_id
                    AND m.data_movimentacao BETWEEN :start_date AND :end_date
                ORDER BY m.data_movimentacao DESC
Params:  3
Key: Name: [11] :product_id
paramno=0
name=[11] ":product_id"
is_param=1
param_type=2
Key: Name: [11] :start_date
paramno=1
name=[11] ":start_date"
is_param=1
param_type=2
Key: Name: [9] :end_date
paramno=2
name=[9] ":end_date"
is_param=1
param_type=2

[2025-09-07 14:57:02] [DATABASE ERROR] Preparando query: 
                SELECT m.documento_numero, m.data_movimentacao, u.nome_completo as usuario, mi.quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                JOIN usuarios u ON m.usuario_id = u.id
                WHERE tm.tipo = 'SAIDA' 
                    AND mi.produto_id = :product_id
                    AND m.data_movimentacao BETWEEN :start_date AND :end_date
                ORDER BY m.data_movimentacao DESC com parâmetros: {":product_id":"2",":start_date":"2025-03-07",":end_date":"2025-09-07"}
[2025-09-07 14:57:02] [DATABASE ERROR] Parâmetro associado: :product_id = 2 (tipo: 2)
[2025-09-07 14:57:02] [DATABASE ERROR] Parâmetro associado: :start_date = 2025-03-07 (tipo: 2)
[2025-09-07 14:57:02] [DATABASE ERROR] Parâmetro associado: :end_date = 2025-09-07 (tipo: 2)
[2025-09-07 14:57:02] [DATABASE ERROR] Debug PDO após binding: SQL: [577] 
                SELECT m.documento_numero, m.data_movimentacao, u.nome_completo as usuario, mi.quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                JOIN usuarios u ON m.usuario_id = u.id
                WHERE tm.tipo = 'SAIDA' 
                    AND mi.produto_id = :product_id
                    AND m.data_movimentacao BETWEEN :start_date AND :end_date
                ORDER BY m.data_movimentacao DESC
Params:  3
Key: Name: [11] :product_id
paramno=0
name=[11] ":product_id"
is_param=1
param_type=2
Key: Name: [11] :start_date
paramno=1
name=[11] ":start_date"
is_param=1
param_type=2
Key: Name: [9] :end_date
paramno=2
name=[9] ":end_date"
is_param=1
param_type=2

[2025-09-07 14:57:09] [DATABASE ERROR] Preparando query: 
                SELECT 
                    DATE_FORMAT(m.data_movimentacao, '%Y-%m') as periodo,
                    tm.tipo,
                    SUM(mi.quantidade) as total_quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                WHERE m.status = 'PROCESSADO'
                    AND mi.produto_id = :product_id
                    AND m.data_movimentacao BETWEEN :start_date AND :end_date
                GROUP BY periodo, tm.tipo
                ORDER BY periodo ASC com parâmetros: {":product_id":"2",":start_date":"2025-09-01",":end_date":"2025-09-30"}
[2025-09-07 14:57:09] [DATABASE ERROR] Parâmetro associado: :product_id = 2 (tipo: 2)
[2025-09-07 14:57:09] [DATABASE ERROR] Parâmetro associado: :start_date = 2025-09-01 (tipo: 2)
[2025-09-07 14:57:09] [DATABASE ERROR] Parâmetro associado: :end_date = 2025-09-30 (tipo: 2)
[2025-09-07 14:57:09] [DATABASE ERROR] Debug PDO após binding: SQL: [639] 
                SELECT 
                    DATE_FORMAT(m.data_movimentacao, '%Y-%m') as periodo,
                    tm.tipo,
                    SUM(mi.quantidade) as total_quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                WHERE m.status = 'PROCESSADO'
                    AND mi.produto_id = :product_id
                    AND m.data_movimentacao BETWEEN :start_date AND :end_date
                GROUP BY periodo, tm.tipo
                ORDER BY periodo ASC
Params:  3
Key: Name: [11] :product_id
paramno=0
name=[11] ":product_id"
is_param=1
param_type=2
Key: Name: [11] :start_date
paramno=1
name=[11] ":start_date"
is_param=1
param_type=2
Key: Name: [9] :end_date
paramno=2
name=[9] ":end_date"
is_param=1
param_type=2

[2025-09-07 14:57:09] [DATABASE ERROR] Preparando query: 
                SELECT m.documento_numero, m.data_movimentacao, u.nome_completo as usuario, mi.quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                JOIN usuarios u ON m.usuario_id = u.id
                WHERE tm.tipo = 'ENTRADA' 
                    AND mi.produto_id = :product_id
                    AND m.data_movimentacao BETWEEN :start_date AND :end_date
                ORDER BY m.data_movimentacao DESC com parâmetros: {":product_id":"2",":start_date":"2025-09-01",":end_date":"2025-09-30"}
[2025-09-07 14:57:09] [DATABASE ERROR] Parâmetro associado: :product_id = 2 (tipo: 2)
[2025-09-07 14:57:09] [DATABASE ERROR] Parâmetro associado: :start_date = 2025-09-01 (tipo: 2)
[2025-09-07 14:57:09] [DATABASE ERROR] Parâmetro associado: :end_date = 2025-09-30 (tipo: 2)
[2025-09-07 14:57:09] [DATABASE ERROR] Debug PDO após binding: SQL: [579] 
                SELECT m.documento_numero, m.data_movimentacao, u.nome_completo as usuario, mi.quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                JOIN usuarios u ON m.usuario_id = u.id
                WHERE tm.tipo = 'ENTRADA' 
                    AND mi.produto_id = :product_id
                    AND m.data_movimentacao BETWEEN :start_date AND :end_date
                ORDER BY m.data_movimentacao DESC
Params:  3
Key: Name: [11] :product_id
paramno=0
name=[11] ":product_id"
is_param=1
param_type=2
Key: Name: [11] :start_date
paramno=1
name=[11] ":start_date"
is_param=1
param_type=2
Key: Name: [9] :end_date
paramno=2
name=[9] ":end_date"
is_param=1
param_type=2

[2025-09-07 14:57:09] [DATABASE ERROR] Preparando query: 
                SELECT m.documento_numero, m.data_movimentacao, u.nome_completo as usuario, mi.quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                JOIN usuarios u ON m.usuario_id = u.id
                WHERE tm.tipo = 'SAIDA' 
                    AND mi.produto_id = :product_id
                    AND m.data_movimentacao BETWEEN :start_date AND :end_date
                ORDER BY m.data_movimentacao DESC com parâmetros: {":product_id":"2",":start_date":"2025-09-01",":end_date":"2025-09-30"}
[2025-09-07 14:57:09] [DATABASE ERROR] Parâmetro associado: :product_id = 2 (tipo: 2)
[2025-09-07 14:57:09] [DATABASE ERROR] Parâmetro associado: :start_date = 2025-09-01 (tipo: 2)
[2025-09-07 14:57:09] [DATABASE ERROR] Parâmetro associado: :end_date = 2025-09-30 (tipo: 2)
[2025-09-07 14:57:09] [DATABASE ERROR] Debug PDO após binding: SQL: [577] 
                SELECT m.documento_numero, m.data_movimentacao, u.nome_completo as usuario, mi.quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                JOIN usuarios u ON m.usuario_id = u.id
                WHERE tm.tipo = 'SAIDA' 
                    AND mi.produto_id = :product_id
                    AND m.data_movimentacao BETWEEN :start_date AND :end_date
                ORDER BY m.data_movimentacao DESC
Params:  3
Key: Name: [11] :product_id
paramno=0
name=[11] ":product_id"
is_param=1
param_type=2
Key: Name: [11] :start_date
paramno=1
name=[11] ":start_date"
is_param=1
param_type=2
Key: Name: [9] :end_date
paramno=2
name=[9] ":end_date"
is_param=1
param_type=2

[2025-09-07 14:57:47] [DATABASE ERROR] Preparando query: 
                SELECT 
                    DATE_FORMAT(m.data_movimentacao, '%Y-%m') as periodo,
                    tm.tipo,
                    SUM(mi.quantidade) as total_quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                WHERE m.status = 'PROCESSADO'
                    AND mi.produto_id = :product_id
                    AND m.data_movimentacao BETWEEN :start_date AND :end_date
                GROUP BY periodo, tm.tipo
                ORDER BY periodo ASC com parâmetros: {":product_id":"2",":start_date":"2025-09-01",":end_date":"2025-09-30"}
[2025-09-07 14:57:47] [DATABASE ERROR] Parâmetro associado: :product_id = 2 (tipo: 2)
[2025-09-07 14:57:47] [DATABASE ERROR] Parâmetro associado: :start_date = 2025-09-01 (tipo: 2)
[2025-09-07 14:57:47] [DATABASE ERROR] Parâmetro associado: :end_date = 2025-09-30 (tipo: 2)
[2025-09-07 14:57:47] [DATABASE ERROR] Debug PDO após binding: SQL: [639] 
                SELECT 
                    DATE_FORMAT(m.data_movimentacao, '%Y-%m') as periodo,
                    tm.tipo,
                    SUM(mi.quantidade) as total_quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                WHERE m.status = 'PROCESSADO'
                    AND mi.produto_id = :product_id
                    AND m.data_movimentacao BETWEEN :start_date AND :end_date
                GROUP BY periodo, tm.tipo
                ORDER BY periodo ASC
Params:  3
Key: Name: [11] :product_id
paramno=0
name=[11] ":product_id"
is_param=1
param_type=2
Key: Name: [11] :start_date
paramno=1
name=[11] ":start_date"
is_param=1
param_type=2
Key: Name: [9] :end_date
paramno=2
name=[9] ":end_date"
is_param=1
param_type=2

[2025-09-07 14:57:47] [DATABASE ERROR] Preparando query: 
                SELECT m.documento_numero, m.data_movimentacao, u.nome_completo as usuario, mi.quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                JOIN usuarios u ON m.usuario_id = u.id
                WHERE tm.tipo = 'ENTRADA' 
                    AND mi.produto_id = :product_id
                    AND m.data_movimentacao BETWEEN :start_date AND :end_date
                ORDER BY m.data_movimentacao DESC com parâmetros: {":product_id":"2",":start_date":"2025-09-01",":end_date":"2025-09-30"}
[2025-09-07 14:57:47] [DATABASE ERROR] Parâmetro associado: :product_id = 2 (tipo: 2)
[2025-09-07 14:57:47] [DATABASE ERROR] Parâmetro associado: :start_date = 2025-09-01 (tipo: 2)
[2025-09-07 14:57:47] [DATABASE ERROR] Parâmetro associado: :end_date = 2025-09-30 (tipo: 2)
[2025-09-07 14:57:47] [DATABASE ERROR] Debug PDO após binding: SQL: [579] 
                SELECT m.documento_numero, m.data_movimentacao, u.nome_completo as usuario, mi.quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                JOIN usuarios u ON m.usuario_id = u.id
                WHERE tm.tipo = 'ENTRADA' 
                    AND mi.produto_id = :product_id
                    AND m.data_movimentacao BETWEEN :start_date AND :end_date
                ORDER BY m.data_movimentacao DESC
Params:  3
Key: Name: [11] :product_id
paramno=0
name=[11] ":product_id"
is_param=1
param_type=2
Key: Name: [11] :start_date
paramno=1
name=[11] ":start_date"
is_param=1
param_type=2
Key: Name: [9] :end_date
paramno=2
name=[9] ":end_date"
is_param=1
param_type=2

[2025-09-07 14:57:47] [DATABASE ERROR] Preparando query: 
                SELECT m.documento_numero, m.data_movimentacao, u.nome_completo as usuario, mi.quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                JOIN usuarios u ON m.usuario_id = u.id
                WHERE tm.tipo = 'SAIDA' 
                    AND mi.produto_id = :product_id
                    AND m.data_movimentacao BETWEEN :start_date AND :end_date
                ORDER BY m.data_movimentacao DESC com parâmetros: {":product_id":"2",":start_date":"2025-09-01",":end_date":"2025-09-30"}
[2025-09-07 14:57:47] [DATABASE ERROR] Parâmetro associado: :product_id = 2 (tipo: 2)
[2025-09-07 14:57:47] [DATABASE ERROR] Parâmetro associado: :start_date = 2025-09-01 (tipo: 2)
[2025-09-07 14:57:47] [DATABASE ERROR] Parâmetro associado: :end_date = 2025-09-30 (tipo: 2)
[2025-09-07 14:57:47] [DATABASE ERROR] Debug PDO após binding: SQL: [577] 
                SELECT m.documento_numero, m.data_movimentacao, u.nome_completo as usuario, mi.quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                JOIN usuarios u ON m.usuario_id = u.id
                WHERE tm.tipo = 'SAIDA' 
                    AND mi.produto_id = :product_id
                    AND m.data_movimentacao BETWEEN :start_date AND :end_date
                ORDER BY m.data_movimentacao DESC
Params:  3
Key: Name: [11] :product_id
paramno=0
name=[11] ":product_id"
is_param=1
param_type=2
Key: Name: [11] :start_date
paramno=1
name=[11] ":start_date"
is_param=1
param_type=2
Key: Name: [9] :end_date
paramno=2
name=[9] ":end_date"
is_param=1
param_type=2

[2025-09-07 14:58:37] [DATABASE ERROR] Preparando query: 
                SELECT 
                    DATE_FORMAT(m.data_movimentacao, '%Y-%m') as periodo,
                    tm.tipo,
                    SUM(mi.quantidade) as total_quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                WHERE m.status = 'PROCESSADO'
                    AND mi.produto_id = :product_id
                    AND m.data_movimentacao BETWEEN :start_date AND :end_date
                GROUP BY periodo, tm.tipo
                ORDER BY periodo ASC com parâmetros: {":product_id":"2",":start_date":"2025-09-01",":end_date":"2025-09-30"}
[2025-09-07 14:58:37] [DATABASE ERROR] Parâmetro associado: :product_id = 2 (tipo: 2)
[2025-09-07 14:58:37] [DATABASE ERROR] Parâmetro associado: :start_date = 2025-09-01 (tipo: 2)
[2025-09-07 14:58:37] [DATABASE ERROR] Parâmetro associado: :end_date = 2025-09-30 (tipo: 2)
[2025-09-07 14:58:37] [DATABASE ERROR] Debug PDO após binding: SQL: [639] 
                SELECT 
                    DATE_FORMAT(m.data_movimentacao, '%Y-%m') as periodo,
                    tm.tipo,
                    SUM(mi.quantidade) as total_quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                WHERE m.status = 'PROCESSADO'
                    AND mi.produto_id = :product_id
                    AND m.data_movimentacao BETWEEN :start_date AND :end_date
                GROUP BY periodo, tm.tipo
                ORDER BY periodo ASC
Params:  3
Key: Name: [11] :product_id
paramno=0
name=[11] ":product_id"
is_param=1
param_type=2
Key: Name: [11] :start_date
paramno=1
name=[11] ":start_date"
is_param=1
param_type=2
Key: Name: [9] :end_date
paramno=2
name=[9] ":end_date"
is_param=1
param_type=2

[2025-09-07 14:58:37] [DATABASE ERROR] Preparando query: 
                SELECT m.documento_numero, m.data_movimentacao, u.nome_completo as usuario, mi.quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                JOIN usuarios u ON m.usuario_id = u.id
                WHERE tm.tipo = 'ENTRADA' 
                    AND mi.produto_id = :product_id
                    AND m.data_movimentacao BETWEEN :start_date AND :end_date
                ORDER BY m.data_movimentacao DESC com parâmetros: {":product_id":"2",":start_date":"2025-09-01",":end_date":"2025-09-30"}
[2025-09-07 14:58:37] [DATABASE ERROR] Parâmetro associado: :product_id = 2 (tipo: 2)
[2025-09-07 14:58:37] [DATABASE ERROR] Parâmetro associado: :start_date = 2025-09-01 (tipo: 2)
[2025-09-07 14:58:37] [DATABASE ERROR] Parâmetro associado: :end_date = 2025-09-30 (tipo: 2)
[2025-09-07 14:58:37] [DATABASE ERROR] Debug PDO após binding: SQL: [579] 
                SELECT m.documento_numero, m.data_movimentacao, u.nome_completo as usuario, mi.quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                JOIN usuarios u ON m.usuario_id = u.id
                WHERE tm.tipo = 'ENTRADA' 
                    AND mi.produto_id = :product_id
                    AND m.data_movimentacao BETWEEN :start_date AND :end_date
                ORDER BY m.data_movimentacao DESC
Params:  3
Key: Name: [11] :product_id
paramno=0
name=[11] ":product_id"
is_param=1
param_type=2
Key: Name: [11] :start_date
paramno=1
name=[11] ":start_date"
is_param=1
param_type=2
Key: Name: [9] :end_date
paramno=2
name=[9] ":end_date"
is_param=1
param_type=2

[2025-09-07 14:58:37] [DATABASE ERROR] Preparando query: 
                SELECT m.documento_numero, m.data_movimentacao, u.nome_completo as usuario, mi.quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                JOIN usuarios u ON m.usuario_id = u.id
                WHERE tm.tipo = 'SAIDA' 
                    AND mi.produto_id = :product_id
                    AND m.data_movimentacao BETWEEN :start_date AND :end_date
                ORDER BY m.data_movimentacao DESC com parâmetros: {":product_id":"2",":start_date":"2025-09-01",":end_date":"2025-09-30"}
[2025-09-07 14:58:37] [DATABASE ERROR] Parâmetro associado: :product_id = 2 (tipo: 2)
[2025-09-07 14:58:37] [DATABASE ERROR] Parâmetro associado: :start_date = 2025-09-01 (tipo: 2)
[2025-09-07 14:58:37] [DATABASE ERROR] Parâmetro associado: :end_date = 2025-09-30 (tipo: 2)
[2025-09-07 14:58:37] [DATABASE ERROR] Debug PDO após binding: SQL: [577] 
                SELECT m.documento_numero, m.data_movimentacao, u.nome_completo as usuario, mi.quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                JOIN usuarios u ON m.usuario_id = u.id
                WHERE tm.tipo = 'SAIDA' 
                    AND mi.produto_id = :product_id
                    AND m.data_movimentacao BETWEEN :start_date AND :end_date
                ORDER BY m.data_movimentacao DESC
Params:  3
Key: Name: [11] :product_id
paramno=0
name=[11] ":product_id"
is_param=1
param_type=2
Key: Name: [11] :start_date
paramno=1
name=[11] ":start_date"
is_param=1
param_type=2
Key: Name: [9] :end_date
paramno=2
name=[9] ":end_date"
is_param=1
param_type=2

[2025-09-07 14:59:21] [DATABASE ERROR] Preparando query: 
                SELECT 
                    DATE_FORMAT(m.data_movimentacao, '%Y-%m') as periodo,
                    tm.tipo,
                    SUM(mi.quantidade) as total_quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                WHERE m.status = 'PROCESSADO'
                    AND mi.produto_id = :product_id
                    AND m.data_movimentacao BETWEEN :start_date AND :end_date
                GROUP BY periodo, tm.tipo
                ORDER BY periodo ASC com parâmetros: {":product_id":"2",":start_date":"2025-09-01",":end_date":"2025-09-30"}
[2025-09-07 14:59:21] [DATABASE ERROR] Parâmetro associado: :product_id = 2 (tipo: 2)
[2025-09-07 14:59:21] [DATABASE ERROR] Parâmetro associado: :start_date = 2025-09-01 (tipo: 2)
[2025-09-07 14:59:21] [DATABASE ERROR] Parâmetro associado: :end_date = 2025-09-30 (tipo: 2)
[2025-09-07 14:59:21] [DATABASE ERROR] Debug PDO após binding: SQL: [639] 
                SELECT 
                    DATE_FORMAT(m.data_movimentacao, '%Y-%m') as periodo,
                    tm.tipo,
                    SUM(mi.quantidade) as total_quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                WHERE m.status = 'PROCESSADO'
                    AND mi.produto_id = :product_id
                    AND m.data_movimentacao BETWEEN :start_date AND :end_date
                GROUP BY periodo, tm.tipo
                ORDER BY periodo ASC
Params:  3
Key: Name: [11] :product_id
paramno=0
name=[11] ":product_id"
is_param=1
param_type=2
Key: Name: [11] :start_date
paramno=1
name=[11] ":start_date"
is_param=1
param_type=2
Key: Name: [9] :end_date
paramno=2
name=[9] ":end_date"
is_param=1
param_type=2

[2025-09-07 14:59:21] [DATABASE ERROR] Preparando query: 
                SELECT m.documento_numero, m.data_movimentacao, u.nome_completo as usuario, mi.quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                JOIN usuarios u ON m.usuario_id = u.id
                WHERE tm.tipo = 'ENTRADA' 
                    AND mi.produto_id = :product_id
                    AND m.data_movimentacao BETWEEN :start_date AND :end_date
                ORDER BY m.data_movimentacao DESC com parâmetros: {":product_id":"2",":start_date":"2025-09-01",":end_date":"2025-09-30"}
[2025-09-07 14:59:21] [DATABASE ERROR] Parâmetro associado: :product_id = 2 (tipo: 2)
[2025-09-07 14:59:21] [DATABASE ERROR] Parâmetro associado: :start_date = 2025-09-01 (tipo: 2)
[2025-09-07 14:59:21] [DATABASE ERROR] Parâmetro associado: :end_date = 2025-09-30 (tipo: 2)
[2025-09-07 14:59:21] [DATABASE ERROR] Debug PDO após binding: SQL: [579] 
                SELECT m.documento_numero, m.data_movimentacao, u.nome_completo as usuario, mi.quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                JOIN usuarios u ON m.usuario_id = u.id
                WHERE tm.tipo = 'ENTRADA' 
                    AND mi.produto_id = :product_id
                    AND m.data_movimentacao BETWEEN :start_date AND :end_date
                ORDER BY m.data_movimentacao DESC
Params:  3
Key: Name: [11] :product_id
paramno=0
name=[11] ":product_id"
is_param=1
param_type=2
Key: Name: [11] :start_date
paramno=1
name=[11] ":start_date"
is_param=1
param_type=2
Key: Name: [9] :end_date
paramno=2
name=[9] ":end_date"
is_param=1
param_type=2

[2025-09-07 14:59:21] [DATABASE ERROR] Preparando query: 
                SELECT m.documento_numero, m.data_movimentacao, u.nome_completo as usuario, mi.quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                JOIN usuarios u ON m.usuario_id = u.id
                WHERE tm.tipo = 'SAIDA' 
                    AND mi.produto_id = :product_id
                    AND m.data_movimentacao BETWEEN :start_date AND :end_date
                ORDER BY m.data_movimentacao DESC com parâmetros: {":product_id":"2",":start_date":"2025-09-01",":end_date":"2025-09-30"}
[2025-09-07 14:59:21] [DATABASE ERROR] Parâmetro associado: :product_id = 2 (tipo: 2)
[2025-09-07 14:59:21] [DATABASE ERROR] Parâmetro associado: :start_date = 2025-09-01 (tipo: 2)
[2025-09-07 14:59:21] [DATABASE ERROR] Parâmetro associado: :end_date = 2025-09-30 (tipo: 2)
[2025-09-07 14:59:21] [DATABASE ERROR] Debug PDO após binding: SQL: [577] 
                SELECT m.documento_numero, m.data_movimentacao, u.nome_completo as usuario, mi.quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                JOIN usuarios u ON m.usuario_id = u.id
                WHERE tm.tipo = 'SAIDA' 
                    AND mi.produto_id = :product_id
                    AND m.data_movimentacao BETWEEN :start_date AND :end_date
                ORDER BY m.data_movimentacao DESC
Params:  3
Key: Name: [11] :product_id
paramno=0
name=[11] ":product_id"
is_param=1
param_type=2
Key: Name: [11] :start_date
paramno=1
name=[11] ":start_date"
is_param=1
param_type=2
Key: Name: [9] :end_date
paramno=2
name=[9] ":end_date"
is_param=1
param_type=2

[2025-09-07 15:03:44] [DATABASE ERROR] Preparando query: 
                SELECT 
                    DATE_FORMAT(m.data_movimentacao, '%Y-%m') as periodo,
                    tm.tipo,
                    SUM(mi.quantidade) as total_quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                WHERE m.status = 'PROCESSADO'
                    AND mi.produto_id = :product_id
                    AND m.data_movimentacao BETWEEN :start_date AND :end_date
                GROUP BY periodo, tm.tipo
                ORDER BY periodo ASC com parâmetros: {":product_id":"2",":start_date":"2025-09-01",":end_date":"2025-09-30"}
[2025-09-07 15:03:44] [DATABASE ERROR] Parâmetro associado: :product_id = 2 (tipo: 2)
[2025-09-07 15:03:44] [DATABASE ERROR] Parâmetro associado: :start_date = 2025-09-01 (tipo: 2)
[2025-09-07 15:03:44] [DATABASE ERROR] Parâmetro associado: :end_date = 2025-09-30 (tipo: 2)
[2025-09-07 15:03:44] [DATABASE ERROR] Debug PDO após binding: SQL: [639] 
                SELECT 
                    DATE_FORMAT(m.data_movimentacao, '%Y-%m') as periodo,
                    tm.tipo,
                    SUM(mi.quantidade) as total_quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                WHERE m.status = 'PROCESSADO'
                    AND mi.produto_id = :product_id
                    AND m.data_movimentacao BETWEEN :start_date AND :end_date
                GROUP BY periodo, tm.tipo
                ORDER BY periodo ASC
Params:  3
Key: Name: [11] :product_id
paramno=0
name=[11] ":product_id"
is_param=1
param_type=2
Key: Name: [11] :start_date
paramno=1
name=[11] ":start_date"
is_param=1
param_type=2
Key: Name: [9] :end_date
paramno=2
name=[9] ":end_date"
is_param=1
param_type=2

[2025-09-07 15:03:44] [DATABASE ERROR] Preparando query: 
                SELECT m.documento_numero, m.data_movimentacao, u.nome_completo as usuario, mi.quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                JOIN usuarios u ON m.usuario_id = u.id
                WHERE tm.tipo = 'ENTRADA' 
                    AND mi.produto_id = :product_id
                    AND m.data_movimentacao BETWEEN :start_date AND :end_date
                ORDER BY m.data_movimentacao DESC com parâmetros: {":product_id":"2",":start_date":"2025-09-01",":end_date":"2025-09-30"}
[2025-09-07 15:03:44] [DATABASE ERROR] Parâmetro associado: :product_id = 2 (tipo: 2)
[2025-09-07 15:03:44] [DATABASE ERROR] Parâmetro associado: :start_date = 2025-09-01 (tipo: 2)
[2025-09-07 15:03:44] [DATABASE ERROR] Parâmetro associado: :end_date = 2025-09-30 (tipo: 2)
[2025-09-07 15:03:44] [DATABASE ERROR] Debug PDO após binding: SQL: [579] 
                SELECT m.documento_numero, m.data_movimentacao, u.nome_completo as usuario, mi.quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                JOIN usuarios u ON m.usuario_id = u.id
                WHERE tm.tipo = 'ENTRADA' 
                    AND mi.produto_id = :product_id
                    AND m.data_movimentacao BETWEEN :start_date AND :end_date
                ORDER BY m.data_movimentacao DESC
Params:  3
Key: Name: [11] :product_id
paramno=0
name=[11] ":product_id"
is_param=1
param_type=2
Key: Name: [11] :start_date
paramno=1
name=[11] ":start_date"
is_param=1
param_type=2
Key: Name: [9] :end_date
paramno=2
name=[9] ":end_date"
is_param=1
param_type=2

[2025-09-07 15:03:44] [DATABASE ERROR] Preparando query: 
                SELECT m.documento_numero, m.data_movimentacao, u.nome_completo as usuario, mi.quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                JOIN usuarios u ON m.usuario_id = u.id
                WHERE tm.tipo = 'SAIDA' 
                    AND mi.produto_id = :product_id
                    AND m.data_movimentacao BETWEEN :start_date AND :end_date
                ORDER BY m.data_movimentacao DESC com parâmetros: {":product_id":"2",":start_date":"2025-09-01",":end_date":"2025-09-30"}
[2025-09-07 15:03:44] [DATABASE ERROR] Parâmetro associado: :product_id = 2 (tipo: 2)
[2025-09-07 15:03:44] [DATABASE ERROR] Parâmetro associado: :start_date = 2025-09-01 (tipo: 2)
[2025-09-07 15:03:44] [DATABASE ERROR] Parâmetro associado: :end_date = 2025-09-30 (tipo: 2)
[2025-09-07 15:03:44] [DATABASE ERROR] Debug PDO após binding: SQL: [577] 
                SELECT m.documento_numero, m.data_movimentacao, u.nome_completo as usuario, mi.quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                JOIN usuarios u ON m.usuario_id = u.id
                WHERE tm.tipo = 'SAIDA' 
                    AND mi.produto_id = :product_id
                    AND m.data_movimentacao BETWEEN :start_date AND :end_date
                ORDER BY m.data_movimentacao DESC
Params:  3
Key: Name: [11] :product_id
paramno=0
name=[11] ":product_id"
is_param=1
param_type=2
Key: Name: [11] :start_date
paramno=1
name=[11] ":start_date"
is_param=1
param_type=2
Key: Name: [9] :end_date
paramno=2
name=[9] ":end_date"
is_param=1
param_type=2

[2025-09-07 15:06:52] [DATABASE ERROR] Preparando query: 
                SELECT 
                    DATE_FORMAT(m.data_movimentacao, '%Y-%m') as periodo,
                    tm.tipo,
                    SUM(mi.quantidade) as total_quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                WHERE m.status = 'PROCESSADO'
                    AND mi.produto_id = :product_id
                    AND m.data_movimentacao BETWEEN :start_date AND :end_date
                GROUP BY periodo, tm.tipo
                ORDER BY periodo ASC com parâmetros: {":product_id":"1",":start_date":"2025-03-07",":end_date":"2025-09-07"}
[2025-09-07 15:06:52] [DATABASE ERROR] Parâmetro associado: :product_id = 1 (tipo: 2)
[2025-09-07 15:06:52] [DATABASE ERROR] Parâmetro associado: :start_date = 2025-03-07 (tipo: 2)
[2025-09-07 15:06:52] [DATABASE ERROR] Parâmetro associado: :end_date = 2025-09-07 (tipo: 2)
[2025-09-07 15:06:52] [DATABASE ERROR] Debug PDO após binding: SQL: [639] 
                SELECT 
                    DATE_FORMAT(m.data_movimentacao, '%Y-%m') as periodo,
                    tm.tipo,
                    SUM(mi.quantidade) as total_quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                WHERE m.status = 'PROCESSADO'
                    AND mi.produto_id = :product_id
                    AND m.data_movimentacao BETWEEN :start_date AND :end_date
                GROUP BY periodo, tm.tipo
                ORDER BY periodo ASC
Params:  3
Key: Name: [11] :product_id
paramno=0
name=[11] ":product_id"
is_param=1
param_type=2
Key: Name: [11] :start_date
paramno=1
name=[11] ":start_date"
is_param=1
param_type=2
Key: Name: [9] :end_date
paramno=2
name=[9] ":end_date"
is_param=1
param_type=2

[2025-09-07 15:06:52] [DATABASE ERROR] Preparando query: 
                SELECT m.documento_numero, m.data_movimentacao, u.nome_completo as usuario, mi.quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                JOIN usuarios u ON m.usuario_id = u.id
                WHERE tm.tipo = 'ENTRADA' 
                    AND mi.produto_id = :product_id
                    AND m.data_movimentacao BETWEEN :start_date AND :end_date
                ORDER BY m.data_movimentacao DESC com parâmetros: {":product_id":"1",":start_date":"2025-03-07",":end_date":"2025-09-07"}
[2025-09-07 15:06:52] [DATABASE ERROR] Parâmetro associado: :product_id = 1 (tipo: 2)
[2025-09-07 15:06:52] [DATABASE ERROR] Parâmetro associado: :start_date = 2025-03-07 (tipo: 2)
[2025-09-07 15:06:52] [DATABASE ERROR] Parâmetro associado: :end_date = 2025-09-07 (tipo: 2)
[2025-09-07 15:06:52] [DATABASE ERROR] Debug PDO após binding: SQL: [579] 
                SELECT m.documento_numero, m.data_movimentacao, u.nome_completo as usuario, mi.quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                JOIN usuarios u ON m.usuario_id = u.id
                WHERE tm.tipo = 'ENTRADA' 
                    AND mi.produto_id = :product_id
                    AND m.data_movimentacao BETWEEN :start_date AND :end_date
                ORDER BY m.data_movimentacao DESC
Params:  3
Key: Name: [11] :product_id
paramno=0
name=[11] ":product_id"
is_param=1
param_type=2
Key: Name: [11] :start_date
paramno=1
name=[11] ":start_date"
is_param=1
param_type=2
Key: Name: [9] :end_date
paramno=2
name=[9] ":end_date"
is_param=1
param_type=2

[2025-09-07 15:06:52] [DATABASE ERROR] Preparando query: 
                SELECT m.documento_numero, m.data_movimentacao, u.nome_completo as usuario, mi.quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                JOIN usuarios u ON m.usuario_id = u.id
                WHERE tm.tipo = 'SAIDA' 
                    AND mi.produto_id = :product_id
                    AND m.data_movimentacao BETWEEN :start_date AND :end_date
                ORDER BY m.data_movimentacao DESC com parâmetros: {":product_id":"1",":start_date":"2025-03-07",":end_date":"2025-09-07"}
[2025-09-07 15:06:52] [DATABASE ERROR] Parâmetro associado: :product_id = 1 (tipo: 2)
[2025-09-07 15:06:52] [DATABASE ERROR] Parâmetro associado: :start_date = 2025-03-07 (tipo: 2)
[2025-09-07 15:06:52] [DATABASE ERROR] Parâmetro associado: :end_date = 2025-09-07 (tipo: 2)
[2025-09-07 15:06:52] [DATABASE ERROR] Debug PDO após binding: SQL: [577] 
                SELECT m.documento_numero, m.data_movimentacao, u.nome_completo as usuario, mi.quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                JOIN usuarios u ON m.usuario_id = u.id
                WHERE tm.tipo = 'SAIDA' 
                    AND mi.produto_id = :product_id
                    AND m.data_movimentacao BETWEEN :start_date AND :end_date
                ORDER BY m.data_movimentacao DESC
Params:  3
Key: Name: [11] :product_id
paramno=0
name=[11] ":product_id"
is_param=1
param_type=2
Key: Name: [11] :start_date
paramno=1
name=[11] ":start_date"
is_param=1
param_type=2
Key: Name: [9] :end_date
paramno=2
name=[9] ":end_date"
is_param=1
param_type=2

[2025-09-07 15:07:44] [DATABASE ERROR] Preparando query: 
                SELECT 
                    DATE_FORMAT(m.data_movimentacao, '%Y-%m') as periodo,
                    tm.tipo,
                    SUM(mi.quantidade) as total_quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                WHERE m.status = 'PROCESSADO'
                    AND mi.produto_id = :product_id
                    AND m.data_movimentacao BETWEEN :start_date AND :end_date
                GROUP BY periodo, tm.tipo
                ORDER BY periodo ASC com parâmetros: {":product_id":"1",":start_date":"2025-03-01",":end_date":"2025-08-31"}
[2025-09-07 15:07:44] [DATABASE ERROR] Parâmetro associado: :product_id = 1 (tipo: 2)
[2025-09-07 15:07:44] [DATABASE ERROR] Parâmetro associado: :start_date = 2025-03-01 (tipo: 2)
[2025-09-07 15:07:44] [DATABASE ERROR] Parâmetro associado: :end_date = 2025-08-31 (tipo: 2)
[2025-09-07 15:07:44] [DATABASE ERROR] Debug PDO após binding: SQL: [639] 
                SELECT 
                    DATE_FORMAT(m.data_movimentacao, '%Y-%m') as periodo,
                    tm.tipo,
                    SUM(mi.quantidade) as total_quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                WHERE m.status = 'PROCESSADO'
                    AND mi.produto_id = :product_id
                    AND m.data_movimentacao BETWEEN :start_date AND :end_date
                GROUP BY periodo, tm.tipo
                ORDER BY periodo ASC
Params:  3
Key: Name: [11] :product_id
paramno=0
name=[11] ":product_id"
is_param=1
param_type=2
Key: Name: [11] :start_date
paramno=1
name=[11] ":start_date"
is_param=1
param_type=2
Key: Name: [9] :end_date
paramno=2
name=[9] ":end_date"
is_param=1
param_type=2

[2025-09-07 15:07:44] [DATABASE ERROR] Preparando query: 
                SELECT m.documento_numero, m.data_movimentacao, u.nome_completo as usuario, mi.quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                JOIN usuarios u ON m.usuario_id = u.id
                WHERE tm.tipo = 'ENTRADA' 
                    AND mi.produto_id = :product_id
                    AND m.data_movimentacao BETWEEN :start_date AND :end_date
                ORDER BY m.data_movimentacao DESC com parâmetros: {":product_id":"1",":start_date":"2025-03-01",":end_date":"2025-08-31"}
[2025-09-07 15:07:44] [DATABASE ERROR] Parâmetro associado: :product_id = 1 (tipo: 2)
[2025-09-07 15:07:44] [DATABASE ERROR] Parâmetro associado: :start_date = 2025-03-01 (tipo: 2)
[2025-09-07 15:07:44] [DATABASE ERROR] Parâmetro associado: :end_date = 2025-08-31 (tipo: 2)
[2025-09-07 15:07:44] [DATABASE ERROR] Debug PDO após binding: SQL: [579] 
                SELECT m.documento_numero, m.data_movimentacao, u.nome_completo as usuario, mi.quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                JOIN usuarios u ON m.usuario_id = u.id
                WHERE tm.tipo = 'ENTRADA' 
                    AND mi.produto_id = :product_id
                    AND m.data_movimentacao BETWEEN :start_date AND :end_date
                ORDER BY m.data_movimentacao DESC
Params:  3
Key: Name: [11] :product_id
paramno=0
name=[11] ":product_id"
is_param=1
param_type=2
Key: Name: [11] :start_date
paramno=1
name=[11] ":start_date"
is_param=1
param_type=2
Key: Name: [9] :end_date
paramno=2
name=[9] ":end_date"
is_param=1
param_type=2

[2025-09-07 15:07:44] [DATABASE ERROR] Preparando query: 
                SELECT m.documento_numero, m.data_movimentacao, u.nome_completo as usuario, mi.quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                JOIN usuarios u ON m.usuario_id = u.id
                WHERE tm.tipo = 'SAIDA' 
                    AND mi.produto_id = :product_id
                    AND m.data_movimentacao BETWEEN :start_date AND :end_date
                ORDER BY m.data_movimentacao DESC com parâmetros: {":product_id":"1",":start_date":"2025-03-01",":end_date":"2025-08-31"}
[2025-09-07 15:07:44] [DATABASE ERROR] Parâmetro associado: :product_id = 1 (tipo: 2)
[2025-09-07 15:07:44] [DATABASE ERROR] Parâmetro associado: :start_date = 2025-03-01 (tipo: 2)
[2025-09-07 15:07:44] [DATABASE ERROR] Parâmetro associado: :end_date = 2025-08-31 (tipo: 2)
[2025-09-07 15:07:44] [DATABASE ERROR] Debug PDO após binding: SQL: [577] 
                SELECT m.documento_numero, m.data_movimentacao, u.nome_completo as usuario, mi.quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                JOIN usuarios u ON m.usuario_id = u.id
                WHERE tm.tipo = 'SAIDA' 
                    AND mi.produto_id = :product_id
                    AND m.data_movimentacao BETWEEN :start_date AND :end_date
                ORDER BY m.data_movimentacao DESC
Params:  3
Key: Name: [11] :product_id
paramno=0
name=[11] ":product_id"
is_param=1
param_type=2
Key: Name: [11] :start_date
paramno=1
name=[11] ":start_date"
is_param=1
param_type=2
Key: Name: [9] :end_date
paramno=2
name=[9] ":end_date"
is_param=1
param_type=2

[2025-09-07 15:07:55] [DATABASE ERROR] Preparando query: 
                SELECT 
                    DATE_FORMAT(m.data_movimentacao, '%Y-%m') as periodo,
                    tm.tipo,
                    SUM(mi.quantidade) as total_quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                WHERE m.status = 'PROCESSADO'
                    AND mi.produto_id = :product_id
                    AND m.data_movimentacao BETWEEN :start_date AND :end_date
                GROUP BY periodo, tm.tipo
                ORDER BY periodo ASC com parâmetros: {":product_id":"1",":start_date":"2025-03-01",":end_date":"2025-09-30"}
[2025-09-07 15:07:55] [DATABASE ERROR] Parâmetro associado: :product_id = 1 (tipo: 2)
[2025-09-07 15:07:55] [DATABASE ERROR] Parâmetro associado: :start_date = 2025-03-01 (tipo: 2)
[2025-09-07 15:07:55] [DATABASE ERROR] Parâmetro associado: :end_date = 2025-09-30 (tipo: 2)
[2025-09-07 15:07:55] [DATABASE ERROR] Debug PDO após binding: SQL: [639] 
                SELECT 
                    DATE_FORMAT(m.data_movimentacao, '%Y-%m') as periodo,
                    tm.tipo,
                    SUM(mi.quantidade) as total_quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                WHERE m.status = 'PROCESSADO'
                    AND mi.produto_id = :product_id
                    AND m.data_movimentacao BETWEEN :start_date AND :end_date
                GROUP BY periodo, tm.tipo
                ORDER BY periodo ASC
Params:  3
Key: Name: [11] :product_id
paramno=0
name=[11] ":product_id"
is_param=1
param_type=2
Key: Name: [11] :start_date
paramno=1
name=[11] ":start_date"
is_param=1
param_type=2
Key: Name: [9] :end_date
paramno=2
name=[9] ":end_date"
is_param=1
param_type=2

[2025-09-07 15:07:55] [DATABASE ERROR] Preparando query: 
                SELECT m.documento_numero, m.data_movimentacao, u.nome_completo as usuario, mi.quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                JOIN usuarios u ON m.usuario_id = u.id
                WHERE tm.tipo = 'ENTRADA' 
                    AND mi.produto_id = :product_id
                    AND m.data_movimentacao BETWEEN :start_date AND :end_date
                ORDER BY m.data_movimentacao DESC com parâmetros: {":product_id":"1",":start_date":"2025-03-01",":end_date":"2025-09-30"}
[2025-09-07 15:07:55] [DATABASE ERROR] Parâmetro associado: :product_id = 1 (tipo: 2)
[2025-09-07 15:07:55] [DATABASE ERROR] Parâmetro associado: :start_date = 2025-03-01 (tipo: 2)
[2025-09-07 15:07:55] [DATABASE ERROR] Parâmetro associado: :end_date = 2025-09-30 (tipo: 2)
[2025-09-07 15:07:55] [DATABASE ERROR] Debug PDO após binding: SQL: [579] 
                SELECT m.documento_numero, m.data_movimentacao, u.nome_completo as usuario, mi.quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                JOIN usuarios u ON m.usuario_id = u.id
                WHERE tm.tipo = 'ENTRADA' 
                    AND mi.produto_id = :product_id
                    AND m.data_movimentacao BETWEEN :start_date AND :end_date
                ORDER BY m.data_movimentacao DESC
Params:  3
Key: Name: [11] :product_id
paramno=0
name=[11] ":product_id"
is_param=1
param_type=2
Key: Name: [11] :start_date
paramno=1
name=[11] ":start_date"
is_param=1
param_type=2
Key: Name: [9] :end_date
paramno=2
name=[9] ":end_date"
is_param=1
param_type=2

[2025-09-07 15:07:55] [DATABASE ERROR] Preparando query: 
                SELECT m.documento_numero, m.data_movimentacao, u.nome_completo as usuario, mi.quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                JOIN usuarios u ON m.usuario_id = u.id
                WHERE tm.tipo = 'SAIDA' 
                    AND mi.produto_id = :product_id
                    AND m.data_movimentacao BETWEEN :start_date AND :end_date
                ORDER BY m.data_movimentacao DESC com parâmetros: {":product_id":"1",":start_date":"2025-03-01",":end_date":"2025-09-30"}
[2025-09-07 15:07:55] [DATABASE ERROR] Parâmetro associado: :product_id = 1 (tipo: 2)
[2025-09-07 15:07:55] [DATABASE ERROR] Parâmetro associado: :start_date = 2025-03-01 (tipo: 2)
[2025-09-07 15:07:55] [DATABASE ERROR] Parâmetro associado: :end_date = 2025-09-30 (tipo: 2)
[2025-09-07 15:07:55] [DATABASE ERROR] Debug PDO após binding: SQL: [577] 
                SELECT m.documento_numero, m.data_movimentacao, u.nome_completo as usuario, mi.quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                JOIN usuarios u ON m.usuario_id = u.id
                WHERE tm.tipo = 'SAIDA' 
                    AND mi.produto_id = :product_id
                    AND m.data_movimentacao BETWEEN :start_date AND :end_date
                ORDER BY m.data_movimentacao DESC
Params:  3
Key: Name: [11] :product_id
paramno=0
name=[11] ":product_id"
is_param=1
param_type=2
Key: Name: [11] :start_date
paramno=1
name=[11] ":start_date"
is_param=1
param_type=2
Key: Name: [9] :end_date
paramno=2
name=[9] ":end_date"
is_param=1
param_type=2

[2025-09-07 15:26:06] [DATABASE ERROR] Preparando query: 
                SELECT 
                    DATE_FORMAT(m.data_movimentacao, '%Y-%m') as periodo,
                    tm.tipo,
                    SUM(mi.quantidade) as total_quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                WHERE m.status = 'PROCESSADO'
                    AND mi.produto_id = :product_id
                    AND m.data_movimentacao BETWEEN :start_date AND :end_date
                GROUP BY periodo, tm.tipo
                ORDER BY periodo ASC com parâmetros: {":product_id":"1",":start_date":"2025-03-07",":end_date":"2025-09-07"}
[2025-09-07 15:26:06] [DATABASE ERROR] Parâmetro associado: :product_id = 1 (tipo: 2)
[2025-09-07 15:26:06] [DATABASE ERROR] Parâmetro associado: :start_date = 2025-03-07 (tipo: 2)
[2025-09-07 15:26:06] [DATABASE ERROR] Parâmetro associado: :end_date = 2025-09-07 (tipo: 2)
[2025-09-07 15:26:06] [DATABASE ERROR] Debug PDO após binding: SQL: [639] 
                SELECT 
                    DATE_FORMAT(m.data_movimentacao, '%Y-%m') as periodo,
                    tm.tipo,
                    SUM(mi.quantidade) as total_quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                WHERE m.status = 'PROCESSADO'
                    AND mi.produto_id = :product_id
                    AND m.data_movimentacao BETWEEN :start_date AND :end_date
                GROUP BY periodo, tm.tipo
                ORDER BY periodo ASC
Params:  3
Key: Name: [11] :product_id
paramno=0
name=[11] ":product_id"
is_param=1
param_type=2
Key: Name: [11] :start_date
paramno=1
name=[11] ":start_date"
is_param=1
param_type=2
Key: Name: [9] :end_date
paramno=2
name=[9] ":end_date"
is_param=1
param_type=2

[2025-09-07 15:26:06] [DATABASE ERROR] Preparando query: 
                SELECT m.documento_numero, m.data_movimentacao, u.nome_completo as usuario, mi.quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                JOIN usuarios u ON m.usuario_id = u.id
                WHERE tm.tipo = 'ENTRADA' 
                    AND mi.produto_id = :product_id
                    AND m.data_movimentacao BETWEEN :start_date AND :end_date
                ORDER BY m.data_movimentacao DESC com parâmetros: {":product_id":"1",":start_date":"2025-03-07",":end_date":"2025-09-07"}
[2025-09-07 15:26:06] [DATABASE ERROR] Parâmetro associado: :product_id = 1 (tipo: 2)
[2025-09-07 15:26:06] [DATABASE ERROR] Parâmetro associado: :start_date = 2025-03-07 (tipo: 2)
[2025-09-07 15:26:06] [DATABASE ERROR] Parâmetro associado: :end_date = 2025-09-07 (tipo: 2)
[2025-09-07 15:26:06] [DATABASE ERROR] Debug PDO após binding: SQL: [579] 
                SELECT m.documento_numero, m.data_movimentacao, u.nome_completo as usuario, mi.quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                JOIN usuarios u ON m.usuario_id = u.id
                WHERE tm.tipo = 'ENTRADA' 
                    AND mi.produto_id = :product_id
                    AND m.data_movimentacao BETWEEN :start_date AND :end_date
                ORDER BY m.data_movimentacao DESC
Params:  3
Key: Name: [11] :product_id
paramno=0
name=[11] ":product_id"
is_param=1
param_type=2
Key: Name: [11] :start_date
paramno=1
name=[11] ":start_date"
is_param=1
param_type=2
Key: Name: [9] :end_date
paramno=2
name=[9] ":end_date"
is_param=1
param_type=2

[2025-09-07 15:26:06] [DATABASE ERROR] Preparando query: 
                SELECT m.documento_numero, m.data_movimentacao, u.nome_completo as usuario, mi.quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                JOIN usuarios u ON m.usuario_id = u.id
                WHERE tm.tipo = 'SAIDA' 
                    AND mi.produto_id = :product_id
                    AND m.data_movimentacao BETWEEN :start_date AND :end_date
                ORDER BY m.data_movimentacao DESC com parâmetros: {":product_id":"1",":start_date":"2025-03-07",":end_date":"2025-09-07"}
[2025-09-07 15:26:06] [DATABASE ERROR] Parâmetro associado: :product_id = 1 (tipo: 2)
[2025-09-07 15:26:06] [DATABASE ERROR] Parâmetro associado: :start_date = 2025-03-07 (tipo: 2)
[2025-09-07 15:26:06] [DATABASE ERROR] Parâmetro associado: :end_date = 2025-09-07 (tipo: 2)
[2025-09-07 15:26:06] [DATABASE ERROR] Debug PDO após binding: SQL: [577] 
                SELECT m.documento_numero, m.data_movimentacao, u.nome_completo as usuario, mi.quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                JOIN usuarios u ON m.usuario_id = u.id
                WHERE tm.tipo = 'SAIDA' 
                    AND mi.produto_id = :product_id
                    AND m.data_movimentacao BETWEEN :start_date AND :end_date
                ORDER BY m.data_movimentacao DESC
Params:  3
Key: Name: [11] :product_id
paramno=0
name=[11] ":product_id"
is_param=1
param_type=2
Key: Name: [11] :start_date
paramno=1
name=[11] ":start_date"
is_param=1
param_type=2
Key: Name: [9] :end_date
paramno=2
name=[9] ":end_date"
is_param=1
param_type=2

[2025-09-07 15:27:10] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-09-07 15:27:10] [DATABASE ERROR] Preparando query: 
                SELECT 
                    DATE_FORMAT(m.data_movimentacao, '%Y-%m') as periodo,
                    tm.tipo,
                    SUM(mi.quantidade) as total_quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                WHERE m.status = 'PROCESSADO'
                    AND mi.produto_id = :product_id
                    AND m.data_movimentacao BETWEEN :start_date AND :end_date
                GROUP BY periodo, tm.tipo
                ORDER BY periodo ASC com parâmetros: {":product_id":"1",":start_date":"2025-03-07",":end_date":"2025-09-07"}
[2025-09-07 15:27:10] [DATABASE ERROR] Parâmetro associado: :product_id = 1 (tipo: 2)
[2025-09-07 15:27:10] [DATABASE ERROR] Parâmetro associado: :start_date = 2025-03-07 (tipo: 2)
[2025-09-07 15:27:10] [DATABASE ERROR] Parâmetro associado: :end_date = 2025-09-07 (tipo: 2)
[2025-09-07 15:27:10] [DATABASE ERROR] Debug PDO após binding: SQL: [639] 
                SELECT 
                    DATE_FORMAT(m.data_movimentacao, '%Y-%m') as periodo,
                    tm.tipo,
                    SUM(mi.quantidade) as total_quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                WHERE m.status = 'PROCESSADO'
                    AND mi.produto_id = :product_id
                    AND m.data_movimentacao BETWEEN :start_date AND :end_date
                GROUP BY periodo, tm.tipo
                ORDER BY periodo ASC
Params:  3
Key: Name: [11] :product_id
paramno=0
name=[11] ":product_id"
is_param=1
param_type=2
Key: Name: [11] :start_date
paramno=1
name=[11] ":start_date"
is_param=1
param_type=2
Key: Name: [9] :end_date
paramno=2
name=[9] ":end_date"
is_param=1
param_type=2

[2025-09-07 15:27:10] [DATABASE ERROR] Preparando query: 
                SELECT m.documento_numero, m.data_movimentacao, u.nome_completo as usuario, mi.quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                JOIN usuarios u ON m.usuario_id = u.id
                WHERE tm.tipo = 'ENTRADA' 
                    AND mi.produto_id = :product_id
                    AND m.data_movimentacao BETWEEN :start_date AND :end_date
                ORDER BY m.data_movimentacao DESC com parâmetros: {":product_id":"1",":start_date":"2025-03-07",":end_date":"2025-09-07"}
[2025-09-07 15:27:10] [DATABASE ERROR] Parâmetro associado: :product_id = 1 (tipo: 2)
[2025-09-07 15:27:10] [DATABASE ERROR] Parâmetro associado: :start_date = 2025-03-07 (tipo: 2)
[2025-09-07 15:27:10] [DATABASE ERROR] Parâmetro associado: :end_date = 2025-09-07 (tipo: 2)
[2025-09-07 15:27:10] [DATABASE ERROR] Debug PDO após binding: SQL: [579] 
                SELECT m.documento_numero, m.data_movimentacao, u.nome_completo as usuario, mi.quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                JOIN usuarios u ON m.usuario_id = u.id
                WHERE tm.tipo = 'ENTRADA' 
                    AND mi.produto_id = :product_id
                    AND m.data_movimentacao BETWEEN :start_date AND :end_date
                ORDER BY m.data_movimentacao DESC
Params:  3
Key: Name: [11] :product_id
paramno=0
name=[11] ":product_id"
is_param=1
param_type=2
Key: Name: [11] :start_date
paramno=1
name=[11] ":start_date"
is_param=1
param_type=2
Key: Name: [9] :end_date
paramno=2
name=[9] ":end_date"
is_param=1
param_type=2

[2025-09-07 15:27:10] [DATABASE ERROR] Preparando query: 
                SELECT m.documento_numero, m.data_movimentacao, u.nome_completo as usuario, mi.quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                JOIN usuarios u ON m.usuario_id = u.id
                WHERE tm.tipo = 'SAIDA' 
                    AND mi.produto_id = :product_id
                    AND m.data_movimentacao BETWEEN :start_date AND :end_date
                ORDER BY m.data_movimentacao DESC com parâmetros: {":product_id":"1",":start_date":"2025-03-07",":end_date":"2025-09-07"}
[2025-09-07 15:27:10] [DATABASE ERROR] Parâmetro associado: :product_id = 1 (tipo: 2)
[2025-09-07 15:27:10] [DATABASE ERROR] Parâmetro associado: :start_date = 2025-03-07 (tipo: 2)
[2025-09-07 15:27:10] [DATABASE ERROR] Parâmetro associado: :end_date = 2025-09-07 (tipo: 2)
[2025-09-07 15:27:10] [DATABASE ERROR] Debug PDO após binding: SQL: [577] 
                SELECT m.documento_numero, m.data_movimentacao, u.nome_completo as usuario, mi.quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                JOIN usuarios u ON m.usuario_id = u.id
                WHERE tm.tipo = 'SAIDA' 
                    AND mi.produto_id = :product_id
                    AND m.data_movimentacao BETWEEN :start_date AND :end_date
                ORDER BY m.data_movimentacao DESC
Params:  3
Key: Name: [11] :product_id
paramno=0
name=[11] ":product_id"
is_param=1
param_type=2
Key: Name: [11] :start_date
paramno=1
name=[11] ":start_date"
is_param=1
param_type=2
Key: Name: [9] :end_date
paramno=2
name=[9] ":end_date"
is_param=1
param_type=2

[2025-09-07 15:27:22] [DATABASE ERROR] Parâmetro associado: :id = 2 (tipo: 1)
[2025-09-07 15:27:22] [DATABASE ERROR] Preparando query: 
                SELECT 
                    DATE_FORMAT(m.data_movimentacao, '%Y-%m') as periodo,
                    tm.tipo,
                    SUM(mi.quantidade) as total_quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                WHERE m.status = 'PROCESSADO'
                    AND mi.produto_id = :product_id
                    AND m.data_movimentacao BETWEEN :start_date AND :end_date
                GROUP BY periodo, tm.tipo
                ORDER BY periodo ASC com parâmetros: {":product_id":"2",":start_date":"2025-03-07",":end_date":"2025-09-07"}
[2025-09-07 15:27:22] [DATABASE ERROR] Parâmetro associado: :product_id = 2 (tipo: 2)
[2025-09-07 15:27:22] [DATABASE ERROR] Parâmetro associado: :start_date = 2025-03-07 (tipo: 2)
[2025-09-07 15:27:22] [DATABASE ERROR] Parâmetro associado: :end_date = 2025-09-07 (tipo: 2)
[2025-09-07 15:27:22] [DATABASE ERROR] Debug PDO após binding: SQL: [639] 
                SELECT 
                    DATE_FORMAT(m.data_movimentacao, '%Y-%m') as periodo,
                    tm.tipo,
                    SUM(mi.quantidade) as total_quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                WHERE m.status = 'PROCESSADO'
                    AND mi.produto_id = :product_id
                    AND m.data_movimentacao BETWEEN :start_date AND :end_date
                GROUP BY periodo, tm.tipo
                ORDER BY periodo ASC
Params:  3
Key: Name: [11] :product_id
paramno=0
name=[11] ":product_id"
is_param=1
param_type=2
Key: Name: [11] :start_date
paramno=1
name=[11] ":start_date"
is_param=1
param_type=2
Key: Name: [9] :end_date
paramno=2
name=[9] ":end_date"
is_param=1
param_type=2

[2025-09-07 15:27:22] [DATABASE ERROR] Preparando query: 
                SELECT m.documento_numero, m.data_movimentacao, u.nome_completo as usuario, mi.quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                JOIN usuarios u ON m.usuario_id = u.id
                WHERE tm.tipo = 'ENTRADA' 
                    AND mi.produto_id = :product_id
                    AND m.data_movimentacao BETWEEN :start_date AND :end_date
                ORDER BY m.data_movimentacao DESC com parâmetros: {":product_id":"2",":start_date":"2025-03-07",":end_date":"2025-09-07"}
[2025-09-07 15:27:22] [DATABASE ERROR] Parâmetro associado: :product_id = 2 (tipo: 2)
[2025-09-07 15:27:22] [DATABASE ERROR] Parâmetro associado: :start_date = 2025-03-07 (tipo: 2)
[2025-09-07 15:27:22] [DATABASE ERROR] Parâmetro associado: :end_date = 2025-09-07 (tipo: 2)
[2025-09-07 15:27:22] [DATABASE ERROR] Debug PDO após binding: SQL: [579] 
                SELECT m.documento_numero, m.data_movimentacao, u.nome_completo as usuario, mi.quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                JOIN usuarios u ON m.usuario_id = u.id
                WHERE tm.tipo = 'ENTRADA' 
                    AND mi.produto_id = :product_id
                    AND m.data_movimentacao BETWEEN :start_date AND :end_date
                ORDER BY m.data_movimentacao DESC
Params:  3
Key: Name: [11] :product_id
paramno=0
name=[11] ":product_id"
is_param=1
param_type=2
Key: Name: [11] :start_date
paramno=1
name=[11] ":start_date"
is_param=1
param_type=2
Key: Name: [9] :end_date
paramno=2
name=[9] ":end_date"
is_param=1
param_type=2

[2025-09-07 15:27:22] [DATABASE ERROR] Preparando query: 
                SELECT m.documento_numero, m.data_movimentacao, u.nome_completo as usuario, mi.quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                JOIN usuarios u ON m.usuario_id = u.id
                WHERE tm.tipo = 'SAIDA' 
                    AND mi.produto_id = :product_id
                    AND m.data_movimentacao BETWEEN :start_date AND :end_date
                ORDER BY m.data_movimentacao DESC com parâmetros: {":product_id":"2",":start_date":"2025-03-07",":end_date":"2025-09-07"}
[2025-09-07 15:27:22] [DATABASE ERROR] Parâmetro associado: :product_id = 2 (tipo: 2)
[2025-09-07 15:27:22] [DATABASE ERROR] Parâmetro associado: :start_date = 2025-03-07 (tipo: 2)
[2025-09-07 15:27:22] [DATABASE ERROR] Parâmetro associado: :end_date = 2025-09-07 (tipo: 2)
[2025-09-07 15:27:22] [DATABASE ERROR] Debug PDO após binding: SQL: [577] 
                SELECT m.documento_numero, m.data_movimentacao, u.nome_completo as usuario, mi.quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                JOIN usuarios u ON m.usuario_id = u.id
                WHERE tm.tipo = 'SAIDA' 
                    AND mi.produto_id = :product_id
                    AND m.data_movimentacao BETWEEN :start_date AND :end_date
                ORDER BY m.data_movimentacao DESC
Params:  3
Key: Name: [11] :product_id
paramno=0
name=[11] ":product_id"
is_param=1
param_type=2
Key: Name: [11] :start_date
paramno=1
name=[11] ":start_date"
is_param=1
param_type=2
Key: Name: [9] :end_date
paramno=2
name=[9] ":end_date"
is_param=1
param_type=2

[2025-09-07 15:27:27] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-07 15:27:27] [DATABASE ERROR] Preparando query: 
                SELECT 
                    DATE_FORMAT(m.data_movimentacao, '%Y-%m') as periodo,
                    tm.tipo,
                    SUM(mi.quantidade) as total_quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                WHERE m.status = 'PROCESSADO'
                    AND mi.produto_id = :product_id
                    AND m.data_movimentacao BETWEEN :start_date AND :end_date
                GROUP BY periodo, tm.tipo
                ORDER BY periodo ASC com parâmetros: {":product_id":"3",":start_date":"2025-03-07",":end_date":"2025-09-07"}
[2025-09-07 15:27:27] [DATABASE ERROR] Parâmetro associado: :product_id = 3 (tipo: 2)
[2025-09-07 15:27:27] [DATABASE ERROR] Parâmetro associado: :start_date = 2025-03-07 (tipo: 2)
[2025-09-07 15:27:27] [DATABASE ERROR] Parâmetro associado: :end_date = 2025-09-07 (tipo: 2)
[2025-09-07 15:27:27] [DATABASE ERROR] Debug PDO após binding: SQL: [639] 
                SELECT 
                    DATE_FORMAT(m.data_movimentacao, '%Y-%m') as periodo,
                    tm.tipo,
                    SUM(mi.quantidade) as total_quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                WHERE m.status = 'PROCESSADO'
                    AND mi.produto_id = :product_id
                    AND m.data_movimentacao BETWEEN :start_date AND :end_date
                GROUP BY periodo, tm.tipo
                ORDER BY periodo ASC
Params:  3
Key: Name: [11] :product_id
paramno=0
name=[11] ":product_id"
is_param=1
param_type=2
Key: Name: [11] :start_date
paramno=1
name=[11] ":start_date"
is_param=1
param_type=2
Key: Name: [9] :end_date
paramno=2
name=[9] ":end_date"
is_param=1
param_type=2

[2025-09-07 15:27:27] [DATABASE ERROR] Preparando query: 
                SELECT m.documento_numero, m.data_movimentacao, u.nome_completo as usuario, mi.quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                JOIN usuarios u ON m.usuario_id = u.id
                WHERE tm.tipo = 'ENTRADA' 
                    AND mi.produto_id = :product_id
                    AND m.data_movimentacao BETWEEN :start_date AND :end_date
                ORDER BY m.data_movimentacao DESC com parâmetros: {":product_id":"3",":start_date":"2025-03-07",":end_date":"2025-09-07"}
[2025-09-07 15:27:27] [DATABASE ERROR] Parâmetro associado: :product_id = 3 (tipo: 2)
[2025-09-07 15:27:27] [DATABASE ERROR] Parâmetro associado: :start_date = 2025-03-07 (tipo: 2)
[2025-09-07 15:27:27] [DATABASE ERROR] Parâmetro associado: :end_date = 2025-09-07 (tipo: 2)
[2025-09-07 15:27:27] [DATABASE ERROR] Debug PDO após binding: SQL: [579] 
                SELECT m.documento_numero, m.data_movimentacao, u.nome_completo as usuario, mi.quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                JOIN usuarios u ON m.usuario_id = u.id
                WHERE tm.tipo = 'ENTRADA' 
                    AND mi.produto_id = :product_id
                    AND m.data_movimentacao BETWEEN :start_date AND :end_date
                ORDER BY m.data_movimentacao DESC
Params:  3
Key: Name: [11] :product_id
paramno=0
name=[11] ":product_id"
is_param=1
param_type=2
Key: Name: [11] :start_date
paramno=1
name=[11] ":start_date"
is_param=1
param_type=2
Key: Name: [9] :end_date
paramno=2
name=[9] ":end_date"
is_param=1
param_type=2

[2025-09-07 15:27:27] [DATABASE ERROR] Preparando query: 
                SELECT m.documento_numero, m.data_movimentacao, u.nome_completo as usuario, mi.quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                JOIN usuarios u ON m.usuario_id = u.id
                WHERE tm.tipo = 'SAIDA' 
                    AND mi.produto_id = :product_id
                    AND m.data_movimentacao BETWEEN :start_date AND :end_date
                ORDER BY m.data_movimentacao DESC com parâmetros: {":product_id":"3",":start_date":"2025-03-07",":end_date":"2025-09-07"}
[2025-09-07 15:27:27] [DATABASE ERROR] Parâmetro associado: :product_id = 3 (tipo: 2)
[2025-09-07 15:27:27] [DATABASE ERROR] Parâmetro associado: :start_date = 2025-03-07 (tipo: 2)
[2025-09-07 15:27:27] [DATABASE ERROR] Parâmetro associado: :end_date = 2025-09-07 (tipo: 2)
[2025-09-07 15:27:27] [DATABASE ERROR] Debug PDO após binding: SQL: [577] 
                SELECT m.documento_numero, m.data_movimentacao, u.nome_completo as usuario, mi.quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                JOIN usuarios u ON m.usuario_id = u.id
                WHERE tm.tipo = 'SAIDA' 
                    AND mi.produto_id = :product_id
                    AND m.data_movimentacao BETWEEN :start_date AND :end_date
                ORDER BY m.data_movimentacao DESC
Params:  3
Key: Name: [11] :product_id
paramno=0
name=[11] ":product_id"
is_param=1
param_type=2
Key: Name: [11] :start_date
paramno=1
name=[11] ":start_date"
is_param=1
param_type=2
Key: Name: [9] :end_date
paramno=2
name=[9] ":end_date"
is_param=1
param_type=2

[2025-09-07 15:27:31] [DATABASE ERROR] Parâmetro associado: :id = 4 (tipo: 1)
[2025-09-07 15:27:31] [DATABASE ERROR] Preparando query: 
                SELECT 
                    DATE_FORMAT(m.data_movimentacao, '%Y-%m') as periodo,
                    tm.tipo,
                    SUM(mi.quantidade) as total_quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                WHERE m.status = 'PROCESSADO'
                    AND mi.produto_id = :product_id
                    AND m.data_movimentacao BETWEEN :start_date AND :end_date
                GROUP BY periodo, tm.tipo
                ORDER BY periodo ASC com parâmetros: {":product_id":"4",":start_date":"2025-03-07",":end_date":"2025-09-07"}
[2025-09-07 15:27:31] [DATABASE ERROR] Parâmetro associado: :product_id = 4 (tipo: 2)
[2025-09-07 15:27:31] [DATABASE ERROR] Parâmetro associado: :start_date = 2025-03-07 (tipo: 2)
[2025-09-07 15:27:31] [DATABASE ERROR] Parâmetro associado: :end_date = 2025-09-07 (tipo: 2)
[2025-09-07 15:27:31] [DATABASE ERROR] Debug PDO após binding: SQL: [639] 
                SELECT 
                    DATE_FORMAT(m.data_movimentacao, '%Y-%m') as periodo,
                    tm.tipo,
                    SUM(mi.quantidade) as total_quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                WHERE m.status = 'PROCESSADO'
                    AND mi.produto_id = :product_id
                    AND m.data_movimentacao BETWEEN :start_date AND :end_date
                GROUP BY periodo, tm.tipo
                ORDER BY periodo ASC
Params:  3
Key: Name: [11] :product_id
paramno=0
name=[11] ":product_id"
is_param=1
param_type=2
Key: Name: [11] :start_date
paramno=1
name=[11] ":start_date"
is_param=1
param_type=2
Key: Name: [9] :end_date
paramno=2
name=[9] ":end_date"
is_param=1
param_type=2

[2025-09-07 15:27:31] [DATABASE ERROR] Preparando query: 
                SELECT m.documento_numero, m.data_movimentacao, u.nome_completo as usuario, mi.quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                JOIN usuarios u ON m.usuario_id = u.id
                WHERE tm.tipo = 'ENTRADA' 
                    AND mi.produto_id = :product_id
                    AND m.data_movimentacao BETWEEN :start_date AND :end_date
                ORDER BY m.data_movimentacao DESC com parâmetros: {":product_id":"4",":start_date":"2025-03-07",":end_date":"2025-09-07"}
[2025-09-07 15:27:31] [DATABASE ERROR] Parâmetro associado: :product_id = 4 (tipo: 2)
[2025-09-07 15:27:31] [DATABASE ERROR] Parâmetro associado: :start_date = 2025-03-07 (tipo: 2)
[2025-09-07 15:27:31] [DATABASE ERROR] Parâmetro associado: :end_date = 2025-09-07 (tipo: 2)
[2025-09-07 15:27:31] [DATABASE ERROR] Debug PDO após binding: SQL: [579] 
                SELECT m.documento_numero, m.data_movimentacao, u.nome_completo as usuario, mi.quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                JOIN usuarios u ON m.usuario_id = u.id
                WHERE tm.tipo = 'ENTRADA' 
                    AND mi.produto_id = :product_id
                    AND m.data_movimentacao BETWEEN :start_date AND :end_date
                ORDER BY m.data_movimentacao DESC
Params:  3
Key: Name: [11] :product_id
paramno=0
name=[11] ":product_id"
is_param=1
param_type=2
Key: Name: [11] :start_date
paramno=1
name=[11] ":start_date"
is_param=1
param_type=2
Key: Name: [9] :end_date
paramno=2
name=[9] ":end_date"
is_param=1
param_type=2

[2025-09-07 15:27:31] [DATABASE ERROR] Preparando query: 
                SELECT m.documento_numero, m.data_movimentacao, u.nome_completo as usuario, mi.quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                JOIN usuarios u ON m.usuario_id = u.id
                WHERE tm.tipo = 'SAIDA' 
                    AND mi.produto_id = :product_id
                    AND m.data_movimentacao BETWEEN :start_date AND :end_date
                ORDER BY m.data_movimentacao DESC com parâmetros: {":product_id":"4",":start_date":"2025-03-07",":end_date":"2025-09-07"}
[2025-09-07 15:27:31] [DATABASE ERROR] Parâmetro associado: :product_id = 4 (tipo: 2)
[2025-09-07 15:27:31] [DATABASE ERROR] Parâmetro associado: :start_date = 2025-03-07 (tipo: 2)
[2025-09-07 15:27:31] [DATABASE ERROR] Parâmetro associado: :end_date = 2025-09-07 (tipo: 2)
[2025-09-07 15:27:31] [DATABASE ERROR] Debug PDO após binding: SQL: [577] 
                SELECT m.documento_numero, m.data_movimentacao, u.nome_completo as usuario, mi.quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                JOIN usuarios u ON m.usuario_id = u.id
                WHERE tm.tipo = 'SAIDA' 
                    AND mi.produto_id = :product_id
                    AND m.data_movimentacao BETWEEN :start_date AND :end_date
                ORDER BY m.data_movimentacao DESC
Params:  3
Key: Name: [11] :product_id
paramno=0
name=[11] ":product_id"
is_param=1
param_type=2
Key: Name: [11] :start_date
paramno=1
name=[11] ":start_date"
is_param=1
param_type=2
Key: Name: [9] :end_date
paramno=2
name=[9] ":end_date"
is_param=1
param_type=2

[2025-09-07 15:28:00] [DATABASE ERROR] Preparando query: 
                SELECT 
                    DATE_FORMAT(m.data_movimentacao, '%Y-%m') as periodo,
                    tm.tipo,
                    SUM(mi.quantidade) as total_quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                WHERE m.status = 'PROCESSADO'
                    AND m.data_movimentacao >= DATE_SUB(CURDATE(), INTERVAL 6 MONTH)
                GROUP BY periodo, tm.tipo
                ORDER BY periodo ASC com parâmetros: []
[2025-09-07 15:28:00] [DATABASE ERROR] Debug PDO após binding: SQL: [593] 
                SELECT 
                    DATE_FORMAT(m.data_movimentacao, '%Y-%m') as periodo,
                    tm.tipo,
                    SUM(mi.quantidade) as total_quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                WHERE m.status = 'PROCESSADO'
                    AND m.data_movimentacao >= DATE_SUB(CURDATE(), INTERVAL 6 MONTH)
                GROUP BY periodo, tm.tipo
                ORDER BY periodo ASC
Params:  0

[2025-09-07 15:28:00] [DATABASE ERROR] Preparando query: SELECT SUM(estoque_atual) as total_estoque FROM produtos WHERE ativo = TRUE com parâmetros: []
[2025-09-07 15:28:00] [DATABASE ERROR] Debug PDO após binding: SQL: [75] SELECT SUM(estoque_atual) as total_estoque FROM produtos WHERE ativo = TRUE
Params:  0

[2025-09-07 15:28:00] [DATABASE ERROR] Preparando query: SELECT id FROM produtos WHERE ativo = TRUE com parâmetros: []
[2025-09-07 15:28:00] [DATABASE ERROR] Debug PDO após binding: SQL: [42] SELECT id FROM produtos WHERE ativo = TRUE
Params:  0

[2025-09-07 15:28:00] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":1,":data_fim_a":null,":data_fim":null}
[2025-09-07 15:28:00] [DATABASE ERROR] Parâmetro associado: :produto_id = 1 (tipo: 1)
[2025-09-07 15:28:00] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-09-07 15:28:00] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-09-07 15:28:00] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-09-07 15:28:00] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":1}
[2025-09-07 15:28:00] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-09-07 15:28:00] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-07 15:28:00] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":2,":data_fim_a":null,":data_fim":null}
[2025-09-07 15:28:00] [DATABASE ERROR] Parâmetro associado: :produto_id = 2 (tipo: 1)
[2025-09-07 15:28:00] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-09-07 15:28:00] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-09-07 15:28:00] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-09-07 15:28:00] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":2}
[2025-09-07 15:28:00] [DATABASE ERROR] Parâmetro associado: :id = 2 (tipo: 1)
[2025-09-07 15:28:00] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-07 15:28:00] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":3,":data_fim_a":null,":data_fim":null}
[2025-09-07 15:28:00] [DATABASE ERROR] Parâmetro associado: :produto_id = 3 (tipo: 1)
[2025-09-07 15:28:00] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-09-07 15:28:00] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-09-07 15:28:00] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-09-07 15:28:00] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":3}
[2025-09-07 15:28:00] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-07 15:28:00] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-07 15:28:00] [DATABASE ERROR] Preparando query: SELECT id, codigo, nome, estoque_atual, estoque_minimo, categoria, fornecedor 
                    FROM vw_produtos_estoque_critico 
                    ORDER BY estoque_atual ASC 
                    LIMIT 10 com parâmetros: []
[2025-09-07 15:28:00] [DATABASE ERROR] Debug PDO após binding: SQL: [212] SELECT id, codigo, nome, estoque_atual, estoque_minimo, categoria, fornecedor 
                    FROM vw_produtos_estoque_critico 
                    ORDER BY estoque_atual ASC 
                    LIMIT 10
Params:  0

[2025-09-07 15:28:00] [DATABASE ERROR] Preparando query: SELECT id, tipo, categoria, documento_numero, data_movimentacao, valor_total, fornecedor, usuario 
                    FROM vw_movimentacoes_recentes 
                    ORDER BY data_movimentacao DESC 
                    LIMIT 10 com parâmetros: []
[2025-09-07 15:28:00] [DATABASE ERROR] Debug PDO após binding: SQL: [235] SELECT id, tipo, categoria, documento_numero, data_movimentacao, valor_total, fornecedor, usuario 
                    FROM vw_movimentacoes_recentes 
                    ORDER BY data_movimentacao DESC 
                    LIMIT 10
Params:  0

[2025-09-07 15:28:20] [DATABASE ERROR] Preparando query: SELECT * FROM produtos WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-07 15:28:20] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-07 15:28:20] [DATABASE ERROR] Debug PDO após binding: SQL: [43] SELECT * FROM produtos WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-07 15:28:20] [DATABASE ERROR] Preparando query: SELECT * FROM categorias WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-07 15:28:20] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-07 15:28:20] [DATABASE ERROR] Debug PDO após binding: SQL: [45] SELECT * FROM categorias WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-07 15:28:20] [DATABASE ERROR] Preparando query: SELECT * FROM categorias WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-07 15:28:20] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-07 15:28:20] [DATABASE ERROR] Debug PDO após binding: SQL: [45] SELECT * FROM categorias WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-07 15:28:20] [DATABASE ERROR] Preparando query: SELECT * FROM unidades_medida com parâmetros: []
[2025-09-07 15:28:20] [DATABASE ERROR] Debug PDO após binding: SQL: [29] SELECT * FROM unidades_medida
Params:  0

[2025-09-07 15:28:20] [DATABASE ERROR] Preparando query: SELECT * FROM fornecedores WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-07 15:28:20] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-07 15:28:20] [DATABASE ERROR] Debug PDO após binding: SQL: [47] SELECT * FROM fornecedores WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-07 15:28:20] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-07 15:28:20] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-07 15:28:20] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-07 15:31:11] [DATABASE ERROR] Preparando query: SELECT * FROM produtos WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-07 15:31:11] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-07 15:31:11] [DATABASE ERROR] Debug PDO após binding: SQL: [43] SELECT * FROM produtos WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-07 15:31:11] [DATABASE ERROR] Preparando query: SELECT * FROM categorias WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-07 15:31:11] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-07 15:31:11] [DATABASE ERROR] Debug PDO após binding: SQL: [45] SELECT * FROM categorias WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-07 15:31:11] [DATABASE ERROR] Preparando query: SELECT * FROM categorias WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-07 15:31:11] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-07 15:31:11] [DATABASE ERROR] Debug PDO após binding: SQL: [45] SELECT * FROM categorias WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-07 15:31:11] [DATABASE ERROR] Preparando query: SELECT * FROM unidades_medida com parâmetros: []
[2025-09-07 15:31:11] [DATABASE ERROR] Debug PDO após binding: SQL: [29] SELECT * FROM unidades_medida
Params:  0

[2025-09-07 15:31:11] [DATABASE ERROR] Preparando query: SELECT * FROM fornecedores WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-07 15:31:11] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-07 15:31:11] [DATABASE ERROR] Debug PDO após binding: SQL: [47] SELECT * FROM fornecedores WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-07 15:31:11] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-07 15:31:11] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-07 15:31:11] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-07 15:31:20] [DATABASE ERROR] Parâmetro associado: :user_id = 1 (tipo: 1)
[2025-09-07 15:31:22] [DATABASE ERROR] Preparando query: SELECT * FROM produtos WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-07 15:31:22] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-07 15:31:22] [DATABASE ERROR] Debug PDO após binding: SQL: [43] SELECT * FROM produtos WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-07 15:31:22] [DATABASE ERROR] Preparando query: SELECT * FROM categorias WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-07 15:31:22] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-07 15:31:22] [DATABASE ERROR] Debug PDO após binding: SQL: [45] SELECT * FROM categorias WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-07 15:31:22] [DATABASE ERROR] Preparando query: SELECT * FROM categorias WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-07 15:31:22] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-07 15:31:22] [DATABASE ERROR] Debug PDO após binding: SQL: [45] SELECT * FROM categorias WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-07 15:31:22] [DATABASE ERROR] Preparando query: SELECT * FROM unidades_medida com parâmetros: []
[2025-09-07 15:31:22] [DATABASE ERROR] Debug PDO após binding: SQL: [29] SELECT * FROM unidades_medida
Params:  0

[2025-09-07 15:31:22] [DATABASE ERROR] Preparando query: SELECT * FROM fornecedores WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-07 15:31:22] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-07 15:31:22] [DATABASE ERROR] Debug PDO após binding: SQL: [47] SELECT * FROM fornecedores WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-07 15:31:22] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-07 15:31:22] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-07 15:31:22] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-07 15:32:33] [DATABASE ERROR] Preparando query: SELECT * FROM produtos WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-07 15:32:33] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-07 15:32:33] [DATABASE ERROR] Debug PDO após binding: SQL: [43] SELECT * FROM produtos WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-07 15:32:33] [DATABASE ERROR] Preparando query: SELECT * FROM categorias WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-07 15:32:33] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-07 15:32:33] [DATABASE ERROR] Debug PDO após binding: SQL: [45] SELECT * FROM categorias WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-07 15:32:33] [DATABASE ERROR] Preparando query: SELECT * FROM categorias WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-07 15:32:33] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-07 15:32:33] [DATABASE ERROR] Debug PDO após binding: SQL: [45] SELECT * FROM categorias WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-07 15:32:33] [DATABASE ERROR] Preparando query: SELECT * FROM unidades_medida com parâmetros: []
[2025-09-07 15:32:33] [DATABASE ERROR] Debug PDO após binding: SQL: [29] SELECT * FROM unidades_medida
Params:  0

[2025-09-07 15:32:33] [DATABASE ERROR] Preparando query: SELECT * FROM fornecedores WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-07 15:32:33] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-07 15:32:33] [DATABASE ERROR] Debug PDO após binding: SQL: [47] SELECT * FROM fornecedores WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-07 15:32:33] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-07 15:32:33] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-07 15:32:33] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-07 15:32:50] [DATABASE ERROR] Preparando query: SELECT * FROM produtos WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-07 15:32:50] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-07 15:32:50] [DATABASE ERROR] Debug PDO após binding: SQL: [43] SELECT * FROM produtos WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-07 15:32:50] [DATABASE ERROR] Preparando query: SELECT * FROM categorias WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-07 15:32:50] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-07 15:32:50] [DATABASE ERROR] Debug PDO após binding: SQL: [45] SELECT * FROM categorias WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-07 15:32:50] [DATABASE ERROR] Preparando query: SELECT * FROM categorias WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-07 15:32:50] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-07 15:32:50] [DATABASE ERROR] Debug PDO após binding: SQL: [45] SELECT * FROM categorias WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-07 15:32:50] [DATABASE ERROR] Preparando query: SELECT * FROM unidades_medida com parâmetros: []
[2025-09-07 15:32:50] [DATABASE ERROR] Debug PDO após binding: SQL: [29] SELECT * FROM unidades_medida
Params:  0

[2025-09-07 15:32:50] [DATABASE ERROR] Preparando query: SELECT * FROM fornecedores WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-07 15:32:50] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-07 15:32:50] [DATABASE ERROR] Debug PDO após binding: SQL: [47] SELECT * FROM fornecedores WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-07 15:33:11] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-07 15:33:15] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-07 15:33:15] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-07 15:33:37] [DATABASE ERROR] Preparando query: SELECT * FROM produtos WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-07 15:33:37] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-07 15:33:37] [DATABASE ERROR] Debug PDO após binding: SQL: [43] SELECT * FROM produtos WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-07 15:33:37] [DATABASE ERROR] Preparando query: SELECT * FROM categorias WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-07 15:33:37] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-07 15:33:37] [DATABASE ERROR] Debug PDO após binding: SQL: [45] SELECT * FROM categorias WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-07 15:33:37] [DATABASE ERROR] Preparando query: SELECT * FROM categorias WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-07 15:33:37] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-07 15:33:37] [DATABASE ERROR] Debug PDO após binding: SQL: [45] SELECT * FROM categorias WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-07 15:33:37] [DATABASE ERROR] Preparando query: SELECT * FROM unidades_medida com parâmetros: []
[2025-09-07 15:33:37] [DATABASE ERROR] Debug PDO após binding: SQL: [29] SELECT * FROM unidades_medida
Params:  0

[2025-09-07 15:33:37] [DATABASE ERROR] Preparando query: SELECT * FROM fornecedores WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-07 15:33:37] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-07 15:33:37] [DATABASE ERROR] Debug PDO após binding: SQL: [47] SELECT * FROM fornecedores WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-07 15:33:37] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-07 15:33:37] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-07 15:33:37] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-07 15:33:44] [DATABASE ERROR] Preparando query: SELECT * FROM produtos WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-07 15:33:44] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-07 15:33:44] [DATABASE ERROR] Debug PDO após binding: SQL: [43] SELECT * FROM produtos WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-07 15:33:44] [DATABASE ERROR] Preparando query: SELECT * FROM categorias WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-07 15:33:44] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-07 15:33:44] [DATABASE ERROR] Debug PDO após binding: SQL: [45] SELECT * FROM categorias WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-07 15:33:44] [DATABASE ERROR] Preparando query: SELECT * FROM categorias WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-07 15:33:44] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-07 15:33:44] [DATABASE ERROR] Debug PDO após binding: SQL: [45] SELECT * FROM categorias WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-07 15:33:44] [DATABASE ERROR] Preparando query: SELECT * FROM unidades_medida com parâmetros: []
[2025-09-07 15:33:44] [DATABASE ERROR] Debug PDO após binding: SQL: [29] SELECT * FROM unidades_medida
Params:  0

[2025-09-07 15:33:44] [DATABASE ERROR] Preparando query: SELECT * FROM fornecedores WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-07 15:33:44] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-07 15:33:44] [DATABASE ERROR] Debug PDO após binding: SQL: [47] SELECT * FROM fornecedores WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-07 15:33:44] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-07 15:33:44] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-07 15:33:44] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-07 15:36:14] [DATABASE ERROR] Parâmetro associado: :username = admin (tipo: 2)
[2025-09-07 15:36:14] [DATABASE ERROR] Parâmetro associado: :email = admin (tipo: 2)
[2025-09-07 15:36:14] [DATABASE ERROR] Preparando query: UPDATE usuarios SET ultimo_acesso = NOW() WHERE id = :id com parâmetros: {":id":1}
[2025-09-07 15:36:14] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-09-07 15:36:14] [DATABASE ERROR] Debug PDO após binding: SQL: [56] UPDATE usuarios SET ultimo_acesso = NOW() WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-07 15:36:14] [DATABASE ERROR] Parâmetro associado: :tabela = usuarios (tipo: 2)
[2025-09-07 15:36:14] [DATABASE ERROR] Parâmetro associado: :registro_id = 1 (tipo: 1)
[2025-09-07 15:36:14] [DATABASE ERROR] Parâmetro associado: :acao = LOGIN (tipo: 2)
[2025-09-07 15:36:14] [DATABASE ERROR] Parâmetro associado: :dados_anteriores = NULL (tipo: 0)
[2025-09-07 15:36:14] [DATABASE ERROR] Parâmetro associado: :dados_novos = NULL (tipo: 0)
[2025-09-07 15:36:14] [DATABASE ERROR] Parâmetro associado: :usuario_id = NULL (tipo: 0)
[2025-09-07 15:36:14] [DATABASE ERROR] Parâmetro associado: :ip_address = ::1 (tipo: 2)
[2025-09-07 15:36:14] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 Edg/140.0.0.0 (tipo: 2)
[2025-09-07 15:36:14] [DATABASE ERROR] Parâmetro associado: :id = 3s0ukv6l7q2q9sfte4vl0s8eqs (tipo: 2)
[2025-09-07 15:36:14] [DATABASE ERROR] Parâmetro associado: :id = 3s0ukv6l7q2q9sfte4vl0s8eqs (tipo: 2)
[2025-09-07 15:36:14] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-09-07 15:36:14] [DATABASE ERROR] Parâmetro associado: :ip_address = ::1 (tipo: 2)
[2025-09-07 15:36:14] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 Edg/140.0.0.0 (tipo: 2)
[2025-09-07 15:36:14] [DATABASE ERROR] Parâmetro associado: :dados = {"user_id":1,"user_name":"Administrador do Sistema","user_email":"flavioafj@yahoo.com.br","user_profile":1,"user_profile_name":"Administrador","logged_in":true,"login_time":1757270174} (tipo: 2)
[2025-09-07 15:36:14] [DATABASE ERROR] Preparando query: SELECT SUM(estoque_atual) as total_estoque FROM produtos WHERE ativo = TRUE com parâmetros: []
[2025-09-07 15:36:14] [DATABASE ERROR] Debug PDO após binding: SQL: [75] SELECT SUM(estoque_atual) as total_estoque FROM produtos WHERE ativo = TRUE
Params:  0

[2025-09-07 15:36:14] [DATABASE ERROR] Preparando query: SELECT id FROM produtos WHERE ativo = TRUE com parâmetros: []
[2025-09-07 15:36:14] [DATABASE ERROR] Debug PDO após binding: SQL: [42] SELECT id FROM produtos WHERE ativo = TRUE
Params:  0

[2025-09-07 15:36:14] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":1,":data_fim_a":null,":data_fim":null}
[2025-09-07 15:36:14] [DATABASE ERROR] Parâmetro associado: :produto_id = 1 (tipo: 1)
[2025-09-07 15:36:14] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-09-07 15:36:14] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-09-07 15:36:14] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-09-07 15:36:14] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":1}
[2025-09-07 15:36:14] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-09-07 15:36:14] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-07 15:36:14] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":2,":data_fim_a":null,":data_fim":null}
[2025-09-07 15:36:14] [DATABASE ERROR] Parâmetro associado: :produto_id = 2 (tipo: 1)
[2025-09-07 15:36:14] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-09-07 15:36:14] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-09-07 15:36:14] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-09-07 15:36:14] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":2}
[2025-09-07 15:36:14] [DATABASE ERROR] Parâmetro associado: :id = 2 (tipo: 1)
[2025-09-07 15:36:14] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-07 15:36:14] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":3,":data_fim_a":null,":data_fim":null}
[2025-09-07 15:36:14] [DATABASE ERROR] Parâmetro associado: :produto_id = 3 (tipo: 1)
[2025-09-07 15:36:14] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-09-07 15:36:14] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-09-07 15:36:14] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-09-07 15:36:14] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":3}
[2025-09-07 15:36:14] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-07 15:36:14] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-07 15:36:14] [DATABASE ERROR] Preparando query: SELECT id, codigo, nome, estoque_atual, estoque_minimo, categoria, fornecedor 
                    FROM vw_produtos_estoque_critico 
                    ORDER BY estoque_atual ASC 
                    LIMIT 10 com parâmetros: []
[2025-09-07 15:36:14] [DATABASE ERROR] Debug PDO após binding: SQL: [212] SELECT id, codigo, nome, estoque_atual, estoque_minimo, categoria, fornecedor 
                    FROM vw_produtos_estoque_critico 
                    ORDER BY estoque_atual ASC 
                    LIMIT 10
Params:  0

[2025-09-07 15:36:14] [DATABASE ERROR] Preparando query: SELECT id, tipo, categoria, documento_numero, data_movimentacao, valor_total, fornecedor, usuario 
                    FROM vw_movimentacoes_recentes 
                    ORDER BY data_movimentacao DESC 
                    LIMIT 10 com parâmetros: []
[2025-09-07 15:36:14] [DATABASE ERROR] Debug PDO após binding: SQL: [235] SELECT id, tipo, categoria, documento_numero, data_movimentacao, valor_total, fornecedor, usuario 
                    FROM vw_movimentacoes_recentes 
                    ORDER BY data_movimentacao DESC 
                    LIMIT 10
Params:  0

[2025-09-07 15:36:15] [DATABASE ERROR] Preparando query: 
                SELECT 
                    DATE_FORMAT(m.data_movimentacao, '%Y-%m') as periodo,
                    tm.tipo,
                    SUM(mi.quantidade) as total_quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                WHERE m.status = 'PROCESSADO'
                    AND m.data_movimentacao >= DATE_SUB(CURDATE(), INTERVAL 6 MONTH)
                GROUP BY periodo, tm.tipo
                ORDER BY periodo ASC com parâmetros: []
[2025-09-07 15:36:15] [DATABASE ERROR] Debug PDO após binding: SQL: [593] 
                SELECT 
                    DATE_FORMAT(m.data_movimentacao, '%Y-%m') as periodo,
                    tm.tipo,
                    SUM(mi.quantidade) as total_quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                WHERE m.status = 'PROCESSADO'
                    AND m.data_movimentacao >= DATE_SUB(CURDATE(), INTERVAL 6 MONTH)
                GROUP BY periodo, tm.tipo
                ORDER BY periodo ASC
Params:  0

[2025-09-07 15:36:16] [DATABASE ERROR] Preparando query: SELECT * FROM produtos WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-07 15:36:16] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-07 15:36:16] [DATABASE ERROR] Debug PDO após binding: SQL: [43] SELECT * FROM produtos WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-07 15:36:16] [DATABASE ERROR] Preparando query: SELECT * FROM categorias WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-07 15:36:16] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-07 15:36:16] [DATABASE ERROR] Debug PDO após binding: SQL: [45] SELECT * FROM categorias WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-07 15:36:16] [DATABASE ERROR] Preparando query: SELECT * FROM categorias WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-07 15:36:16] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-07 15:36:16] [DATABASE ERROR] Debug PDO após binding: SQL: [45] SELECT * FROM categorias WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-07 15:36:16] [DATABASE ERROR] Preparando query: SELECT * FROM unidades_medida com parâmetros: []
[2025-09-07 15:36:16] [DATABASE ERROR] Debug PDO após binding: SQL: [29] SELECT * FROM unidades_medida
Params:  0

[2025-09-07 15:36:16] [DATABASE ERROR] Preparando query: SELECT * FROM fornecedores WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-07 15:36:16] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-07 15:36:16] [DATABASE ERROR] Debug PDO após binding: SQL: [47] SELECT * FROM fornecedores WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-07 15:36:16] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-07 15:36:16] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-07 15:36:16] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-07 15:36:18] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-09-07 15:36:18] [DATABASE ERROR] Preparando query: 
                SELECT 
                    DATE_FORMAT(m.data_movimentacao, '%Y-%m') as periodo,
                    tm.tipo,
                    SUM(mi.quantidade) as total_quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                WHERE m.status = 'PROCESSADO'
                    AND mi.produto_id = :product_id
                    AND m.data_movimentacao BETWEEN :start_date AND :end_date
                GROUP BY periodo, tm.tipo
                ORDER BY periodo ASC com parâmetros: {":product_id":"1",":start_date":"2025-03-07",":end_date":"2025-09-07"}
[2025-09-07 15:36:18] [DATABASE ERROR] Parâmetro associado: :product_id = 1 (tipo: 2)
[2025-09-07 15:36:18] [DATABASE ERROR] Parâmetro associado: :start_date = 2025-03-07 (tipo: 2)
[2025-09-07 15:36:18] [DATABASE ERROR] Parâmetro associado: :end_date = 2025-09-07 (tipo: 2)
[2025-09-07 15:36:18] [DATABASE ERROR] Debug PDO após binding: SQL: [639] 
                SELECT 
                    DATE_FORMAT(m.data_movimentacao, '%Y-%m') as periodo,
                    tm.tipo,
                    SUM(mi.quantidade) as total_quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                WHERE m.status = 'PROCESSADO'
                    AND mi.produto_id = :product_id
                    AND m.data_movimentacao BETWEEN :start_date AND :end_date
                GROUP BY periodo, tm.tipo
                ORDER BY periodo ASC
Params:  3
Key: Name: [11] :product_id
paramno=0
name=[11] ":product_id"
is_param=1
param_type=2
Key: Name: [11] :start_date
paramno=1
name=[11] ":start_date"
is_param=1
param_type=2
Key: Name: [9] :end_date
paramno=2
name=[9] ":end_date"
is_param=1
param_type=2

[2025-09-07 15:36:18] [DATABASE ERROR] Preparando query: 
                SELECT m.documento_numero, m.data_movimentacao, u.nome_completo as usuario, mi.quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                JOIN usuarios u ON m.usuario_id = u.id
                WHERE tm.tipo = 'ENTRADA' 
                    AND mi.produto_id = :product_id
                    AND m.data_movimentacao BETWEEN :start_date AND :end_date
                ORDER BY m.data_movimentacao DESC com parâmetros: {":product_id":"1",":start_date":"2025-03-07",":end_date":"2025-09-07"}
[2025-09-07 15:36:18] [DATABASE ERROR] Parâmetro associado: :product_id = 1 (tipo: 2)
[2025-09-07 15:36:18] [DATABASE ERROR] Parâmetro associado: :start_date = 2025-03-07 (tipo: 2)
[2025-09-07 15:36:18] [DATABASE ERROR] Parâmetro associado: :end_date = 2025-09-07 (tipo: 2)
[2025-09-07 15:36:18] [DATABASE ERROR] Debug PDO após binding: SQL: [579] 
                SELECT m.documento_numero, m.data_movimentacao, u.nome_completo as usuario, mi.quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                JOIN usuarios u ON m.usuario_id = u.id
                WHERE tm.tipo = 'ENTRADA' 
                    AND mi.produto_id = :product_id
                    AND m.data_movimentacao BETWEEN :start_date AND :end_date
                ORDER BY m.data_movimentacao DESC
Params:  3
Key: Name: [11] :product_id
paramno=0
name=[11] ":product_id"
is_param=1
param_type=2
Key: Name: [11] :start_date
paramno=1
name=[11] ":start_date"
is_param=1
param_type=2
Key: Name: [9] :end_date
paramno=2
name=[9] ":end_date"
is_param=1
param_type=2

[2025-09-07 15:36:18] [DATABASE ERROR] Preparando query: 
                SELECT m.documento_numero, m.data_movimentacao, u.nome_completo as usuario, mi.quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                JOIN usuarios u ON m.usuario_id = u.id
                WHERE tm.tipo = 'SAIDA' 
                    AND mi.produto_id = :product_id
                    AND m.data_movimentacao BETWEEN :start_date AND :end_date
                ORDER BY m.data_movimentacao DESC com parâmetros: {":product_id":"1",":start_date":"2025-03-07",":end_date":"2025-09-07"}
[2025-09-07 15:36:18] [DATABASE ERROR] Parâmetro associado: :product_id = 1 (tipo: 2)
[2025-09-07 15:36:18] [DATABASE ERROR] Parâmetro associado: :start_date = 2025-03-07 (tipo: 2)
[2025-09-07 15:36:18] [DATABASE ERROR] Parâmetro associado: :end_date = 2025-09-07 (tipo: 2)
[2025-09-07 15:36:18] [DATABASE ERROR] Debug PDO após binding: SQL: [577] 
                SELECT m.documento_numero, m.data_movimentacao, u.nome_completo as usuario, mi.quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                JOIN usuarios u ON m.usuario_id = u.id
                WHERE tm.tipo = 'SAIDA' 
                    AND mi.produto_id = :product_id
                    AND m.data_movimentacao BETWEEN :start_date AND :end_date
                ORDER BY m.data_movimentacao DESC
Params:  3
Key: Name: [11] :product_id
paramno=0
name=[11] ":product_id"
is_param=1
param_type=2
Key: Name: [11] :start_date
paramno=1
name=[11] ":start_date"
is_param=1
param_type=2
Key: Name: [9] :end_date
paramno=2
name=[9] ":end_date"
is_param=1
param_type=2

[2025-09-07 15:36:23] [DATABASE ERROR] Preparando query: SELECT * FROM produtos WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-07 15:36:23] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-07 15:36:23] [DATABASE ERROR] Debug PDO após binding: SQL: [43] SELECT * FROM produtos WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-07 15:36:23] [DATABASE ERROR] Preparando query: SELECT * FROM categorias WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-07 15:36:23] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-07 15:36:23] [DATABASE ERROR] Debug PDO após binding: SQL: [45] SELECT * FROM categorias WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-07 15:36:23] [DATABASE ERROR] Preparando query: SELECT * FROM categorias WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-07 15:36:23] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-07 15:36:23] [DATABASE ERROR] Debug PDO após binding: SQL: [45] SELECT * FROM categorias WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-07 15:36:23] [DATABASE ERROR] Preparando query: SELECT * FROM unidades_medida com parâmetros: []
[2025-09-07 15:36:23] [DATABASE ERROR] Debug PDO após binding: SQL: [29] SELECT * FROM unidades_medida
Params:  0

[2025-09-07 15:36:23] [DATABASE ERROR] Preparando query: SELECT * FROM fornecedores WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-07 15:36:23] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-07 15:36:23] [DATABASE ERROR] Debug PDO após binding: SQL: [47] SELECT * FROM fornecedores WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-07 15:36:23] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-07 15:36:23] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-07 15:36:23] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-07 15:36:25] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-07 15:36:26] [DATABASE ERROR] Preparando query: 
                SELECT 
                    DATE_FORMAT(m.data_movimentacao, '%Y-%m') as periodo,
                    tm.tipo,
                    SUM(mi.quantidade) as total_quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                WHERE m.status = 'PROCESSADO'
                    AND mi.produto_id = :product_id
                    AND m.data_movimentacao BETWEEN :start_date AND :end_date
                GROUP BY periodo, tm.tipo
                ORDER BY periodo ASC com parâmetros: {":product_id":"3",":start_date":"2025-03-07",":end_date":"2025-09-07"}
[2025-09-07 15:36:26] [DATABASE ERROR] Parâmetro associado: :product_id = 3 (tipo: 2)
[2025-09-07 15:36:26] [DATABASE ERROR] Parâmetro associado: :start_date = 2025-03-07 (tipo: 2)
[2025-09-07 15:36:26] [DATABASE ERROR] Parâmetro associado: :end_date = 2025-09-07 (tipo: 2)
[2025-09-07 15:36:26] [DATABASE ERROR] Debug PDO após binding: SQL: [639] 
                SELECT 
                    DATE_FORMAT(m.data_movimentacao, '%Y-%m') as periodo,
                    tm.tipo,
                    SUM(mi.quantidade) as total_quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                WHERE m.status = 'PROCESSADO'
                    AND mi.produto_id = :product_id
                    AND m.data_movimentacao BETWEEN :start_date AND :end_date
                GROUP BY periodo, tm.tipo
                ORDER BY periodo ASC
Params:  3
Key: Name: [11] :product_id
paramno=0
name=[11] ":product_id"
is_param=1
param_type=2
Key: Name: [11] :start_date
paramno=1
name=[11] ":start_date"
is_param=1
param_type=2
Key: Name: [9] :end_date
paramno=2
name=[9] ":end_date"
is_param=1
param_type=2

[2025-09-07 15:36:26] [DATABASE ERROR] Preparando query: 
                SELECT m.documento_numero, m.data_movimentacao, u.nome_completo as usuario, mi.quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                JOIN usuarios u ON m.usuario_id = u.id
                WHERE tm.tipo = 'ENTRADA' 
                    AND mi.produto_id = :product_id
                    AND m.data_movimentacao BETWEEN :start_date AND :end_date
                ORDER BY m.data_movimentacao DESC com parâmetros: {":product_id":"3",":start_date":"2025-03-07",":end_date":"2025-09-07"}
[2025-09-07 15:36:26] [DATABASE ERROR] Parâmetro associado: :product_id = 3 (tipo: 2)
[2025-09-07 15:36:26] [DATABASE ERROR] Parâmetro associado: :start_date = 2025-03-07 (tipo: 2)
[2025-09-07 15:36:26] [DATABASE ERROR] Parâmetro associado: :end_date = 2025-09-07 (tipo: 2)
[2025-09-07 15:36:26] [DATABASE ERROR] Debug PDO após binding: SQL: [579] 
                SELECT m.documento_numero, m.data_movimentacao, u.nome_completo as usuario, mi.quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                JOIN usuarios u ON m.usuario_id = u.id
                WHERE tm.tipo = 'ENTRADA' 
                    AND mi.produto_id = :product_id
                    AND m.data_movimentacao BETWEEN :start_date AND :end_date
                ORDER BY m.data_movimentacao DESC
Params:  3
Key: Name: [11] :product_id
paramno=0
name=[11] ":product_id"
is_param=1
param_type=2
Key: Name: [11] :start_date
paramno=1
name=[11] ":start_date"
is_param=1
param_type=2
Key: Name: [9] :end_date
paramno=2
name=[9] ":end_date"
is_param=1
param_type=2

[2025-09-07 15:36:26] [DATABASE ERROR] Preparando query: 
                SELECT m.documento_numero, m.data_movimentacao, u.nome_completo as usuario, mi.quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                JOIN usuarios u ON m.usuario_id = u.id
                WHERE tm.tipo = 'SAIDA' 
                    AND mi.produto_id = :product_id
                    AND m.data_movimentacao BETWEEN :start_date AND :end_date
                ORDER BY m.data_movimentacao DESC com parâmetros: {":product_id":"3",":start_date":"2025-03-07",":end_date":"2025-09-07"}
[2025-09-07 15:36:26] [DATABASE ERROR] Parâmetro associado: :product_id = 3 (tipo: 2)
[2025-09-07 15:36:26] [DATABASE ERROR] Parâmetro associado: :start_date = 2025-03-07 (tipo: 2)
[2025-09-07 15:36:26] [DATABASE ERROR] Parâmetro associado: :end_date = 2025-09-07 (tipo: 2)
[2025-09-07 15:36:26] [DATABASE ERROR] Debug PDO após binding: SQL: [577] 
                SELECT m.documento_numero, m.data_movimentacao, u.nome_completo as usuario, mi.quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                JOIN usuarios u ON m.usuario_id = u.id
                WHERE tm.tipo = 'SAIDA' 
                    AND mi.produto_id = :product_id
                    AND m.data_movimentacao BETWEEN :start_date AND :end_date
                ORDER BY m.data_movimentacao DESC
Params:  3
Key: Name: [11] :product_id
paramno=0
name=[11] ":product_id"
is_param=1
param_type=2
Key: Name: [11] :start_date
paramno=1
name=[11] ":start_date"
is_param=1
param_type=2
Key: Name: [9] :end_date
paramno=2
name=[9] ":end_date"
is_param=1
param_type=2

[2025-09-07 17:39:17] [DATABASE ERROR] Parâmetro associado: :user_id = 1 (tipo: 1)
[2025-09-07 17:39:25] [DATABASE ERROR] Parâmetro associado: :username = admin (tipo: 2)
[2025-09-07 17:39:25] [DATABASE ERROR] Parâmetro associado: :email = admin (tipo: 2)
[2025-09-07 17:39:25] [DATABASE ERROR] Preparando query: UPDATE usuarios SET ultimo_acesso = NOW() WHERE id = :id com parâmetros: {":id":1}
[2025-09-07 17:39:25] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-09-07 17:39:25] [DATABASE ERROR] Debug PDO após binding: SQL: [56] UPDATE usuarios SET ultimo_acesso = NOW() WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-07 17:39:25] [DATABASE ERROR] Parâmetro associado: :tabela = usuarios (tipo: 2)
[2025-09-07 17:39:25] [DATABASE ERROR] Parâmetro associado: :registro_id = 1 (tipo: 1)
[2025-09-07 17:39:25] [DATABASE ERROR] Parâmetro associado: :acao = LOGIN (tipo: 2)
[2025-09-07 17:39:25] [DATABASE ERROR] Parâmetro associado: :dados_anteriores = NULL (tipo: 0)
[2025-09-07 17:39:25] [DATABASE ERROR] Parâmetro associado: :dados_novos = NULL (tipo: 0)
[2025-09-07 17:39:25] [DATABASE ERROR] Parâmetro associado: :usuario_id = NULL (tipo: 0)
[2025-09-07 17:39:25] [DATABASE ERROR] Parâmetro associado: :ip_address = ::1 (tipo: 2)
[2025-09-07 17:39:25] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 Edg/140.0.0.0 (tipo: 2)
[2025-09-07 17:39:25] [DATABASE ERROR] Parâmetro associado: :id = cea1l6scef2nab3215s8uf72eo (tipo: 2)
[2025-09-07 17:39:25] [DATABASE ERROR] Parâmetro associado: :id = cea1l6scef2nab3215s8uf72eo (tipo: 2)
[2025-09-07 17:39:25] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-09-07 17:39:25] [DATABASE ERROR] Parâmetro associado: :ip_address = ::1 (tipo: 2)
[2025-09-07 17:39:25] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 Edg/140.0.0.0 (tipo: 2)
[2025-09-07 17:39:25] [DATABASE ERROR] Parâmetro associado: :dados = {"user_id":1,"user_name":"Administrador do Sistema","user_email":"flavioafj@yahoo.com.br","user_profile":1,"user_profile_name":"Administrador","logged_in":true,"login_time":1757277565} (tipo: 2)
[2025-09-07 17:39:26] [DATABASE ERROR] Preparando query: SELECT SUM(estoque_atual) as total_estoque FROM produtos WHERE ativo = TRUE com parâmetros: []
[2025-09-07 17:39:26] [DATABASE ERROR] Debug PDO após binding: SQL: [75] SELECT SUM(estoque_atual) as total_estoque FROM produtos WHERE ativo = TRUE
Params:  0

[2025-09-07 17:39:26] [DATABASE ERROR] Preparando query: SELECT id FROM produtos WHERE ativo = TRUE com parâmetros: []
[2025-09-07 17:39:26] [DATABASE ERROR] Debug PDO após binding: SQL: [42] SELECT id FROM produtos WHERE ativo = TRUE
Params:  0

[2025-09-07 17:39:26] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":1,":data_fim_a":null,":data_fim":null}
[2025-09-07 17:39:26] [DATABASE ERROR] Parâmetro associado: :produto_id = 1 (tipo: 1)
[2025-09-07 17:39:26] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-09-07 17:39:26] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-09-07 17:39:26] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-09-07 17:39:26] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":1}
[2025-09-07 17:39:26] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-09-07 17:39:26] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-07 17:39:26] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":2,":data_fim_a":null,":data_fim":null}
[2025-09-07 17:39:26] [DATABASE ERROR] Parâmetro associado: :produto_id = 2 (tipo: 1)
[2025-09-07 17:39:26] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-09-07 17:39:26] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-09-07 17:39:26] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-09-07 17:39:26] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":2}
[2025-09-07 17:39:26] [DATABASE ERROR] Parâmetro associado: :id = 2 (tipo: 1)
[2025-09-07 17:39:26] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-07 17:39:26] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":3,":data_fim_a":null,":data_fim":null}
[2025-09-07 17:39:26] [DATABASE ERROR] Parâmetro associado: :produto_id = 3 (tipo: 1)
[2025-09-07 17:39:26] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-09-07 17:39:26] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-09-07 17:39:26] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-09-07 17:39:26] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":3}
[2025-09-07 17:39:26] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-07 17:39:26] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-07 17:39:26] [DATABASE ERROR] Preparando query: SELECT id, codigo, nome, estoque_atual, estoque_minimo, categoria, fornecedor 
                    FROM vw_produtos_estoque_critico 
                    ORDER BY estoque_atual ASC 
                    LIMIT 10 com parâmetros: []
[2025-09-07 17:39:26] [DATABASE ERROR] Debug PDO após binding: SQL: [212] SELECT id, codigo, nome, estoque_atual, estoque_minimo, categoria, fornecedor 
                    FROM vw_produtos_estoque_critico 
                    ORDER BY estoque_atual ASC 
                    LIMIT 10
Params:  0

[2025-09-07 17:39:26] [DATABASE ERROR] Preparando query: 
                SELECT 
                    DATE_FORMAT(m.data_movimentacao, '%Y-%m') as periodo,
                    tm.tipo,
                    SUM(mi.quantidade) as total_quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                WHERE m.status = 'PROCESSADO'
                    AND m.data_movimentacao >= DATE_SUB(CURDATE(), INTERVAL 6 MONTH)
                GROUP BY periodo, tm.tipo
                ORDER BY periodo ASC com parâmetros: []
[2025-09-07 17:39:26] [DATABASE ERROR] Debug PDO após binding: SQL: [593] 
                SELECT 
                    DATE_FORMAT(m.data_movimentacao, '%Y-%m') as periodo,
                    tm.tipo,
                    SUM(mi.quantidade) as total_quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                WHERE m.status = 'PROCESSADO'
                    AND m.data_movimentacao >= DATE_SUB(CURDATE(), INTERVAL 6 MONTH)
                GROUP BY periodo, tm.tipo
                ORDER BY periodo ASC
Params:  0

[2025-09-07 17:39:26] [DATABASE ERROR] Preparando query: SELECT id, tipo, categoria, documento_numero, data_movimentacao, valor_total, fornecedor, usuario 
                    FROM vw_movimentacoes_recentes 
                    ORDER BY data_movimentacao DESC 
                    LIMIT 10 com parâmetros: []
[2025-09-07 17:39:26] [DATABASE ERROR] Debug PDO após binding: SQL: [235] SELECT id, tipo, categoria, documento_numero, data_movimentacao, valor_total, fornecedor, usuario 
                    FROM vw_movimentacoes_recentes 
                    ORDER BY data_movimentacao DESC 
                    LIMIT 10
Params:  0

[2025-09-07 17:58:03] [DATABASE ERROR] Preparando query: SELECT * FROM produtos WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-07 17:58:03] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-07 17:58:03] [DATABASE ERROR] Debug PDO após binding: SQL: [43] SELECT * FROM produtos WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-07 19:41:54] [DATABASE ERROR] Parâmetro associado: :user_id = 1 (tipo: 1)
[2025-09-07 19:42:01] [DATABASE ERROR] Parâmetro associado: :username = admin (tipo: 2)
[2025-09-07 19:42:01] [DATABASE ERROR] Parâmetro associado: :email = admin (tipo: 2)
[2025-09-07 19:42:01] [DATABASE ERROR] Preparando query: UPDATE usuarios SET ultimo_acesso = NOW() WHERE id = :id com parâmetros: {":id":1}
[2025-09-07 19:42:01] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-09-07 19:42:01] [DATABASE ERROR] Debug PDO após binding: SQL: [56] UPDATE usuarios SET ultimo_acesso = NOW() WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-07 19:42:01] [DATABASE ERROR] Parâmetro associado: :tabela = usuarios (tipo: 2)
[2025-09-07 19:42:01] [DATABASE ERROR] Parâmetro associado: :registro_id = 1 (tipo: 1)
[2025-09-07 19:42:01] [DATABASE ERROR] Parâmetro associado: :acao = LOGIN (tipo: 2)
[2025-09-07 19:42:01] [DATABASE ERROR] Parâmetro associado: :dados_anteriores = NULL (tipo: 0)
[2025-09-07 19:42:01] [DATABASE ERROR] Parâmetro associado: :dados_novos = NULL (tipo: 0)
[2025-09-07 19:42:01] [DATABASE ERROR] Parâmetro associado: :usuario_id = NULL (tipo: 0)
[2025-09-07 19:42:01] [DATABASE ERROR] Parâmetro associado: :ip_address = ::1 (tipo: 2)
[2025-09-07 19:42:01] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 Edg/140.0.0.0 (tipo: 2)
[2025-09-07 19:42:01] [DATABASE ERROR] Parâmetro associado: :id = ol9024n7q5qc67n6aksnr8ahlu (tipo: 2)
[2025-09-07 19:42:01] [DATABASE ERROR] Parâmetro associado: :id = ol9024n7q5qc67n6aksnr8ahlu (tipo: 2)
[2025-09-07 19:42:01] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-09-07 19:42:01] [DATABASE ERROR] Parâmetro associado: :ip_address = ::1 (tipo: 2)
[2025-09-07 19:42:01] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 Edg/140.0.0.0 (tipo: 2)
[2025-09-07 19:42:01] [DATABASE ERROR] Parâmetro associado: :dados = {"user_id":1,"user_name":"Administrador do Sistema","user_email":"flavioafj@yahoo.com.br","user_profile":1,"user_profile_name":"Administrador","logged_in":true,"login_time":1757284921} (tipo: 2)
[2025-09-07 19:42:02] [DATABASE ERROR] Preparando query: SELECT SUM(estoque_atual) as total_estoque FROM produtos WHERE ativo = TRUE com parâmetros: []
[2025-09-07 19:42:02] [DATABASE ERROR] Debug PDO após binding: SQL: [75] SELECT SUM(estoque_atual) as total_estoque FROM produtos WHERE ativo = TRUE
Params:  0

[2025-09-07 19:42:02] [DATABASE ERROR] Preparando query: SELECT id FROM produtos WHERE ativo = TRUE com parâmetros: []
[2025-09-07 19:42:02] [DATABASE ERROR] Debug PDO após binding: SQL: [42] SELECT id FROM produtos WHERE ativo = TRUE
Params:  0

[2025-09-07 19:42:02] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":1,":data_fim_a":null,":data_fim":null}
[2025-09-07 19:42:02] [DATABASE ERROR] Parâmetro associado: :produto_id = 1 (tipo: 1)
[2025-09-07 19:42:02] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-09-07 19:42:02] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-09-07 19:42:02] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-09-07 19:42:02] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":1}
[2025-09-07 19:42:02] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-09-07 19:42:02] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-07 19:42:02] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":2,":data_fim_a":null,":data_fim":null}
[2025-09-07 19:42:02] [DATABASE ERROR] Parâmetro associado: :produto_id = 2 (tipo: 1)
[2025-09-07 19:42:02] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-09-07 19:42:02] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-09-07 19:42:02] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-09-07 19:42:02] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":2}
[2025-09-07 19:42:02] [DATABASE ERROR] Parâmetro associado: :id = 2 (tipo: 1)
[2025-09-07 19:42:02] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-07 19:42:02] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":3,":data_fim_a":null,":data_fim":null}
[2025-09-07 19:42:02] [DATABASE ERROR] Parâmetro associado: :produto_id = 3 (tipo: 1)
[2025-09-07 19:42:02] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-09-07 19:42:02] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-09-07 19:42:02] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-09-07 19:42:02] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":3}
[2025-09-07 19:42:02] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-07 19:42:02] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-07 19:42:02] [DATABASE ERROR] Preparando query: SELECT id, codigo, nome, estoque_atual, estoque_minimo, categoria, fornecedor 
                    FROM vw_produtos_estoque_critico 
                    ORDER BY estoque_atual ASC 
                    LIMIT 10 com parâmetros: []
[2025-09-07 19:42:02] [DATABASE ERROR] Debug PDO após binding: SQL: [212] SELECT id, codigo, nome, estoque_atual, estoque_minimo, categoria, fornecedor 
                    FROM vw_produtos_estoque_critico 
                    ORDER BY estoque_atual ASC 
                    LIMIT 10
Params:  0

[2025-09-07 19:42:02] [DATABASE ERROR] Preparando query: 
                SELECT 
                    DATE_FORMAT(m.data_movimentacao, '%Y-%m') as periodo,
                    tm.tipo,
                    SUM(mi.quantidade) as total_quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                WHERE m.status = 'PROCESSADO'
                    AND m.data_movimentacao >= DATE_SUB(CURDATE(), INTERVAL 6 MONTH)
                GROUP BY periodo, tm.tipo
                ORDER BY periodo ASC com parâmetros: []
[2025-09-07 19:42:02] [DATABASE ERROR] Debug PDO após binding: SQL: [593] 
                SELECT 
                    DATE_FORMAT(m.data_movimentacao, '%Y-%m') as periodo,
                    tm.tipo,
                    SUM(mi.quantidade) as total_quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                WHERE m.status = 'PROCESSADO'
                    AND m.data_movimentacao >= DATE_SUB(CURDATE(), INTERVAL 6 MONTH)
                GROUP BY periodo, tm.tipo
                ORDER BY periodo ASC
Params:  0

[2025-09-07 19:42:03] [DATABASE ERROR] Preparando query: SELECT id, tipo, categoria, documento_numero, data_movimentacao, valor_total, fornecedor, usuario 
                    FROM vw_movimentacoes_recentes 
                    ORDER BY data_movimentacao DESC 
                    LIMIT 10 com parâmetros: []
[2025-09-07 19:42:03] [DATABASE ERROR] Debug PDO após binding: SQL: [235] SELECT id, tipo, categoria, documento_numero, data_movimentacao, valor_total, fornecedor, usuario 
                    FROM vw_movimentacoes_recentes 
                    ORDER BY data_movimentacao DESC 
                    LIMIT 10
Params:  0

[2025-09-07 19:42:06] [DATABASE ERROR] Parâmetro associado: :user_id = 1 (tipo: 1)
[2025-09-07 19:42:06] [DATABASE ERROR] Parâmetro associado: :tabela = usuarios (tipo: 2)
[2025-09-07 19:42:06] [DATABASE ERROR] Parâmetro associado: :registro_id = NULL (tipo: 0)
[2025-09-07 19:42:06] [DATABASE ERROR] Parâmetro associado: :acao = LOGOUT (tipo: 2)
[2025-09-07 19:42:06] [DATABASE ERROR] Parâmetro associado: :dados_anteriores = NULL (tipo: 0)
[2025-09-07 19:42:06] [DATABASE ERROR] Parâmetro associado: :dados_novos = NULL (tipo: 0)
[2025-09-07 19:42:06] [DATABASE ERROR] Parâmetro associado: :usuario_id = NULL (tipo: 0)
[2025-09-07 19:42:06] [DATABASE ERROR] Parâmetro associado: :ip_address = ::1 (tipo: 2)
[2025-09-07 19:42:06] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 Edg/140.0.0.0 (tipo: 2)
[2025-09-07 19:42:06] [DATABASE ERROR] Erro ao executar query: SQLSTATE[23000]: Integrity constraint violation: 1048 Column 'registro_id' cannot be null
[2025-09-07 19:42:12] [DATABASE ERROR] Parâmetro associado: :username = Flávio (tipo: 2)
[2025-09-07 19:42:12] [DATABASE ERROR] Parâmetro associado: :email = Flávio (tipo: 2)
[2025-09-07 19:42:12] [DATABASE ERROR] Preparando query: UPDATE usuarios SET ultimo_acesso = NOW() WHERE id = :id com parâmetros: {":id":2}
[2025-09-07 19:42:12] [DATABASE ERROR] Parâmetro associado: :id = 2 (tipo: 1)
[2025-09-07 19:42:12] [DATABASE ERROR] Debug PDO após binding: SQL: [56] UPDATE usuarios SET ultimo_acesso = NOW() WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-07 19:42:12] [DATABASE ERROR] Parâmetro associado: :tabela = usuarios (tipo: 2)
[2025-09-07 19:42:12] [DATABASE ERROR] Parâmetro associado: :registro_id = 2 (tipo: 1)
[2025-09-07 19:42:12] [DATABASE ERROR] Parâmetro associado: :acao = LOGIN (tipo: 2)
[2025-09-07 19:42:12] [DATABASE ERROR] Parâmetro associado: :dados_anteriores = NULL (tipo: 0)
[2025-09-07 19:42:12] [DATABASE ERROR] Parâmetro associado: :dados_novos = NULL (tipo: 0)
[2025-09-07 19:42:12] [DATABASE ERROR] Parâmetro associado: :usuario_id = NULL (tipo: 0)
[2025-09-07 19:42:12] [DATABASE ERROR] Parâmetro associado: :ip_address = ::1 (tipo: 2)
[2025-09-07 19:42:12] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 Edg/140.0.0.0 (tipo: 2)
[2025-09-07 19:42:12] [DATABASE ERROR] Parâmetro associado: :id = oc68gj02s064uh6tgh5ndm1ob1 (tipo: 2)
[2025-09-07 19:42:12] [DATABASE ERROR] Parâmetro associado: :id = oc68gj02s064uh6tgh5ndm1ob1 (tipo: 2)
[2025-09-07 19:42:12] [DATABASE ERROR] Parâmetro associado: :usuario_id = 2 (tipo: 1)
[2025-09-07 19:42:12] [DATABASE ERROR] Parâmetro associado: :ip_address = ::1 (tipo: 2)
[2025-09-07 19:42:12] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 Edg/140.0.0.0 (tipo: 2)
[2025-09-07 19:42:12] [DATABASE ERROR] Parâmetro associado: :dados = {"user_id":2,"user_name":"Fl\u00e1vio","user_email":"flavioafj2@yahoo.com.br","user_profile":2,"user_profile_name":"Operador","logged_in":true,"login_time":1757284932} (tipo: 2)
[2025-09-07 19:43:54] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-09-07 19:43:54] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-09-07 19:44:03] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-09-07 19:44:03] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-09-07 19:44:03] [DATABASE ERROR] Parâmetro associado: :produto_id = 1 (tipo: 1)
[2025-09-07 19:44:03] [DATABASE ERROR] Parâmetro associado: :produto_id = 1 (tipo: 1)
[2025-09-07 19:44:03] [DATABASE ERROR] Parâmetro associado: :produto_id = 1 (tipo: 1)
[2025-09-07 19:44:03] [DATABASE ERROR] Parâmetro associado: :mensagem = Produto LEITE A XANDO INTEGRAL com estoque baixo: 0.000 <= 2.000. (tipo: 2)
[2025-09-07 19:44:03] [DATABASE ERROR] Parâmetro associado: :tabela = alertas_estoque (tipo: 2)
[2025-09-07 19:44:03] [DATABASE ERROR] Parâmetro associado: :registro_id = 18 (tipo: 2)
[2025-09-07 19:44:03] [DATABASE ERROR] Parâmetro associado: :acao = alertas_estoque (tipo: 2)
[2025-09-07 19:44:03] [DATABASE ERROR] Parâmetro associado: :dados_anteriores = "INSERT" (tipo: 2)
[2025-09-07 19:44:03] [DATABASE ERROR] Parâmetro associado: :dados_novos = NULL (tipo: 0)
[2025-09-07 19:44:03] [DATABASE ERROR] Parâmetro associado: :usuario_id = 2 (tipo: 1)
[2025-09-07 19:44:03] [DATABASE ERROR] Parâmetro associado: :ip_address = ::1 (tipo: 2)
[2025-09-07 19:44:03] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 Edg/140.0.0.0 (tipo: 2)
[2025-09-07 19:44:03] [DATABASE ERROR] Parâmetro associado: :alert_id = 18 (tipo: 1)
[2025-09-07 19:44:06] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-09-07 19:44:40] [DATABASE ERROR] Preparando query: SELECT * FROM produtos WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-07 19:44:40] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-07 19:44:40] [DATABASE ERROR] Debug PDO após binding: SQL: [43] SELECT * FROM produtos WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-07 19:47:04] [DATABASE ERROR] Parâmetro associado: :id = 2 (tipo: 1)
[2025-09-07 19:47:04] [DATABASE ERROR] Parâmetro associado: :id = 2 (tipo: 1)
[2025-09-07 19:47:09] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-07 19:47:09] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-07 19:47:45] [DATABASE ERROR] Parâmetro associado: :id = 2 (tipo: 1)
[2025-09-07 19:47:45] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-07 19:47:56] [DATABASE ERROR] Parâmetro associado: :id = 2 (tipo: 1)
[2025-09-07 19:47:56] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-07 19:47:56] [DATABASE ERROR] Parâmetro associado: :id = 2 (tipo: 1)
[2025-09-07 19:47:56] [DATABASE ERROR] Parâmetro associado: :produto_id = 2 (tipo: 1)
[2025-09-07 19:47:56] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-07 19:47:56] [DATABASE ERROR] Parâmetro associado: :produto_id = 3 (tipo: 1)
[2025-09-07 19:59:16] [DATABASE ERROR] Preparando query: SELECT * FROM produtos WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-07 19:59:16] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-07 19:59:16] [DATABASE ERROR] Debug PDO após binding: SQL: [43] SELECT * FROM produtos WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-07 20:01:21] [DATABASE ERROR] Parâmetro associado: :id = 2 (tipo: 1)
[2025-09-07 20:01:21] [DATABASE ERROR] Parâmetro associado: :id = 2 (tipo: 1)
[2025-09-07 20:01:26] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-07 20:01:26] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-07 20:01:34] [DATABASE ERROR] Parâmetro associado: :id = 2 (tipo: 1)
[2025-09-07 20:01:34] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-07 20:05:41] [DATABASE ERROR] Preparando query: SELECT * FROM produtos WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-07 20:05:41] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-07 20:05:41] [DATABASE ERROR] Debug PDO após binding: SQL: [43] SELECT * FROM produtos WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-07 20:13:33] [DATABASE ERROR] Parâmetro associado: :user_id = 2 (tipo: 1)
[2025-09-07 20:13:33] [DATABASE ERROR] Parâmetro associado: :tabela = usuarios (tipo: 2)
[2025-09-07 20:13:33] [DATABASE ERROR] Parâmetro associado: :registro_id = NULL (tipo: 0)
[2025-09-07 20:13:33] [DATABASE ERROR] Parâmetro associado: :acao = LOGOUT (tipo: 2)
[2025-09-07 20:13:33] [DATABASE ERROR] Parâmetro associado: :dados_anteriores = NULL (tipo: 0)
[2025-09-07 20:13:33] [DATABASE ERROR] Parâmetro associado: :dados_novos = NULL (tipo: 0)
[2025-09-07 20:13:33] [DATABASE ERROR] Parâmetro associado: :usuario_id = NULL (tipo: 0)
[2025-09-07 20:13:33] [DATABASE ERROR] Parâmetro associado: :ip_address = ::1 (tipo: 2)
[2025-09-07 20:13:33] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 Edg/140.0.0.0 (tipo: 2)
[2025-09-07 20:13:33] [DATABASE ERROR] Erro ao executar query: SQLSTATE[23000]: Integrity constraint violation: 1048 Column 'registro_id' cannot be null
[2025-09-07 20:13:40] [DATABASE ERROR] Parâmetro associado: :username = admin (tipo: 2)
[2025-09-07 20:13:40] [DATABASE ERROR] Parâmetro associado: :email = admin (tipo: 2)
[2025-09-07 20:13:40] [DATABASE ERROR] Preparando query: UPDATE usuarios SET ultimo_acesso = NOW() WHERE id = :id com parâmetros: {":id":1}
[2025-09-07 20:13:40] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-09-07 20:13:40] [DATABASE ERROR] Debug PDO após binding: SQL: [56] UPDATE usuarios SET ultimo_acesso = NOW() WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-07 20:13:40] [DATABASE ERROR] Parâmetro associado: :tabela = usuarios (tipo: 2)
[2025-09-07 20:13:40] [DATABASE ERROR] Parâmetro associado: :registro_id = 1 (tipo: 1)
[2025-09-07 20:13:40] [DATABASE ERROR] Parâmetro associado: :acao = LOGIN (tipo: 2)
[2025-09-07 20:13:40] [DATABASE ERROR] Parâmetro associado: :dados_anteriores = NULL (tipo: 0)
[2025-09-07 20:13:40] [DATABASE ERROR] Parâmetro associado: :dados_novos = NULL (tipo: 0)
[2025-09-07 20:13:40] [DATABASE ERROR] Parâmetro associado: :usuario_id = NULL (tipo: 0)
[2025-09-07 20:13:40] [DATABASE ERROR] Parâmetro associado: :ip_address = ::1 (tipo: 2)
[2025-09-07 20:13:40] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 Edg/140.0.0.0 (tipo: 2)
[2025-09-07 20:13:40] [DATABASE ERROR] Parâmetro associado: :id = bbc4deaotip77su4abkc8pv2u4 (tipo: 2)
[2025-09-07 20:13:40] [DATABASE ERROR] Parâmetro associado: :id = bbc4deaotip77su4abkc8pv2u4 (tipo: 2)
[2025-09-07 20:13:40] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-09-07 20:13:40] [DATABASE ERROR] Parâmetro associado: :ip_address = ::1 (tipo: 2)
[2025-09-07 20:13:40] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 Edg/140.0.0.0 (tipo: 2)
[2025-09-07 20:13:40] [DATABASE ERROR] Parâmetro associado: :dados = {"user_id":1,"user_name":"Administrador do Sistema","user_email":"flavioafj@yahoo.com.br","user_profile":1,"user_profile_name":"Administrador","logged_in":true,"login_time":1757286820} (tipo: 2)
[2025-09-07 20:13:41] [DATABASE ERROR] Preparando query: SELECT SUM(estoque_atual) as total_estoque FROM produtos WHERE ativo = TRUE com parâmetros: []
[2025-09-07 20:13:41] [DATABASE ERROR] Debug PDO após binding: SQL: [75] SELECT SUM(estoque_atual) as total_estoque FROM produtos WHERE ativo = TRUE
Params:  0

[2025-09-07 20:13:41] [DATABASE ERROR] Preparando query: SELECT id FROM produtos WHERE ativo = TRUE com parâmetros: []
[2025-09-07 20:13:41] [DATABASE ERROR] Debug PDO após binding: SQL: [42] SELECT id FROM produtos WHERE ativo = TRUE
Params:  0

[2025-09-07 20:13:41] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":1,":data_fim_a":null,":data_fim":null}
[2025-09-07 20:13:41] [DATABASE ERROR] Parâmetro associado: :produto_id = 1 (tipo: 1)
[2025-09-07 20:13:41] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-09-07 20:13:41] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-09-07 20:13:41] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-09-07 20:13:41] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":1}
[2025-09-07 20:13:41] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-09-07 20:13:41] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-07 20:13:41] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":2,":data_fim_a":null,":data_fim":null}
[2025-09-07 20:13:41] [DATABASE ERROR] Parâmetro associado: :produto_id = 2 (tipo: 1)
[2025-09-07 20:13:41] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-09-07 20:13:41] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-09-07 20:13:41] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-09-07 20:13:41] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":2}
[2025-09-07 20:13:41] [DATABASE ERROR] Parâmetro associado: :id = 2 (tipo: 1)
[2025-09-07 20:13:41] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-07 20:13:41] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":3,":data_fim_a":null,":data_fim":null}
[2025-09-07 20:13:41] [DATABASE ERROR] Parâmetro associado: :produto_id = 3 (tipo: 1)
[2025-09-07 20:13:41] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-09-07 20:13:41] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-09-07 20:13:41] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-09-07 20:13:41] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":3}
[2025-09-07 20:13:41] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-07 20:13:42] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-07 20:13:42] [DATABASE ERROR] Preparando query: SELECT id, codigo, nome, estoque_atual, estoque_minimo, categoria, fornecedor 
                    FROM vw_produtos_estoque_critico 
                    ORDER BY estoque_atual ASC 
                    LIMIT 10 com parâmetros: []
[2025-09-07 20:13:42] [DATABASE ERROR] Debug PDO após binding: SQL: [212] SELECT id, codigo, nome, estoque_atual, estoque_minimo, categoria, fornecedor 
                    FROM vw_produtos_estoque_critico 
                    ORDER BY estoque_atual ASC 
                    LIMIT 10
Params:  0

[2025-09-07 20:13:42] [DATABASE ERROR] Preparando query: SELECT id, tipo, categoria, documento_numero, data_movimentacao, valor_total, fornecedor, usuario 
                    FROM vw_movimentacoes_recentes 
                    ORDER BY data_movimentacao DESC 
                    LIMIT 10 com parâmetros: []
[2025-09-07 20:13:42] [DATABASE ERROR] Debug PDO após binding: SQL: [235] SELECT id, tipo, categoria, documento_numero, data_movimentacao, valor_total, fornecedor, usuario 
                    FROM vw_movimentacoes_recentes 
                    ORDER BY data_movimentacao DESC 
                    LIMIT 10
Params:  0

[2025-09-07 20:13:42] [DATABASE ERROR] Preparando query: 
                SELECT 
                    DATE_FORMAT(m.data_movimentacao, '%Y-%m') as periodo,
                    tm.tipo,
                    SUM(mi.quantidade) as total_quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                WHERE m.status = 'PROCESSADO'
                    AND m.data_movimentacao >= DATE_SUB(CURDATE(), INTERVAL 6 MONTH)
                GROUP BY periodo, tm.tipo
                ORDER BY periodo ASC com parâmetros: []
[2025-09-07 20:13:42] [DATABASE ERROR] Debug PDO após binding: SQL: [593] 
                SELECT 
                    DATE_FORMAT(m.data_movimentacao, '%Y-%m') as periodo,
                    tm.tipo,
                    SUM(mi.quantidade) as total_quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                WHERE m.status = 'PROCESSADO'
                    AND m.data_movimentacao >= DATE_SUB(CURDATE(), INTERVAL 6 MONTH)
                GROUP BY periodo, tm.tipo
                ORDER BY periodo ASC
Params:  0

[2025-09-07 20:14:00] [DATABASE ERROR] Preparando query: SELECT * FROM produtos WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-07 20:14:00] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-07 20:14:00] [DATABASE ERROR] Debug PDO após binding: SQL: [43] SELECT * FROM produtos WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-07 20:14:00] [DATABASE ERROR] Preparando query: SELECT * FROM categorias WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-07 20:14:00] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-07 20:14:00] [DATABASE ERROR] Debug PDO após binding: SQL: [45] SELECT * FROM categorias WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-07 20:14:00] [DATABASE ERROR] Preparando query: SELECT * FROM categorias WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-07 20:14:00] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-07 20:14:00] [DATABASE ERROR] Debug PDO após binding: SQL: [45] SELECT * FROM categorias WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-07 20:14:00] [DATABASE ERROR] Preparando query: SELECT * FROM unidades_medida com parâmetros: []
[2025-09-07 20:14:00] [DATABASE ERROR] Debug PDO após binding: SQL: [29] SELECT * FROM unidades_medida
Params:  0

[2025-09-07 20:14:00] [DATABASE ERROR] Preparando query: SELECT * FROM fornecedores WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-07 20:14:00] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-07 20:14:00] [DATABASE ERROR] Debug PDO após binding: SQL: [47] SELECT * FROM fornecedores WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-07 20:14:00] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-07 20:14:00] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-07 20:14:00] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-07 20:14:04] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-09-07 20:14:04] [DATABASE ERROR] Preparando query: 
                SELECT 
                    DATE_FORMAT(m.data_movimentacao, '%Y-%m') as periodo,
                    tm.tipo,
                    SUM(mi.quantidade) as total_quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                WHERE m.status = 'PROCESSADO'
                    AND mi.produto_id = :product_id
                    AND m.data_movimentacao BETWEEN :start_date AND :end_date
                GROUP BY periodo, tm.tipo
                ORDER BY periodo ASC com parâmetros: {":product_id":"1",":start_date":"2025-03-07",":end_date":"2025-09-07"}
[2025-09-07 20:14:04] [DATABASE ERROR] Parâmetro associado: :product_id = 1 (tipo: 2)
[2025-09-07 20:14:04] [DATABASE ERROR] Parâmetro associado: :start_date = 2025-03-07 (tipo: 2)
[2025-09-07 20:14:04] [DATABASE ERROR] Parâmetro associado: :end_date = 2025-09-07 (tipo: 2)
[2025-09-07 20:14:04] [DATABASE ERROR] Debug PDO após binding: SQL: [639] 
                SELECT 
                    DATE_FORMAT(m.data_movimentacao, '%Y-%m') as periodo,
                    tm.tipo,
                    SUM(mi.quantidade) as total_quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                WHERE m.status = 'PROCESSADO'
                    AND mi.produto_id = :product_id
                    AND m.data_movimentacao BETWEEN :start_date AND :end_date
                GROUP BY periodo, tm.tipo
                ORDER BY periodo ASC
Params:  3
Key: Name: [11] :product_id
paramno=0
name=[11] ":product_id"
is_param=1
param_type=2
Key: Name: [11] :start_date
paramno=1
name=[11] ":start_date"
is_param=1
param_type=2
Key: Name: [9] :end_date
paramno=2
name=[9] ":end_date"
is_param=1
param_type=2

[2025-09-07 20:14:04] [DATABASE ERROR] Preparando query: 
                SELECT m.documento_numero, m.data_movimentacao, u.nome_completo as usuario, mi.quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                JOIN usuarios u ON m.usuario_id = u.id
                WHERE tm.tipo = 'ENTRADA' 
                    AND mi.produto_id = :product_id
                    AND m.data_movimentacao BETWEEN :start_date AND :end_date
                ORDER BY m.data_movimentacao DESC com parâmetros: {":product_id":"1",":start_date":"2025-03-07",":end_date":"2025-09-07"}
[2025-09-07 20:14:04] [DATABASE ERROR] Parâmetro associado: :product_id = 1 (tipo: 2)
[2025-09-07 20:14:04] [DATABASE ERROR] Parâmetro associado: :start_date = 2025-03-07 (tipo: 2)
[2025-09-07 20:14:04] [DATABASE ERROR] Parâmetro associado: :end_date = 2025-09-07 (tipo: 2)
[2025-09-07 20:14:04] [DATABASE ERROR] Debug PDO após binding: SQL: [579] 
                SELECT m.documento_numero, m.data_movimentacao, u.nome_completo as usuario, mi.quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                JOIN usuarios u ON m.usuario_id = u.id
                WHERE tm.tipo = 'ENTRADA' 
                    AND mi.produto_id = :product_id
                    AND m.data_movimentacao BETWEEN :start_date AND :end_date
                ORDER BY m.data_movimentacao DESC
Params:  3
Key: Name: [11] :product_id
paramno=0
name=[11] ":product_id"
is_param=1
param_type=2
Key: Name: [11] :start_date
paramno=1
name=[11] ":start_date"
is_param=1
param_type=2
Key: Name: [9] :end_date
paramno=2
name=[9] ":end_date"
is_param=1
param_type=2

[2025-09-07 20:14:04] [DATABASE ERROR] Preparando query: 
                SELECT m.documento_numero, m.data_movimentacao, u.nome_completo as usuario, mi.quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                JOIN usuarios u ON m.usuario_id = u.id
                WHERE tm.tipo = 'SAIDA' 
                    AND mi.produto_id = :product_id
                    AND m.data_movimentacao BETWEEN :start_date AND :end_date
                ORDER BY m.data_movimentacao DESC com parâmetros: {":product_id":"1",":start_date":"2025-03-07",":end_date":"2025-09-07"}
[2025-09-07 20:14:04] [DATABASE ERROR] Parâmetro associado: :product_id = 1 (tipo: 2)
[2025-09-07 20:14:04] [DATABASE ERROR] Parâmetro associado: :start_date = 2025-03-07 (tipo: 2)
[2025-09-07 20:14:04] [DATABASE ERROR] Parâmetro associado: :end_date = 2025-09-07 (tipo: 2)
[2025-09-07 20:14:04] [DATABASE ERROR] Debug PDO após binding: SQL: [577] 
                SELECT m.documento_numero, m.data_movimentacao, u.nome_completo as usuario, mi.quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                JOIN usuarios u ON m.usuario_id = u.id
                WHERE tm.tipo = 'SAIDA' 
                    AND mi.produto_id = :product_id
                    AND m.data_movimentacao BETWEEN :start_date AND :end_date
                ORDER BY m.data_movimentacao DESC
Params:  3
Key: Name: [11] :product_id
paramno=0
name=[11] ":product_id"
is_param=1
param_type=2
Key: Name: [11] :start_date
paramno=1
name=[11] ":start_date"
is_param=1
param_type=2
Key: Name: [9] :end_date
paramno=2
name=[9] ":end_date"
is_param=1
param_type=2

[2025-09-07 20:14:50] [DATABASE ERROR] Preparando query: SELECT * FROM produtos WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-07 20:14:50] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-07 20:14:50] [DATABASE ERROR] Debug PDO após binding: SQL: [43] SELECT * FROM produtos WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-07 20:14:50] [DATABASE ERROR] Preparando query: SELECT * FROM categorias WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-07 20:14:50] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-07 20:14:50] [DATABASE ERROR] Debug PDO após binding: SQL: [45] SELECT * FROM categorias WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-07 20:14:50] [DATABASE ERROR] Preparando query: SELECT * FROM categorias WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-07 20:14:50] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-07 20:14:50] [DATABASE ERROR] Debug PDO após binding: SQL: [45] SELECT * FROM categorias WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-07 20:14:50] [DATABASE ERROR] Preparando query: SELECT * FROM unidades_medida com parâmetros: []
[2025-09-07 20:14:50] [DATABASE ERROR] Debug PDO após binding: SQL: [29] SELECT * FROM unidades_medida
Params:  0

[2025-09-07 20:14:50] [DATABASE ERROR] Preparando query: SELECT * FROM fornecedores WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-07 20:14:50] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-07 20:14:50] [DATABASE ERROR] Debug PDO após binding: SQL: [47] SELECT * FROM fornecedores WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-07 20:14:50] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-07 20:14:50] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-07 20:14:50] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-07 20:14:53] [DATABASE ERROR] Parâmetro associado: :id = 2 (tipo: 1)
[2025-09-07 20:14:53] [DATABASE ERROR] Preparando query: 
                SELECT 
                    DATE_FORMAT(m.data_movimentacao, '%Y-%m') as periodo,
                    tm.tipo,
                    SUM(mi.quantidade) as total_quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                WHERE m.status = 'PROCESSADO'
                    AND mi.produto_id = :product_id
                    AND m.data_movimentacao BETWEEN :start_date AND :end_date
                GROUP BY periodo, tm.tipo
                ORDER BY periodo ASC com parâmetros: {":product_id":"2",":start_date":"2025-03-07",":end_date":"2025-09-07"}
[2025-09-07 20:14:53] [DATABASE ERROR] Parâmetro associado: :product_id = 2 (tipo: 2)
[2025-09-07 20:14:53] [DATABASE ERROR] Parâmetro associado: :start_date = 2025-03-07 (tipo: 2)
[2025-09-07 20:14:53] [DATABASE ERROR] Parâmetro associado: :end_date = 2025-09-07 (tipo: 2)
[2025-09-07 20:14:53] [DATABASE ERROR] Debug PDO após binding: SQL: [639] 
                SELECT 
                    DATE_FORMAT(m.data_movimentacao, '%Y-%m') as periodo,
                    tm.tipo,
                    SUM(mi.quantidade) as total_quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                WHERE m.status = 'PROCESSADO'
                    AND mi.produto_id = :product_id
                    AND m.data_movimentacao BETWEEN :start_date AND :end_date
                GROUP BY periodo, tm.tipo
                ORDER BY periodo ASC
Params:  3
Key: Name: [11] :product_id
paramno=0
name=[11] ":product_id"
is_param=1
param_type=2
Key: Name: [11] :start_date
paramno=1
name=[11] ":start_date"
is_param=1
param_type=2
Key: Name: [9] :end_date
paramno=2
name=[9] ":end_date"
is_param=1
param_type=2

[2025-09-07 20:14:53] [DATABASE ERROR] Preparando query: 
                SELECT m.documento_numero, m.data_movimentacao, u.nome_completo as usuario, mi.quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                JOIN usuarios u ON m.usuario_id = u.id
                WHERE tm.tipo = 'ENTRADA' 
                    AND mi.produto_id = :product_id
                    AND m.data_movimentacao BETWEEN :start_date AND :end_date
                ORDER BY m.data_movimentacao DESC com parâmetros: {":product_id":"2",":start_date":"2025-03-07",":end_date":"2025-09-07"}
[2025-09-07 20:14:53] [DATABASE ERROR] Parâmetro associado: :product_id = 2 (tipo: 2)
[2025-09-07 20:14:53] [DATABASE ERROR] Parâmetro associado: :start_date = 2025-03-07 (tipo: 2)
[2025-09-07 20:14:53] [DATABASE ERROR] Parâmetro associado: :end_date = 2025-09-07 (tipo: 2)
[2025-09-07 20:14:53] [DATABASE ERROR] Debug PDO após binding: SQL: [579] 
                SELECT m.documento_numero, m.data_movimentacao, u.nome_completo as usuario, mi.quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                JOIN usuarios u ON m.usuario_id = u.id
                WHERE tm.tipo = 'ENTRADA' 
                    AND mi.produto_id = :product_id
                    AND m.data_movimentacao BETWEEN :start_date AND :end_date
                ORDER BY m.data_movimentacao DESC
Params:  3
Key: Name: [11] :product_id
paramno=0
name=[11] ":product_id"
is_param=1
param_type=2
Key: Name: [11] :start_date
paramno=1
name=[11] ":start_date"
is_param=1
param_type=2
Key: Name: [9] :end_date
paramno=2
name=[9] ":end_date"
is_param=1
param_type=2

[2025-09-07 20:14:53] [DATABASE ERROR] Preparando query: 
                SELECT m.documento_numero, m.data_movimentacao, u.nome_completo as usuario, mi.quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                JOIN usuarios u ON m.usuario_id = u.id
                WHERE tm.tipo = 'SAIDA' 
                    AND mi.produto_id = :product_id
                    AND m.data_movimentacao BETWEEN :start_date AND :end_date
                ORDER BY m.data_movimentacao DESC com parâmetros: {":product_id":"2",":start_date":"2025-03-07",":end_date":"2025-09-07"}
[2025-09-07 20:14:53] [DATABASE ERROR] Parâmetro associado: :product_id = 2 (tipo: 2)
[2025-09-07 20:14:53] [DATABASE ERROR] Parâmetro associado: :start_date = 2025-03-07 (tipo: 2)
[2025-09-07 20:14:53] [DATABASE ERROR] Parâmetro associado: :end_date = 2025-09-07 (tipo: 2)
[2025-09-07 20:14:53] [DATABASE ERROR] Debug PDO após binding: SQL: [577] 
                SELECT m.documento_numero, m.data_movimentacao, u.nome_completo as usuario, mi.quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                JOIN usuarios u ON m.usuario_id = u.id
                WHERE tm.tipo = 'SAIDA' 
                    AND mi.produto_id = :product_id
                    AND m.data_movimentacao BETWEEN :start_date AND :end_date
                ORDER BY m.data_movimentacao DESC
Params:  3
Key: Name: [11] :product_id
paramno=0
name=[11] ":product_id"
is_param=1
param_type=2
Key: Name: [11] :start_date
paramno=1
name=[11] ":start_date"
is_param=1
param_type=2
Key: Name: [9] :end_date
paramno=2
name=[9] ":end_date"
is_param=1
param_type=2

[2025-09-07 20:15:10] [DATABASE ERROR] Preparando query: SELECT * FROM produtos WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-07 20:15:10] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-07 20:15:10] [DATABASE ERROR] Debug PDO após binding: SQL: [43] SELECT * FROM produtos WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-07 20:15:10] [DATABASE ERROR] Preparando query: SELECT * FROM categorias WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-07 20:15:10] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-07 20:15:10] [DATABASE ERROR] Debug PDO após binding: SQL: [45] SELECT * FROM categorias WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-07 20:15:10] [DATABASE ERROR] Preparando query: SELECT * FROM categorias WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-07 20:15:10] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-07 20:15:10] [DATABASE ERROR] Debug PDO após binding: SQL: [45] SELECT * FROM categorias WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-07 20:15:10] [DATABASE ERROR] Preparando query: SELECT * FROM unidades_medida com parâmetros: []
[2025-09-07 20:15:10] [DATABASE ERROR] Debug PDO após binding: SQL: [29] SELECT * FROM unidades_medida
Params:  0

[2025-09-07 20:15:10] [DATABASE ERROR] Preparando query: SELECT * FROM fornecedores WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-07 20:15:10] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-07 20:15:10] [DATABASE ERROR] Debug PDO após binding: SQL: [47] SELECT * FROM fornecedores WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-07 20:15:10] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-07 20:15:10] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-07 20:15:10] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-07 20:15:12] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-09-07 20:15:13] [DATABASE ERROR] Preparando query: 
                SELECT 
                    DATE_FORMAT(m.data_movimentacao, '%Y-%m') as periodo,
                    tm.tipo,
                    SUM(mi.quantidade) as total_quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                WHERE m.status = 'PROCESSADO'
                    AND mi.produto_id = :product_id
                    AND m.data_movimentacao BETWEEN :start_date AND :end_date
                GROUP BY periodo, tm.tipo
                ORDER BY periodo ASC com parâmetros: {":product_id":"1",":start_date":"2025-03-07",":end_date":"2025-09-07"}
[2025-09-07 20:15:13] [DATABASE ERROR] Parâmetro associado: :product_id = 1 (tipo: 2)
[2025-09-07 20:15:13] [DATABASE ERROR] Parâmetro associado: :start_date = 2025-03-07 (tipo: 2)
[2025-09-07 20:15:13] [DATABASE ERROR] Parâmetro associado: :end_date = 2025-09-07 (tipo: 2)
[2025-09-07 20:15:13] [DATABASE ERROR] Debug PDO após binding: SQL: [639] 
                SELECT 
                    DATE_FORMAT(m.data_movimentacao, '%Y-%m') as periodo,
                    tm.tipo,
                    SUM(mi.quantidade) as total_quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                WHERE m.status = 'PROCESSADO'
                    AND mi.produto_id = :product_id
                    AND m.data_movimentacao BETWEEN :start_date AND :end_date
                GROUP BY periodo, tm.tipo
                ORDER BY periodo ASC
Params:  3
Key: Name: [11] :product_id
paramno=0
name=[11] ":product_id"
is_param=1
param_type=2
Key: Name: [11] :start_date
paramno=1
name=[11] ":start_date"
is_param=1
param_type=2
Key: Name: [9] :end_date
paramno=2
name=[9] ":end_date"
is_param=1
param_type=2

[2025-09-07 20:15:13] [DATABASE ERROR] Preparando query: 
                SELECT m.documento_numero, m.data_movimentacao, u.nome_completo as usuario, mi.quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                JOIN usuarios u ON m.usuario_id = u.id
                WHERE tm.tipo = 'ENTRADA' 
                    AND mi.produto_id = :product_id
                    AND m.data_movimentacao BETWEEN :start_date AND :end_date
                ORDER BY m.data_movimentacao DESC com parâmetros: {":product_id":"1",":start_date":"2025-03-07",":end_date":"2025-09-07"}
[2025-09-07 20:15:13] [DATABASE ERROR] Parâmetro associado: :product_id = 1 (tipo: 2)
[2025-09-07 20:15:13] [DATABASE ERROR] Parâmetro associado: :start_date = 2025-03-07 (tipo: 2)
[2025-09-07 20:15:13] [DATABASE ERROR] Parâmetro associado: :end_date = 2025-09-07 (tipo: 2)
[2025-09-07 20:15:13] [DATABASE ERROR] Debug PDO após binding: SQL: [579] 
                SELECT m.documento_numero, m.data_movimentacao, u.nome_completo as usuario, mi.quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                JOIN usuarios u ON m.usuario_id = u.id
                WHERE tm.tipo = 'ENTRADA' 
                    AND mi.produto_id = :product_id
                    AND m.data_movimentacao BETWEEN :start_date AND :end_date
                ORDER BY m.data_movimentacao DESC
Params:  3
Key: Name: [11] :product_id
paramno=0
name=[11] ":product_id"
is_param=1
param_type=2
Key: Name: [11] :start_date
paramno=1
name=[11] ":start_date"
is_param=1
param_type=2
Key: Name: [9] :end_date
paramno=2
name=[9] ":end_date"
is_param=1
param_type=2

[2025-09-07 20:15:13] [DATABASE ERROR] Preparando query: 
                SELECT m.documento_numero, m.data_movimentacao, u.nome_completo as usuario, mi.quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                JOIN usuarios u ON m.usuario_id = u.id
                WHERE tm.tipo = 'SAIDA' 
                    AND mi.produto_id = :product_id
                    AND m.data_movimentacao BETWEEN :start_date AND :end_date
                ORDER BY m.data_movimentacao DESC com parâmetros: {":product_id":"1",":start_date":"2025-03-07",":end_date":"2025-09-07"}
[2025-09-07 20:15:13] [DATABASE ERROR] Parâmetro associado: :product_id = 1 (tipo: 2)
[2025-09-07 20:15:13] [DATABASE ERROR] Parâmetro associado: :start_date = 2025-03-07 (tipo: 2)
[2025-09-07 20:15:13] [DATABASE ERROR] Parâmetro associado: :end_date = 2025-09-07 (tipo: 2)
[2025-09-07 20:15:13] [DATABASE ERROR] Debug PDO após binding: SQL: [577] 
                SELECT m.documento_numero, m.data_movimentacao, u.nome_completo as usuario, mi.quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                JOIN usuarios u ON m.usuario_id = u.id
                WHERE tm.tipo = 'SAIDA' 
                    AND mi.produto_id = :product_id
                    AND m.data_movimentacao BETWEEN :start_date AND :end_date
                ORDER BY m.data_movimentacao DESC
Params:  3
Key: Name: [11] :product_id
paramno=0
name=[11] ":product_id"
is_param=1
param_type=2
Key: Name: [11] :start_date
paramno=1
name=[11] ":start_date"
is_param=1
param_type=2
Key: Name: [9] :end_date
paramno=2
name=[9] ":end_date"
is_param=1
param_type=2

[2025-09-07 20:15:31] [DATABASE ERROR] Preparando query: SELECT * FROM produtos WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-07 20:15:31] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-07 20:15:31] [DATABASE ERROR] Debug PDO após binding: SQL: [43] SELECT * FROM produtos WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-07 20:15:31] [DATABASE ERROR] Preparando query: SELECT * FROM categorias WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-07 20:15:31] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-07 20:15:31] [DATABASE ERROR] Debug PDO após binding: SQL: [45] SELECT * FROM categorias WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-07 20:15:31] [DATABASE ERROR] Preparando query: SELECT * FROM categorias WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-07 20:15:31] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-07 20:15:31] [DATABASE ERROR] Debug PDO após binding: SQL: [45] SELECT * FROM categorias WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-07 20:15:31] [DATABASE ERROR] Preparando query: SELECT * FROM unidades_medida com parâmetros: []
[2025-09-07 20:15:31] [DATABASE ERROR] Debug PDO após binding: SQL: [29] SELECT * FROM unidades_medida
Params:  0

[2025-09-07 20:15:31] [DATABASE ERROR] Preparando query: SELECT * FROM fornecedores WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-07 20:15:31] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-07 20:15:31] [DATABASE ERROR] Debug PDO após binding: SQL: [47] SELECT * FROM fornecedores WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-07 20:15:31] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-07 20:15:31] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-07 20:15:31] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-07 20:15:35] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-09-07 20:15:36] [DATABASE ERROR] Preparando query: 
                SELECT 
                    DATE_FORMAT(m.data_movimentacao, '%Y-%m') as periodo,
                    tm.tipo,
                    SUM(mi.quantidade) as total_quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                WHERE m.status = 'PROCESSADO'
                    AND mi.produto_id = :product_id
                    AND m.data_movimentacao BETWEEN :start_date AND :end_date
                GROUP BY periodo, tm.tipo
                ORDER BY periodo ASC com parâmetros: {":product_id":"1",":start_date":"2025-03-07",":end_date":"2025-09-07"}
[2025-09-07 20:15:36] [DATABASE ERROR] Parâmetro associado: :product_id = 1 (tipo: 2)
[2025-09-07 20:15:36] [DATABASE ERROR] Parâmetro associado: :start_date = 2025-03-07 (tipo: 2)
[2025-09-07 20:15:36] [DATABASE ERROR] Parâmetro associado: :end_date = 2025-09-07 (tipo: 2)
[2025-09-07 20:15:36] [DATABASE ERROR] Debug PDO após binding: SQL: [639] 
                SELECT 
                    DATE_FORMAT(m.data_movimentacao, '%Y-%m') as periodo,
                    tm.tipo,
                    SUM(mi.quantidade) as total_quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                WHERE m.status = 'PROCESSADO'
                    AND mi.produto_id = :product_id
                    AND m.data_movimentacao BETWEEN :start_date AND :end_date
                GROUP BY periodo, tm.tipo
                ORDER BY periodo ASC
Params:  3
Key: Name: [11] :product_id
paramno=0
name=[11] ":product_id"
is_param=1
param_type=2
Key: Name: [11] :start_date
paramno=1
name=[11] ":start_date"
is_param=1
param_type=2
Key: Name: [9] :end_date
paramno=2
name=[9] ":end_date"
is_param=1
param_type=2

[2025-09-07 20:15:36] [DATABASE ERROR] Preparando query: 
                SELECT m.documento_numero, m.data_movimentacao, u.nome_completo as usuario, mi.quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                JOIN usuarios u ON m.usuario_id = u.id
                WHERE tm.tipo = 'ENTRADA' 
                    AND mi.produto_id = :product_id
                    AND m.data_movimentacao BETWEEN :start_date AND :end_date
                ORDER BY m.data_movimentacao DESC com parâmetros: {":product_id":"1",":start_date":"2025-03-07",":end_date":"2025-09-07"}
[2025-09-07 20:15:36] [DATABASE ERROR] Parâmetro associado: :product_id = 1 (tipo: 2)
[2025-09-07 20:15:36] [DATABASE ERROR] Parâmetro associado: :start_date = 2025-03-07 (tipo: 2)
[2025-09-07 20:15:36] [DATABASE ERROR] Parâmetro associado: :end_date = 2025-09-07 (tipo: 2)
[2025-09-07 20:15:36] [DATABASE ERROR] Debug PDO após binding: SQL: [579] 
                SELECT m.documento_numero, m.data_movimentacao, u.nome_completo as usuario, mi.quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                JOIN usuarios u ON m.usuario_id = u.id
                WHERE tm.tipo = 'ENTRADA' 
                    AND mi.produto_id = :product_id
                    AND m.data_movimentacao BETWEEN :start_date AND :end_date
                ORDER BY m.data_movimentacao DESC
Params:  3
Key: Name: [11] :product_id
paramno=0
name=[11] ":product_id"
is_param=1
param_type=2
Key: Name: [11] :start_date
paramno=1
name=[11] ":start_date"
is_param=1
param_type=2
Key: Name: [9] :end_date
paramno=2
name=[9] ":end_date"
is_param=1
param_type=2

[2025-09-07 20:15:36] [DATABASE ERROR] Preparando query: 
                SELECT m.documento_numero, m.data_movimentacao, u.nome_completo as usuario, mi.quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                JOIN usuarios u ON m.usuario_id = u.id
                WHERE tm.tipo = 'SAIDA' 
                    AND mi.produto_id = :product_id
                    AND m.data_movimentacao BETWEEN :start_date AND :end_date
                ORDER BY m.data_movimentacao DESC com parâmetros: {":product_id":"1",":start_date":"2025-03-07",":end_date":"2025-09-07"}
[2025-09-07 20:15:36] [DATABASE ERROR] Parâmetro associado: :product_id = 1 (tipo: 2)
[2025-09-07 20:15:36] [DATABASE ERROR] Parâmetro associado: :start_date = 2025-03-07 (tipo: 2)
[2025-09-07 20:15:36] [DATABASE ERROR] Parâmetro associado: :end_date = 2025-09-07 (tipo: 2)
[2025-09-07 20:15:36] [DATABASE ERROR] Debug PDO após binding: SQL: [577] 
                SELECT m.documento_numero, m.data_movimentacao, u.nome_completo as usuario, mi.quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                JOIN usuarios u ON m.usuario_id = u.id
                WHERE tm.tipo = 'SAIDA' 
                    AND mi.produto_id = :product_id
                    AND m.data_movimentacao BETWEEN :start_date AND :end_date
                ORDER BY m.data_movimentacao DESC
Params:  3
Key: Name: [11] :product_id
paramno=0
name=[11] ":product_id"
is_param=1
param_type=2
Key: Name: [11] :start_date
paramno=1
name=[11] ":start_date"
is_param=1
param_type=2
Key: Name: [9] :end_date
paramno=2
name=[9] ":end_date"
is_param=1
param_type=2

[2025-09-07 20:15:47] [DATABASE ERROR] Preparando query: 
                SELECT 
                    DATE_FORMAT(m.data_movimentacao, '%Y-%m') as periodo,
                    tm.tipo,
                    SUM(mi.quantidade) as total_quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                WHERE m.status = 'PROCESSADO'
                    AND mi.produto_id = :product_id
                    AND m.data_movimentacao BETWEEN :start_date AND :end_date
                GROUP BY periodo, tm.tipo
                ORDER BY periodo ASC com parâmetros: {":product_id":"1",":start_date":"2025-09-01",":end_date":"2025-09-09"}
[2025-09-07 20:15:47] [DATABASE ERROR] Parâmetro associado: :product_id = 1 (tipo: 2)
[2025-09-07 20:15:47] [DATABASE ERROR] Parâmetro associado: :start_date = 2025-09-01 (tipo: 2)
[2025-09-07 20:15:47] [DATABASE ERROR] Parâmetro associado: :end_date = 2025-09-09 (tipo: 2)
[2025-09-07 20:15:47] [DATABASE ERROR] Debug PDO após binding: SQL: [639] 
                SELECT 
                    DATE_FORMAT(m.data_movimentacao, '%Y-%m') as periodo,
                    tm.tipo,
                    SUM(mi.quantidade) as total_quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                WHERE m.status = 'PROCESSADO'
                    AND mi.produto_id = :product_id
                    AND m.data_movimentacao BETWEEN :start_date AND :end_date
                GROUP BY periodo, tm.tipo
                ORDER BY periodo ASC
Params:  3
Key: Name: [11] :product_id
paramno=0
name=[11] ":product_id"
is_param=1
param_type=2
Key: Name: [11] :start_date
paramno=1
name=[11] ":start_date"
is_param=1
param_type=2
Key: Name: [9] :end_date
paramno=2
name=[9] ":end_date"
is_param=1
param_type=2

[2025-09-07 20:15:47] [DATABASE ERROR] Preparando query: 
                SELECT m.documento_numero, m.data_movimentacao, u.nome_completo as usuario, mi.quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                JOIN usuarios u ON m.usuario_id = u.id
                WHERE tm.tipo = 'ENTRADA' 
                    AND mi.produto_id = :product_id
                    AND m.data_movimentacao BETWEEN :start_date AND :end_date
                ORDER BY m.data_movimentacao DESC com parâmetros: {":product_id":"1",":start_date":"2025-09-01",":end_date":"2025-09-09"}
[2025-09-07 20:15:47] [DATABASE ERROR] Parâmetro associado: :product_id = 1 (tipo: 2)
[2025-09-07 20:15:47] [DATABASE ERROR] Parâmetro associado: :start_date = 2025-09-01 (tipo: 2)
[2025-09-07 20:15:47] [DATABASE ERROR] Parâmetro associado: :end_date = 2025-09-09 (tipo: 2)
[2025-09-07 20:15:47] [DATABASE ERROR] Debug PDO após binding: SQL: [579] 
                SELECT m.documento_numero, m.data_movimentacao, u.nome_completo as usuario, mi.quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                JOIN usuarios u ON m.usuario_id = u.id
                WHERE tm.tipo = 'ENTRADA' 
                    AND mi.produto_id = :product_id
                    AND m.data_movimentacao BETWEEN :start_date AND :end_date
                ORDER BY m.data_movimentacao DESC
Params:  3
Key: Name: [11] :product_id
paramno=0
name=[11] ":product_id"
is_param=1
param_type=2
Key: Name: [11] :start_date
paramno=1
name=[11] ":start_date"
is_param=1
param_type=2
Key: Name: [9] :end_date
paramno=2
name=[9] ":end_date"
is_param=1
param_type=2

[2025-09-07 20:15:47] [DATABASE ERROR] Preparando query: 
                SELECT m.documento_numero, m.data_movimentacao, u.nome_completo as usuario, mi.quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                JOIN usuarios u ON m.usuario_id = u.id
                WHERE tm.tipo = 'SAIDA' 
                    AND mi.produto_id = :product_id
                    AND m.data_movimentacao BETWEEN :start_date AND :end_date
                ORDER BY m.data_movimentacao DESC com parâmetros: {":product_id":"1",":start_date":"2025-09-01",":end_date":"2025-09-09"}
[2025-09-07 20:15:47] [DATABASE ERROR] Parâmetro associado: :product_id = 1 (tipo: 2)
[2025-09-07 20:15:47] [DATABASE ERROR] Parâmetro associado: :start_date = 2025-09-01 (tipo: 2)
[2025-09-07 20:15:47] [DATABASE ERROR] Parâmetro associado: :end_date = 2025-09-09 (tipo: 2)
[2025-09-07 20:15:47] [DATABASE ERROR] Debug PDO após binding: SQL: [577] 
                SELECT m.documento_numero, m.data_movimentacao, u.nome_completo as usuario, mi.quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                JOIN usuarios u ON m.usuario_id = u.id
                WHERE tm.tipo = 'SAIDA' 
                    AND mi.produto_id = :product_id
                    AND m.data_movimentacao BETWEEN :start_date AND :end_date
                ORDER BY m.data_movimentacao DESC
Params:  3
Key: Name: [11] :product_id
paramno=0
name=[11] ":product_id"
is_param=1
param_type=2
Key: Name: [11] :start_date
paramno=1
name=[11] ":start_date"
is_param=1
param_type=2
Key: Name: [9] :end_date
paramno=2
name=[9] ":end_date"
is_param=1
param_type=2

[2025-09-07 20:16:06] [DATABASE ERROR] Preparando query: SELECT * FROM produtos WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-07 20:16:06] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-07 20:16:06] [DATABASE ERROR] Debug PDO após binding: SQL: [43] SELECT * FROM produtos WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-07 20:16:06] [DATABASE ERROR] Preparando query: SELECT * FROM categorias WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-07 20:16:06] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-07 20:16:06] [DATABASE ERROR] Debug PDO após binding: SQL: [45] SELECT * FROM categorias WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-07 20:16:06] [DATABASE ERROR] Preparando query: SELECT * FROM categorias WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-07 20:16:06] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-07 20:16:06] [DATABASE ERROR] Debug PDO após binding: SQL: [45] SELECT * FROM categorias WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-07 20:16:06] [DATABASE ERROR] Preparando query: SELECT * FROM unidades_medida com parâmetros: []
[2025-09-07 20:16:06] [DATABASE ERROR] Debug PDO após binding: SQL: [29] SELECT * FROM unidades_medida
Params:  0

[2025-09-07 20:16:06] [DATABASE ERROR] Preparando query: SELECT * FROM fornecedores WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-07 20:16:06] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-07 20:16:06] [DATABASE ERROR] Debug PDO após binding: SQL: [47] SELECT * FROM fornecedores WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-07 20:16:06] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-07 20:16:06] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-07 20:16:06] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-07 20:16:17] [DATABASE ERROR] Preparando query: SELECT * FROM categorias WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-07 20:16:17] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-07 20:16:17] [DATABASE ERROR] Debug PDO após binding: SQL: [45] SELECT * FROM categorias WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-07 20:16:17] [DATABASE ERROR] Preparando query: SELECT * FROM fornecedores WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-07 20:16:17] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-07 20:16:17] [DATABASE ERROR] Debug PDO após binding: SQL: [47] SELECT * FROM fornecedores WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-07 20:16:17] [DATABASE ERROR] Preparando query: SELECT * FROM tipos_movimentacao com parâmetros: []
[2025-09-07 20:16:17] [DATABASE ERROR] Debug PDO após binding: SQL: [32] SELECT * FROM tipos_movimentacao
Params:  0

[2025-09-07 20:16:20] [DATABASE ERROR] Preparando query: 
            SELECT 
                p.id, 
                p.nome, 
                p.estoque_atual, 
                c.nome AS categoria, 
                f.razao_social AS fornecedor
            FROM produtos p
            LEFT JOIN categorias c ON p.categoria_id = c.id
            LEFT JOIN fornecedores f ON p.fornecedor_principal_id = f.id
            WHERE p.ativo = TRUE
                AND (:produto_id_null IS NULL OR p.id = :produto_id)
                AND (:categoria_id_null IS NULL OR p.categoria_id = :categoria_id)
                AND (:fornecedor_id_null IS NULL OR p.fornecedor_principal_id = :fornecedor_id)
            ORDER BY p.nome ASC;
         com parâmetros: {":produto_id_null":null,":produto_id":null,":categoria_id_null":null,":categoria_id":null,":fornecedor_id_null":null,":fornecedor_id":null}
[2025-09-07 20:16:20] [DATABASE ERROR] Parâmetro associado: :produto_id_null = NULL (tipo: 0)
[2025-09-07 20:16:20] [DATABASE ERROR] Parâmetro associado: :produto_id = NULL (tipo: 0)
[2025-09-07 20:16:20] [DATABASE ERROR] Parâmetro associado: :categoria_id_null = NULL (tipo: 0)
[2025-09-07 20:16:20] [DATABASE ERROR] Parâmetro associado: :categoria_id = NULL (tipo: 0)
[2025-09-07 20:16:20] [DATABASE ERROR] Parâmetro associado: :fornecedor_id_null = NULL (tipo: 0)
[2025-09-07 20:16:20] [DATABASE ERROR] Parâmetro associado: :fornecedor_id = NULL (tipo: 0)
[2025-09-07 20:16:20] [DATABASE ERROR] Debug PDO após binding: SQL: [684] 
            SELECT 
                p.id, 
                p.nome, 
                p.estoque_atual, 
                c.nome AS categoria, 
                f.razao_social AS fornecedor
            FROM produtos p
            LEFT JOIN categorias c ON p.categoria_id = c.id
            LEFT JOIN fornecedores f ON p.fornecedor_principal_id = f.id
            WHERE p.ativo = TRUE
                AND (:produto_id_null IS NULL OR p.id = :produto_id)
                AND (:categoria_id_null IS NULL OR p.categoria_id = :categoria_id)
                AND (:fornecedor_id_null IS NULL OR p.fornecedor_principal_id = :fornecedor_id)
            ORDER BY p.nome ASC;
        
Params:  6
Key: Name: [16] :produto_id_null
paramno=0
name=[16] ":produto_id_null"
is_param=1
param_type=0
Key: Name: [11] :produto_id
paramno=1
name=[11] ":produto_id"
is_param=1
param_type=0
Key: Name: [18] :categoria_id_null
paramno=2
name=[18] ":categoria_id_null"
is_param=1
param_type=0
Key: Name: [13] :categoria_id
paramno=3
name=[13] ":categoria_id"
is_param=1
param_type=0
Key: Name: [19] :fornecedor_id_null
paramno=4
name=[19] ":fornecedor_id_null"
is_param=1
param_type=0
Key: Name: [14] :fornecedor_id
paramno=5
name=[14] ":fornecedor_id"
is_param=1
param_type=0

[2025-09-07 20:16:20] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":3,":data_fim_a":null,":data_fim":null}
[2025-09-07 20:16:20] [DATABASE ERROR] Parâmetro associado: :produto_id = 3 (tipo: 1)
[2025-09-07 20:16:20] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-09-07 20:16:20] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-09-07 20:16:20] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-09-07 20:16:20] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":3}
[2025-09-07 20:16:20] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-07 20:16:20] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-07 20:16:20] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":1,":data_fim_a":null,":data_fim":null}
[2025-09-07 20:16:20] [DATABASE ERROR] Parâmetro associado: :produto_id = 1 (tipo: 1)
[2025-09-07 20:16:20] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-09-07 20:16:20] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-09-07 20:16:20] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-09-07 20:16:20] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":1}
[2025-09-07 20:16:20] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-09-07 20:16:20] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-07 20:16:20] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":2,":data_fim_a":null,":data_fim":null}
[2025-09-07 20:16:20] [DATABASE ERROR] Parâmetro associado: :produto_id = 2 (tipo: 1)
[2025-09-07 20:16:20] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-09-07 20:16:20] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-09-07 20:16:20] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-09-07 20:16:20] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":2}
[2025-09-07 20:16:20] [DATABASE ERROR] Parâmetro associado: :id = 2 (tipo: 1)
[2025-09-07 20:16:20] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-07 20:22:01] [DATABASE ERROR] Preparando query: SELECT SUM(estoque_atual) as total_estoque FROM produtos WHERE ativo = TRUE com parâmetros: []
[2025-09-07 20:22:01] [DATABASE ERROR] Debug PDO após binding: SQL: [75] SELECT SUM(estoque_atual) as total_estoque FROM produtos WHERE ativo = TRUE
Params:  0

[2025-09-07 20:22:01] [DATABASE ERROR] Preparando query: SELECT id FROM produtos WHERE ativo = TRUE com parâmetros: []
[2025-09-07 20:22:01] [DATABASE ERROR] Debug PDO após binding: SQL: [42] SELECT id FROM produtos WHERE ativo = TRUE
Params:  0

[2025-09-07 20:22:01] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":1,":data_fim_a":null,":data_fim":null}
[2025-09-07 20:22:01] [DATABASE ERROR] Parâmetro associado: :produto_id = 1 (tipo: 1)
[2025-09-07 20:22:01] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-09-07 20:22:01] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-09-07 20:22:01] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-09-07 20:22:01] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":1}
[2025-09-07 20:22:01] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-09-07 20:22:01] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-07 20:22:01] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":2,":data_fim_a":null,":data_fim":null}
[2025-09-07 20:22:01] [DATABASE ERROR] Parâmetro associado: :produto_id = 2 (tipo: 1)
[2025-09-07 20:22:01] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-09-07 20:22:01] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-09-07 20:22:01] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-09-07 20:22:01] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":2}
[2025-09-07 20:22:01] [DATABASE ERROR] Parâmetro associado: :id = 2 (tipo: 1)
[2025-09-07 20:22:01] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-07 20:22:01] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":3,":data_fim_a":null,":data_fim":null}
[2025-09-07 20:22:01] [DATABASE ERROR] Parâmetro associado: :produto_id = 3 (tipo: 1)
[2025-09-07 20:22:01] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-09-07 20:22:01] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-09-07 20:22:01] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-09-07 20:22:01] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":3}
[2025-09-07 20:22:01] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-07 20:22:01] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-07 20:22:01] [DATABASE ERROR] Preparando query: 
                SELECT 
                    DATE_FORMAT(m.data_movimentacao, '%Y-%m') as periodo,
                    tm.tipo,
                    SUM(mi.quantidade) as total_quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                WHERE m.status = 'PROCESSADO'
                    AND m.data_movimentacao >= DATE_SUB(CURDATE(), INTERVAL 6 MONTH)
                GROUP BY periodo, tm.tipo
                ORDER BY periodo ASC com parâmetros: []
[2025-09-07 20:22:01] [DATABASE ERROR] Debug PDO após binding: SQL: [593] 
                SELECT 
                    DATE_FORMAT(m.data_movimentacao, '%Y-%m') as periodo,
                    tm.tipo,
                    SUM(mi.quantidade) as total_quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                WHERE m.status = 'PROCESSADO'
                    AND m.data_movimentacao >= DATE_SUB(CURDATE(), INTERVAL 6 MONTH)
                GROUP BY periodo, tm.tipo
                ORDER BY periodo ASC
Params:  0

[2025-09-07 20:22:01] [DATABASE ERROR] Preparando query: SELECT id, codigo, nome, estoque_atual, estoque_minimo, categoria, fornecedor 
                    FROM vw_produtos_estoque_critico 
                    ORDER BY estoque_atual ASC 
                    LIMIT 10 com parâmetros: []
[2025-09-07 20:22:01] [DATABASE ERROR] Debug PDO após binding: SQL: [212] SELECT id, codigo, nome, estoque_atual, estoque_minimo, categoria, fornecedor 
                    FROM vw_produtos_estoque_critico 
                    ORDER BY estoque_atual ASC 
                    LIMIT 10
Params:  0

[2025-09-07 20:22:01] [DATABASE ERROR] Preparando query: SELECT id, tipo, categoria, documento_numero, data_movimentacao, valor_total, fornecedor, usuario 
                    FROM vw_movimentacoes_recentes 
                    ORDER BY data_movimentacao DESC 
                    LIMIT 10 com parâmetros: []
[2025-09-07 20:22:01] [DATABASE ERROR] Debug PDO após binding: SQL: [235] SELECT id, tipo, categoria, documento_numero, data_movimentacao, valor_total, fornecedor, usuario 
                    FROM vw_movimentacoes_recentes 
                    ORDER BY data_movimentacao DESC 
                    LIMIT 10
Params:  0

[2025-09-07 20:22:26] [DATABASE ERROR] Parâmetro associado: :alert_id = 18 (tipo: 1)
[2025-09-07 20:22:26] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-09-07 20:22:26] [DATABASE ERROR] Parâmetro associado: :tabela = alertas_estoque (tipo: 2)
[2025-09-07 20:22:26] [DATABASE ERROR] Parâmetro associado: :registro_id = 18 (tipo: 1)
[2025-09-07 20:22:26] [DATABASE ERROR] Parâmetro associado: :acao = alertas_estoque (tipo: 2)
[2025-09-07 20:22:26] [DATABASE ERROR] Parâmetro associado: :dados_anteriores = "UPDATE" (tipo: 2)
[2025-09-07 20:22:26] [DATABASE ERROR] Parâmetro associado: :dados_novos = {"lido":false} (tipo: 2)
[2025-09-07 20:22:26] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-09-07 20:22:26] [DATABASE ERROR] Parâmetro associado: :ip_address = ::1 (tipo: 2)
[2025-09-07 20:22:26] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 Edg/140.0.0.0 (tipo: 2)
[2025-09-07 20:23:07] [DATABASE ERROR] Preparando query: SELECT u.id, u.nome_completo, u.email, u.usuario, 
                       u.ativo, u.ultimo_acesso, u.criado_em,
                       p.nome as perfil_nome 
                FROM usuarios u 
                JOIN perfis p ON u.perfil_id = p.id ORDER BY u.nome_completo com parâmetros: []
[2025-09-07 20:23:07] [DATABASE ERROR] Debug PDO após binding: SQL: [268] SELECT u.id, u.nome_completo, u.email, u.usuario, 
                       u.ativo, u.ultimo_acesso, u.criado_em,
                       p.nome as perfil_nome 
                FROM usuarios u 
                JOIN perfis p ON u.perfil_id = p.id ORDER BY u.nome_completo
Params:  0

[2025-09-07 20:23:09] [DATABASE ERROR] Preparando query: SELECT 
                    a.id, a.tabela, a.registro_id, a.acao, a.dados_anteriores, a.dados_novos,
                    u.nome_completo AS usuario, a.ip_address, a.user_agent, a.criado_em
                FROM auditoria a
                LEFT JOIN usuarios u ON a.usuario_id = u.id
                WHERE 1=1 ORDER BY a.criado_em DESC LIMIT 100 com parâmetros: []
[2025-09-07 20:23:09] [DATABASE ERROR] Debug PDO após binding: SQL: [349] SELECT 
                    a.id, a.tabela, a.registro_id, a.acao, a.dados_anteriores, a.dados_novos,
                    u.nome_completo AS usuario, a.ip_address, a.user_agent, a.criado_em
                FROM auditoria a
                LEFT JOIN usuarios u ON a.usuario_id = u.id
                WHERE 1=1 ORDER BY a.criado_em DESC LIMIT 100
Params:  0

[2025-09-07 20:24:22] [DATABASE ERROR] Preparando query: SELECT 
                    a.id, a.tabela, a.registro_id, a.acao, a.dados_anteriores, a.dados_novos,
                    u.nome_completo AS usuario, a.ip_address, a.user_agent, a.criado_em
                FROM auditoria a
                LEFT JOIN usuarios u ON a.usuario_id = u.id
                WHERE 1=1 ORDER BY a.criado_em DESC LIMIT 100 com parâmetros: []
[2025-09-07 20:24:22] [DATABASE ERROR] Debug PDO após binding: SQL: [349] SELECT 
                    a.id, a.tabela, a.registro_id, a.acao, a.dados_anteriores, a.dados_novos,
                    u.nome_completo AS usuario, a.ip_address, a.user_agent, a.criado_em
                FROM auditoria a
                LEFT JOIN usuarios u ON a.usuario_id = u.id
                WHERE 1=1 ORDER BY a.criado_em DESC LIMIT 100
Params:  0

[2025-09-07 20:24:29] [DATABASE ERROR] Preparando query: SELECT * FROM categorias WHERE ativo = :value com parâmetros: {":value":1}
[2025-09-07 20:24:29] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-09-07 20:24:29] [DATABASE ERROR] Debug PDO após binding: SQL: [45] SELECT * FROM categorias WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-09-07 20:24:34] [DATABASE ERROR] Preparando query: SELECT SUM(estoque_atual) as total_estoque FROM produtos WHERE ativo = TRUE com parâmetros: []
[2025-09-07 20:24:34] [DATABASE ERROR] Debug PDO após binding: SQL: [75] SELECT SUM(estoque_atual) as total_estoque FROM produtos WHERE ativo = TRUE
Params:  0

[2025-09-07 20:24:34] [DATABASE ERROR] Preparando query: SELECT id FROM produtos WHERE ativo = TRUE com parâmetros: []
[2025-09-07 20:24:34] [DATABASE ERROR] Debug PDO após binding: SQL: [42] SELECT id FROM produtos WHERE ativo = TRUE
Params:  0

[2025-09-07 20:24:34] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":1,":data_fim_a":null,":data_fim":null}
[2025-09-07 20:24:34] [DATABASE ERROR] Parâmetro associado: :produto_id = 1 (tipo: 1)
[2025-09-07 20:24:34] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-09-07 20:24:34] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-09-07 20:24:34] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-09-07 20:24:34] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":1}
[2025-09-07 20:24:34] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-09-07 20:24:34] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-07 20:24:34] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":2,":data_fim_a":null,":data_fim":null}
[2025-09-07 20:24:34] [DATABASE ERROR] Parâmetro associado: :produto_id = 2 (tipo: 1)
[2025-09-07 20:24:34] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-09-07 20:24:34] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-09-07 20:24:34] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-09-07 20:24:34] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":2}
[2025-09-07 20:24:34] [DATABASE ERROR] Parâmetro associado: :id = 2 (tipo: 1)
[2025-09-07 20:24:34] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-07 20:24:34] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":3,":data_fim_a":null,":data_fim":null}
[2025-09-07 20:24:34] [DATABASE ERROR] Parâmetro associado: :produto_id = 3 (tipo: 1)
[2025-09-07 20:24:34] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-09-07 20:24:34] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-09-07 20:24:34] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-09-07 20:24:34] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":3}
[2025-09-07 20:24:34] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-09-07 20:24:34] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-09-07 20:24:34] [DATABASE ERROR] Preparando query: SELECT id, codigo, nome, estoque_atual, estoque_minimo, categoria, fornecedor 
                    FROM vw_produtos_estoque_critico 
                    ORDER BY estoque_atual ASC 
                    LIMIT 10 com parâmetros: []
[2025-09-07 20:24:34] [DATABASE ERROR] Debug PDO após binding: SQL: [212] SELECT id, codigo, nome, estoque_atual, estoque_minimo, categoria, fornecedor 
                    FROM vw_produtos_estoque_critico 
                    ORDER BY estoque_atual ASC 
                    LIMIT 10
Params:  0

[2025-09-07 20:24:34] [DATABASE ERROR] Preparando query: 
                SELECT 
                    DATE_FORMAT(m.data_movimentacao, '%Y-%m') as periodo,
                    tm.tipo,
                    SUM(mi.quantidade) as total_quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                WHERE m.status = 'PROCESSADO'
                    AND m.data_movimentacao >= DATE_SUB(CURDATE(), INTERVAL 6 MONTH)
                GROUP BY periodo, tm.tipo
                ORDER BY periodo ASC com parâmetros: []
[2025-09-07 20:24:34] [DATABASE ERROR] Debug PDO após binding: SQL: [593] 
                SELECT 
                    DATE_FORMAT(m.data_movimentacao, '%Y-%m') as periodo,
                    tm.tipo,
                    SUM(mi.quantidade) as total_quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                WHERE m.status = 'PROCESSADO'
                    AND m.data_movimentacao >= DATE_SUB(CURDATE(), INTERVAL 6 MONTH)
                GROUP BY periodo, tm.tipo
                ORDER BY periodo ASC
Params:  0

[2025-09-07 20:24:34] [DATABASE ERROR] Preparando query: SELECT id, tipo, categoria, documento_numero, data_movimentacao, valor_total, fornecedor, usuario 
                    FROM vw_movimentacoes_recentes 
                    ORDER BY data_movimentacao DESC 
                    LIMIT 10 com parâmetros: []
[2025-09-07 20:24:34] [DATABASE ERROR] Debug PDO após binding: SQL: [235] SELECT id, tipo, categoria, documento_numero, data_movimentacao, valor_total, fornecedor, usuario 
                    FROM vw_movimentacoes_recentes 
                    ORDER BY data_movimentacao DESC 
                    LIMIT 10
Params:  0

[2025-10-14 16:13:30] [DATABASE ERROR] Parâmetro associado: :username = flavio (tipo: 2)
[2025-10-14 16:13:30] [DATABASE ERROR] Parâmetro associado: :email = flavio (tipo: 2)
[2025-10-14 16:13:44] [DATABASE ERROR] Parâmetro associado: :username = flavio (tipo: 2)
[2025-10-14 16:13:44] [DATABASE ERROR] Parâmetro associado: :email = flavio (tipo: 2)
[2025-10-14 16:13:56] [DATABASE ERROR] Parâmetro associado: :username = flavio (tipo: 2)
[2025-10-14 16:13:56] [DATABASE ERROR] Parâmetro associado: :email = flavio (tipo: 2)
[2025-10-14 16:14:05] [DATABASE ERROR] Parâmetro associado: :username = flavio (tipo: 2)
[2025-10-14 16:14:05] [DATABASE ERROR] Parâmetro associado: :email = flavio (tipo: 2)
[2025-10-14 16:14:13] [DATABASE ERROR] Parâmetro associado: :username = flavio (tipo: 2)
[2025-10-14 16:14:13] [DATABASE ERROR] Parâmetro associado: :email = flavio (tipo: 2)
[2025-10-14 16:16:09] [DATABASE ERROR] Parâmetro associado: :username = Flávio (tipo: 2)
[2025-10-14 16:16:09] [DATABASE ERROR] Parâmetro associado: :email = Flávio (tipo: 2)
[2025-10-14 16:16:18] [DATABASE ERROR] Parâmetro associado: :username = Flávio (tipo: 2)
[2025-10-14 16:16:18] [DATABASE ERROR] Parâmetro associado: :email = Flávio (tipo: 2)
[2025-10-14 16:16:34] [DATABASE ERROR] Parâmetro associado: :username = Flávio (tipo: 2)
[2025-10-14 16:16:34] [DATABASE ERROR] Parâmetro associado: :email = Flávio (tipo: 2)
[2025-10-14 16:17:58] [DATABASE ERROR] Parâmetro associado: :username = Flávio (tipo: 2)
[2025-10-14 16:17:58] [DATABASE ERROR] Parâmetro associado: :email = Flávio (tipo: 2)
[2025-10-14 16:18:20] [DATABASE ERROR] Parâmetro associado: :username = Flávio (tipo: 2)
[2025-10-14 16:18:20] [DATABASE ERROR] Parâmetro associado: :email = Flávio (tipo: 2)
[2025-10-14 16:23:01] [DATABASE ERROR] Parâmetro associado: :username = Flávio (tipo: 2)
[2025-10-14 16:23:01] [DATABASE ERROR] Parâmetro associado: :email = Flávio (tipo: 2)
[2025-10-14 16:23:36] [DATABASE ERROR] Parâmetro associado: :username = Flávio (tipo: 2)
[2025-10-14 16:23:36] [DATABASE ERROR] Parâmetro associado: :email = Flávio (tipo: 2)
[2025-10-14 16:24:36] [DATABASE ERROR] Parâmetro associado: :username = admin (tipo: 2)
[2025-10-14 16:24:36] [DATABASE ERROR] Parâmetro associado: :email = admin (tipo: 2)
[2025-10-14 16:24:36] [DATABASE ERROR] Preparando query: UPDATE usuarios SET ultimo_acesso = NOW() WHERE id = :id com parâmetros: {":id":1}
[2025-10-14 16:24:36] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-10-14 16:24:36] [DATABASE ERROR] Debug PDO após binding: SQL: [56] UPDATE usuarios SET ultimo_acesso = NOW() WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-14 16:24:36] [DATABASE ERROR] Parâmetro associado: :tabela = usuarios (tipo: 2)
[2025-10-14 16:24:36] [DATABASE ERROR] Parâmetro associado: :registro_id = 1 (tipo: 1)
[2025-10-14 16:24:36] [DATABASE ERROR] Parâmetro associado: :acao = LOGIN (tipo: 2)
[2025-10-14 16:24:36] [DATABASE ERROR] Parâmetro associado: :dados_anteriores = NULL (tipo: 0)
[2025-10-14 16:24:36] [DATABASE ERROR] Parâmetro associado: :dados_novos = NULL (tipo: 0)
[2025-10-14 16:24:36] [DATABASE ERROR] Parâmetro associado: :usuario_id = NULL (tipo: 0)
[2025-10-14 16:24:36] [DATABASE ERROR] Parâmetro associado: :ip_address = ::1 (tipo: 2)
[2025-10-14 16:24:36] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36 Edg/141.0.0.0 (tipo: 2)
[2025-10-14 16:24:36] [DATABASE ERROR] Parâmetro associado: :id = l5lvdsul367dcuqhm4gu1geqvk (tipo: 2)
[2025-10-14 16:24:36] [DATABASE ERROR] Parâmetro associado: :id = l5lvdsul367dcuqhm4gu1geqvk (tipo: 2)
[2025-10-14 16:24:36] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-10-14 16:24:36] [DATABASE ERROR] Parâmetro associado: :ip_address = ::1 (tipo: 2)
[2025-10-14 16:24:36] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36 Edg/141.0.0.0 (tipo: 2)
[2025-10-14 16:24:36] [DATABASE ERROR] Parâmetro associado: :dados = {"user_id":1,"user_name":"Administrador do Sistema","user_email":"flavioafj@yahoo.com.br","user_profile":1,"user_profile_name":"Administrador","logged_in":true,"login_time":1760469876} (tipo: 2)
[2025-10-14 16:24:38] [DATABASE ERROR] Preparando query: SELECT SUM(estoque_atual) as total_estoque FROM produtos WHERE ativo = TRUE com parâmetros: []
[2025-10-14 16:24:38] [DATABASE ERROR] Debug PDO após binding: SQL: [75] SELECT SUM(estoque_atual) as total_estoque FROM produtos WHERE ativo = TRUE
Params:  0

[2025-10-14 16:24:38] [DATABASE ERROR] Preparando query: SELECT id FROM produtos WHERE ativo = TRUE com parâmetros: []
[2025-10-14 16:24:38] [DATABASE ERROR] Debug PDO após binding: SQL: [42] SELECT id FROM produtos WHERE ativo = TRUE
Params:  0

[2025-10-14 16:24:38] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":1,":data_fim_a":null,":data_fim":null}
[2025-10-14 16:24:38] [DATABASE ERROR] Parâmetro associado: :produto_id = 1 (tipo: 1)
[2025-10-14 16:24:38] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-10-14 16:24:38] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-10-14 16:24:38] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-10-14 16:24:38] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":1}
[2025-10-14 16:24:38] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-10-14 16:24:38] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-14 16:24:38] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":2,":data_fim_a":null,":data_fim":null}
[2025-10-14 16:24:38] [DATABASE ERROR] Parâmetro associado: :produto_id = 2 (tipo: 1)
[2025-10-14 16:24:38] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-10-14 16:24:38] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-10-14 16:24:38] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-10-14 16:24:38] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":2}
[2025-10-14 16:24:38] [DATABASE ERROR] Parâmetro associado: :id = 2 (tipo: 1)
[2025-10-14 16:24:38] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-14 16:24:38] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":3,":data_fim_a":null,":data_fim":null}
[2025-10-14 16:24:38] [DATABASE ERROR] Parâmetro associado: :produto_id = 3 (tipo: 1)
[2025-10-14 16:24:38] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-10-14 16:24:38] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-10-14 16:24:38] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-10-14 16:24:38] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":3}
[2025-10-14 16:24:38] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-10-14 16:24:38] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-14 16:24:38] [DATABASE ERROR] Preparando query: SELECT id, codigo, nome, estoque_atual, estoque_minimo, categoria, fornecedor 
                    FROM vw_produtos_estoque_critico 
                    ORDER BY estoque_atual ASC 
                    LIMIT 10 com parâmetros: []
[2025-10-14 16:24:38] [DATABASE ERROR] Debug PDO após binding: SQL: [212] SELECT id, codigo, nome, estoque_atual, estoque_minimo, categoria, fornecedor 
                    FROM vw_produtos_estoque_critico 
                    ORDER BY estoque_atual ASC 
                    LIMIT 10
Params:  0

[2025-10-14 16:24:38] [DATABASE ERROR] Preparando query: SELECT id, tipo, categoria, documento_numero, data_movimentacao, valor_total, fornecedor, usuario 
                    FROM vw_movimentacoes_recentes 
                    ORDER BY data_movimentacao DESC 
                    LIMIT 10 com parâmetros: []
[2025-10-14 16:24:38] [DATABASE ERROR] Debug PDO após binding: SQL: [235] SELECT id, tipo, categoria, documento_numero, data_movimentacao, valor_total, fornecedor, usuario 
                    FROM vw_movimentacoes_recentes 
                    ORDER BY data_movimentacao DESC 
                    LIMIT 10
Params:  0

[2025-10-14 16:24:38] [DATABASE ERROR] Preparando query: 
                SELECT 
                    DATE_FORMAT(m.data_movimentacao, '%Y-%m') as periodo,
                    tm.tipo,
                    SUM(mi.quantidade) as total_quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                WHERE m.status = 'PROCESSADO'
                    AND m.data_movimentacao >= DATE_SUB(CURDATE(), INTERVAL 6 MONTH)
                GROUP BY periodo, tm.tipo
                ORDER BY periodo ASC com parâmetros: []
[2025-10-14 16:24:38] [DATABASE ERROR] Debug PDO após binding: SQL: [593] 
                SELECT 
                    DATE_FORMAT(m.data_movimentacao, '%Y-%m') as periodo,
                    tm.tipo,
                    SUM(mi.quantidade) as total_quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                WHERE m.status = 'PROCESSADO'
                    AND m.data_movimentacao >= DATE_SUB(CURDATE(), INTERVAL 6 MONTH)
                GROUP BY periodo, tm.tipo
                ORDER BY periodo ASC
Params:  0

[2025-10-14 16:24:52] [DATABASE ERROR] Preparando query: SELECT * FROM produtos WHERE ativo = :value com parâmetros: {":value":1}
[2025-10-14 16:24:52] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-10-14 16:24:52] [DATABASE ERROR] Debug PDO após binding: SQL: [43] SELECT * FROM produtos WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-10-14 16:24:52] [DATABASE ERROR] Preparando query: SELECT * FROM categorias WHERE ativo = :value com parâmetros: {":value":1}
[2025-10-14 16:24:52] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-10-14 16:24:52] [DATABASE ERROR] Debug PDO após binding: SQL: [45] SELECT * FROM categorias WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-10-14 16:24:52] [DATABASE ERROR] Preparando query: SELECT * FROM categorias WHERE ativo = :value com parâmetros: {":value":1}
[2025-10-14 16:24:52] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-10-14 16:24:52] [DATABASE ERROR] Debug PDO após binding: SQL: [45] SELECT * FROM categorias WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-10-14 16:24:52] [DATABASE ERROR] Preparando query: SELECT * FROM unidades_medida com parâmetros: []
[2025-10-14 16:24:52] [DATABASE ERROR] Debug PDO após binding: SQL: [29] SELECT * FROM unidades_medida
Params:  0

[2025-10-14 16:24:52] [DATABASE ERROR] Preparando query: SELECT * FROM fornecedores WHERE ativo = :value com parâmetros: {":value":1}
[2025-10-14 16:24:52] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-10-14 16:24:52] [DATABASE ERROR] Debug PDO após binding: SQL: [47] SELECT * FROM fornecedores WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-10-14 16:24:52] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-10-14 16:24:52] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-10-14 16:24:52] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-10-14 16:25:33] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-10-14 16:25:34] [DATABASE ERROR] Preparando query: 
                SELECT 
                    DATE_FORMAT(m.data_movimentacao, '%Y-%m') as periodo,
                    tm.tipo,
                    SUM(mi.quantidade) as total_quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                WHERE m.status = 'PROCESSADO'
                    AND mi.produto_id = :product_id
                    AND m.data_movimentacao BETWEEN :start_date AND :end_date
                GROUP BY periodo, tm.tipo
                ORDER BY periodo ASC com parâmetros: {":product_id":"1",":start_date":"2025-04-14",":end_date":"2025-10-14"}
[2025-10-14 16:25:34] [DATABASE ERROR] Parâmetro associado: :product_id = 1 (tipo: 2)
[2025-10-14 16:25:34] [DATABASE ERROR] Parâmetro associado: :start_date = 2025-04-14 (tipo: 2)
[2025-10-14 16:25:34] [DATABASE ERROR] Parâmetro associado: :end_date = 2025-10-14 (tipo: 2)
[2025-10-14 16:25:34] [DATABASE ERROR] Debug PDO após binding: SQL: [639] 
                SELECT 
                    DATE_FORMAT(m.data_movimentacao, '%Y-%m') as periodo,
                    tm.tipo,
                    SUM(mi.quantidade) as total_quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                WHERE m.status = 'PROCESSADO'
                    AND mi.produto_id = :product_id
                    AND m.data_movimentacao BETWEEN :start_date AND :end_date
                GROUP BY periodo, tm.tipo
                ORDER BY periodo ASC
Params:  3
Key: Name: [11] :product_id
paramno=0
name=[11] ":product_id"
is_param=1
param_type=2
Key: Name: [11] :start_date
paramno=1
name=[11] ":start_date"
is_param=1
param_type=2
Key: Name: [9] :end_date
paramno=2
name=[9] ":end_date"
is_param=1
param_type=2

[2025-10-14 16:25:34] [DATABASE ERROR] Preparando query: 
                SELECT m.documento_numero, m.data_movimentacao, u.nome_completo as usuario, mi.quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                JOIN usuarios u ON m.usuario_id = u.id
                WHERE tm.tipo = 'ENTRADA' 
                    AND mi.produto_id = :product_id
                    AND m.data_movimentacao BETWEEN :start_date AND :end_date
                ORDER BY m.data_movimentacao DESC com parâmetros: {":product_id":"1",":start_date":"2025-04-14",":end_date":"2025-10-14"}
[2025-10-14 16:25:34] [DATABASE ERROR] Parâmetro associado: :product_id = 1 (tipo: 2)
[2025-10-14 16:25:34] [DATABASE ERROR] Parâmetro associado: :start_date = 2025-04-14 (tipo: 2)
[2025-10-14 16:25:34] [DATABASE ERROR] Parâmetro associado: :end_date = 2025-10-14 (tipo: 2)
[2025-10-14 16:25:34] [DATABASE ERROR] Debug PDO após binding: SQL: [579] 
                SELECT m.documento_numero, m.data_movimentacao, u.nome_completo as usuario, mi.quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                JOIN usuarios u ON m.usuario_id = u.id
                WHERE tm.tipo = 'ENTRADA' 
                    AND mi.produto_id = :product_id
                    AND m.data_movimentacao BETWEEN :start_date AND :end_date
                ORDER BY m.data_movimentacao DESC
Params:  3
Key: Name: [11] :product_id
paramno=0
name=[11] ":product_id"
is_param=1
param_type=2
Key: Name: [11] :start_date
paramno=1
name=[11] ":start_date"
is_param=1
param_type=2
Key: Name: [9] :end_date
paramno=2
name=[9] ":end_date"
is_param=1
param_type=2

[2025-10-14 16:25:34] [DATABASE ERROR] Preparando query: 
                SELECT m.documento_numero, m.data_movimentacao, u.nome_completo as usuario, mi.quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                JOIN usuarios u ON m.usuario_id = u.id
                WHERE tm.tipo = 'SAIDA' 
                    AND mi.produto_id = :product_id
                    AND m.data_movimentacao BETWEEN :start_date AND :end_date
                ORDER BY m.data_movimentacao DESC com parâmetros: {":product_id":"1",":start_date":"2025-04-14",":end_date":"2025-10-14"}
[2025-10-14 16:25:34] [DATABASE ERROR] Parâmetro associado: :product_id = 1 (tipo: 2)
[2025-10-14 16:25:34] [DATABASE ERROR] Parâmetro associado: :start_date = 2025-04-14 (tipo: 2)
[2025-10-14 16:25:34] [DATABASE ERROR] Parâmetro associado: :end_date = 2025-10-14 (tipo: 2)
[2025-10-14 16:25:34] [DATABASE ERROR] Debug PDO após binding: SQL: [577] 
                SELECT m.documento_numero, m.data_movimentacao, u.nome_completo as usuario, mi.quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                JOIN usuarios u ON m.usuario_id = u.id
                WHERE tm.tipo = 'SAIDA' 
                    AND mi.produto_id = :product_id
                    AND m.data_movimentacao BETWEEN :start_date AND :end_date
                ORDER BY m.data_movimentacao DESC
Params:  3
Key: Name: [11] :product_id
paramno=0
name=[11] ":product_id"
is_param=1
param_type=2
Key: Name: [11] :start_date
paramno=1
name=[11] ":start_date"
is_param=1
param_type=2
Key: Name: [9] :end_date
paramno=2
name=[9] ":end_date"
is_param=1
param_type=2

[2025-10-14 16:25:46] [DATABASE ERROR] Preparando query: SELECT * FROM categorias WHERE ativo = :value com parâmetros: {":value":1}
[2025-10-14 16:25:46] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-10-14 16:25:46] [DATABASE ERROR] Debug PDO após binding: SQL: [45] SELECT * FROM categorias WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-10-14 16:25:46] [DATABASE ERROR] Preparando query: SELECT * FROM fornecedores WHERE ativo = :value com parâmetros: {":value":1}
[2025-10-14 16:25:46] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-10-14 16:25:46] [DATABASE ERROR] Debug PDO após binding: SQL: [47] SELECT * FROM fornecedores WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-10-14 16:25:46] [DATABASE ERROR] Preparando query: SELECT * FROM tipos_movimentacao com parâmetros: []
[2025-10-14 16:25:46] [DATABASE ERROR] Debug PDO após binding: SQL: [32] SELECT * FROM tipos_movimentacao
Params:  0

[2025-10-14 16:25:50] [DATABASE ERROR] Preparando query: SELECT * FROM produtos WHERE ativo = :value com parâmetros: {":value":1}
[2025-10-14 16:25:50] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-10-14 16:25:50] [DATABASE ERROR] Debug PDO após binding: SQL: [43] SELECT * FROM produtos WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-10-14 16:25:50] [DATABASE ERROR] Preparando query: SELECT * FROM categorias WHERE ativo = :value com parâmetros: {":value":1}
[2025-10-14 16:25:50] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-10-14 16:25:50] [DATABASE ERROR] Debug PDO após binding: SQL: [45] SELECT * FROM categorias WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-10-14 16:25:50] [DATABASE ERROR] Preparando query: SELECT * FROM categorias WHERE ativo = :value com parâmetros: {":value":1}
[2025-10-14 16:25:50] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-10-14 16:25:50] [DATABASE ERROR] Debug PDO após binding: SQL: [45] SELECT * FROM categorias WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-10-14 16:25:50] [DATABASE ERROR] Preparando query: SELECT * FROM unidades_medida com parâmetros: []
[2025-10-14 16:25:50] [DATABASE ERROR] Debug PDO após binding: SQL: [29] SELECT * FROM unidades_medida
Params:  0

[2025-10-14 16:25:50] [DATABASE ERROR] Preparando query: SELECT * FROM fornecedores WHERE ativo = :value com parâmetros: {":value":1}
[2025-10-14 16:25:50] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-10-14 16:25:50] [DATABASE ERROR] Debug PDO após binding: SQL: [47] SELECT * FROM fornecedores WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-10-14 16:25:50] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-10-14 16:25:50] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-10-14 16:25:50] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-10-14 16:28:21] [DATABASE ERROR] Parâmetro associado: :user_id = 1 (tipo: 1)
[2025-10-14 16:28:21] [DATABASE ERROR] Parâmetro associado: :tabela = usuarios (tipo: 2)
[2025-10-14 16:28:21] [DATABASE ERROR] Parâmetro associado: :registro_id = NULL (tipo: 0)
[2025-10-14 16:28:21] [DATABASE ERROR] Parâmetro associado: :acao = LOGOUT (tipo: 2)
[2025-10-14 16:28:21] [DATABASE ERROR] Parâmetro associado: :dados_anteriores = NULL (tipo: 0)
[2025-10-14 16:28:21] [DATABASE ERROR] Parâmetro associado: :dados_novos = NULL (tipo: 0)
[2025-10-14 16:28:21] [DATABASE ERROR] Parâmetro associado: :usuario_id = NULL (tipo: 0)
[2025-10-14 16:28:21] [DATABASE ERROR] Parâmetro associado: :ip_address = ::1 (tipo: 2)
[2025-10-14 16:28:21] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36 Edg/141.0.0.0 (tipo: 2)
[2025-10-14 16:28:21] [DATABASE ERROR] Erro ao executar query: SQLSTATE[23000]: Integrity constraint violation: 1048 Column 'registro_id' cannot be null
[2025-10-14 16:28:32] [DATABASE ERROR] Parâmetro associado: :username = Flávio (tipo: 2)
[2025-10-14 16:28:32] [DATABASE ERROR] Parâmetro associado: :email = Flávio (tipo: 2)
[2025-10-14 16:29:06] [DATABASE ERROR] Parâmetro associado: :username = flavio (tipo: 2)
[2025-10-14 16:29:06] [DATABASE ERROR] Parâmetro associado: :email = flavio (tipo: 2)
[2025-10-14 16:36:22] [DATABASE ERROR] Parâmetro associado: :username = flavio (tipo: 2)
[2025-10-14 16:36:22] [DATABASE ERROR] Parâmetro associado: :email = flavio (tipo: 2)
[2025-10-14 16:36:59] [DATABASE ERROR] Parâmetro associado: :username = flavio (tipo: 2)
[2025-10-14 16:36:59] [DATABASE ERROR] Parâmetro associado: :email = flavio (tipo: 2)
[2025-10-14 16:38:11] [DATABASE ERROR] Parâmetro associado: :username = flavio (tipo: 2)
[2025-10-14 16:38:11] [DATABASE ERROR] Parâmetro associado: :email = flavio (tipo: 2)
[2025-10-14 16:38:12] [DATABASE ERROR] Preparando query: UPDATE usuarios SET ultimo_acesso = NOW() WHERE id = :id com parâmetros: {":id":2}
[2025-10-14 16:38:12] [DATABASE ERROR] Parâmetro associado: :id = 2 (tipo: 1)
[2025-10-14 16:38:12] [DATABASE ERROR] Debug PDO após binding: SQL: [56] UPDATE usuarios SET ultimo_acesso = NOW() WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-14 16:38:12] [DATABASE ERROR] Parâmetro associado: :tabela = usuarios (tipo: 2)
[2025-10-14 16:38:12] [DATABASE ERROR] Parâmetro associado: :registro_id = 2 (tipo: 1)
[2025-10-14 16:38:12] [DATABASE ERROR] Parâmetro associado: :acao = LOGIN (tipo: 2)
[2025-10-14 16:38:12] [DATABASE ERROR] Parâmetro associado: :dados_anteriores = NULL (tipo: 0)
[2025-10-14 16:38:12] [DATABASE ERROR] Parâmetro associado: :dados_novos = NULL (tipo: 0)
[2025-10-14 16:38:12] [DATABASE ERROR] Parâmetro associado: :usuario_id = NULL (tipo: 0)
[2025-10-14 16:38:12] [DATABASE ERROR] Parâmetro associado: :ip_address = ::1 (tipo: 2)
[2025-10-14 16:38:12] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36 Edg/141.0.0.0 (tipo: 2)
[2025-10-14 16:38:12] [DATABASE ERROR] Parâmetro associado: :id = 8t77vqifn1s7endki2ms84187q (tipo: 2)
[2025-10-14 16:38:12] [DATABASE ERROR] Parâmetro associado: :id = 8t77vqifn1s7endki2ms84187q (tipo: 2)
[2025-10-14 16:38:12] [DATABASE ERROR] Parâmetro associado: :usuario_id = 2 (tipo: 1)
[2025-10-14 16:38:12] [DATABASE ERROR] Parâmetro associado: :ip_address = ::1 (tipo: 2)
[2025-10-14 16:38:12] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36 Edg/141.0.0.0 (tipo: 2)
[2025-10-14 16:38:12] [DATABASE ERROR] Parâmetro associado: :dados = {"user_id":2,"user_name":"Fl\u00e1vio","user_email":"flavioafj2@yahoo.com.br","user_profile":2,"user_profile_name":"Operador","logged_in":true,"login_time":1760470692} (tipo: 2)
[2025-10-14 17:30:10] [DATABASE ERROR] Erro de conexão: SQLSTATE[HY000] [2002] Nenhuma conexão pôde ser feita porque a máquina de destino as recusou ativamente
[2025-10-14 17:30:20] [DATABASE ERROR] Parâmetro associado: :user_id = 2 (tipo: 1)
[2025-10-14 17:30:20] [DATABASE ERROR] Parâmetro associado: :tabela = usuarios (tipo: 2)
[2025-10-14 17:30:20] [DATABASE ERROR] Parâmetro associado: :registro_id = NULL (tipo: 0)
[2025-10-14 17:30:20] [DATABASE ERROR] Parâmetro associado: :acao = LOGOUT (tipo: 2)
[2025-10-14 17:30:20] [DATABASE ERROR] Parâmetro associado: :dados_anteriores = NULL (tipo: 0)
[2025-10-14 17:30:20] [DATABASE ERROR] Parâmetro associado: :dados_novos = NULL (tipo: 0)
[2025-10-14 17:30:20] [DATABASE ERROR] Parâmetro associado: :usuario_id = NULL (tipo: 0)
[2025-10-14 17:30:20] [DATABASE ERROR] Parâmetro associado: :ip_address = ::1 (tipo: 2)
[2025-10-14 17:30:20] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 (tipo: 2)
[2025-10-14 17:30:20] [DATABASE ERROR] Erro ao executar query: SQLSTATE[23000]: Integrity constraint violation: 1048 Column 'registro_id' cannot be null
[2025-10-14 17:30:26] [DATABASE ERROR] Parâmetro associado: :username = flavio (tipo: 2)
[2025-10-14 17:30:26] [DATABASE ERROR] Parâmetro associado: :email = flavio (tipo: 2)
[2025-10-14 17:30:26] [DATABASE ERROR] Preparando query: UPDATE usuarios SET ultimo_acesso = NOW() WHERE id = :id com parâmetros: {":id":2}
[2025-10-14 17:30:26] [DATABASE ERROR] Parâmetro associado: :id = 2 (tipo: 1)
[2025-10-14 17:30:26] [DATABASE ERROR] Debug PDO após binding: SQL: [56] UPDATE usuarios SET ultimo_acesso = NOW() WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-14 17:30:26] [DATABASE ERROR] Parâmetro associado: :tabela = usuarios (tipo: 2)
[2025-10-14 17:30:26] [DATABASE ERROR] Parâmetro associado: :registro_id = 2 (tipo: 1)
[2025-10-14 17:30:26] [DATABASE ERROR] Parâmetro associado: :acao = LOGIN (tipo: 2)
[2025-10-14 17:30:26] [DATABASE ERROR] Parâmetro associado: :dados_anteriores = NULL (tipo: 0)
[2025-10-14 17:30:26] [DATABASE ERROR] Parâmetro associado: :dados_novos = NULL (tipo: 0)
[2025-10-14 17:30:26] [DATABASE ERROR] Parâmetro associado: :usuario_id = NULL (tipo: 0)
[2025-10-14 17:30:26] [DATABASE ERROR] Parâmetro associado: :ip_address = ::1 (tipo: 2)
[2025-10-14 17:30:26] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 (tipo: 2)
[2025-10-14 17:30:26] [DATABASE ERROR] Parâmetro associado: :id = artnkmn4lrtv38faa1k5he7aqm (tipo: 2)
[2025-10-14 17:30:26] [DATABASE ERROR] Parâmetro associado: :id = artnkmn4lrtv38faa1k5he7aqm (tipo: 2)
[2025-10-14 17:30:26] [DATABASE ERROR] Parâmetro associado: :usuario_id = 2 (tipo: 1)
[2025-10-14 17:30:26] [DATABASE ERROR] Parâmetro associado: :ip_address = ::1 (tipo: 2)
[2025-10-14 17:30:26] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 (tipo: 2)
[2025-10-14 17:30:26] [DATABASE ERROR] Parâmetro associado: :dados = {"user_id":2,"user_name":"Fl\u00e1vio Alves","user_email":"flavioafj@yahoo.com.br","user_profile":2,"user_profile_name":"Operador","logged_in":true,"login_time":1760473826} (tipo: 2)
[2025-10-14 17:30:53] [DATABASE ERROR] Parâmetro associado: :user_id = 2 (tipo: 1)
[2025-10-14 17:30:53] [DATABASE ERROR] Parâmetro associado: :tabela = usuarios (tipo: 2)
[2025-10-14 17:30:53] [DATABASE ERROR] Parâmetro associado: :registro_id = NULL (tipo: 0)
[2025-10-14 17:30:53] [DATABASE ERROR] Parâmetro associado: :acao = LOGOUT (tipo: 2)
[2025-10-14 17:30:53] [DATABASE ERROR] Parâmetro associado: :dados_anteriores = NULL (tipo: 0)
[2025-10-14 17:30:53] [DATABASE ERROR] Parâmetro associado: :dados_novos = NULL (tipo: 0)
[2025-10-14 17:30:53] [DATABASE ERROR] Parâmetro associado: :usuario_id = NULL (tipo: 0)
[2025-10-14 17:30:53] [DATABASE ERROR] Parâmetro associado: :ip_address = ::1 (tipo: 2)
[2025-10-14 17:30:53] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 (tipo: 2)
[2025-10-14 17:30:53] [DATABASE ERROR] Erro ao executar query: SQLSTATE[23000]: Integrity constraint violation: 1048 Column 'registro_id' cannot be null
[2025-10-14 17:30:59] [DATABASE ERROR] Parâmetro associado: :username = admin (tipo: 2)
[2025-10-14 17:30:59] [DATABASE ERROR] Parâmetro associado: :email = admin (tipo: 2)
[2025-10-14 17:30:59] [DATABASE ERROR] Preparando query: UPDATE usuarios SET ultimo_acesso = NOW() WHERE id = :id com parâmetros: {":id":1}
[2025-10-14 17:30:59] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-10-14 17:30:59] [DATABASE ERROR] Debug PDO após binding: SQL: [56] UPDATE usuarios SET ultimo_acesso = NOW() WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-14 17:30:59] [DATABASE ERROR] Parâmetro associado: :tabela = usuarios (tipo: 2)
[2025-10-14 17:30:59] [DATABASE ERROR] Parâmetro associado: :registro_id = 1 (tipo: 1)
[2025-10-14 17:30:59] [DATABASE ERROR] Parâmetro associado: :acao = LOGIN (tipo: 2)
[2025-10-14 17:30:59] [DATABASE ERROR] Parâmetro associado: :dados_anteriores = NULL (tipo: 0)
[2025-10-14 17:30:59] [DATABASE ERROR] Parâmetro associado: :dados_novos = NULL (tipo: 0)
[2025-10-14 17:30:59] [DATABASE ERROR] Parâmetro associado: :usuario_id = NULL (tipo: 0)
[2025-10-14 17:30:59] [DATABASE ERROR] Parâmetro associado: :ip_address = ::1 (tipo: 2)
[2025-10-14 17:30:59] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 (tipo: 2)
[2025-10-14 17:30:59] [DATABASE ERROR] Parâmetro associado: :id = qac81nd9c5jgcqdtm1ishcmu6g (tipo: 2)
[2025-10-14 17:30:59] [DATABASE ERROR] Parâmetro associado: :id = qac81nd9c5jgcqdtm1ishcmu6g (tipo: 2)
[2025-10-14 17:30:59] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-10-14 17:30:59] [DATABASE ERROR] Parâmetro associado: :ip_address = ::1 (tipo: 2)
[2025-10-14 17:30:59] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 (tipo: 2)
[2025-10-14 17:30:59] [DATABASE ERROR] Parâmetro associado: :dados = {"user_id":1,"user_name":"Administrador do Sistema","user_email":"admin@sorveteria.com","user_profile":1,"user_profile_name":"Administrador","logged_in":true,"login_time":1760473859} (tipo: 2)
[2025-10-14 17:31:00] [DATABASE ERROR] Preparando query: SELECT SUM(estoque_atual) as total_estoque FROM produtos WHERE ativo = TRUE com parâmetros: []
[2025-10-14 17:31:00] [DATABASE ERROR] Debug PDO após binding: SQL: [75] SELECT SUM(estoque_atual) as total_estoque FROM produtos WHERE ativo = TRUE
Params:  0

[2025-10-14 17:31:00] [DATABASE ERROR] Preparando query: SELECT id FROM produtos WHERE ativo = TRUE com parâmetros: []
[2025-10-14 17:31:00] [DATABASE ERROR] Debug PDO após binding: SQL: [42] SELECT id FROM produtos WHERE ativo = TRUE
Params:  0

[2025-10-14 17:31:00] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":2,":data_fim_a":null,":data_fim":null}
[2025-10-14 17:31:00] [DATABASE ERROR] Parâmetro associado: :produto_id = 2 (tipo: 1)
[2025-10-14 17:31:00] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-10-14 17:31:00] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-10-14 17:31:00] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-10-14 17:31:00] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":2}
[2025-10-14 17:31:00] [DATABASE ERROR] Parâmetro associado: :id = 2 (tipo: 1)
[2025-10-14 17:31:00] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-14 17:31:00] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":3,":data_fim_a":null,":data_fim":null}
[2025-10-14 17:31:00] [DATABASE ERROR] Parâmetro associado: :produto_id = 3 (tipo: 1)
[2025-10-14 17:31:00] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-10-14 17:31:00] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-10-14 17:31:00] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-10-14 17:31:00] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":3}
[2025-10-14 17:31:00] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-10-14 17:31:00] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-14 17:31:00] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":4,":data_fim_a":null,":data_fim":null}
[2025-10-14 17:31:00] [DATABASE ERROR] Parâmetro associado: :produto_id = 4 (tipo: 1)
[2025-10-14 17:31:00] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-10-14 17:31:00] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-10-14 17:31:00] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-10-14 17:31:00] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":4}
[2025-10-14 17:31:00] [DATABASE ERROR] Parâmetro associado: :id = 4 (tipo: 1)
[2025-10-14 17:31:00] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-14 17:31:00] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":5,":data_fim_a":null,":data_fim":null}
[2025-10-14 17:31:00] [DATABASE ERROR] Parâmetro associado: :produto_id = 5 (tipo: 1)
[2025-10-14 17:31:00] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-10-14 17:31:00] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-10-14 17:31:00] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-10-14 17:31:00] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":5}
[2025-10-14 17:31:00] [DATABASE ERROR] Parâmetro associado: :id = 5 (tipo: 1)
[2025-10-14 17:31:00] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-14 17:31:00] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":6,":data_fim_a":null,":data_fim":null}
[2025-10-14 17:31:00] [DATABASE ERROR] Parâmetro associado: :produto_id = 6 (tipo: 1)
[2025-10-14 17:31:00] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-10-14 17:31:00] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-10-14 17:31:00] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-10-14 17:31:00] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":6}
[2025-10-14 17:31:00] [DATABASE ERROR] Parâmetro associado: :id = 6 (tipo: 1)
[2025-10-14 17:31:00] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-14 17:31:00] [DATABASE ERROR] Preparando query: SELECT id, codigo, nome, estoque_atual, estoque_minimo, categoria, fornecedor 
                    FROM vw_produtos_estoque_critico 
                    ORDER BY estoque_atual ASC 
                    LIMIT 10 com parâmetros: []
[2025-10-14 17:31:00] [DATABASE ERROR] Debug PDO após binding: SQL: [212] SELECT id, codigo, nome, estoque_atual, estoque_minimo, categoria, fornecedor 
                    FROM vw_produtos_estoque_critico 
                    ORDER BY estoque_atual ASC 
                    LIMIT 10
Params:  0

[2025-10-14 17:31:00] [DATABASE ERROR] Preparando query: 
                SELECT 
                    DATE_FORMAT(m.data_movimentacao, '%Y-%m') as periodo,
                    tm.tipo,
                    SUM(mi.quantidade) as total_quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                WHERE m.status = 'PROCESSADO'
                    AND m.data_movimentacao >= DATE_SUB(CURDATE(), INTERVAL 6 MONTH)
                GROUP BY periodo, tm.tipo
                ORDER BY periodo ASC com parâmetros: []
[2025-10-14 17:31:00] [DATABASE ERROR] Debug PDO após binding: SQL: [593] 
                SELECT 
                    DATE_FORMAT(m.data_movimentacao, '%Y-%m') as periodo,
                    tm.tipo,
                    SUM(mi.quantidade) as total_quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                WHERE m.status = 'PROCESSADO'
                    AND m.data_movimentacao >= DATE_SUB(CURDATE(), INTERVAL 6 MONTH)
                GROUP BY periodo, tm.tipo
                ORDER BY periodo ASC
Params:  0

[2025-10-14 17:31:00] [DATABASE ERROR] Preparando query: SELECT id, tipo, categoria, documento_numero, data_movimentacao, valor_total, fornecedor, usuario 
                    FROM vw_movimentacoes_recentes 
                    ORDER BY data_movimentacao DESC 
                    LIMIT 10 com parâmetros: []
[2025-10-14 17:31:00] [DATABASE ERROR] Debug PDO após binding: SQL: [235] SELECT id, tipo, categoria, documento_numero, data_movimentacao, valor_total, fornecedor, usuario 
                    FROM vw_movimentacoes_recentes 
                    ORDER BY data_movimentacao DESC 
                    LIMIT 10
Params:  0

[2025-10-14 17:31:05] [DATABASE ERROR] Preparando query: SELECT * FROM produtos WHERE ativo = :value com parâmetros: {":value":1}
[2025-10-14 17:31:05] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-10-14 17:31:05] [DATABASE ERROR] Debug PDO após binding: SQL: [43] SELECT * FROM produtos WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-10-14 17:31:05] [DATABASE ERROR] Preparando query: SELECT * FROM categorias WHERE ativo = :value com parâmetros: {":value":1}
[2025-10-14 17:31:05] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-10-14 17:31:05] [DATABASE ERROR] Debug PDO após binding: SQL: [45] SELECT * FROM categorias WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-10-14 17:31:05] [DATABASE ERROR] Preparando query: SELECT * FROM categorias WHERE ativo = :value com parâmetros: {":value":1}
[2025-10-14 17:31:05] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-10-14 17:31:05] [DATABASE ERROR] Debug PDO após binding: SQL: [45] SELECT * FROM categorias WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-10-14 17:31:05] [DATABASE ERROR] Preparando query: SELECT * FROM unidades_medida com parâmetros: []
[2025-10-14 17:31:05] [DATABASE ERROR] Debug PDO após binding: SQL: [29] SELECT * FROM unidades_medida
Params:  0

[2025-10-14 17:31:05] [DATABASE ERROR] Preparando query: SELECT * FROM fornecedores WHERE ativo = :value com parâmetros: {":value":1}
[2025-10-14 17:31:05] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-10-14 17:31:05] [DATABASE ERROR] Debug PDO após binding: SQL: [47] SELECT * FROM fornecedores WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-10-14 17:31:05] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-10-14 17:31:05] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-10-14 17:31:05] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-10-14 17:31:05] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-10-14 17:31:05] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-10-14 17:31:07] [DATABASE ERROR] Parâmetro associado: :id = 2 (tipo: 1)
[2025-10-14 17:31:07] [DATABASE ERROR] Preparando query: 
                SELECT 
                    DATE_FORMAT(m.data_movimentacao, '%Y-%m') as periodo,
                    tm.tipo,
                    SUM(mi.quantidade) as total_quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                WHERE m.status = 'PROCESSADO'
                    AND mi.produto_id = :product_id
                    AND m.data_movimentacao BETWEEN :start_date AND :end_date
                GROUP BY periodo, tm.tipo
                ORDER BY periodo ASC com parâmetros: {":product_id":"2",":start_date":"2025-04-14",":end_date":"2025-10-14"}
[2025-10-14 17:31:07] [DATABASE ERROR] Parâmetro associado: :product_id = 2 (tipo: 2)
[2025-10-14 17:31:07] [DATABASE ERROR] Parâmetro associado: :start_date = 2025-04-14 (tipo: 2)
[2025-10-14 17:31:07] [DATABASE ERROR] Parâmetro associado: :end_date = 2025-10-14 (tipo: 2)
[2025-10-14 17:31:07] [DATABASE ERROR] Debug PDO após binding: SQL: [639] 
                SELECT 
                    DATE_FORMAT(m.data_movimentacao, '%Y-%m') as periodo,
                    tm.tipo,
                    SUM(mi.quantidade) as total_quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                WHERE m.status = 'PROCESSADO'
                    AND mi.produto_id = :product_id
                    AND m.data_movimentacao BETWEEN :start_date AND :end_date
                GROUP BY periodo, tm.tipo
                ORDER BY periodo ASC
Params:  3
Key: Name: [11] :product_id
paramno=0
name=[11] ":product_id"
is_param=1
param_type=2
Key: Name: [11] :start_date
paramno=1
name=[11] ":start_date"
is_param=1
param_type=2
Key: Name: [9] :end_date
paramno=2
name=[9] ":end_date"
is_param=1
param_type=2

[2025-10-14 17:31:07] [DATABASE ERROR] Preparando query: 
                SELECT m.documento_numero, m.data_movimentacao, u.nome_completo as usuario, mi.quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                JOIN usuarios u ON m.usuario_id = u.id
                WHERE tm.tipo = 'ENTRADA' 
                    AND mi.produto_id = :product_id
                    AND m.data_movimentacao BETWEEN :start_date AND :end_date
                ORDER BY m.data_movimentacao DESC com parâmetros: {":product_id":"2",":start_date":"2025-04-14",":end_date":"2025-10-14"}
[2025-10-14 17:31:07] [DATABASE ERROR] Parâmetro associado: :product_id = 2 (tipo: 2)
[2025-10-14 17:31:07] [DATABASE ERROR] Parâmetro associado: :start_date = 2025-04-14 (tipo: 2)
[2025-10-14 17:31:07] [DATABASE ERROR] Parâmetro associado: :end_date = 2025-10-14 (tipo: 2)
[2025-10-14 17:31:07] [DATABASE ERROR] Debug PDO após binding: SQL: [579] 
                SELECT m.documento_numero, m.data_movimentacao, u.nome_completo as usuario, mi.quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                JOIN usuarios u ON m.usuario_id = u.id
                WHERE tm.tipo = 'ENTRADA' 
                    AND mi.produto_id = :product_id
                    AND m.data_movimentacao BETWEEN :start_date AND :end_date
                ORDER BY m.data_movimentacao DESC
Params:  3
Key: Name: [11] :product_id
paramno=0
name=[11] ":product_id"
is_param=1
param_type=2
Key: Name: [11] :start_date
paramno=1
name=[11] ":start_date"
is_param=1
param_type=2
Key: Name: [9] :end_date
paramno=2
name=[9] ":end_date"
is_param=1
param_type=2

[2025-10-14 17:31:07] [DATABASE ERROR] Preparando query: 
                SELECT m.documento_numero, m.data_movimentacao, u.nome_completo as usuario, mi.quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                JOIN usuarios u ON m.usuario_id = u.id
                WHERE tm.tipo = 'SAIDA' 
                    AND mi.produto_id = :product_id
                    AND m.data_movimentacao BETWEEN :start_date AND :end_date
                ORDER BY m.data_movimentacao DESC com parâmetros: {":product_id":"2",":start_date":"2025-04-14",":end_date":"2025-10-14"}
[2025-10-14 17:31:07] [DATABASE ERROR] Parâmetro associado: :product_id = 2 (tipo: 2)
[2025-10-14 17:31:07] [DATABASE ERROR] Parâmetro associado: :start_date = 2025-04-14 (tipo: 2)
[2025-10-14 17:31:07] [DATABASE ERROR] Parâmetro associado: :end_date = 2025-10-14 (tipo: 2)
[2025-10-14 17:31:07] [DATABASE ERROR] Debug PDO após binding: SQL: [577] 
                SELECT m.documento_numero, m.data_movimentacao, u.nome_completo as usuario, mi.quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                JOIN usuarios u ON m.usuario_id = u.id
                WHERE tm.tipo = 'SAIDA' 
                    AND mi.produto_id = :product_id
                    AND m.data_movimentacao BETWEEN :start_date AND :end_date
                ORDER BY m.data_movimentacao DESC
Params:  3
Key: Name: [11] :product_id
paramno=0
name=[11] ":product_id"
is_param=1
param_type=2
Key: Name: [11] :start_date
paramno=1
name=[11] ":start_date"
is_param=1
param_type=2
Key: Name: [9] :end_date
paramno=2
name=[9] ":end_date"
is_param=1
param_type=2

[2025-10-14 17:31:12] [DATABASE ERROR] Parâmetro associado: :user_id = 1 (tipo: 1)
[2025-10-14 17:31:12] [DATABASE ERROR] Parâmetro associado: :tabela = usuarios (tipo: 2)
[2025-10-14 17:31:12] [DATABASE ERROR] Parâmetro associado: :registro_id = NULL (tipo: 0)
[2025-10-14 17:31:12] [DATABASE ERROR] Parâmetro associado: :acao = LOGOUT (tipo: 2)
[2025-10-14 17:31:12] [DATABASE ERROR] Parâmetro associado: :dados_anteriores = NULL (tipo: 0)
[2025-10-14 17:31:12] [DATABASE ERROR] Parâmetro associado: :dados_novos = NULL (tipo: 0)
[2025-10-14 17:31:12] [DATABASE ERROR] Parâmetro associado: :usuario_id = NULL (tipo: 0)
[2025-10-14 17:31:12] [DATABASE ERROR] Parâmetro associado: :ip_address = ::1 (tipo: 2)
[2025-10-14 17:31:12] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 (tipo: 2)
[2025-10-14 17:31:12] [DATABASE ERROR] Erro ao executar query: SQLSTATE[23000]: Integrity constraint violation: 1048 Column 'registro_id' cannot be null
[2025-10-14 17:31:18] [DATABASE ERROR] Parâmetro associado: :username = flavio (tipo: 2)
[2025-10-14 17:31:18] [DATABASE ERROR] Parâmetro associado: :email = flavio (tipo: 2)
[2025-10-14 17:31:18] [DATABASE ERROR] Preparando query: UPDATE usuarios SET ultimo_acesso = NOW() WHERE id = :id com parâmetros: {":id":2}
[2025-10-14 17:31:18] [DATABASE ERROR] Parâmetro associado: :id = 2 (tipo: 1)
[2025-10-14 17:31:18] [DATABASE ERROR] Debug PDO após binding: SQL: [56] UPDATE usuarios SET ultimo_acesso = NOW() WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-14 17:31:18] [DATABASE ERROR] Parâmetro associado: :tabela = usuarios (tipo: 2)
[2025-10-14 17:31:18] [DATABASE ERROR] Parâmetro associado: :registro_id = 2 (tipo: 1)
[2025-10-14 17:31:18] [DATABASE ERROR] Parâmetro associado: :acao = LOGIN (tipo: 2)
[2025-10-14 17:31:18] [DATABASE ERROR] Parâmetro associado: :dados_anteriores = NULL (tipo: 0)
[2025-10-14 17:31:18] [DATABASE ERROR] Parâmetro associado: :dados_novos = NULL (tipo: 0)
[2025-10-14 17:31:18] [DATABASE ERROR] Parâmetro associado: :usuario_id = NULL (tipo: 0)
[2025-10-14 17:31:18] [DATABASE ERROR] Parâmetro associado: :ip_address = ::1 (tipo: 2)
[2025-10-14 17:31:18] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 (tipo: 2)
[2025-10-14 17:31:18] [DATABASE ERROR] Parâmetro associado: :id = 8eg8hf40pg6faetui3092r6roc (tipo: 2)
[2025-10-14 17:31:18] [DATABASE ERROR] Parâmetro associado: :id = 8eg8hf40pg6faetui3092r6roc (tipo: 2)
[2025-10-14 17:31:18] [DATABASE ERROR] Parâmetro associado: :usuario_id = 2 (tipo: 1)
[2025-10-14 17:31:18] [DATABASE ERROR] Parâmetro associado: :ip_address = ::1 (tipo: 2)
[2025-10-14 17:31:18] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 (tipo: 2)
[2025-10-14 17:31:18] [DATABASE ERROR] Parâmetro associado: :dados = {"user_id":2,"user_name":"Fl\u00e1vio Alves","user_email":"flavioafj@yahoo.com.br","user_profile":2,"user_profile_name":"Operador","logged_in":true,"login_time":1760473878} (tipo: 2)
[2025-10-14 17:32:04] [DATABASE ERROR] Preparando query: SELECT * FROM produtos WHERE ativo = :value com parâmetros: {":value":1}
[2025-10-14 17:32:04] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-10-14 17:32:04] [DATABASE ERROR] Debug PDO após binding: SQL: [43] SELECT * FROM produtos WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-10-14 17:47:56] [DATABASE ERROR] Parâmetro associado: :user_id = 2 (tipo: 1)
[2025-10-14 17:47:56] [DATABASE ERROR] Parâmetro associado: :tabela = usuarios (tipo: 2)
[2025-10-14 17:47:56] [DATABASE ERROR] Parâmetro associado: :registro_id = NULL (tipo: 0)
[2025-10-14 17:47:56] [DATABASE ERROR] Parâmetro associado: :acao = LOGOUT (tipo: 2)
[2025-10-14 17:47:56] [DATABASE ERROR] Parâmetro associado: :dados_anteriores = NULL (tipo: 0)
[2025-10-14 17:47:56] [DATABASE ERROR] Parâmetro associado: :dados_novos = NULL (tipo: 0)
[2025-10-14 17:47:56] [DATABASE ERROR] Parâmetro associado: :usuario_id = NULL (tipo: 0)
[2025-10-14 17:47:56] [DATABASE ERROR] Parâmetro associado: :ip_address = ::1 (tipo: 2)
[2025-10-14 17:47:56] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 (tipo: 2)
[2025-10-14 17:47:56] [DATABASE ERROR] Erro ao executar query: SQLSTATE[23000]: Integrity constraint violation: 1048 Column 'registro_id' cannot be null
[2025-10-14 17:48:01] [DATABASE ERROR] Parâmetro associado: :username = admin (tipo: 2)
[2025-10-14 17:48:01] [DATABASE ERROR] Parâmetro associado: :email = admin (tipo: 2)
[2025-10-14 17:48:01] [DATABASE ERROR] Preparando query: UPDATE usuarios SET ultimo_acesso = NOW() WHERE id = :id com parâmetros: {":id":1}
[2025-10-14 17:48:01] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-10-14 17:48:01] [DATABASE ERROR] Debug PDO após binding: SQL: [56] UPDATE usuarios SET ultimo_acesso = NOW() WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-14 17:48:01] [DATABASE ERROR] Parâmetro associado: :tabela = usuarios (tipo: 2)
[2025-10-14 17:48:01] [DATABASE ERROR] Parâmetro associado: :registro_id = 1 (tipo: 1)
[2025-10-14 17:48:01] [DATABASE ERROR] Parâmetro associado: :acao = LOGIN (tipo: 2)
[2025-10-14 17:48:01] [DATABASE ERROR] Parâmetro associado: :dados_anteriores = NULL (tipo: 0)
[2025-10-14 17:48:01] [DATABASE ERROR] Parâmetro associado: :dados_novos = NULL (tipo: 0)
[2025-10-14 17:48:01] [DATABASE ERROR] Parâmetro associado: :usuario_id = NULL (tipo: 0)
[2025-10-14 17:48:01] [DATABASE ERROR] Parâmetro associado: :ip_address = ::1 (tipo: 2)
[2025-10-14 17:48:01] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 (tipo: 2)
[2025-10-14 17:48:01] [DATABASE ERROR] Parâmetro associado: :id = ugooqkqgrdnqkmopbsho6m14iv (tipo: 2)
[2025-10-14 17:48:01] [DATABASE ERROR] Parâmetro associado: :id = ugooqkqgrdnqkmopbsho6m14iv (tipo: 2)
[2025-10-14 17:48:01] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-10-14 17:48:01] [DATABASE ERROR] Parâmetro associado: :ip_address = ::1 (tipo: 2)
[2025-10-14 17:48:01] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 (tipo: 2)
[2025-10-14 17:48:01] [DATABASE ERROR] Parâmetro associado: :dados = {"user_id":1,"user_name":"Administrador do Sistema","user_email":"admin@sorveteria.com","user_profile":1,"user_profile_name":"Administrador","logged_in":true,"login_time":1760474881} (tipo: 2)
[2025-10-14 17:48:02] [DATABASE ERROR] Preparando query: SELECT id, codigo, nome, estoque_atual, estoque_minimo, categoria, fornecedor 
                    FROM vw_produtos_estoque_critico 
                    ORDER BY estoque_atual ASC 
                    LIMIT 10 com parâmetros: []
[2025-10-14 17:48:02] [DATABASE ERROR] Debug PDO após binding: SQL: [212] SELECT id, codigo, nome, estoque_atual, estoque_minimo, categoria, fornecedor 
                    FROM vw_produtos_estoque_critico 
                    ORDER BY estoque_atual ASC 
                    LIMIT 10
Params:  0

[2025-10-14 17:48:02] [DATABASE ERROR] Preparando query: SELECT SUM(estoque_atual) as total_estoque FROM produtos WHERE ativo = TRUE com parâmetros: []
[2025-10-14 17:48:02] [DATABASE ERROR] Debug PDO após binding: SQL: [75] SELECT SUM(estoque_atual) as total_estoque FROM produtos WHERE ativo = TRUE
Params:  0

[2025-10-14 17:48:02] [DATABASE ERROR] Preparando query: SELECT id FROM produtos WHERE ativo = TRUE com parâmetros: []
[2025-10-14 17:48:02] [DATABASE ERROR] Debug PDO após binding: SQL: [42] SELECT id FROM produtos WHERE ativo = TRUE
Params:  0

[2025-10-14 17:48:02] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":2,":data_fim_a":null,":data_fim":null}
[2025-10-14 17:48:02] [DATABASE ERROR] Parâmetro associado: :produto_id = 2 (tipo: 1)
[2025-10-14 17:48:02] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-10-14 17:48:02] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-10-14 17:48:02] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-10-14 17:48:02] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":2}
[2025-10-14 17:48:02] [DATABASE ERROR] Parâmetro associado: :id = 2 (tipo: 1)
[2025-10-14 17:48:02] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-14 17:48:02] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":3,":data_fim_a":null,":data_fim":null}
[2025-10-14 17:48:02] [DATABASE ERROR] Parâmetro associado: :produto_id = 3 (tipo: 1)
[2025-10-14 17:48:02] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-10-14 17:48:02] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-10-14 17:48:02] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-10-14 17:48:02] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":3}
[2025-10-14 17:48:02] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-10-14 17:48:02] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-14 17:48:02] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":4,":data_fim_a":null,":data_fim":null}
[2025-10-14 17:48:02] [DATABASE ERROR] Parâmetro associado: :produto_id = 4 (tipo: 1)
[2025-10-14 17:48:02] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-10-14 17:48:02] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-10-14 17:48:02] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-10-14 17:48:02] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":4}
[2025-10-14 17:48:02] [DATABASE ERROR] Parâmetro associado: :id = 4 (tipo: 1)
[2025-10-14 17:48:02] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-14 17:48:02] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":5,":data_fim_a":null,":data_fim":null}
[2025-10-14 17:48:02] [DATABASE ERROR] Parâmetro associado: :produto_id = 5 (tipo: 1)
[2025-10-14 17:48:02] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-10-14 17:48:02] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-10-14 17:48:02] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-10-14 17:48:02] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":5}
[2025-10-14 17:48:02] [DATABASE ERROR] Parâmetro associado: :id = 5 (tipo: 1)
[2025-10-14 17:48:02] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-14 17:48:02] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":6,":data_fim_a":null,":data_fim":null}
[2025-10-14 17:48:02] [DATABASE ERROR] Parâmetro associado: :produto_id = 6 (tipo: 1)
[2025-10-14 17:48:02] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-10-14 17:48:02] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-10-14 17:48:02] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-10-14 17:48:02] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":6}
[2025-10-14 17:48:02] [DATABASE ERROR] Parâmetro associado: :id = 6 (tipo: 1)
[2025-10-14 17:48:02] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-14 17:48:02] [DATABASE ERROR] Preparando query: SELECT id, tipo, categoria, documento_numero, data_movimentacao, valor_total, fornecedor, usuario 
                    FROM vw_movimentacoes_recentes 
                    ORDER BY data_movimentacao DESC 
                    LIMIT 10 com parâmetros: []
[2025-10-14 17:48:02] [DATABASE ERROR] Debug PDO após binding: SQL: [235] SELECT id, tipo, categoria, documento_numero, data_movimentacao, valor_total, fornecedor, usuario 
                    FROM vw_movimentacoes_recentes 
                    ORDER BY data_movimentacao DESC 
                    LIMIT 10
Params:  0

[2025-10-14 17:48:02] [DATABASE ERROR] Preparando query: 
                SELECT 
                    DATE_FORMAT(m.data_movimentacao, '%Y-%m') as periodo,
                    tm.tipo,
                    SUM(mi.quantidade) as total_quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                WHERE m.status = 'PROCESSADO'
                    AND m.data_movimentacao >= DATE_SUB(CURDATE(), INTERVAL 6 MONTH)
                GROUP BY periodo, tm.tipo
                ORDER BY periodo ASC com parâmetros: []
[2025-10-14 17:48:02] [DATABASE ERROR] Debug PDO após binding: SQL: [593] 
                SELECT 
                    DATE_FORMAT(m.data_movimentacao, '%Y-%m') as periodo,
                    tm.tipo,
                    SUM(mi.quantidade) as total_quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                WHERE m.status = 'PROCESSADO'
                    AND m.data_movimentacao >= DATE_SUB(CURDATE(), INTERVAL 6 MONTH)
                GROUP BY periodo, tm.tipo
                ORDER BY periodo ASC
Params:  0

[2025-10-14 17:48:04] [DATABASE ERROR] Preparando query: SELECT * FROM produtos WHERE ativo = :value com parâmetros: {":value":1}
[2025-10-14 17:48:04] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-10-14 17:48:04] [DATABASE ERROR] Debug PDO após binding: SQL: [43] SELECT * FROM produtos WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-10-14 17:48:12] [DATABASE ERROR] Preparando query: SELECT * FROM fornecedores WHERE ativo = :value com parâmetros: {":value":1}
[2025-10-14 17:48:12] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-10-14 17:48:12] [DATABASE ERROR] Debug PDO após binding: SQL: [47] SELECT * FROM fornecedores WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-10-14 17:48:12] [DATABASE ERROR] Preparando query: SELECT * FROM produtos WHERE ativo = :value com parâmetros: {":value":1}
[2025-10-14 17:48:12] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-10-14 17:48:12] [DATABASE ERROR] Debug PDO após binding: SQL: [43] SELECT * FROM produtos WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-10-14 17:48:21] [DATABASE ERROR] Parâmetro associado: :id = 2 (tipo: 2)
[2025-10-14 17:48:21] [DATABASE ERROR] Parâmetro associado: :id = 5 (tipo: 1)
[2025-10-14 17:48:21] [DATABASE ERROR] Parâmetro associado: :produto_id = 5 (tipo: 1)
[2025-10-14 17:48:21] [DATABASE ERROR] Parâmetro associado: :id = 6 (tipo: 1)
[2025-10-14 17:48:21] [DATABASE ERROR] Parâmetro associado: :produto_id = 6 (tipo: 1)
[2025-10-14 17:48:21] [DATABASE ERROR] Parâmetro associado: :movimentacao_id = 107 (tipo: 2)
[2025-10-14 17:48:21] [DATABASE ERROR] Parâmetro associado: :numero_nota = 111744 (tipo: 2)
[2025-10-14 17:48:21] [DATABASE ERROR] Parâmetro associado: :chave_acesso = 35251050902071001120550010001117441740218690 (tipo: 2)
[2025-10-14 17:48:21] [DATABASE ERROR] Parâmetro associado: :data_emissao = 2025-10-13 (tipo: 2)
[2025-10-14 17:48:21] [DATABASE ERROR] Parâmetro associado: :fornecedor_id = 2 (tipo: 1)
[2025-10-14 17:48:21] [DATABASE ERROR] Parâmetro associado: :valor_total = 448.8 (tipo: 2)
[2025-10-14 17:48:21] [DATABASE ERROR] Parâmetro associado: :processado = 1 (tipo: 5)
[2025-10-14 17:48:21] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-10-14 17:48:22] [DATABASE ERROR] Preparando query: SELECT * FROM produtos WHERE ativo = :value com parâmetros: {":value":1}
[2025-10-14 17:48:22] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-10-14 17:48:22] [DATABASE ERROR] Debug PDO após binding: SQL: [43] SELECT * FROM produtos WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-10-14 17:48:27] [DATABASE ERROR] Parâmetro associado: :user_id = 1 (tipo: 1)
[2025-10-14 17:48:27] [DATABASE ERROR] Parâmetro associado: :tabela = usuarios (tipo: 2)
[2025-10-14 17:48:27] [DATABASE ERROR] Parâmetro associado: :registro_id = NULL (tipo: 0)
[2025-10-14 17:48:27] [DATABASE ERROR] Parâmetro associado: :acao = LOGOUT (tipo: 2)
[2025-10-14 17:48:27] [DATABASE ERROR] Parâmetro associado: :dados_anteriores = NULL (tipo: 0)
[2025-10-14 17:48:27] [DATABASE ERROR] Parâmetro associado: :dados_novos = NULL (tipo: 0)
[2025-10-14 17:48:27] [DATABASE ERROR] Parâmetro associado: :usuario_id = NULL (tipo: 0)
[2025-10-14 17:48:27] [DATABASE ERROR] Parâmetro associado: :ip_address = ::1 (tipo: 2)
[2025-10-14 17:48:27] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 (tipo: 2)
[2025-10-14 17:48:27] [DATABASE ERROR] Erro ao executar query: SQLSTATE[23000]: Integrity constraint violation: 1048 Column 'registro_id' cannot be null
[2025-10-14 17:51:37] [DATABASE ERROR] Parâmetro associado: :username = flavio (tipo: 2)
[2025-10-14 17:51:37] [DATABASE ERROR] Parâmetro associado: :email = flavio (tipo: 2)
[2025-10-14 17:51:37] [DATABASE ERROR] Preparando query: UPDATE usuarios SET ultimo_acesso = NOW() WHERE id = :id com parâmetros: {":id":2}
[2025-10-14 17:51:37] [DATABASE ERROR] Parâmetro associado: :id = 2 (tipo: 1)
[2025-10-14 17:51:37] [DATABASE ERROR] Debug PDO após binding: SQL: [56] UPDATE usuarios SET ultimo_acesso = NOW() WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-14 17:51:37] [DATABASE ERROR] Parâmetro associado: :tabela = usuarios (tipo: 2)
[2025-10-14 17:51:37] [DATABASE ERROR] Parâmetro associado: :registro_id = 2 (tipo: 1)
[2025-10-14 17:51:37] [DATABASE ERROR] Parâmetro associado: :acao = LOGIN (tipo: 2)
[2025-10-14 17:51:37] [DATABASE ERROR] Parâmetro associado: :dados_anteriores = NULL (tipo: 0)
[2025-10-14 17:51:37] [DATABASE ERROR] Parâmetro associado: :dados_novos = NULL (tipo: 0)
[2025-10-14 17:51:37] [DATABASE ERROR] Parâmetro associado: :usuario_id = NULL (tipo: 0)
[2025-10-14 17:51:37] [DATABASE ERROR] Parâmetro associado: :ip_address = ::1 (tipo: 2)
[2025-10-14 17:51:37] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 (tipo: 2)
[2025-10-14 17:51:37] [DATABASE ERROR] Parâmetro associado: :id = shoogi54rasa07lqj4vbgq9jtv (tipo: 2)
[2025-10-14 17:51:37] [DATABASE ERROR] Parâmetro associado: :id = shoogi54rasa07lqj4vbgq9jtv (tipo: 2)
[2025-10-14 17:51:37] [DATABASE ERROR] Parâmetro associado: :usuario_id = 2 (tipo: 1)
[2025-10-14 17:51:37] [DATABASE ERROR] Parâmetro associado: :ip_address = ::1 (tipo: 2)
[2025-10-14 17:51:37] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 (tipo: 2)
[2025-10-14 17:51:37] [DATABASE ERROR] Parâmetro associado: :dados = {"user_id":2,"user_name":"Fl\u00e1vio Alves","user_email":"flavioafj@yahoo.com.br","user_profile":2,"user_profile_name":"Operador","logged_in":true,"login_time":1760475097} (tipo: 2)
[2025-10-14 17:54:20] [DATABASE ERROR] Preparando query: SELECT * FROM produtos WHERE ativo = :value com parâmetros: {":value":1}
[2025-10-14 17:54:20] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-10-14 17:54:20] [DATABASE ERROR] Debug PDO após binding: SQL: [43] SELECT * FROM produtos WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-10-14 17:54:26] [DATABASE ERROR] Preparando query: SELECT * FROM produtos WHERE ativo = :value com parâmetros: {":value":1}
[2025-10-14 17:54:26] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-10-14 17:54:26] [DATABASE ERROR] Debug PDO após binding: SQL: [43] SELECT * FROM produtos WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-10-14 17:57:54] [DATABASE ERROR] Parâmetro associado: :username = flavio (tipo: 2)
[2025-10-14 17:57:54] [DATABASE ERROR] Parâmetro associado: :email = flavio (tipo: 2)
[2025-10-14 17:57:54] [DATABASE ERROR] Preparando query: UPDATE usuarios SET ultimo_acesso = NOW() WHERE id = :id com parâmetros: {":id":2}
[2025-10-14 17:57:54] [DATABASE ERROR] Parâmetro associado: :id = 2 (tipo: 1)
[2025-10-14 17:57:54] [DATABASE ERROR] Debug PDO após binding: SQL: [56] UPDATE usuarios SET ultimo_acesso = NOW() WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-14 17:57:54] [DATABASE ERROR] Parâmetro associado: :tabela = usuarios (tipo: 2)
[2025-10-14 17:57:54] [DATABASE ERROR] Parâmetro associado: :registro_id = 2 (tipo: 1)
[2025-10-14 17:57:54] [DATABASE ERROR] Parâmetro associado: :acao = LOGIN (tipo: 2)
[2025-10-14 17:57:54] [DATABASE ERROR] Parâmetro associado: :dados_anteriores = NULL (tipo: 0)
[2025-10-14 17:57:54] [DATABASE ERROR] Parâmetro associado: :dados_novos = NULL (tipo: 0)
[2025-10-14 17:57:54] [DATABASE ERROR] Parâmetro associado: :usuario_id = NULL (tipo: 0)
[2025-10-14 17:57:54] [DATABASE ERROR] Parâmetro associado: :ip_address = ::1 (tipo: 2)
[2025-10-14 17:57:54] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36 Edg/141.0.0.0 (tipo: 2)
[2025-10-14 17:57:54] [DATABASE ERROR] Parâmetro associado: :id = prlbp1uv6np0qftojd24hbsv5n (tipo: 2)
[2025-10-14 17:57:54] [DATABASE ERROR] Parâmetro associado: :id = prlbp1uv6np0qftojd24hbsv5n (tipo: 2)
[2025-10-14 17:57:54] [DATABASE ERROR] Parâmetro associado: :usuario_id = 2 (tipo: 1)
[2025-10-14 17:57:54] [DATABASE ERROR] Parâmetro associado: :ip_address = ::1 (tipo: 2)
[2025-10-14 17:57:54] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36 Edg/141.0.0.0 (tipo: 2)
[2025-10-14 17:57:54] [DATABASE ERROR] Parâmetro associado: :dados = {"user_id":2,"user_name":"Fl\u00e1vio Alves","user_email":"flavioafj@yahoo.com.br","user_profile":2,"user_profile_name":"Operador","logged_in":true,"login_time":1760475474} (tipo: 2)
[2025-10-14 17:58:07] [DATABASE ERROR] Parâmetro associado: :id = 2 (tipo: 1)
[2025-10-14 17:58:07] [DATABASE ERROR] Parâmetro associado: :id = 2 (tipo: 1)
[2025-10-14 17:58:07] [DATABASE ERROR] Parâmetro associado: :produto_id = 2 (tipo: 1)
[2025-10-14 17:58:07] [DATABASE ERROR] Parâmetro associado: :id = 2 (tipo: 1)
[2025-10-14 17:58:08] [DATABASE ERROR] Parâmetro associado: :id = 2 (tipo: 1)
[2025-10-14 17:58:08] [DATABASE ERROR] Parâmetro associado: :produto_id = 2 (tipo: 1)
[2025-10-14 17:58:16] [DATABASE ERROR] Parâmetro associado: :id = 2 (tipo: 1)
[2025-10-14 17:58:16] [DATABASE ERROR] Parâmetro associado: :id = 2 (tipo: 1)
[2025-10-14 17:58:16] [DATABASE ERROR] Parâmetro associado: :produto_id = 2 (tipo: 1)
[2025-10-14 17:58:16] [DATABASE ERROR] Parâmetro associado: :id = 2 (tipo: 1)
[2025-10-14 17:58:16] [DATABASE ERROR] Parâmetro associado: :id = 2 (tipo: 1)
[2025-10-14 17:58:16] [DATABASE ERROR] Parâmetro associado: :produto_id = 2 (tipo: 1)
[2025-10-14 18:00:09] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-10-14 18:00:09] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-10-14 18:00:09] [DATABASE ERROR] Parâmetro associado: :produto_id = 3 (tipo: 1)
[2025-10-14 18:00:09] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-10-14 18:00:09] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-10-14 18:00:09] [DATABASE ERROR] Parâmetro associado: :produto_id = 3 (tipo: 1)
[2025-10-14 18:00:22] [DATABASE ERROR] Parâmetro associado: :id = 4 (tipo: 1)
[2025-10-14 18:00:22] [DATABASE ERROR] Parâmetro associado: :id = 4 (tipo: 1)
[2025-10-14 18:00:30] [DATABASE ERROR] Parâmetro associado: :id = 5 (tipo: 1)
[2025-10-14 18:00:30] [DATABASE ERROR] Parâmetro associado: :id = 5 (tipo: 1)
[2025-10-14 18:00:35] [DATABASE ERROR] Parâmetro associado: :id = 4 (tipo: 1)
[2025-10-14 18:00:35] [DATABASE ERROR] Parâmetro associado: :id = 5 (tipo: 1)
[2025-10-14 18:00:44] [DATABASE ERROR] Parâmetro associado: :id = 4 (tipo: 1)
[2025-10-14 18:00:44] [DATABASE ERROR] Parâmetro associado: :id = 5 (tipo: 1)
[2025-10-14 18:00:44] [DATABASE ERROR] Parâmetro associado: :id = 4 (tipo: 1)
[2025-10-14 18:00:44] [DATABASE ERROR] Parâmetro associado: :produto_id = 4 (tipo: 1)
[2025-10-14 18:00:44] [DATABASE ERROR] Parâmetro associado: :id = 5 (tipo: 1)
[2025-10-14 18:00:44] [DATABASE ERROR] Parâmetro associado: :produto_id = 5 (tipo: 1)
[2025-10-14 18:02:13] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-10-14 18:02:13] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-10-14 18:02:13] [DATABASE ERROR] Parâmetro associado: :produto_id = 3 (tipo: 1)
[2025-10-14 18:02:13] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-10-14 18:02:13] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-10-14 18:02:13] [DATABASE ERROR] Parâmetro associado: :produto_id = 3 (tipo: 1)
[2025-10-14 18:02:47] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-10-14 18:02:47] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-10-14 18:02:47] [DATABASE ERROR] Parâmetro associado: :produto_id = 3 (tipo: 1)
[2025-10-14 18:02:47] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-10-14 18:02:47] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-10-14 18:02:47] [DATABASE ERROR] Parâmetro associado: :produto_id = 3 (tipo: 1)
[2025-10-14 18:06:45] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-10-14 18:06:45] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-10-14 18:06:45] [DATABASE ERROR] Parâmetro associado: :produto_id = 3 (tipo: 1)
[2025-10-14 18:06:45] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-10-14 18:06:45] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-10-14 18:06:45] [DATABASE ERROR] Parâmetro associado: :produto_id = 3 (tipo: 1)
[2025-10-14 18:07:27] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-10-14 18:07:27] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-10-14 18:07:27] [DATABASE ERROR] Parâmetro associado: :produto_id = 3 (tipo: 1)
[2025-10-14 18:07:27] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-10-14 18:07:27] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-10-14 18:07:27] [DATABASE ERROR] Parâmetro associado: :produto_id = 3 (tipo: 1)
[2025-10-14 18:08:00] [DATABASE ERROR] Preparando query: SELECT * FROM produtos WHERE ativo = :value com parâmetros: {":value":1}
[2025-10-14 18:08:00] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-10-14 18:08:00] [DATABASE ERROR] Debug PDO após binding: SQL: [43] SELECT * FROM produtos WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-10-14 18:14:09] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-10-14 18:14:09] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-10-14 18:14:09] [DATABASE ERROR] Parâmetro associado: :produto_id = 3 (tipo: 1)
[2025-10-14 18:14:09] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-10-14 18:14:09] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-10-14 18:14:09] [DATABASE ERROR] Parâmetro associado: :produto_id = 3 (tipo: 1)
[2025-10-14 18:14:23] [DATABASE ERROR] Parâmetro associado: :id = 2 (tipo: 1)
[2025-10-14 18:14:23] [DATABASE ERROR] Parâmetro associado: :id = 2 (tipo: 1)
[2025-10-14 18:14:23] [DATABASE ERROR] Parâmetro associado: :produto_id = 2 (tipo: 1)
[2025-10-14 18:14:23] [DATABASE ERROR] Parâmetro associado: :id = 2 (tipo: 1)
[2025-10-14 18:14:23] [DATABASE ERROR] Parâmetro associado: :id = 2 (tipo: 1)
[2025-10-14 18:14:23] [DATABASE ERROR] Parâmetro associado: :produto_id = 2 (tipo: 1)
[2025-10-14 18:15:03] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-10-14 18:15:03] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-10-14 18:15:03] [DATABASE ERROR] Parâmetro associado: :produto_id = 3 (tipo: 1)
[2025-10-14 18:15:03] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-10-14 18:15:03] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-10-14 18:15:03] [DATABASE ERROR] Parâmetro associado: :produto_id = 3 (tipo: 1)
[2025-10-14 19:11:44] [DATABASE ERROR] Parâmetro associado: :user_id = 2 (tipo: 1)
[2025-10-14 19:11:59] [DATABASE ERROR] Parâmetro associado: :username = flavio (tipo: 2)
[2025-10-14 19:11:59] [DATABASE ERROR] Parâmetro associado: :email = flavio (tipo: 2)
[2025-10-14 19:11:59] [DATABASE ERROR] Preparando query: UPDATE usuarios SET ultimo_acesso = NOW() WHERE id = :id com parâmetros: {":id":2}
[2025-10-14 19:11:59] [DATABASE ERROR] Parâmetro associado: :id = 2 (tipo: 1)
[2025-10-14 19:11:59] [DATABASE ERROR] Debug PDO após binding: SQL: [56] UPDATE usuarios SET ultimo_acesso = NOW() WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-14 19:11:59] [DATABASE ERROR] Parâmetro associado: :tabela = usuarios (tipo: 2)
[2025-10-14 19:11:59] [DATABASE ERROR] Parâmetro associado: :registro_id = 2 (tipo: 1)
[2025-10-14 19:11:59] [DATABASE ERROR] Parâmetro associado: :acao = LOGIN (tipo: 2)
[2025-10-14 19:11:59] [DATABASE ERROR] Parâmetro associado: :dados_anteriores = NULL (tipo: 0)
[2025-10-14 19:11:59] [DATABASE ERROR] Parâmetro associado: :dados_novos = NULL (tipo: 0)
[2025-10-14 19:11:59] [DATABASE ERROR] Parâmetro associado: :usuario_id = NULL (tipo: 0)
[2025-10-14 19:11:59] [DATABASE ERROR] Parâmetro associado: :ip_address = ::1 (tipo: 2)
[2025-10-14 19:11:59] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 (tipo: 2)
[2025-10-14 19:11:59] [DATABASE ERROR] Parâmetro associado: :id = mpvtquhop03n2ecf0shu26sunr (tipo: 2)
[2025-10-14 19:11:59] [DATABASE ERROR] Parâmetro associado: :id = mpvtquhop03n2ecf0shu26sunr (tipo: 2)
[2025-10-14 19:11:59] [DATABASE ERROR] Parâmetro associado: :usuario_id = 2 (tipo: 1)
[2025-10-14 19:11:59] [DATABASE ERROR] Parâmetro associado: :ip_address = ::1 (tipo: 2)
[2025-10-14 19:11:59] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 (tipo: 2)
[2025-10-14 19:11:59] [DATABASE ERROR] Parâmetro associado: :dados = {"user_id":2,"user_name":"Fl\u00e1vio Alves","user_email":"flavioafj@yahoo.com.br","user_profile":2,"user_profile_name":"Operador","logged_in":true,"login_time":1760479919} (tipo: 2)
[2025-10-14 19:12:07] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-10-14 19:12:07] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-10-14 19:12:07] [DATABASE ERROR] Parâmetro associado: :produto_id = 3 (tipo: 1)
[2025-10-14 19:12:07] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-10-14 19:12:07] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-10-14 19:12:07] [DATABASE ERROR] Parâmetro associado: :produto_id = 3 (tipo: 1)
[2025-10-14 19:12:41] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-10-14 19:12:41] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-10-14 19:12:41] [DATABASE ERROR] Parâmetro associado: :produto_id = 3 (tipo: 1)
[2025-10-14 19:12:41] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-10-14 19:12:41] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-10-14 19:12:41] [DATABASE ERROR] Parâmetro associado: :produto_id = 3 (tipo: 1)
[2025-10-14 19:50:44] [DATABASE ERROR] Parâmetro associado: :id = 2 (tipo: 1)
[2025-10-14 19:50:44] [DATABASE ERROR] Parâmetro associado: :id = 2 (tipo: 1)
[2025-10-14 19:50:44] [DATABASE ERROR] Parâmetro associado: :produto_id = 2 (tipo: 1)
[2025-10-14 19:50:44] [DATABASE ERROR] Parâmetro associado: :id = 2 (tipo: 1)
[2025-10-14 19:50:44] [DATABASE ERROR] Parâmetro associado: :id = 2 (tipo: 1)
[2025-10-14 19:50:44] [DATABASE ERROR] Parâmetro associado: :produto_id = 2 (tipo: 1)
[2025-10-14 19:58:31] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-10-14 19:58:31] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-10-14 19:58:31] [DATABASE ERROR] Parâmetro associado: :produto_id = 3 (tipo: 1)
[2025-10-14 19:58:40] [DATABASE ERROR] Parâmetro associado: :id = 2 (tipo: 1)
[2025-10-14 19:58:40] [DATABASE ERROR] Parâmetro associado: :id = 2 (tipo: 1)
[2025-10-14 19:58:40] [DATABASE ERROR] Parâmetro associado: :produto_id = 2 (tipo: 1)
[2025-10-14 19:58:45] [DATABASE ERROR] Parâmetro associado: :id = 4 (tipo: 1)
[2025-10-14 19:58:45] [DATABASE ERROR] Parâmetro associado: :id = 4 (tipo: 1)
[2025-10-14 19:58:45] [DATABASE ERROR] Parâmetro associado: :produto_id = 4 (tipo: 1)
[2025-10-14 19:58:51] [DATABASE ERROR] Parâmetro associado: :id = 5 (tipo: 1)
[2025-10-14 19:58:51] [DATABASE ERROR] Parâmetro associado: :id = 5 (tipo: 1)
[2025-10-14 19:58:51] [DATABASE ERROR] Parâmetro associado: :produto_id = 5 (tipo: 1)
[2025-10-14 20:00:33] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-10-14 20:00:37] [DATABASE ERROR] Parâmetro associado: :id = 2 (tipo: 1)
[2025-10-14 20:00:40] [DATABASE ERROR] Parâmetro associado: :id = 4 (tipo: 1)
[2025-10-14 20:00:43] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-10-14 20:00:43] [DATABASE ERROR] Parâmetro associado: :id = 2 (tipo: 1)
[2025-10-14 20:00:43] [DATABASE ERROR] Parâmetro associado: :id = 4 (tipo: 1)
[2025-10-14 20:00:50] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-10-14 20:00:50] [DATABASE ERROR] Parâmetro associado: :id = 2 (tipo: 1)
[2025-10-14 20:00:50] [DATABASE ERROR] Parâmetro associado: :id = 4 (tipo: 1)
[2025-10-14 20:00:50] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-10-14 20:00:50] [DATABASE ERROR] Parâmetro associado: :id = 2 (tipo: 1)
[2025-10-14 20:00:51] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-10-14 20:00:51] [DATABASE ERROR] Parâmetro associado: :id = 2 (tipo: 1)
[2025-10-14 20:00:52] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-10-14 20:00:52] [DATABASE ERROR] Parâmetro associado: :produto_id = 3 (tipo: 1)
[2025-10-14 20:00:52] [DATABASE ERROR] Parâmetro associado: :id = 2 (tipo: 1)
[2025-10-14 20:00:52] [DATABASE ERROR] Parâmetro associado: :produto_id = 2 (tipo: 1)
[2025-10-14 20:00:52] [DATABASE ERROR] Parâmetro associado: :produto_id = 2 (tipo: 1)
[2025-10-14 20:00:52] [DATABASE ERROR] Parâmetro associado: :produto_id = 2 (tipo: 1)
[2025-10-14 20:00:52] [DATABASE ERROR] Parâmetro associado: :mensagem = Produto teste com estoque baixo: 1.000 <= 1.000. (tipo: 2)
[2025-10-14 20:00:52] [DATABASE ERROR] Parâmetro associado: :tabela = alertas_estoque (tipo: 2)
[2025-10-14 20:00:52] [DATABASE ERROR] Parâmetro associado: :registro_id = 1 (tipo: 2)
[2025-10-14 20:00:52] [DATABASE ERROR] Parâmetro associado: :acao = alertas_estoque (tipo: 2)
[2025-10-14 20:00:52] [DATABASE ERROR] Parâmetro associado: :dados_anteriores = "INSERT" (tipo: 2)
[2025-10-14 20:00:52] [DATABASE ERROR] Parâmetro associado: :dados_novos = NULL (tipo: 0)
[2025-10-14 20:00:52] [DATABASE ERROR] Parâmetro associado: :usuario_id = 2 (tipo: 1)
[2025-10-14 20:00:52] [DATABASE ERROR] Parâmetro associado: :ip_address = ::1 (tipo: 2)
[2025-10-14 20:00:52] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 (tipo: 2)
[2025-10-14 20:00:52] [DATABASE ERROR] Parâmetro associado: :alert_id = 1 (tipo: 1)
[2025-10-14 20:10:05] [DATABASE ERROR] Parâmetro associado: :user_id = 2 (tipo: 1)
[2025-10-14 20:10:05] [DATABASE ERROR] Parâmetro associado: :tabela = usuarios (tipo: 2)
[2025-10-14 20:10:05] [DATABASE ERROR] Parâmetro associado: :registro_id = NULL (tipo: 0)
[2025-10-14 20:10:05] [DATABASE ERROR] Parâmetro associado: :acao = LOGOUT (tipo: 2)
[2025-10-14 20:10:05] [DATABASE ERROR] Parâmetro associado: :dados_anteriores = NULL (tipo: 0)
[2025-10-14 20:10:05] [DATABASE ERROR] Parâmetro associado: :dados_novos = NULL (tipo: 0)
[2025-10-14 20:10:05] [DATABASE ERROR] Parâmetro associado: :usuario_id = NULL (tipo: 0)
[2025-10-14 20:10:05] [DATABASE ERROR] Parâmetro associado: :ip_address = ::1 (tipo: 2)
[2025-10-14 20:10:05] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 (tipo: 2)
[2025-10-14 20:10:05] [DATABASE ERROR] Erro ao executar query: SQLSTATE[23000]: Integrity constraint violation: 1048 Column 'registro_id' cannot be null
[2025-10-14 20:10:11] [DATABASE ERROR] Parâmetro associado: :username = admin (tipo: 2)
[2025-10-14 20:10:11] [DATABASE ERROR] Parâmetro associado: :email = admin (tipo: 2)
[2025-10-14 20:10:11] [DATABASE ERROR] Preparando query: UPDATE usuarios SET ultimo_acesso = NOW() WHERE id = :id com parâmetros: {":id":1}
[2025-10-14 20:10:11] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-10-14 20:10:11] [DATABASE ERROR] Debug PDO após binding: SQL: [56] UPDATE usuarios SET ultimo_acesso = NOW() WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-14 20:10:11] [DATABASE ERROR] Parâmetro associado: :tabela = usuarios (tipo: 2)
[2025-10-14 20:10:11] [DATABASE ERROR] Parâmetro associado: :registro_id = 1 (tipo: 1)
[2025-10-14 20:10:11] [DATABASE ERROR] Parâmetro associado: :acao = LOGIN (tipo: 2)
[2025-10-14 20:10:11] [DATABASE ERROR] Parâmetro associado: :dados_anteriores = NULL (tipo: 0)
[2025-10-14 20:10:11] [DATABASE ERROR] Parâmetro associado: :dados_novos = NULL (tipo: 0)
[2025-10-14 20:10:11] [DATABASE ERROR] Parâmetro associado: :usuario_id = NULL (tipo: 0)
[2025-10-14 20:10:11] [DATABASE ERROR] Parâmetro associado: :ip_address = ::1 (tipo: 2)
[2025-10-14 20:10:11] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 (tipo: 2)
[2025-10-14 20:10:11] [DATABASE ERROR] Parâmetro associado: :id = 4d5hcvccgujcgudilhn2l27nk8 (tipo: 2)
[2025-10-14 20:10:11] [DATABASE ERROR] Parâmetro associado: :id = 4d5hcvccgujcgudilhn2l27nk8 (tipo: 2)
[2025-10-14 20:10:11] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-10-14 20:10:11] [DATABASE ERROR] Parâmetro associado: :ip_address = ::1 (tipo: 2)
[2025-10-14 20:10:11] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 (tipo: 2)
[2025-10-14 20:10:11] [DATABASE ERROR] Parâmetro associado: :dados = {"user_id":1,"user_name":"Administrador do Sistema","user_email":"admin@sorveteria.com","user_profile":1,"user_profile_name":"Administrador","logged_in":true,"login_time":1760483411} (tipo: 2)
[2025-10-14 20:10:11] [DATABASE ERROR] Preparando query: SELECT SUM(estoque_atual) as total_estoque FROM produtos WHERE ativo = TRUE com parâmetros: []
[2025-10-14 20:10:11] [DATABASE ERROR] Debug PDO após binding: SQL: [75] SELECT SUM(estoque_atual) as total_estoque FROM produtos WHERE ativo = TRUE
Params:  0

[2025-10-14 20:10:11] [DATABASE ERROR] Preparando query: SELECT id FROM produtos WHERE ativo = TRUE com parâmetros: []
[2025-10-14 20:10:11] [DATABASE ERROR] Debug PDO após binding: SQL: [42] SELECT id FROM produtos WHERE ativo = TRUE
Params:  0

[2025-10-14 20:10:11] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":2,":data_fim_a":null,":data_fim":null}
[2025-10-14 20:10:11] [DATABASE ERROR] Parâmetro associado: :produto_id = 2 (tipo: 1)
[2025-10-14 20:10:11] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-10-14 20:10:11] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-10-14 20:10:11] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-10-14 20:10:11] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":2}
[2025-10-14 20:10:11] [DATABASE ERROR] Parâmetro associado: :id = 2 (tipo: 1)
[2025-10-14 20:10:11] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-14 20:10:11] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":3,":data_fim_a":null,":data_fim":null}
[2025-10-14 20:10:11] [DATABASE ERROR] Parâmetro associado: :produto_id = 3 (tipo: 1)
[2025-10-14 20:10:11] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-10-14 20:10:11] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-10-14 20:10:11] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-10-14 20:10:11] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":3}
[2025-10-14 20:10:11] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-10-14 20:10:11] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-14 20:10:11] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":4,":data_fim_a":null,":data_fim":null}
[2025-10-14 20:10:11] [DATABASE ERROR] Parâmetro associado: :produto_id = 4 (tipo: 1)
[2025-10-14 20:10:11] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-10-14 20:10:11] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-10-14 20:10:11] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-10-14 20:10:11] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":4}
[2025-10-14 20:10:11] [DATABASE ERROR] Parâmetro associado: :id = 4 (tipo: 1)
[2025-10-14 20:10:11] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-14 20:10:11] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":5,":data_fim_a":null,":data_fim":null}
[2025-10-14 20:10:11] [DATABASE ERROR] Parâmetro associado: :produto_id = 5 (tipo: 1)
[2025-10-14 20:10:11] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-10-14 20:10:11] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-10-14 20:10:11] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-10-14 20:10:11] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":5}
[2025-10-14 20:10:11] [DATABASE ERROR] Parâmetro associado: :id = 5 (tipo: 1)
[2025-10-14 20:10:11] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-14 20:10:11] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":6,":data_fim_a":null,":data_fim":null}
[2025-10-14 20:10:11] [DATABASE ERROR] Parâmetro associado: :produto_id = 6 (tipo: 1)
[2025-10-14 20:10:11] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-10-14 20:10:11] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-10-14 20:10:11] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-10-14 20:10:11] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":6}
[2025-10-14 20:10:11] [DATABASE ERROR] Parâmetro associado: :id = 6 (tipo: 1)
[2025-10-14 20:10:11] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-14 20:10:11] [DATABASE ERROR] Preparando query: SELECT id, codigo, nome, estoque_atual, estoque_minimo, categoria, fornecedor 
                    FROM vw_produtos_estoque_critico 
                    ORDER BY estoque_atual ASC 
                    LIMIT 10 com parâmetros: []
[2025-10-14 20:10:11] [DATABASE ERROR] Debug PDO após binding: SQL: [212] SELECT id, codigo, nome, estoque_atual, estoque_minimo, categoria, fornecedor 
                    FROM vw_produtos_estoque_critico 
                    ORDER BY estoque_atual ASC 
                    LIMIT 10
Params:  0

[2025-10-14 20:10:11] [DATABASE ERROR] Preparando query: SELECT id, tipo, categoria, documento_numero, data_movimentacao, valor_total, fornecedor, usuario 
                    FROM vw_movimentacoes_recentes 
                    ORDER BY data_movimentacao DESC 
                    LIMIT 10 com parâmetros: []
[2025-10-14 20:10:11] [DATABASE ERROR] Debug PDO após binding: SQL: [235] SELECT id, tipo, categoria, documento_numero, data_movimentacao, valor_total, fornecedor, usuario 
                    FROM vw_movimentacoes_recentes 
                    ORDER BY data_movimentacao DESC 
                    LIMIT 10
Params:  0

[2025-10-14 20:10:11] [DATABASE ERROR] Preparando query: 
                SELECT 
                    DATE_FORMAT(m.data_movimentacao, '%Y-%m') as periodo,
                    tm.tipo,
                    SUM(mi.quantidade) as total_quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                WHERE m.status = 'PROCESSADO'
                    AND m.data_movimentacao >= DATE_SUB(CURDATE(), INTERVAL 6 MONTH)
                GROUP BY periodo, tm.tipo
                ORDER BY periodo ASC com parâmetros: []
[2025-10-14 20:10:11] [DATABASE ERROR] Debug PDO após binding: SQL: [593] 
                SELECT 
                    DATE_FORMAT(m.data_movimentacao, '%Y-%m') as periodo,
                    tm.tipo,
                    SUM(mi.quantidade) as total_quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                WHERE m.status = 'PROCESSADO'
                    AND m.data_movimentacao >= DATE_SUB(CURDATE(), INTERVAL 6 MONTH)
                GROUP BY periodo, tm.tipo
                ORDER BY periodo ASC
Params:  0

[2025-10-14 20:10:19] [DATABASE ERROR] Preparando query: SELECT id, codigo, nome, estoque_atual, estoque_minimo, categoria, fornecedor 
                    FROM vw_produtos_estoque_critico 
                    ORDER BY estoque_atual ASC 
                    LIMIT 10 com parâmetros: []
[2025-10-14 20:10:19] [DATABASE ERROR] Debug PDO após binding: SQL: [212] SELECT id, codigo, nome, estoque_atual, estoque_minimo, categoria, fornecedor 
                    FROM vw_produtos_estoque_critico 
                    ORDER BY estoque_atual ASC 
                    LIMIT 10
Params:  0

[2025-10-14 20:10:19] [DATABASE ERROR] Preparando query: 
                SELECT 
                    DATE_FORMAT(m.data_movimentacao, '%Y-%m') as periodo,
                    tm.tipo,
                    SUM(mi.quantidade) as total_quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                WHERE m.status = 'PROCESSADO'
                    AND m.data_movimentacao >= DATE_SUB(CURDATE(), INTERVAL 6 MONTH)
                GROUP BY periodo, tm.tipo
                ORDER BY periodo ASC com parâmetros: []
[2025-10-14 20:10:19] [DATABASE ERROR] Debug PDO após binding: SQL: [593] 
                SELECT 
                    DATE_FORMAT(m.data_movimentacao, '%Y-%m') as periodo,
                    tm.tipo,
                    SUM(mi.quantidade) as total_quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                WHERE m.status = 'PROCESSADO'
                    AND m.data_movimentacao >= DATE_SUB(CURDATE(), INTERVAL 6 MONTH)
                GROUP BY periodo, tm.tipo
                ORDER BY periodo ASC
Params:  0

[2025-10-14 20:10:19] [DATABASE ERROR] Preparando query: SELECT id, tipo, categoria, documento_numero, data_movimentacao, valor_total, fornecedor, usuario 
                    FROM vw_movimentacoes_recentes 
                    ORDER BY data_movimentacao DESC 
                    LIMIT 10 com parâmetros: []
[2025-10-14 20:10:19] [DATABASE ERROR] Debug PDO após binding: SQL: [235] SELECT id, tipo, categoria, documento_numero, data_movimentacao, valor_total, fornecedor, usuario 
                    FROM vw_movimentacoes_recentes 
                    ORDER BY data_movimentacao DESC 
                    LIMIT 10
Params:  0

[2025-10-14 20:10:19] [DATABASE ERROR] Preparando query: SELECT SUM(estoque_atual) as total_estoque FROM produtos WHERE ativo = TRUE com parâmetros: []
[2025-10-14 20:10:19] [DATABASE ERROR] Debug PDO após binding: SQL: [75] SELECT SUM(estoque_atual) as total_estoque FROM produtos WHERE ativo = TRUE
Params:  0

[2025-10-14 20:10:19] [DATABASE ERROR] Preparando query: SELECT id FROM produtos WHERE ativo = TRUE com parâmetros: []
[2025-10-14 20:10:19] [DATABASE ERROR] Debug PDO após binding: SQL: [42] SELECT id FROM produtos WHERE ativo = TRUE
Params:  0

[2025-10-14 20:10:19] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":2,":data_fim_a":null,":data_fim":null}
[2025-10-14 20:10:19] [DATABASE ERROR] Parâmetro associado: :produto_id = 2 (tipo: 1)
[2025-10-14 20:10:19] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-10-14 20:10:19] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-10-14 20:10:19] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-10-14 20:10:19] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":2}
[2025-10-14 20:10:19] [DATABASE ERROR] Parâmetro associado: :id = 2 (tipo: 1)
[2025-10-14 20:10:19] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-14 20:10:19] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":3,":data_fim_a":null,":data_fim":null}
[2025-10-14 20:10:19] [DATABASE ERROR] Parâmetro associado: :produto_id = 3 (tipo: 1)
[2025-10-14 20:10:19] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-10-14 20:10:19] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-10-14 20:10:19] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-10-14 20:10:19] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":3}
[2025-10-14 20:10:19] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-10-14 20:10:19] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-14 20:10:19] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":4,":data_fim_a":null,":data_fim":null}
[2025-10-14 20:10:19] [DATABASE ERROR] Parâmetro associado: :produto_id = 4 (tipo: 1)
[2025-10-14 20:10:19] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-10-14 20:10:19] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-10-14 20:10:19] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-10-14 20:10:19] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":4}
[2025-10-14 20:10:19] [DATABASE ERROR] Parâmetro associado: :id = 4 (tipo: 1)
[2025-10-14 20:10:19] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-14 20:10:19] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":5,":data_fim_a":null,":data_fim":null}
[2025-10-14 20:10:19] [DATABASE ERROR] Parâmetro associado: :produto_id = 5 (tipo: 1)
[2025-10-14 20:10:19] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-10-14 20:10:19] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-10-14 20:10:19] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-10-14 20:10:19] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":5}
[2025-10-14 20:10:19] [DATABASE ERROR] Parâmetro associado: :id = 5 (tipo: 1)
[2025-10-14 20:10:19] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-14 20:10:19] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":6,":data_fim_a":null,":data_fim":null}
[2025-10-14 20:10:19] [DATABASE ERROR] Parâmetro associado: :produto_id = 6 (tipo: 1)
[2025-10-14 20:10:19] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-10-14 20:10:19] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-10-14 20:10:19] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-10-14 20:10:19] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":6}
[2025-10-14 20:10:19] [DATABASE ERROR] Parâmetro associado: :id = 6 (tipo: 1)
[2025-10-14 20:10:19] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-14 20:10:28] [DATABASE ERROR] Preparando query: SELECT * FROM produtos WHERE ativo = :value com parâmetros: {":value":1}
[2025-10-14 20:10:28] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-10-14 20:10:28] [DATABASE ERROR] Debug PDO após binding: SQL: [43] SELECT * FROM produtos WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-10-14 20:10:28] [DATABASE ERROR] Preparando query: SELECT * FROM categorias WHERE ativo = :value com parâmetros: {":value":1}
[2025-10-14 20:10:28] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-10-14 20:10:28] [DATABASE ERROR] Debug PDO após binding: SQL: [45] SELECT * FROM categorias WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-10-14 20:10:28] [DATABASE ERROR] Preparando query: SELECT * FROM categorias WHERE ativo = :value com parâmetros: {":value":1}
[2025-10-14 20:10:28] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-10-14 20:10:28] [DATABASE ERROR] Debug PDO após binding: SQL: [45] SELECT * FROM categorias WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-10-14 20:10:28] [DATABASE ERROR] Preparando query: SELECT * FROM unidades_medida com parâmetros: []
[2025-10-14 20:10:28] [DATABASE ERROR] Debug PDO após binding: SQL: [29] SELECT * FROM unidades_medida
Params:  0

[2025-10-14 20:10:28] [DATABASE ERROR] Preparando query: SELECT * FROM fornecedores WHERE ativo = :value com parâmetros: {":value":1}
[2025-10-14 20:10:28] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-10-14 20:10:28] [DATABASE ERROR] Debug PDO após binding: SQL: [47] SELECT * FROM fornecedores WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-10-14 20:10:28] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-10-14 20:10:28] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-10-14 20:10:28] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-10-14 20:10:28] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-10-14 20:10:28] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-10-14 20:10:33] [DATABASE ERROR] Parâmetro associado: :id = 2 (tipo: 1)
[2025-10-14 20:10:34] [DATABASE ERROR] Preparando query: 
                SELECT 
                    DATE_FORMAT(m.data_movimentacao, '%Y-%m') as periodo,
                    tm.tipo,
                    SUM(mi.quantidade) as total_quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                WHERE m.status = 'PROCESSADO'
                    AND mi.produto_id = :product_id
                    AND m.data_movimentacao BETWEEN :start_date AND :end_date
                GROUP BY periodo, tm.tipo
                ORDER BY periodo ASC com parâmetros: {":product_id":"2",":start_date":"2025-04-14",":end_date":"2025-10-14"}
[2025-10-14 20:10:34] [DATABASE ERROR] Parâmetro associado: :product_id = 2 (tipo: 2)
[2025-10-14 20:10:34] [DATABASE ERROR] Parâmetro associado: :start_date = 2025-04-14 (tipo: 2)
[2025-10-14 20:10:34] [DATABASE ERROR] Parâmetro associado: :end_date = 2025-10-14 (tipo: 2)
[2025-10-14 20:10:34] [DATABASE ERROR] Debug PDO após binding: SQL: [639] 
                SELECT 
                    DATE_FORMAT(m.data_movimentacao, '%Y-%m') as periodo,
                    tm.tipo,
                    SUM(mi.quantidade) as total_quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                WHERE m.status = 'PROCESSADO'
                    AND mi.produto_id = :product_id
                    AND m.data_movimentacao BETWEEN :start_date AND :end_date
                GROUP BY periodo, tm.tipo
                ORDER BY periodo ASC
Params:  3
Key: Name: [11] :product_id
paramno=0
name=[11] ":product_id"
is_param=1
param_type=2
Key: Name: [11] :start_date
paramno=1
name=[11] ":start_date"
is_param=1
param_type=2
Key: Name: [9] :end_date
paramno=2
name=[9] ":end_date"
is_param=1
param_type=2

[2025-10-14 20:10:34] [DATABASE ERROR] Preparando query: 
                SELECT m.documento_numero, m.data_movimentacao, u.nome_completo as usuario, mi.quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                JOIN usuarios u ON m.usuario_id = u.id
                WHERE tm.tipo = 'ENTRADA' 
                    AND mi.produto_id = :product_id
                    AND m.data_movimentacao BETWEEN :start_date AND :end_date
                ORDER BY m.data_movimentacao DESC com parâmetros: {":product_id":"2",":start_date":"2025-04-14",":end_date":"2025-10-14"}
[2025-10-14 20:10:34] [DATABASE ERROR] Parâmetro associado: :product_id = 2 (tipo: 2)
[2025-10-14 20:10:34] [DATABASE ERROR] Parâmetro associado: :start_date = 2025-04-14 (tipo: 2)
[2025-10-14 20:10:34] [DATABASE ERROR] Parâmetro associado: :end_date = 2025-10-14 (tipo: 2)
[2025-10-14 20:10:34] [DATABASE ERROR] Debug PDO após binding: SQL: [579] 
                SELECT m.documento_numero, m.data_movimentacao, u.nome_completo as usuario, mi.quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                JOIN usuarios u ON m.usuario_id = u.id
                WHERE tm.tipo = 'ENTRADA' 
                    AND mi.produto_id = :product_id
                    AND m.data_movimentacao BETWEEN :start_date AND :end_date
                ORDER BY m.data_movimentacao DESC
Params:  3
Key: Name: [11] :product_id
paramno=0
name=[11] ":product_id"
is_param=1
param_type=2
Key: Name: [11] :start_date
paramno=1
name=[11] ":start_date"
is_param=1
param_type=2
Key: Name: [9] :end_date
paramno=2
name=[9] ":end_date"
is_param=1
param_type=2

[2025-10-14 20:10:34] [DATABASE ERROR] Preparando query: 
                SELECT m.documento_numero, m.data_movimentacao, u.nome_completo as usuario, mi.quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                JOIN usuarios u ON m.usuario_id = u.id
                WHERE tm.tipo = 'SAIDA' 
                    AND mi.produto_id = :product_id
                    AND m.data_movimentacao BETWEEN :start_date AND :end_date
                ORDER BY m.data_movimentacao DESC com parâmetros: {":product_id":"2",":start_date":"2025-04-14",":end_date":"2025-10-14"}
[2025-10-14 20:10:34] [DATABASE ERROR] Parâmetro associado: :product_id = 2 (tipo: 2)
[2025-10-14 20:10:34] [DATABASE ERROR] Parâmetro associado: :start_date = 2025-04-14 (tipo: 2)
[2025-10-14 20:10:34] [DATABASE ERROR] Parâmetro associado: :end_date = 2025-10-14 (tipo: 2)
[2025-10-14 20:10:34] [DATABASE ERROR] Debug PDO após binding: SQL: [577] 
                SELECT m.documento_numero, m.data_movimentacao, u.nome_completo as usuario, mi.quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                JOIN usuarios u ON m.usuario_id = u.id
                WHERE tm.tipo = 'SAIDA' 
                    AND mi.produto_id = :product_id
                    AND m.data_movimentacao BETWEEN :start_date AND :end_date
                ORDER BY m.data_movimentacao DESC
Params:  3
Key: Name: [11] :product_id
paramno=0
name=[11] ":product_id"
is_param=1
param_type=2
Key: Name: [11] :start_date
paramno=1
name=[11] ":start_date"
is_param=1
param_type=2
Key: Name: [9] :end_date
paramno=2
name=[9] ":end_date"
is_param=1
param_type=2

[2025-10-14 20:10:55] [DATABASE ERROR] Preparando query: SELECT * FROM produtos WHERE ativo = :value com parâmetros: {":value":1}
[2025-10-14 20:10:55] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-10-14 20:10:55] [DATABASE ERROR] Debug PDO após binding: SQL: [43] SELECT * FROM produtos WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-10-14 20:10:55] [DATABASE ERROR] Preparando query: SELECT * FROM categorias WHERE ativo = :value com parâmetros: {":value":1}
[2025-10-14 20:10:55] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-10-14 20:10:55] [DATABASE ERROR] Debug PDO após binding: SQL: [45] SELECT * FROM categorias WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-10-14 20:10:55] [DATABASE ERROR] Preparando query: SELECT * FROM categorias WHERE ativo = :value com parâmetros: {":value":1}
[2025-10-14 20:10:55] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-10-14 20:10:55] [DATABASE ERROR] Debug PDO após binding: SQL: [45] SELECT * FROM categorias WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-10-14 20:10:55] [DATABASE ERROR] Preparando query: SELECT * FROM unidades_medida com parâmetros: []
[2025-10-14 20:10:55] [DATABASE ERROR] Debug PDO após binding: SQL: [29] SELECT * FROM unidades_medida
Params:  0

[2025-10-14 20:10:55] [DATABASE ERROR] Preparando query: SELECT * FROM fornecedores WHERE ativo = :value com parâmetros: {":value":1}
[2025-10-14 20:10:55] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-10-14 20:10:55] [DATABASE ERROR] Debug PDO após binding: SQL: [47] SELECT * FROM fornecedores WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-10-14 20:10:55] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-10-14 20:10:55] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-10-14 20:10:55] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-10-14 20:10:55] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-10-14 20:10:55] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-10-14 20:12:56] [DATABASE ERROR] Preparando query: SELECT SUM(estoque_atual) as total_estoque FROM produtos WHERE ativo = TRUE com parâmetros: []
[2025-10-14 20:12:56] [DATABASE ERROR] Debug PDO após binding: SQL: [75] SELECT SUM(estoque_atual) as total_estoque FROM produtos WHERE ativo = TRUE
Params:  0

[2025-10-14 20:12:56] [DATABASE ERROR] Preparando query: SELECT id FROM produtos WHERE ativo = TRUE com parâmetros: []
[2025-10-14 20:12:56] [DATABASE ERROR] Debug PDO após binding: SQL: [42] SELECT id FROM produtos WHERE ativo = TRUE
Params:  0

[2025-10-14 20:12:56] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":2,":data_fim_a":null,":data_fim":null}
[2025-10-14 20:12:56] [DATABASE ERROR] Parâmetro associado: :produto_id = 2 (tipo: 1)
[2025-10-14 20:12:56] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-10-14 20:12:56] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-10-14 20:12:56] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-10-14 20:12:56] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":2}
[2025-10-14 20:12:56] [DATABASE ERROR] Parâmetro associado: :id = 2 (tipo: 1)
[2025-10-14 20:12:56] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-14 20:12:56] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":3,":data_fim_a":null,":data_fim":null}
[2025-10-14 20:12:56] [DATABASE ERROR] Parâmetro associado: :produto_id = 3 (tipo: 1)
[2025-10-14 20:12:56] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-10-14 20:12:56] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-10-14 20:12:56] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-10-14 20:12:56] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":3}
[2025-10-14 20:12:56] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-10-14 20:12:56] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-14 20:12:56] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":4,":data_fim_a":null,":data_fim":null}
[2025-10-14 20:12:56] [DATABASE ERROR] Parâmetro associado: :produto_id = 4 (tipo: 1)
[2025-10-14 20:12:56] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-10-14 20:12:56] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-10-14 20:12:56] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-10-14 20:12:56] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":4}
[2025-10-14 20:12:56] [DATABASE ERROR] Parâmetro associado: :id = 4 (tipo: 1)
[2025-10-14 20:12:56] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-14 20:12:56] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":5,":data_fim_a":null,":data_fim":null}
[2025-10-14 20:12:56] [DATABASE ERROR] Parâmetro associado: :produto_id = 5 (tipo: 1)
[2025-10-14 20:12:56] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-10-14 20:12:56] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-10-14 20:12:56] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-10-14 20:12:56] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":5}
[2025-10-14 20:12:56] [DATABASE ERROR] Parâmetro associado: :id = 5 (tipo: 1)
[2025-10-14 20:12:56] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-14 20:12:56] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":6,":data_fim_a":null,":data_fim":null}
[2025-10-14 20:12:56] [DATABASE ERROR] Parâmetro associado: :produto_id = 6 (tipo: 1)
[2025-10-14 20:12:56] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-10-14 20:12:56] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-10-14 20:12:56] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-10-14 20:12:56] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":6}
[2025-10-14 20:12:56] [DATABASE ERROR] Parâmetro associado: :id = 6 (tipo: 1)
[2025-10-14 20:12:56] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-14 20:12:56] [DATABASE ERROR] Preparando query: SELECT id, tipo, categoria, documento_numero, data_movimentacao, valor_total, fornecedor, usuario 
                    FROM vw_movimentacoes_recentes 
                    ORDER BY data_movimentacao DESC 
                    LIMIT 10 com parâmetros: []
[2025-10-14 20:12:56] [DATABASE ERROR] Debug PDO após binding: SQL: [235] SELECT id, tipo, categoria, documento_numero, data_movimentacao, valor_total, fornecedor, usuario 
                    FROM vw_movimentacoes_recentes 
                    ORDER BY data_movimentacao DESC 
                    LIMIT 10
Params:  0

[2025-10-14 20:12:56] [DATABASE ERROR] Preparando query: 
                SELECT 
                    DATE_FORMAT(m.data_movimentacao, '%Y-%m') as periodo,
                    tm.tipo,
                    SUM(mi.quantidade) as total_quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                WHERE m.status = 'PROCESSADO'
                    AND m.data_movimentacao >= DATE_SUB(CURDATE(), INTERVAL 6 MONTH)
                GROUP BY periodo, tm.tipo
                ORDER BY periodo ASC com parâmetros: []
[2025-10-14 20:12:56] [DATABASE ERROR] Debug PDO após binding: SQL: [593] 
                SELECT 
                    DATE_FORMAT(m.data_movimentacao, '%Y-%m') as periodo,
                    tm.tipo,
                    SUM(mi.quantidade) as total_quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                WHERE m.status = 'PROCESSADO'
                    AND m.data_movimentacao >= DATE_SUB(CURDATE(), INTERVAL 6 MONTH)
                GROUP BY periodo, tm.tipo
                ORDER BY periodo ASC
Params:  0

[2025-10-14 20:12:56] [DATABASE ERROR] Preparando query: SELECT id, codigo, nome, estoque_atual, estoque_minimo, categoria, fornecedor 
                    FROM vw_produtos_estoque_critico 
                    ORDER BY estoque_atual ASC 
                    LIMIT 10 com parâmetros: []
[2025-10-14 20:12:56] [DATABASE ERROR] Debug PDO após binding: SQL: [212] SELECT id, codigo, nome, estoque_atual, estoque_minimo, categoria, fornecedor 
                    FROM vw_produtos_estoque_critico 
                    ORDER BY estoque_atual ASC 
                    LIMIT 10
Params:  0

[2025-10-14 20:25:52] [DATABASE ERROR] Parâmetro associado: :user_id = 1 (tipo: 1)
[2025-10-14 20:25:52] [DATABASE ERROR] Parâmetro associado: :tabela = usuarios (tipo: 2)
[2025-10-14 20:25:52] [DATABASE ERROR] Parâmetro associado: :registro_id = NULL (tipo: 0)
[2025-10-14 20:25:52] [DATABASE ERROR] Parâmetro associado: :acao = LOGOUT (tipo: 2)
[2025-10-14 20:25:52] [DATABASE ERROR] Parâmetro associado: :dados_anteriores = NULL (tipo: 0)
[2025-10-14 20:25:52] [DATABASE ERROR] Parâmetro associado: :dados_novos = NULL (tipo: 0)
[2025-10-14 20:25:52] [DATABASE ERROR] Parâmetro associado: :usuario_id = NULL (tipo: 0)
[2025-10-14 20:25:52] [DATABASE ERROR] Parâmetro associado: :ip_address = ::1 (tipo: 2)
[2025-10-14 20:25:52] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 (tipo: 2)
[2025-10-14 20:25:52] [DATABASE ERROR] Erro ao executar query: SQLSTATE[23000]: Integrity constraint violation: 1048 Column 'registro_id' cannot be null
[2025-10-14 20:30:42] [DATABASE ERROR] Parâmetro associado: :username = adm2 (tipo: 2)
[2025-10-14 20:30:42] [DATABASE ERROR] Parâmetro associado: :email = adm2 (tipo: 2)
[2025-10-14 20:30:42] [DATABASE ERROR] Preparando query: UPDATE usuarios SET ultimo_acesso = NOW() WHERE id = :id com parâmetros: {":id":3}
[2025-10-14 20:30:42] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-10-14 20:30:42] [DATABASE ERROR] Debug PDO após binding: SQL: [56] UPDATE usuarios SET ultimo_acesso = NOW() WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-14 20:30:42] [DATABASE ERROR] Parâmetro associado: :tabela = usuarios (tipo: 2)
[2025-10-14 20:30:42] [DATABASE ERROR] Parâmetro associado: :registro_id = 3 (tipo: 1)
[2025-10-14 20:30:42] [DATABASE ERROR] Parâmetro associado: :acao = LOGIN (tipo: 2)
[2025-10-14 20:30:42] [DATABASE ERROR] Parâmetro associado: :dados_anteriores = NULL (tipo: 0)
[2025-10-14 20:30:42] [DATABASE ERROR] Parâmetro associado: :dados_novos = NULL (tipo: 0)
[2025-10-14 20:30:42] [DATABASE ERROR] Parâmetro associado: :usuario_id = NULL (tipo: 0)
[2025-10-14 20:30:42] [DATABASE ERROR] Parâmetro associado: :ip_address = ::1 (tipo: 2)
[2025-10-14 20:30:42] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 (tipo: 2)
[2025-10-14 20:30:42] [DATABASE ERROR] Parâmetro associado: :id = 42a21vus77gqkakdqlt9tq1uod (tipo: 2)
[2025-10-14 20:30:42] [DATABASE ERROR] Parâmetro associado: :id = 42a21vus77gqkakdqlt9tq1uod (tipo: 2)
[2025-10-14 20:30:42] [DATABASE ERROR] Parâmetro associado: :usuario_id = 3 (tipo: 1)
[2025-10-14 20:30:42] [DATABASE ERROR] Parâmetro associado: :ip_address = ::1 (tipo: 2)
[2025-10-14 20:30:42] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 (tipo: 2)
[2025-10-14 20:30:42] [DATABASE ERROR] Parâmetro associado: :dados = {"user_id":3,"user_name":"Adm2","user_email":"adm2@borela.com","user_profile":1,"user_profile_name":"Administrador","logged_in":true,"login_time":1760484642} (tipo: 2)
[2025-10-14 20:30:43] [DATABASE ERROR] Preparando query: SELECT SUM(estoque_atual) as total_estoque FROM produtos WHERE ativo = TRUE com parâmetros: []
[2025-10-14 20:30:43] [DATABASE ERROR] Debug PDO após binding: SQL: [75] SELECT SUM(estoque_atual) as total_estoque FROM produtos WHERE ativo = TRUE
Params:  0

[2025-10-14 20:30:43] [DATABASE ERROR] Preparando query: SELECT id FROM produtos WHERE ativo = TRUE com parâmetros: []
[2025-10-14 20:30:43] [DATABASE ERROR] Debug PDO após binding: SQL: [42] SELECT id FROM produtos WHERE ativo = TRUE
Params:  0

[2025-10-14 20:30:43] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":2,":data_fim_a":null,":data_fim":null}
[2025-10-14 20:30:43] [DATABASE ERROR] Parâmetro associado: :produto_id = 2 (tipo: 1)
[2025-10-14 20:30:43] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-10-14 20:30:43] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-10-14 20:30:43] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-10-14 20:30:43] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":2}
[2025-10-14 20:30:43] [DATABASE ERROR] Parâmetro associado: :id = 2 (tipo: 1)
[2025-10-14 20:30:43] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-14 20:30:43] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":3,":data_fim_a":null,":data_fim":null}
[2025-10-14 20:30:43] [DATABASE ERROR] Parâmetro associado: :produto_id = 3 (tipo: 1)
[2025-10-14 20:30:43] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-10-14 20:30:43] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-10-14 20:30:43] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-10-14 20:30:43] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":3}
[2025-10-14 20:30:43] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-10-14 20:30:43] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-14 20:30:43] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":4,":data_fim_a":null,":data_fim":null}
[2025-10-14 20:30:43] [DATABASE ERROR] Parâmetro associado: :produto_id = 4 (tipo: 1)
[2025-10-14 20:30:43] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-10-14 20:30:43] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-10-14 20:30:43] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-10-14 20:30:43] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":4}
[2025-10-14 20:30:43] [DATABASE ERROR] Parâmetro associado: :id = 4 (tipo: 1)
[2025-10-14 20:30:43] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-14 20:30:43] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":5,":data_fim_a":null,":data_fim":null}
[2025-10-14 20:30:43] [DATABASE ERROR] Parâmetro associado: :produto_id = 5 (tipo: 1)
[2025-10-14 20:30:43] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-10-14 20:30:43] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-10-14 20:30:43] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-10-14 20:30:43] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":5}
[2025-10-14 20:30:43] [DATABASE ERROR] Parâmetro associado: :id = 5 (tipo: 1)
[2025-10-14 20:30:43] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-14 20:30:43] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":6,":data_fim_a":null,":data_fim":null}
[2025-10-14 20:30:43] [DATABASE ERROR] Parâmetro associado: :produto_id = 6 (tipo: 1)
[2025-10-14 20:30:43] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-10-14 20:30:43] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-10-14 20:30:43] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-10-14 20:30:43] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":6}
[2025-10-14 20:30:43] [DATABASE ERROR] Parâmetro associado: :id = 6 (tipo: 1)
[2025-10-14 20:30:43] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-14 20:30:43] [DATABASE ERROR] Preparando query: SELECT id, tipo, categoria, documento_numero, data_movimentacao, valor_total, fornecedor, usuario 
                    FROM vw_movimentacoes_recentes 
                    ORDER BY data_movimentacao DESC 
                    LIMIT 10 com parâmetros: []
[2025-10-14 20:30:43] [DATABASE ERROR] Debug PDO após binding: SQL: [235] SELECT id, tipo, categoria, documento_numero, data_movimentacao, valor_total, fornecedor, usuario 
                    FROM vw_movimentacoes_recentes 
                    ORDER BY data_movimentacao DESC 
                    LIMIT 10
Params:  0

[2025-10-14 20:30:43] [DATABASE ERROR] Preparando query: 
                SELECT 
                    DATE_FORMAT(m.data_movimentacao, '%Y-%m') as periodo,
                    tm.tipo,
                    SUM(mi.quantidade) as total_quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                WHERE m.status = 'PROCESSADO'
                    AND m.data_movimentacao >= DATE_SUB(CURDATE(), INTERVAL 6 MONTH)
                GROUP BY periodo, tm.tipo
                ORDER BY periodo ASC com parâmetros: []
[2025-10-14 20:30:43] [DATABASE ERROR] Debug PDO após binding: SQL: [593] 
                SELECT 
                    DATE_FORMAT(m.data_movimentacao, '%Y-%m') as periodo,
                    tm.tipo,
                    SUM(mi.quantidade) as total_quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                WHERE m.status = 'PROCESSADO'
                    AND m.data_movimentacao >= DATE_SUB(CURDATE(), INTERVAL 6 MONTH)
                GROUP BY periodo, tm.tipo
                ORDER BY periodo ASC
Params:  0

[2025-10-14 20:30:43] [DATABASE ERROR] Preparando query: SELECT id, codigo, nome, estoque_atual, estoque_minimo, categoria, fornecedor 
                    FROM vw_produtos_estoque_critico 
                    ORDER BY estoque_atual ASC 
                    LIMIT 10 com parâmetros: []
[2025-10-14 20:30:43] [DATABASE ERROR] Debug PDO após binding: SQL: [212] SELECT id, codigo, nome, estoque_atual, estoque_minimo, categoria, fornecedor 
                    FROM vw_produtos_estoque_critico 
                    ORDER BY estoque_atual ASC 
                    LIMIT 10
Params:  0

[2025-10-14 20:30:48] [DATABASE ERROR] Parâmetro associado: :alert_id = 1 (tipo: 1)
[2025-10-14 20:30:48] [DATABASE ERROR] Parâmetro associado: :usuario_id = 3 (tipo: 1)
[2025-10-14 20:30:48] [DATABASE ERROR] Parâmetro associado: :tabela = alertas_estoque (tipo: 2)
[2025-10-14 20:30:48] [DATABASE ERROR] Parâmetro associado: :registro_id = 1 (tipo: 1)
[2025-10-14 20:30:48] [DATABASE ERROR] Parâmetro associado: :acao = alertas_estoque (tipo: 2)
[2025-10-14 20:30:48] [DATABASE ERROR] Parâmetro associado: :dados_anteriores = "UPDATE" (tipo: 2)
[2025-10-14 20:30:48] [DATABASE ERROR] Parâmetro associado: :dados_novos = {"lido":false} (tipo: 2)
[2025-10-14 20:30:48] [DATABASE ERROR] Parâmetro associado: :usuario_id = 3 (tipo: 1)
[2025-10-14 20:30:48] [DATABASE ERROR] Parâmetro associado: :ip_address = ::1 (tipo: 2)
[2025-10-14 20:30:48] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 (tipo: 2)
[2025-10-14 20:31:02] [DATABASE ERROR] Preparando query: SELECT * FROM categorias WHERE ativo = :value com parâmetros: {":value":1}
[2025-10-14 20:31:02] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-10-14 20:31:02] [DATABASE ERROR] Debug PDO após binding: SQL: [45] SELECT * FROM categorias WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-10-14 20:31:04] [DATABASE ERROR] Preparando query: 
                SELECT 
                    DATE_FORMAT(m.data_movimentacao, '%Y-%m') as periodo,
                    tm.tipo,
                    SUM(mi.quantidade) as total_quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                WHERE m.status = 'PROCESSADO'
                    AND m.data_movimentacao >= DATE_SUB(CURDATE(), INTERVAL 6 MONTH)
                GROUP BY periodo, tm.tipo
                ORDER BY periodo ASC com parâmetros: []
[2025-10-14 20:31:04] [DATABASE ERROR] Debug PDO após binding: SQL: [593] 
                SELECT 
                    DATE_FORMAT(m.data_movimentacao, '%Y-%m') as periodo,
                    tm.tipo,
                    SUM(mi.quantidade) as total_quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                WHERE m.status = 'PROCESSADO'
                    AND m.data_movimentacao >= DATE_SUB(CURDATE(), INTERVAL 6 MONTH)
                GROUP BY periodo, tm.tipo
                ORDER BY periodo ASC
Params:  0

[2025-10-14 20:31:04] [DATABASE ERROR] Preparando query: SELECT id, codigo, nome, estoque_atual, estoque_minimo, categoria, fornecedor 
                    FROM vw_produtos_estoque_critico 
                    ORDER BY estoque_atual ASC 
                    LIMIT 10 com parâmetros: []
[2025-10-14 20:31:04] [DATABASE ERROR] Debug PDO após binding: SQL: [212] SELECT id, codigo, nome, estoque_atual, estoque_minimo, categoria, fornecedor 
                    FROM vw_produtos_estoque_critico 
                    ORDER BY estoque_atual ASC 
                    LIMIT 10
Params:  0

[2025-10-14 20:31:04] [DATABASE ERROR] Preparando query: SELECT SUM(estoque_atual) as total_estoque FROM produtos WHERE ativo = TRUE com parâmetros: []
[2025-10-14 20:31:04] [DATABASE ERROR] Debug PDO após binding: SQL: [75] SELECT SUM(estoque_atual) as total_estoque FROM produtos WHERE ativo = TRUE
Params:  0

[2025-10-14 20:31:04] [DATABASE ERROR] Preparando query: SELECT id FROM produtos WHERE ativo = TRUE com parâmetros: []
[2025-10-14 20:31:04] [DATABASE ERROR] Debug PDO após binding: SQL: [42] SELECT id FROM produtos WHERE ativo = TRUE
Params:  0

[2025-10-14 20:31:04] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":2,":data_fim_a":null,":data_fim":null}
[2025-10-14 20:31:04] [DATABASE ERROR] Parâmetro associado: :produto_id = 2 (tipo: 1)
[2025-10-14 20:31:04] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-10-14 20:31:04] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-10-14 20:31:04] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-10-14 20:31:04] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":2}
[2025-10-14 20:31:04] [DATABASE ERROR] Parâmetro associado: :id = 2 (tipo: 1)
[2025-10-14 20:31:04] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-14 20:31:04] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":3,":data_fim_a":null,":data_fim":null}
[2025-10-14 20:31:04] [DATABASE ERROR] Parâmetro associado: :produto_id = 3 (tipo: 1)
[2025-10-14 20:31:04] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-10-14 20:31:04] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-10-14 20:31:04] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-10-14 20:31:04] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":3}
[2025-10-14 20:31:04] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-10-14 20:31:04] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-14 20:31:04] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":4,":data_fim_a":null,":data_fim":null}
[2025-10-14 20:31:04] [DATABASE ERROR] Parâmetro associado: :produto_id = 4 (tipo: 1)
[2025-10-14 20:31:04] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-10-14 20:31:04] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-10-14 20:31:04] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-10-14 20:31:04] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":4}
[2025-10-14 20:31:04] [DATABASE ERROR] Parâmetro associado: :id = 4 (tipo: 1)
[2025-10-14 20:31:04] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-14 20:31:04] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":5,":data_fim_a":null,":data_fim":null}
[2025-10-14 20:31:04] [DATABASE ERROR] Parâmetro associado: :produto_id = 5 (tipo: 1)
[2025-10-14 20:31:04] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-10-14 20:31:04] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-10-14 20:31:04] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-10-14 20:31:04] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":5}
[2025-10-14 20:31:04] [DATABASE ERROR] Parâmetro associado: :id = 5 (tipo: 1)
[2025-10-14 20:31:04] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-14 20:31:04] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":6,":data_fim_a":null,":data_fim":null}
[2025-10-14 20:31:04] [DATABASE ERROR] Parâmetro associado: :produto_id = 6 (tipo: 1)
[2025-10-14 20:31:04] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-10-14 20:31:04] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-10-14 20:31:04] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-10-14 20:31:04] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":6}
[2025-10-14 20:31:04] [DATABASE ERROR] Parâmetro associado: :id = 6 (tipo: 1)
[2025-10-14 20:31:04] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-14 20:31:04] [DATABASE ERROR] Preparando query: SELECT id, tipo, categoria, documento_numero, data_movimentacao, valor_total, fornecedor, usuario 
                    FROM vw_movimentacoes_recentes 
                    ORDER BY data_movimentacao DESC 
                    LIMIT 10 com parâmetros: []
[2025-10-14 20:31:04] [DATABASE ERROR] Debug PDO após binding: SQL: [235] SELECT id, tipo, categoria, documento_numero, data_movimentacao, valor_total, fornecedor, usuario 
                    FROM vw_movimentacoes_recentes 
                    ORDER BY data_movimentacao DESC 
                    LIMIT 10
Params:  0

[2025-10-14 20:31:06] [DATABASE ERROR] Preparando query: SELECT * FROM produtos WHERE ativo = :value com parâmetros: {":value":1}
[2025-10-14 20:31:06] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-10-14 20:31:06] [DATABASE ERROR] Debug PDO após binding: SQL: [43] SELECT * FROM produtos WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-10-14 20:31:06] [DATABASE ERROR] Preparando query: SELECT * FROM categorias WHERE ativo = :value com parâmetros: {":value":1}
[2025-10-14 20:31:06] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-10-14 20:31:06] [DATABASE ERROR] Debug PDO após binding: SQL: [45] SELECT * FROM categorias WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-10-14 20:31:06] [DATABASE ERROR] Preparando query: SELECT * FROM categorias WHERE ativo = :value com parâmetros: {":value":1}
[2025-10-14 20:31:06] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-10-14 20:31:06] [DATABASE ERROR] Debug PDO após binding: SQL: [45] SELECT * FROM categorias WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-10-14 20:31:06] [DATABASE ERROR] Preparando query: SELECT * FROM unidades_medida com parâmetros: []
[2025-10-14 20:31:06] [DATABASE ERROR] Debug PDO após binding: SQL: [29] SELECT * FROM unidades_medida
Params:  0

[2025-10-14 20:31:06] [DATABASE ERROR] Preparando query: SELECT * FROM fornecedores WHERE ativo = :value com parâmetros: {":value":1}
[2025-10-14 20:31:06] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-10-14 20:31:06] [DATABASE ERROR] Debug PDO após binding: SQL: [47] SELECT * FROM fornecedores WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-10-14 20:31:06] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-10-14 20:31:06] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-10-14 20:31:06] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-10-14 20:31:06] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-10-14 20:31:06] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-10-14 20:31:09] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-10-14 20:31:10] [DATABASE ERROR] Preparando query: 
                SELECT 
                    DATE_FORMAT(m.data_movimentacao, '%Y-%m') as periodo,
                    tm.tipo,
                    SUM(mi.quantidade) as total_quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                WHERE m.status = 'PROCESSADO'
                    AND mi.produto_id = :product_id
                    AND m.data_movimentacao BETWEEN :start_date AND :end_date
                GROUP BY periodo, tm.tipo
                ORDER BY periodo ASC com parâmetros: {":product_id":"3",":start_date":"2025-04-14",":end_date":"2025-10-14"}
[2025-10-14 20:31:10] [DATABASE ERROR] Parâmetro associado: :product_id = 3 (tipo: 2)
[2025-10-14 20:31:10] [DATABASE ERROR] Parâmetro associado: :start_date = 2025-04-14 (tipo: 2)
[2025-10-14 20:31:10] [DATABASE ERROR] Parâmetro associado: :end_date = 2025-10-14 (tipo: 2)
[2025-10-14 20:31:10] [DATABASE ERROR] Debug PDO após binding: SQL: [639] 
                SELECT 
                    DATE_FORMAT(m.data_movimentacao, '%Y-%m') as periodo,
                    tm.tipo,
                    SUM(mi.quantidade) as total_quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                WHERE m.status = 'PROCESSADO'
                    AND mi.produto_id = :product_id
                    AND m.data_movimentacao BETWEEN :start_date AND :end_date
                GROUP BY periodo, tm.tipo
                ORDER BY periodo ASC
Params:  3
Key: Name: [11] :product_id
paramno=0
name=[11] ":product_id"
is_param=1
param_type=2
Key: Name: [11] :start_date
paramno=1
name=[11] ":start_date"
is_param=1
param_type=2
Key: Name: [9] :end_date
paramno=2
name=[9] ":end_date"
is_param=1
param_type=2

[2025-10-14 20:31:10] [DATABASE ERROR] Preparando query: 
                SELECT m.documento_numero, m.data_movimentacao, u.nome_completo as usuario, mi.quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                JOIN usuarios u ON m.usuario_id = u.id
                WHERE tm.tipo = 'ENTRADA' 
                    AND mi.produto_id = :product_id
                    AND m.data_movimentacao BETWEEN :start_date AND :end_date
                ORDER BY m.data_movimentacao DESC com parâmetros: {":product_id":"3",":start_date":"2025-04-14",":end_date":"2025-10-14"}
[2025-10-14 20:31:10] [DATABASE ERROR] Parâmetro associado: :product_id = 3 (tipo: 2)
[2025-10-14 20:31:10] [DATABASE ERROR] Parâmetro associado: :start_date = 2025-04-14 (tipo: 2)
[2025-10-14 20:31:10] [DATABASE ERROR] Parâmetro associado: :end_date = 2025-10-14 (tipo: 2)
[2025-10-14 20:31:10] [DATABASE ERROR] Debug PDO após binding: SQL: [579] 
                SELECT m.documento_numero, m.data_movimentacao, u.nome_completo as usuario, mi.quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                JOIN usuarios u ON m.usuario_id = u.id
                WHERE tm.tipo = 'ENTRADA' 
                    AND mi.produto_id = :product_id
                    AND m.data_movimentacao BETWEEN :start_date AND :end_date
                ORDER BY m.data_movimentacao DESC
Params:  3
Key: Name: [11] :product_id
paramno=0
name=[11] ":product_id"
is_param=1
param_type=2
Key: Name: [11] :start_date
paramno=1
name=[11] ":start_date"
is_param=1
param_type=2
Key: Name: [9] :end_date
paramno=2
name=[9] ":end_date"
is_param=1
param_type=2

[2025-10-14 20:31:10] [DATABASE ERROR] Preparando query: 
                SELECT m.documento_numero, m.data_movimentacao, u.nome_completo as usuario, mi.quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                JOIN usuarios u ON m.usuario_id = u.id
                WHERE tm.tipo = 'SAIDA' 
                    AND mi.produto_id = :product_id
                    AND m.data_movimentacao BETWEEN :start_date AND :end_date
                ORDER BY m.data_movimentacao DESC com parâmetros: {":product_id":"3",":start_date":"2025-04-14",":end_date":"2025-10-14"}
[2025-10-14 20:31:10] [DATABASE ERROR] Parâmetro associado: :product_id = 3 (tipo: 2)
[2025-10-14 20:31:10] [DATABASE ERROR] Parâmetro associado: :start_date = 2025-04-14 (tipo: 2)
[2025-10-14 20:31:10] [DATABASE ERROR] Parâmetro associado: :end_date = 2025-10-14 (tipo: 2)
[2025-10-14 20:31:10] [DATABASE ERROR] Debug PDO após binding: SQL: [577] 
                SELECT m.documento_numero, m.data_movimentacao, u.nome_completo as usuario, mi.quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                JOIN usuarios u ON m.usuario_id = u.id
                WHERE tm.tipo = 'SAIDA' 
                    AND mi.produto_id = :product_id
                    AND m.data_movimentacao BETWEEN :start_date AND :end_date
                ORDER BY m.data_movimentacao DESC
Params:  3
Key: Name: [11] :product_id
paramno=0
name=[11] ":product_id"
is_param=1
param_type=2
Key: Name: [11] :start_date
paramno=1
name=[11] ":start_date"
is_param=1
param_type=2
Key: Name: [9] :end_date
paramno=2
name=[9] ":end_date"
is_param=1
param_type=2

[2025-10-14 20:31:12] [DATABASE ERROR] Parâmetro associado: :user_id = 3 (tipo: 1)
[2025-10-14 20:31:12] [DATABASE ERROR] Parâmetro associado: :tabela = usuarios (tipo: 2)
[2025-10-14 20:31:12] [DATABASE ERROR] Parâmetro associado: :registro_id = NULL (tipo: 0)
[2025-10-14 20:31:12] [DATABASE ERROR] Parâmetro associado: :acao = LOGOUT (tipo: 2)
[2025-10-14 20:31:12] [DATABASE ERROR] Parâmetro associado: :dados_anteriores = NULL (tipo: 0)
[2025-10-14 20:31:12] [DATABASE ERROR] Parâmetro associado: :dados_novos = NULL (tipo: 0)
[2025-10-14 20:31:12] [DATABASE ERROR] Parâmetro associado: :usuario_id = NULL (tipo: 0)
[2025-10-14 20:31:12] [DATABASE ERROR] Parâmetro associado: :ip_address = ::1 (tipo: 2)
[2025-10-14 20:31:12] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 (tipo: 2)
[2025-10-14 20:31:12] [DATABASE ERROR] Erro ao executar query: SQLSTATE[23000]: Integrity constraint violation: 1048 Column 'registro_id' cannot be null
[2025-10-14 20:31:18] [DATABASE ERROR] Parâmetro associado: :username = admin (tipo: 2)
[2025-10-14 20:31:18] [DATABASE ERROR] Parâmetro associado: :email = admin (tipo: 2)
[2025-10-14 20:31:18] [DATABASE ERROR] Preparando query: UPDATE usuarios SET ultimo_acesso = NOW() WHERE id = :id com parâmetros: {":id":1}
[2025-10-14 20:31:18] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-10-14 20:31:18] [DATABASE ERROR] Debug PDO após binding: SQL: [56] UPDATE usuarios SET ultimo_acesso = NOW() WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-14 20:31:18] [DATABASE ERROR] Parâmetro associado: :tabela = usuarios (tipo: 2)
[2025-10-14 20:31:18] [DATABASE ERROR] Parâmetro associado: :registro_id = 1 (tipo: 1)
[2025-10-14 20:31:18] [DATABASE ERROR] Parâmetro associado: :acao = LOGIN (tipo: 2)
[2025-10-14 20:31:18] [DATABASE ERROR] Parâmetro associado: :dados_anteriores = NULL (tipo: 0)
[2025-10-14 20:31:18] [DATABASE ERROR] Parâmetro associado: :dados_novos = NULL (tipo: 0)
[2025-10-14 20:31:18] [DATABASE ERROR] Parâmetro associado: :usuario_id = NULL (tipo: 0)
[2025-10-14 20:31:18] [DATABASE ERROR] Parâmetro associado: :ip_address = ::1 (tipo: 2)
[2025-10-14 20:31:18] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 (tipo: 2)
[2025-10-14 20:31:18] [DATABASE ERROR] Parâmetro associado: :id = 5484rhubibcof6ao121tevc904 (tipo: 2)
[2025-10-14 20:31:18] [DATABASE ERROR] Parâmetro associado: :id = 5484rhubibcof6ao121tevc904 (tipo: 2)
[2025-10-14 20:31:18] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-10-14 20:31:18] [DATABASE ERROR] Parâmetro associado: :ip_address = ::1 (tipo: 2)
[2025-10-14 20:31:18] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 (tipo: 2)
[2025-10-14 20:31:18] [DATABASE ERROR] Parâmetro associado: :dados = {"user_id":1,"user_name":"Administrador do Sistema","user_email":"admin@sorveteria.com","user_profile":1,"user_profile_name":"Administrador","logged_in":true,"login_time":1760484678} (tipo: 2)
[2025-10-14 20:31:19] [DATABASE ERROR] Preparando query: SELECT SUM(estoque_atual) as total_estoque FROM produtos WHERE ativo = TRUE com parâmetros: []
[2025-10-14 20:31:19] [DATABASE ERROR] Debug PDO após binding: SQL: [75] SELECT SUM(estoque_atual) as total_estoque FROM produtos WHERE ativo = TRUE
Params:  0

[2025-10-14 20:31:19] [DATABASE ERROR] Preparando query: SELECT id FROM produtos WHERE ativo = TRUE com parâmetros: []
[2025-10-14 20:31:19] [DATABASE ERROR] Debug PDO após binding: SQL: [42] SELECT id FROM produtos WHERE ativo = TRUE
Params:  0

[2025-10-14 20:31:19] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":2,":data_fim_a":null,":data_fim":null}
[2025-10-14 20:31:19] [DATABASE ERROR] Parâmetro associado: :produto_id = 2 (tipo: 1)
[2025-10-14 20:31:19] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-10-14 20:31:19] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-10-14 20:31:19] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-10-14 20:31:19] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":2}
[2025-10-14 20:31:19] [DATABASE ERROR] Parâmetro associado: :id = 2 (tipo: 1)
[2025-10-14 20:31:19] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-14 20:31:19] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":3,":data_fim_a":null,":data_fim":null}
[2025-10-14 20:31:19] [DATABASE ERROR] Parâmetro associado: :produto_id = 3 (tipo: 1)
[2025-10-14 20:31:19] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-10-14 20:31:19] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-10-14 20:31:19] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-10-14 20:31:19] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":3}
[2025-10-14 20:31:19] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-10-14 20:31:19] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-14 20:31:19] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":4,":data_fim_a":null,":data_fim":null}
[2025-10-14 20:31:19] [DATABASE ERROR] Parâmetro associado: :produto_id = 4 (tipo: 1)
[2025-10-14 20:31:19] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-10-14 20:31:19] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-10-14 20:31:19] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-10-14 20:31:19] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":4}
[2025-10-14 20:31:19] [DATABASE ERROR] Parâmetro associado: :id = 4 (tipo: 1)
[2025-10-14 20:31:19] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-14 20:31:19] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":5,":data_fim_a":null,":data_fim":null}
[2025-10-14 20:31:19] [DATABASE ERROR] Parâmetro associado: :produto_id = 5 (tipo: 1)
[2025-10-14 20:31:19] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-10-14 20:31:19] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-10-14 20:31:19] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-10-14 20:31:19] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":5}
[2025-10-14 20:31:19] [DATABASE ERROR] Parâmetro associado: :id = 5 (tipo: 1)
[2025-10-14 20:31:19] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-14 20:31:19] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":6,":data_fim_a":null,":data_fim":null}
[2025-10-14 20:31:19] [DATABASE ERROR] Parâmetro associado: :produto_id = 6 (tipo: 1)
[2025-10-14 20:31:19] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-10-14 20:31:19] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-10-14 20:31:19] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-10-14 20:31:19] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":6}
[2025-10-14 20:31:19] [DATABASE ERROR] Parâmetro associado: :id = 6 (tipo: 1)
[2025-10-14 20:31:19] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-14 20:31:19] [DATABASE ERROR] Preparando query: 
                SELECT 
                    DATE_FORMAT(m.data_movimentacao, '%Y-%m') as periodo,
                    tm.tipo,
                    SUM(mi.quantidade) as total_quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                WHERE m.status = 'PROCESSADO'
                    AND m.data_movimentacao >= DATE_SUB(CURDATE(), INTERVAL 6 MONTH)
                GROUP BY periodo, tm.tipo
                ORDER BY periodo ASC com parâmetros: []
[2025-10-14 20:31:19] [DATABASE ERROR] Debug PDO após binding: SQL: [593] 
                SELECT 
                    DATE_FORMAT(m.data_movimentacao, '%Y-%m') as periodo,
                    tm.tipo,
                    SUM(mi.quantidade) as total_quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                WHERE m.status = 'PROCESSADO'
                    AND m.data_movimentacao >= DATE_SUB(CURDATE(), INTERVAL 6 MONTH)
                GROUP BY periodo, tm.tipo
                ORDER BY periodo ASC
Params:  0

[2025-10-14 20:31:19] [DATABASE ERROR] Preparando query: SELECT id, codigo, nome, estoque_atual, estoque_minimo, categoria, fornecedor 
                    FROM vw_produtos_estoque_critico 
                    ORDER BY estoque_atual ASC 
                    LIMIT 10 com parâmetros: []
[2025-10-14 20:31:19] [DATABASE ERROR] Debug PDO após binding: SQL: [212] SELECT id, codigo, nome, estoque_atual, estoque_minimo, categoria, fornecedor 
                    FROM vw_produtos_estoque_critico 
                    ORDER BY estoque_atual ASC 
                    LIMIT 10
Params:  0

[2025-10-14 20:31:19] [DATABASE ERROR] Preparando query: SELECT id, tipo, categoria, documento_numero, data_movimentacao, valor_total, fornecedor, usuario 
                    FROM vw_movimentacoes_recentes 
                    ORDER BY data_movimentacao DESC 
                    LIMIT 10 com parâmetros: []
[2025-10-14 20:31:19] [DATABASE ERROR] Debug PDO após binding: SQL: [235] SELECT id, tipo, categoria, documento_numero, data_movimentacao, valor_total, fornecedor, usuario 
                    FROM vw_movimentacoes_recentes 
                    ORDER BY data_movimentacao DESC 
                    LIMIT 10
Params:  0

[2025-10-14 20:54:42] [DATABASE ERROR] Preparando query: SELECT SUM(estoque_atual) as total_estoque FROM produtos WHERE ativo = TRUE com parâmetros: []
[2025-10-14 20:54:42] [DATABASE ERROR] Debug PDO após binding: SQL: [75] SELECT SUM(estoque_atual) as total_estoque FROM produtos WHERE ativo = TRUE
Params:  0

[2025-10-14 20:54:42] [DATABASE ERROR] Preparando query: SELECT id FROM produtos WHERE ativo = TRUE com parâmetros: []
[2025-10-14 20:54:42] [DATABASE ERROR] Debug PDO após binding: SQL: [42] SELECT id FROM produtos WHERE ativo = TRUE
Params:  0

[2025-10-14 20:54:42] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":2,":data_fim_a":null,":data_fim":null}
[2025-10-14 20:54:42] [DATABASE ERROR] Parâmetro associado: :produto_id = 2 (tipo: 1)
[2025-10-14 20:54:42] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-10-14 20:54:42] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-10-14 20:54:42] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-10-14 20:54:42] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":2}
[2025-10-14 20:54:42] [DATABASE ERROR] Parâmetro associado: :id = 2 (tipo: 1)
[2025-10-14 20:54:42] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-14 20:54:42] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":3,":data_fim_a":null,":data_fim":null}
[2025-10-14 20:54:42] [DATABASE ERROR] Parâmetro associado: :produto_id = 3 (tipo: 1)
[2025-10-14 20:54:42] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-10-14 20:54:42] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-10-14 20:54:42] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-10-14 20:54:42] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":3}
[2025-10-14 20:54:42] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-10-14 20:54:42] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-14 20:54:42] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":4,":data_fim_a":null,":data_fim":null}
[2025-10-14 20:54:42] [DATABASE ERROR] Parâmetro associado: :produto_id = 4 (tipo: 1)
[2025-10-14 20:54:42] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-10-14 20:54:42] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-10-14 20:54:42] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-10-14 20:54:42] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":4}
[2025-10-14 20:54:42] [DATABASE ERROR] Parâmetro associado: :id = 4 (tipo: 1)
[2025-10-14 20:54:42] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-14 20:54:42] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":5,":data_fim_a":null,":data_fim":null}
[2025-10-14 20:54:42] [DATABASE ERROR] Parâmetro associado: :produto_id = 5 (tipo: 1)
[2025-10-14 20:54:42] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-10-14 20:54:42] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-10-14 20:54:42] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-10-14 20:54:42] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":5}
[2025-10-14 20:54:42] [DATABASE ERROR] Parâmetro associado: :id = 5 (tipo: 1)
[2025-10-14 20:54:42] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-14 20:54:42] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":6,":data_fim_a":null,":data_fim":null}
[2025-10-14 20:54:42] [DATABASE ERROR] Parâmetro associado: :produto_id = 6 (tipo: 1)
[2025-10-14 20:54:42] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-10-14 20:54:42] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-10-14 20:54:42] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-10-14 20:54:42] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":6}
[2025-10-14 20:54:42] [DATABASE ERROR] Parâmetro associado: :id = 6 (tipo: 1)
[2025-10-14 20:54:42] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-14 20:54:42] [DATABASE ERROR] Preparando query: SELECT id, codigo, nome, estoque_atual, estoque_minimo, categoria, fornecedor 
                    FROM vw_produtos_estoque_critico 
                    ORDER BY estoque_atual ASC 
                    LIMIT 10 com parâmetros: []
[2025-10-14 20:54:42] [DATABASE ERROR] Debug PDO após binding: SQL: [212] SELECT id, codigo, nome, estoque_atual, estoque_minimo, categoria, fornecedor 
                    FROM vw_produtos_estoque_critico 
                    ORDER BY estoque_atual ASC 
                    LIMIT 10
Params:  0

[2025-10-14 20:54:42] [DATABASE ERROR] Preparando query: SELECT id, tipo, categoria, documento_numero, data_movimentacao, valor_total, fornecedor, usuario 
                    FROM vw_movimentacoes_recentes 
                    ORDER BY data_movimentacao DESC 
                    LIMIT 10 com parâmetros: []
[2025-10-14 20:54:42] [DATABASE ERROR] Debug PDO após binding: SQL: [235] SELECT id, tipo, categoria, documento_numero, data_movimentacao, valor_total, fornecedor, usuario 
                    FROM vw_movimentacoes_recentes 
                    ORDER BY data_movimentacao DESC 
                    LIMIT 10
Params:  0

[2025-10-14 20:54:42] [DATABASE ERROR] Preparando query: 
                SELECT 
                    DATE_FORMAT(m.data_movimentacao, '%Y-%m') as periodo,
                    tm.tipo,
                    SUM(mi.quantidade) as total_quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                WHERE m.status = 'PROCESSADO'
                    AND m.data_movimentacao >= DATE_SUB(CURDATE(), INTERVAL 6 MONTH)
                GROUP BY periodo, tm.tipo
                ORDER BY periodo ASC com parâmetros: []
[2025-10-14 20:54:42] [DATABASE ERROR] Debug PDO após binding: SQL: [593] 
                SELECT 
                    DATE_FORMAT(m.data_movimentacao, '%Y-%m') as periodo,
                    tm.tipo,
                    SUM(mi.quantidade) as total_quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                WHERE m.status = 'PROCESSADO'
                    AND m.data_movimentacao >= DATE_SUB(CURDATE(), INTERVAL 6 MONTH)
                GROUP BY periodo, tm.tipo
                ORDER BY periodo ASC
Params:  0

[2025-10-14 20:55:16] [DATABASE ERROR] Parâmetro associado: :user_id = 1 (tipo: 1)
[2025-10-14 20:55:16] [DATABASE ERROR] Parâmetro associado: :tabela = usuarios (tipo: 2)
[2025-10-14 20:55:16] [DATABASE ERROR] Parâmetro associado: :registro_id = NULL (tipo: 0)
[2025-10-14 20:55:16] [DATABASE ERROR] Parâmetro associado: :acao = LOGOUT (tipo: 2)
[2025-10-14 20:55:16] [DATABASE ERROR] Parâmetro associado: :dados_anteriores = NULL (tipo: 0)
[2025-10-14 20:55:16] [DATABASE ERROR] Parâmetro associado: :dados_novos = NULL (tipo: 0)
[2025-10-14 20:55:16] [DATABASE ERROR] Parâmetro associado: :usuario_id = NULL (tipo: 0)
[2025-10-14 20:55:16] [DATABASE ERROR] Parâmetro associado: :ip_address = ::1 (tipo: 2)
[2025-10-14 20:55:16] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 (tipo: 2)
[2025-10-14 20:55:16] [DATABASE ERROR] Erro ao executar query: SQLSTATE[23000]: Integrity constraint violation: 1048 Column 'registro_id' cannot be null
[2025-10-14 20:55:21] [DATABASE ERROR] Parâmetro associado: :username = flavio (tipo: 2)
[2025-10-14 20:55:21] [DATABASE ERROR] Parâmetro associado: :email = flavio (tipo: 2)
[2025-10-14 20:55:21] [DATABASE ERROR] Preparando query: UPDATE usuarios SET ultimo_acesso = NOW() WHERE id = :id com parâmetros: {":id":2}
[2025-10-14 20:55:21] [DATABASE ERROR] Parâmetro associado: :id = 2 (tipo: 1)
[2025-10-14 20:55:21] [DATABASE ERROR] Debug PDO após binding: SQL: [56] UPDATE usuarios SET ultimo_acesso = NOW() WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-14 20:55:21] [DATABASE ERROR] Parâmetro associado: :tabela = usuarios (tipo: 2)
[2025-10-14 20:55:21] [DATABASE ERROR] Parâmetro associado: :registro_id = 2 (tipo: 1)
[2025-10-14 20:55:21] [DATABASE ERROR] Parâmetro associado: :acao = LOGIN (tipo: 2)
[2025-10-14 20:55:21] [DATABASE ERROR] Parâmetro associado: :dados_anteriores = NULL (tipo: 0)
[2025-10-14 20:55:21] [DATABASE ERROR] Parâmetro associado: :dados_novos = NULL (tipo: 0)
[2025-10-14 20:55:21] [DATABASE ERROR] Parâmetro associado: :usuario_id = NULL (tipo: 0)
[2025-10-14 20:55:21] [DATABASE ERROR] Parâmetro associado: :ip_address = ::1 (tipo: 2)
[2025-10-14 20:55:21] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 (tipo: 2)
[2025-10-14 20:55:21] [DATABASE ERROR] Parâmetro associado: :id = h6b7m8goan1k56djjfcui3n0pf (tipo: 2)
[2025-10-14 20:55:21] [DATABASE ERROR] Parâmetro associado: :id = h6b7m8goan1k56djjfcui3n0pf (tipo: 2)
[2025-10-14 20:55:21] [DATABASE ERROR] Parâmetro associado: :usuario_id = 2 (tipo: 1)
[2025-10-14 20:55:21] [DATABASE ERROR] Parâmetro associado: :ip_address = ::1 (tipo: 2)
[2025-10-14 20:55:21] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 (tipo: 2)
[2025-10-14 20:55:21] [DATABASE ERROR] Parâmetro associado: :dados = {"user_id":2,"user_name":"Fl\u00e1vio Alves","user_email":"flavioafj@yahoo.com.br","user_profile":2,"user_profile_name":"Operador","logged_in":true,"login_time":1760486121} (tipo: 2)
[2025-10-14 20:55:25] [DATABASE ERROR] Preparando query: SELECT * FROM produtos WHERE ativo = :value com parâmetros: {":value":1}
[2025-10-14 20:55:25] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-10-14 20:55:25] [DATABASE ERROR] Debug PDO após binding: SQL: [43] SELECT * FROM produtos WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-10-14 20:55:37] [DATABASE ERROR] Parâmetro associado: :tabela = movimentacoes (tipo: 2)
[2025-10-14 20:55:37] [DATABASE ERROR] Parâmetro associado: :registro_id = 140 (tipo: 2)
[2025-10-14 20:55:37] [DATABASE ERROR] Parâmetro associado: :acao = INSERT (tipo: 2)
[2025-10-14 20:55:37] [DATABASE ERROR] Parâmetro associado: :dados_anteriores = NULL (tipo: 0)
[2025-10-14 20:55:37] [DATABASE ERROR] Parâmetro associado: :dados_novos = {"tipo_movimentacao_id":"5","produtos":{"2":"0","3":"5","4":"0","5":"0","6":"0"},"observacao":""} (tipo: 2)
[2025-10-14 20:55:37] [DATABASE ERROR] Parâmetro associado: :usuario_id = 2 (tipo: 1)
[2025-10-14 20:55:37] [DATABASE ERROR] Parâmetro associado: :ip_address = ::1 (tipo: 2)
[2025-10-14 20:55:37] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 (tipo: 2)
[2025-10-14 20:55:37] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-10-14 20:55:37] [DATABASE ERROR] Parâmetro associado: :produto_id = 3 (tipo: 1)
[2025-10-14 20:55:37] [DATABASE ERROR] Parâmetro associado: :produto_id = 3 (tipo: 1)
[2025-10-14 20:55:37] [DATABASE ERROR] Parâmetro associado: :produto_id = 3 (tipo: 1)
[2025-10-14 20:55:37] [DATABASE ERROR] Parâmetro associado: :mensagem = Produto ggg com estoque baixo: 1.000 <= 1.000. (tipo: 2)
[2025-10-14 20:55:37] [DATABASE ERROR] Parâmetro associado: :admin_id = NULL (tipo: 1)
[2025-10-14 20:55:37] [DATABASE ERROR] Parâmetro associado: :produto_id = 3 (tipo: 1)
[2025-10-14 20:55:37] [DATABASE ERROR] Parâmetro associado: :mensagem = Produto ggg com estoque baixo: 1.000 <= 1.000. (tipo: 2)
[2025-10-14 20:55:37] [DATABASE ERROR] Parâmetro associado: :admin_id = NULL (tipo: 1)
[2025-10-14 20:55:37] [DATABASE ERROR] Parâmetro associado: :tabela = alertas_estoque (tipo: 2)
[2025-10-14 20:55:37] [DATABASE ERROR] Parâmetro associado: :registro_id = 3 (tipo: 2)
[2025-10-14 20:55:37] [DATABASE ERROR] Parâmetro associado: :acao = alertas_estoque (tipo: 2)
[2025-10-14 20:55:37] [DATABASE ERROR] Parâmetro associado: :dados_anteriores = "INSERT" (tipo: 2)
[2025-10-14 20:55:37] [DATABASE ERROR] Parâmetro associado: :dados_novos = NULL (tipo: 0)
[2025-10-14 20:55:37] [DATABASE ERROR] Parâmetro associado: :usuario_id = 2 (tipo: 1)
[2025-10-14 20:55:37] [DATABASE ERROR] Parâmetro associado: :ip_address = ::1 (tipo: 2)
[2025-10-14 20:55:37] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 (tipo: 2)
[2025-10-14 20:55:37] [DATABASE ERROR] Parâmetro associado: :alert_id = 3 (tipo: 1)
[2025-10-14 20:55:40] [DATABASE ERROR] Parâmetro associado: :produto_id = 2 (tipo: 1)
[2025-10-14 20:55:40] [DATABASE ERROR] Parâmetro associado: :produto_id = 2 (tipo: 1)
[2025-10-14 20:55:40] [DATABASE ERROR] Parâmetro associado: :produto_id = 2 (tipo: 1)
[2025-10-14 20:55:40] [DATABASE ERROR] Parâmetro associado: :mensagem = Produto teste com estoque baixo: 1.000 <= 1.000. (tipo: 2)
[2025-10-14 20:55:40] [DATABASE ERROR] Parâmetro associado: :admin_id = NULL (tipo: 1)
[2025-10-14 20:55:40] [DATABASE ERROR] Parâmetro associado: :produto_id = 2 (tipo: 1)
[2025-10-14 20:55:40] [DATABASE ERROR] Parâmetro associado: :mensagem = Produto teste com estoque baixo: 1.000 <= 1.000. (tipo: 2)
[2025-10-14 20:55:40] [DATABASE ERROR] Parâmetro associado: :admin_id = NULL (tipo: 1)
[2025-10-14 20:55:40] [DATABASE ERROR] Parâmetro associado: :tabela = alertas_estoque (tipo: 2)
[2025-10-14 20:55:40] [DATABASE ERROR] Parâmetro associado: :registro_id = 5 (tipo: 2)
[2025-10-14 20:55:40] [DATABASE ERROR] Parâmetro associado: :acao = alertas_estoque (tipo: 2)
[2025-10-14 20:55:40] [DATABASE ERROR] Parâmetro associado: :dados_anteriores = "INSERT" (tipo: 2)
[2025-10-14 20:55:40] [DATABASE ERROR] Parâmetro associado: :dados_novos = NULL (tipo: 0)
[2025-10-14 20:55:40] [DATABASE ERROR] Parâmetro associado: :usuario_id = 2 (tipo: 1)
[2025-10-14 20:55:40] [DATABASE ERROR] Parâmetro associado: :ip_address = ::1 (tipo: 2)
[2025-10-14 20:55:40] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 (tipo: 2)
[2025-10-14 20:55:40] [DATABASE ERROR] Parâmetro associado: :alert_id = 5 (tipo: 1)
[2025-10-14 20:55:43] [DATABASE ERROR] Parâmetro associado: :produto_id = 3 (tipo: 1)
[2025-10-14 20:55:43] [DATABASE ERROR] Parâmetro associado: :produto_id = 3 (tipo: 1)
[2025-10-14 20:55:43] [DATABASE ERROR] Parâmetro associado: :produto_id = 4 (tipo: 1)
[2025-10-14 20:55:43] [DATABASE ERROR] Parâmetro associado: :produto_id = 5 (tipo: 1)
[2025-10-14 20:55:43] [DATABASE ERROR] Parâmetro associado: :produto_id = 6 (tipo: 1)
[2025-10-14 20:58:24] [DATABASE ERROR] Preparando query: SELECT * FROM produtos WHERE ativo = :value com parâmetros: {":value":1}
[2025-10-14 20:58:24] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-10-14 20:58:24] [DATABASE ERROR] Debug PDO após binding: SQL: [43] SELECT * FROM produtos WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-10-14 20:58:32] [DATABASE ERROR] Parâmetro associado: :tabela = movimentacoes (tipo: 2)
[2025-10-14 20:58:32] [DATABASE ERROR] Parâmetro associado: :registro_id = 141 (tipo: 2)
[2025-10-14 20:58:32] [DATABASE ERROR] Parâmetro associado: :acao = INSERT (tipo: 2)
[2025-10-14 20:58:32] [DATABASE ERROR] Parâmetro associado: :dados_anteriores = NULL (tipo: 0)
[2025-10-14 20:58:32] [DATABASE ERROR] Parâmetro associado: :dados_novos = {"tipo_movimentacao_id":"5","produtos":{"2":"0","3":"0","4":"31","5":"0","6":"0"},"observacao":""} (tipo: 2)
[2025-10-14 20:58:32] [DATABASE ERROR] Parâmetro associado: :usuario_id = 2 (tipo: 1)
[2025-10-14 20:58:32] [DATABASE ERROR] Parâmetro associado: :ip_address = ::1 (tipo: 2)
[2025-10-14 20:58:32] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 (tipo: 2)
[2025-10-14 20:58:32] [DATABASE ERROR] Parâmetro associado: :id = 4 (tipo: 1)
[2025-10-14 20:58:32] [DATABASE ERROR] Parâmetro associado: :produto_id = 4 (tipo: 1)
[2025-10-14 20:58:32] [DATABASE ERROR] Parâmetro associado: :produto_id = 4 (tipo: 1)
[2025-10-14 20:59:02] [DATABASE ERROR] Parâmetro associado: :produto_id = 4 (tipo: 1)
[2025-10-14 20:59:03] [DATABASE ERROR] Parâmetro associado: :mensagem = Produto ggg1 com estoque baixo: 1.000 <= 1.000. (tipo: 2)
[2025-10-14 20:59:03] [DATABASE ERROR] Parâmetro associado: :admin_id = NULL (tipo: 1)
[2025-10-14 21:00:29] [DATABASE ERROR] Parâmetro associado: :produto_id = 4 (tipo: 1)
[2025-10-14 21:00:30] [DATABASE ERROR] Parâmetro associado: :mensagem = Produto ggg1 com estoque baixo: 1.000 <= 1.000. (tipo: 2)
[2025-10-14 21:00:30] [DATABASE ERROR] Parâmetro associado: :admin_id = NULL (tipo: 1)
[2025-10-14 21:00:33] [DATABASE ERROR] Parâmetro associado: :tabela = alertas_estoque (tipo: 2)
[2025-10-14 21:00:33] [DATABASE ERROR] Parâmetro associado: :registro_id = 7 (tipo: 2)
[2025-10-14 21:00:33] [DATABASE ERROR] Parâmetro associado: :acao = alertas_estoque (tipo: 2)
[2025-10-14 21:00:33] [DATABASE ERROR] Parâmetro associado: :dados_anteriores = "INSERT" (tipo: 2)
[2025-10-14 21:00:33] [DATABASE ERROR] Parâmetro associado: :dados_novos = NULL (tipo: 0)
[2025-10-14 21:00:33] [DATABASE ERROR] Parâmetro associado: :usuario_id = 2 (tipo: 1)
[2025-10-14 21:00:33] [DATABASE ERROR] Parâmetro associado: :ip_address = ::1 (tipo: 2)
[2025-10-14 21:00:33] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 (tipo: 2)
[2025-10-14 21:00:34] [DATABASE ERROR] Parâmetro associado: :alert_id = 7 (tipo: 1)
[2025-10-14 21:00:49] [DATABASE ERROR] Parâmetro associado: :produto_id = 2 (tipo: 1)
[2025-10-14 21:00:49] [DATABASE ERROR] Parâmetro associado: :produto_id = 2 (tipo: 1)
[2025-10-14 21:00:49] [DATABASE ERROR] Parâmetro associado: :produto_id = 3 (tipo: 1)
[2025-10-14 21:00:49] [DATABASE ERROR] Parâmetro associado: :produto_id = 3 (tipo: 1)
[2025-10-14 21:00:49] [DATABASE ERROR] Parâmetro associado: :produto_id = 4 (tipo: 1)
[2025-10-14 21:00:49] [DATABASE ERROR] Parâmetro associado: :produto_id = 4 (tipo: 1)
[2025-10-14 21:00:49] [DATABASE ERROR] Parâmetro associado: :produto_id = 5 (tipo: 1)
[2025-10-14 21:00:49] [DATABASE ERROR] Parâmetro associado: :produto_id = 6 (tipo: 1)
[2025-10-14 21:03:27] [DATABASE ERROR] Parâmetro associado: :id = 5 (tipo: 1)
[2025-10-14 21:03:27] [DATABASE ERROR] Parâmetro associado: :id = 5 (tipo: 1)
[2025-10-14 21:03:27] [DATABASE ERROR] Parâmetro associado: :produto_id = 5 (tipo: 1)
[2025-10-14 21:03:27] [DATABASE ERROR] Parâmetro associado: :produto_id = 5 (tipo: 1)
[2025-10-14 21:03:37] [DATABASE ERROR] Parâmetro associado: :produto_id = 5 (tipo: 1)
[2025-10-14 21:03:37] [DATABASE ERROR] Parâmetro associado: :mensagem = Produto Leite A integral bag com estoque baixo: 1.000 <= 1.000. (tipo: 2)
[2025-10-14 21:03:37] [DATABASE ERROR] Parâmetro associado: :admin_id = 1 (tipo: 1)
[2025-10-14 21:03:37] [DATABASE ERROR] Parâmetro associado: :produto_id = 5 (tipo: 1)
[2025-10-14 21:03:37] [DATABASE ERROR] Parâmetro associado: :mensagem = Produto Leite A integral bag com estoque baixo: 1.000 <= 1.000. (tipo: 2)
[2025-10-14 21:03:37] [DATABASE ERROR] Parâmetro associado: :admin_id = 3 (tipo: 1)
[2025-10-14 21:03:37] [DATABASE ERROR] Parâmetro associado: :tabela = alertas_estoque (tipo: 2)
[2025-10-14 21:03:37] [DATABASE ERROR] Parâmetro associado: :registro_id = 9 (tipo: 2)
[2025-10-14 21:03:37] [DATABASE ERROR] Parâmetro associado: :acao = alertas_estoque (tipo: 2)
[2025-10-14 21:03:37] [DATABASE ERROR] Parâmetro associado: :dados_anteriores = "INSERT" (tipo: 2)
[2025-10-14 21:03:37] [DATABASE ERROR] Parâmetro associado: :dados_novos = NULL (tipo: 0)
[2025-10-14 21:03:37] [DATABASE ERROR] Parâmetro associado: :usuario_id = 2 (tipo: 1)
[2025-10-14 21:03:37] [DATABASE ERROR] Parâmetro associado: :ip_address = ::1 (tipo: 2)
[2025-10-14 21:03:37] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 (tipo: 2)
[2025-10-14 21:03:37] [DATABASE ERROR] Parâmetro associado: :alert_id = 9 (tipo: 1)
[2025-10-14 21:06:48] [DATABASE ERROR] Parâmetro associado: :user_id = 2 (tipo: 1)
[2025-10-14 21:06:48] [DATABASE ERROR] Parâmetro associado: :tabela = usuarios (tipo: 2)
[2025-10-14 21:06:48] [DATABASE ERROR] Parâmetro associado: :registro_id = NULL (tipo: 0)
[2025-10-14 21:06:48] [DATABASE ERROR] Parâmetro associado: :acao = LOGOUT (tipo: 2)
[2025-10-14 21:06:48] [DATABASE ERROR] Parâmetro associado: :dados_anteriores = NULL (tipo: 0)
[2025-10-14 21:06:48] [DATABASE ERROR] Parâmetro associado: :dados_novos = NULL (tipo: 0)
[2025-10-14 21:06:48] [DATABASE ERROR] Parâmetro associado: :usuario_id = NULL (tipo: 0)
[2025-10-14 21:06:48] [DATABASE ERROR] Parâmetro associado: :ip_address = ::1 (tipo: 2)
[2025-10-14 21:06:48] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 (tipo: 2)
[2025-10-14 21:06:48] [DATABASE ERROR] Erro ao executar query: SQLSTATE[23000]: Integrity constraint violation: 1048 Column 'registro_id' cannot be null
[2025-10-14 21:06:53] [DATABASE ERROR] Parâmetro associado: :username = admin (tipo: 2)
[2025-10-14 21:06:53] [DATABASE ERROR] Parâmetro associado: :email = admin (tipo: 2)
[2025-10-14 21:06:53] [DATABASE ERROR] Preparando query: UPDATE usuarios SET ultimo_acesso = NOW() WHERE id = :id com parâmetros: {":id":1}
[2025-10-14 21:06:53] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-10-14 21:06:53] [DATABASE ERROR] Debug PDO após binding: SQL: [56] UPDATE usuarios SET ultimo_acesso = NOW() WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-14 21:06:53] [DATABASE ERROR] Parâmetro associado: :tabela = usuarios (tipo: 2)
[2025-10-14 21:06:53] [DATABASE ERROR] Parâmetro associado: :registro_id = 1 (tipo: 1)
[2025-10-14 21:06:53] [DATABASE ERROR] Parâmetro associado: :acao = LOGIN (tipo: 2)
[2025-10-14 21:06:53] [DATABASE ERROR] Parâmetro associado: :dados_anteriores = NULL (tipo: 0)
[2025-10-14 21:06:53] [DATABASE ERROR] Parâmetro associado: :dados_novos = NULL (tipo: 0)
[2025-10-14 21:06:53] [DATABASE ERROR] Parâmetro associado: :usuario_id = NULL (tipo: 0)
[2025-10-14 21:06:53] [DATABASE ERROR] Parâmetro associado: :ip_address = ::1 (tipo: 2)
[2025-10-14 21:06:53] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 (tipo: 2)
[2025-10-14 21:06:53] [DATABASE ERROR] Parâmetro associado: :id = 7n26bckg31pum99vj67lpngudc (tipo: 2)
[2025-10-14 21:06:53] [DATABASE ERROR] Parâmetro associado: :id = 7n26bckg31pum99vj67lpngudc (tipo: 2)
[2025-10-14 21:06:53] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-10-14 21:06:53] [DATABASE ERROR] Parâmetro associado: :ip_address = ::1 (tipo: 2)
[2025-10-14 21:06:53] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 (tipo: 2)
[2025-10-14 21:06:53] [DATABASE ERROR] Parâmetro associado: :dados = {"user_id":1,"user_name":"Administrador do Sistema","user_email":"admin@sorveteria.com","user_profile":1,"user_profile_name":"Administrador","logged_in":true,"login_time":1760486813} (tipo: 2)
[2025-10-14 21:06:54] [DATABASE ERROR] Preparando query: SELECT id, codigo, nome, estoque_atual, estoque_minimo, categoria, fornecedor 
                    FROM vw_produtos_estoque_critico 
                    ORDER BY estoque_atual ASC 
                    LIMIT 10 com parâmetros: []
[2025-10-14 21:06:54] [DATABASE ERROR] Debug PDO após binding: SQL: [212] SELECT id, codigo, nome, estoque_atual, estoque_minimo, categoria, fornecedor 
                    FROM vw_produtos_estoque_critico 
                    ORDER BY estoque_atual ASC 
                    LIMIT 10
Params:  0

[2025-10-14 21:06:54] [DATABASE ERROR] Preparando query: SELECT SUM(estoque_atual) as total_estoque FROM produtos WHERE ativo = TRUE com parâmetros: []
[2025-10-14 21:06:54] [DATABASE ERROR] Debug PDO após binding: SQL: [75] SELECT SUM(estoque_atual) as total_estoque FROM produtos WHERE ativo = TRUE
Params:  0

[2025-10-14 21:06:54] [DATABASE ERROR] Preparando query: SELECT id FROM produtos WHERE ativo = TRUE com parâmetros: []
[2025-10-14 21:06:54] [DATABASE ERROR] Debug PDO após binding: SQL: [42] SELECT id FROM produtos WHERE ativo = TRUE
Params:  0

[2025-10-14 21:06:54] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":2,":data_fim_a":null,":data_fim":null}
[2025-10-14 21:06:54] [DATABASE ERROR] Parâmetro associado: :produto_id = 2 (tipo: 1)
[2025-10-14 21:06:54] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-10-14 21:06:54] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-10-14 21:06:54] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-10-14 21:06:54] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":2}
[2025-10-14 21:06:54] [DATABASE ERROR] Parâmetro associado: :id = 2 (tipo: 1)
[2025-10-14 21:06:54] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-14 21:06:54] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":3,":data_fim_a":null,":data_fim":null}
[2025-10-14 21:06:54] [DATABASE ERROR] Parâmetro associado: :produto_id = 3 (tipo: 1)
[2025-10-14 21:06:54] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-10-14 21:06:54] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-10-14 21:06:54] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-10-14 21:06:54] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":3}
[2025-10-14 21:06:54] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-10-14 21:06:54] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-14 21:06:54] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":4,":data_fim_a":null,":data_fim":null}
[2025-10-14 21:06:54] [DATABASE ERROR] Parâmetro associado: :produto_id = 4 (tipo: 1)
[2025-10-14 21:06:54] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-10-14 21:06:54] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-10-14 21:06:54] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-10-14 21:06:54] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":4}
[2025-10-14 21:06:54] [DATABASE ERROR] Parâmetro associado: :id = 4 (tipo: 1)
[2025-10-14 21:06:54] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-14 21:06:54] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":5,":data_fim_a":null,":data_fim":null}
[2025-10-14 21:06:54] [DATABASE ERROR] Parâmetro associado: :produto_id = 5 (tipo: 1)
[2025-10-14 21:06:54] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-10-14 21:06:54] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-10-14 21:06:54] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-10-14 21:06:54] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":5}
[2025-10-14 21:06:54] [DATABASE ERROR] Parâmetro associado: :id = 5 (tipo: 1)
[2025-10-14 21:06:54] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-14 21:06:54] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":6,":data_fim_a":null,":data_fim":null}
[2025-10-14 21:06:54] [DATABASE ERROR] Parâmetro associado: :produto_id = 6 (tipo: 1)
[2025-10-14 21:06:54] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-10-14 21:06:54] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-10-14 21:06:54] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-10-14 21:06:54] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":6}
[2025-10-14 21:06:54] [DATABASE ERROR] Parâmetro associado: :id = 6 (tipo: 1)
[2025-10-14 21:06:54] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-14 21:06:54] [DATABASE ERROR] Preparando query: 
                SELECT 
                    DATE_FORMAT(m.data_movimentacao, '%Y-%m') as periodo,
                    tm.tipo,
                    SUM(mi.quantidade) as total_quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                WHERE m.status = 'PROCESSADO'
                    AND m.data_movimentacao >= DATE_SUB(CURDATE(), INTERVAL 6 MONTH)
                GROUP BY periodo, tm.tipo
                ORDER BY periodo ASC com parâmetros: []
[2025-10-14 21:06:54] [DATABASE ERROR] Debug PDO após binding: SQL: [593] 
                SELECT 
                    DATE_FORMAT(m.data_movimentacao, '%Y-%m') as periodo,
                    tm.tipo,
                    SUM(mi.quantidade) as total_quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                WHERE m.status = 'PROCESSADO'
                    AND m.data_movimentacao >= DATE_SUB(CURDATE(), INTERVAL 6 MONTH)
                GROUP BY periodo, tm.tipo
                ORDER BY periodo ASC
Params:  0

[2025-10-14 21:06:54] [DATABASE ERROR] Preparando query: SELECT id, tipo, categoria, documento_numero, data_movimentacao, valor_total, fornecedor, usuario 
                    FROM vw_movimentacoes_recentes 
                    ORDER BY data_movimentacao DESC 
                    LIMIT 10 com parâmetros: []
[2025-10-14 21:06:54] [DATABASE ERROR] Debug PDO após binding: SQL: [235] SELECT id, tipo, categoria, documento_numero, data_movimentacao, valor_total, fornecedor, usuario 
                    FROM vw_movimentacoes_recentes 
                    ORDER BY data_movimentacao DESC 
                    LIMIT 10
Params:  0

[2025-10-14 21:11:21] [DATABASE ERROR] Preparando query: SELECT SUM(estoque_atual) as total_estoque FROM produtos WHERE ativo = TRUE com parâmetros: []
[2025-10-14 21:11:21] [DATABASE ERROR] Debug PDO após binding: SQL: [75] SELECT SUM(estoque_atual) as total_estoque FROM produtos WHERE ativo = TRUE
Params:  0

[2025-10-14 21:11:21] [DATABASE ERROR] Preparando query: SELECT id FROM produtos WHERE ativo = TRUE com parâmetros: []
[2025-10-14 21:11:21] [DATABASE ERROR] Debug PDO após binding: SQL: [42] SELECT id FROM produtos WHERE ativo = TRUE
Params:  0

[2025-10-14 21:11:21] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":2,":data_fim_a":null,":data_fim":null}
[2025-10-14 21:11:21] [DATABASE ERROR] Parâmetro associado: :produto_id = 2 (tipo: 1)
[2025-10-14 21:11:21] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-10-14 21:11:21] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-10-14 21:11:21] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-10-14 21:11:21] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":2}
[2025-10-14 21:11:21] [DATABASE ERROR] Parâmetro associado: :id = 2 (tipo: 1)
[2025-10-14 21:11:21] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-14 21:11:21] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":3,":data_fim_a":null,":data_fim":null}
[2025-10-14 21:11:21] [DATABASE ERROR] Parâmetro associado: :produto_id = 3 (tipo: 1)
[2025-10-14 21:11:21] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-10-14 21:11:21] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-10-14 21:11:21] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-10-14 21:11:21] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":3}
[2025-10-14 21:11:21] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-10-14 21:11:21] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-14 21:11:21] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":4,":data_fim_a":null,":data_fim":null}
[2025-10-14 21:11:21] [DATABASE ERROR] Parâmetro associado: :produto_id = 4 (tipo: 1)
[2025-10-14 21:11:21] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-10-14 21:11:21] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-10-14 21:11:21] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-10-14 21:11:21] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":4}
[2025-10-14 21:11:21] [DATABASE ERROR] Parâmetro associado: :id = 4 (tipo: 1)
[2025-10-14 21:11:21] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-14 21:11:21] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":5,":data_fim_a":null,":data_fim":null}
[2025-10-14 21:11:21] [DATABASE ERROR] Parâmetro associado: :produto_id = 5 (tipo: 1)
[2025-10-14 21:11:21] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-10-14 21:11:21] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-10-14 21:11:21] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-10-14 21:11:21] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":5}
[2025-10-14 21:11:21] [DATABASE ERROR] Parâmetro associado: :id = 5 (tipo: 1)
[2025-10-14 21:11:21] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-14 21:11:21] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":6,":data_fim_a":null,":data_fim":null}
[2025-10-14 21:11:21] [DATABASE ERROR] Parâmetro associado: :produto_id = 6 (tipo: 1)
[2025-10-14 21:11:21] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-10-14 21:11:21] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-10-14 21:11:21] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-10-14 21:11:21] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":6}
[2025-10-14 21:11:21] [DATABASE ERROR] Parâmetro associado: :id = 6 (tipo: 1)
[2025-10-14 21:11:21] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-14 21:11:21] [DATABASE ERROR] Preparando query: SELECT id, codigo, nome, estoque_atual, estoque_minimo, categoria, fornecedor 
                    FROM vw_produtos_estoque_critico 
                    ORDER BY estoque_atual ASC 
                    LIMIT 10 com parâmetros: []
[2025-10-14 21:11:21] [DATABASE ERROR] Debug PDO após binding: SQL: [212] SELECT id, codigo, nome, estoque_atual, estoque_minimo, categoria, fornecedor 
                    FROM vw_produtos_estoque_critico 
                    ORDER BY estoque_atual ASC 
                    LIMIT 10
Params:  0

[2025-10-14 21:11:21] [DATABASE ERROR] Preparando query: SELECT id, tipo, categoria, documento_numero, data_movimentacao, valor_total, fornecedor, usuario 
                    FROM vw_movimentacoes_recentes 
                    ORDER BY data_movimentacao DESC 
                    LIMIT 10 com parâmetros: []
[2025-10-14 21:11:21] [DATABASE ERROR] Debug PDO após binding: SQL: [235] SELECT id, tipo, categoria, documento_numero, data_movimentacao, valor_total, fornecedor, usuario 
                    FROM vw_movimentacoes_recentes 
                    ORDER BY data_movimentacao DESC 
                    LIMIT 10
Params:  0

[2025-10-14 21:11:21] [DATABASE ERROR] Preparando query: 
                SELECT 
                    DATE_FORMAT(m.data_movimentacao, '%Y-%m') as periodo,
                    tm.tipo,
                    SUM(mi.quantidade) as total_quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                WHERE m.status = 'PROCESSADO'
                    AND m.data_movimentacao >= DATE_SUB(CURDATE(), INTERVAL 6 MONTH)
                GROUP BY periodo, tm.tipo
                ORDER BY periodo ASC com parâmetros: []
[2025-10-14 21:11:21] [DATABASE ERROR] Debug PDO após binding: SQL: [593] 
                SELECT 
                    DATE_FORMAT(m.data_movimentacao, '%Y-%m') as periodo,
                    tm.tipo,
                    SUM(mi.quantidade) as total_quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                WHERE m.status = 'PROCESSADO'
                    AND m.data_movimentacao >= DATE_SUB(CURDATE(), INTERVAL 6 MONTH)
                GROUP BY periodo, tm.tipo
                ORDER BY periodo ASC
Params:  0

[2025-10-14 21:11:39] [DATABASE ERROR] Preparando query: SELECT SUM(estoque_atual) as total_estoque FROM produtos WHERE ativo = TRUE com parâmetros: []
[2025-10-14 21:11:39] [DATABASE ERROR] Debug PDO após binding: SQL: [75] SELECT SUM(estoque_atual) as total_estoque FROM produtos WHERE ativo = TRUE
Params:  0

[2025-10-14 21:11:39] [DATABASE ERROR] Preparando query: SELECT id FROM produtos WHERE ativo = TRUE com parâmetros: []
[2025-10-14 21:11:39] [DATABASE ERROR] Debug PDO após binding: SQL: [42] SELECT id FROM produtos WHERE ativo = TRUE
Params:  0

[2025-10-14 21:11:39] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":2,":data_fim_a":null,":data_fim":null}
[2025-10-14 21:11:39] [DATABASE ERROR] Parâmetro associado: :produto_id = 2 (tipo: 1)
[2025-10-14 21:11:39] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-10-14 21:11:39] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-10-14 21:11:39] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-10-14 21:11:39] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":2}
[2025-10-14 21:11:39] [DATABASE ERROR] Parâmetro associado: :id = 2 (tipo: 1)
[2025-10-14 21:11:39] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-14 21:11:39] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":3,":data_fim_a":null,":data_fim":null}
[2025-10-14 21:11:39] [DATABASE ERROR] Parâmetro associado: :produto_id = 3 (tipo: 1)
[2025-10-14 21:11:39] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-10-14 21:11:39] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-10-14 21:11:39] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-10-14 21:11:39] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":3}
[2025-10-14 21:11:39] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-10-14 21:11:39] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-14 21:11:39] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":4,":data_fim_a":null,":data_fim":null}
[2025-10-14 21:11:39] [DATABASE ERROR] Parâmetro associado: :produto_id = 4 (tipo: 1)
[2025-10-14 21:11:39] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-10-14 21:11:39] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-10-14 21:11:39] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-10-14 21:11:39] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":4}
[2025-10-14 21:11:39] [DATABASE ERROR] Parâmetro associado: :id = 4 (tipo: 1)
[2025-10-14 21:11:39] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-14 21:11:39] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":5,":data_fim_a":null,":data_fim":null}
[2025-10-14 21:11:39] [DATABASE ERROR] Parâmetro associado: :produto_id = 5 (tipo: 1)
[2025-10-14 21:11:39] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-10-14 21:11:39] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-10-14 21:11:39] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-10-14 21:11:39] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":5}
[2025-10-14 21:11:39] [DATABASE ERROR] Parâmetro associado: :id = 5 (tipo: 1)
[2025-10-14 21:11:39] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-14 21:11:39] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":6,":data_fim_a":null,":data_fim":null}
[2025-10-14 21:11:39] [DATABASE ERROR] Parâmetro associado: :produto_id = 6 (tipo: 1)
[2025-10-14 21:11:39] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-10-14 21:11:39] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-10-14 21:11:39] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-10-14 21:11:39] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":6}
[2025-10-14 21:11:39] [DATABASE ERROR] Parâmetro associado: :id = 6 (tipo: 1)
[2025-10-14 21:11:39] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-14 21:11:39] [DATABASE ERROR] Preparando query: SELECT id, codigo, nome, estoque_atual, estoque_minimo, categoria, fornecedor 
                    FROM vw_produtos_estoque_critico 
                    ORDER BY estoque_atual ASC 
                    LIMIT 10 com parâmetros: []
[2025-10-14 21:11:39] [DATABASE ERROR] Debug PDO após binding: SQL: [212] SELECT id, codigo, nome, estoque_atual, estoque_minimo, categoria, fornecedor 
                    FROM vw_produtos_estoque_critico 
                    ORDER BY estoque_atual ASC 
                    LIMIT 10
Params:  0

[2025-10-14 21:11:39] [DATABASE ERROR] Preparando query: 
                SELECT 
                    DATE_FORMAT(m.data_movimentacao, '%Y-%m') as periodo,
                    tm.tipo,
                    SUM(mi.quantidade) as total_quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                WHERE m.status = 'PROCESSADO'
                    AND m.data_movimentacao >= DATE_SUB(CURDATE(), INTERVAL 6 MONTH)
                GROUP BY periodo, tm.tipo
                ORDER BY periodo ASC com parâmetros: []
[2025-10-14 21:11:39] [DATABASE ERROR] Debug PDO após binding: SQL: [593] 
                SELECT 
                    DATE_FORMAT(m.data_movimentacao, '%Y-%m') as periodo,
                    tm.tipo,
                    SUM(mi.quantidade) as total_quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                WHERE m.status = 'PROCESSADO'
                    AND m.data_movimentacao >= DATE_SUB(CURDATE(), INTERVAL 6 MONTH)
                GROUP BY periodo, tm.tipo
                ORDER BY periodo ASC
Params:  0

[2025-10-14 21:11:39] [DATABASE ERROR] Preparando query: SELECT id, tipo, categoria, documento_numero, data_movimentacao, valor_total, fornecedor, usuario 
                    FROM vw_movimentacoes_recentes 
                    ORDER BY data_movimentacao DESC 
                    LIMIT 10 com parâmetros: []
[2025-10-14 21:11:39] [DATABASE ERROR] Debug PDO após binding: SQL: [235] SELECT id, tipo, categoria, documento_numero, data_movimentacao, valor_total, fornecedor, usuario 
                    FROM vw_movimentacoes_recentes 
                    ORDER BY data_movimentacao DESC 
                    LIMIT 10
Params:  0

[2025-10-14 21:12:47] [DATABASE ERROR] Parâmetro associado: :user_id = 1 (tipo: 1)
[2025-10-14 21:12:47] [DATABASE ERROR] Parâmetro associado: :tabela = usuarios (tipo: 2)
[2025-10-14 21:12:47] [DATABASE ERROR] Parâmetro associado: :registro_id = NULL (tipo: 0)
[2025-10-14 21:12:47] [DATABASE ERROR] Parâmetro associado: :acao = LOGOUT (tipo: 2)
[2025-10-14 21:12:47] [DATABASE ERROR] Parâmetro associado: :dados_anteriores = NULL (tipo: 0)
[2025-10-14 21:12:47] [DATABASE ERROR] Parâmetro associado: :dados_novos = NULL (tipo: 0)
[2025-10-14 21:12:47] [DATABASE ERROR] Parâmetro associado: :usuario_id = NULL (tipo: 0)
[2025-10-14 21:12:47] [DATABASE ERROR] Parâmetro associado: :ip_address = ::1 (tipo: 2)
[2025-10-14 21:12:47] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 (tipo: 2)
[2025-10-14 21:12:47] [DATABASE ERROR] Erro ao executar query: SQLSTATE[23000]: Integrity constraint violation: 1048 Column 'registro_id' cannot be null
[2025-10-14 21:12:52] [DATABASE ERROR] Parâmetro associado: :username = admin (tipo: 2)
[2025-10-14 21:12:52] [DATABASE ERROR] Parâmetro associado: :email = admin (tipo: 2)
[2025-10-14 21:12:52] [DATABASE ERROR] Preparando query: UPDATE usuarios SET ultimo_acesso = NOW() WHERE id = :id com parâmetros: {":id":1}
[2025-10-14 21:12:52] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-10-14 21:12:52] [DATABASE ERROR] Debug PDO após binding: SQL: [56] UPDATE usuarios SET ultimo_acesso = NOW() WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-14 21:12:52] [DATABASE ERROR] Parâmetro associado: :tabela = usuarios (tipo: 2)
[2025-10-14 21:12:52] [DATABASE ERROR] Parâmetro associado: :registro_id = 1 (tipo: 1)
[2025-10-14 21:12:52] [DATABASE ERROR] Parâmetro associado: :acao = LOGIN (tipo: 2)
[2025-10-14 21:12:52] [DATABASE ERROR] Parâmetro associado: :dados_anteriores = NULL (tipo: 0)
[2025-10-14 21:12:52] [DATABASE ERROR] Parâmetro associado: :dados_novos = NULL (tipo: 0)
[2025-10-14 21:12:52] [DATABASE ERROR] Parâmetro associado: :usuario_id = NULL (tipo: 0)
[2025-10-14 21:12:52] [DATABASE ERROR] Parâmetro associado: :ip_address = ::1 (tipo: 2)
[2025-10-14 21:12:52] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 (tipo: 2)
[2025-10-14 21:12:52] [DATABASE ERROR] Parâmetro associado: :id = 34pdv718htb119no8g4mthq1j0 (tipo: 2)
[2025-10-14 21:12:52] [DATABASE ERROR] Parâmetro associado: :id = 34pdv718htb119no8g4mthq1j0 (tipo: 2)
[2025-10-14 21:12:52] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-10-14 21:12:52] [DATABASE ERROR] Parâmetro associado: :ip_address = ::1 (tipo: 2)
[2025-10-14 21:12:52] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 (tipo: 2)
[2025-10-14 21:12:52] [DATABASE ERROR] Parâmetro associado: :dados = {"user_id":1,"user_name":"Administrador do Sistema","user_email":"admin@sorveteria.com","user_profile":1,"user_profile_name":"Administrador","logged_in":true,"login_time":1760487172} (tipo: 2)
[2025-10-14 21:12:52] [DATABASE ERROR] Preparando query: SELECT SUM(estoque_atual) as total_estoque FROM produtos WHERE ativo = TRUE com parâmetros: []
[2025-10-14 21:12:52] [DATABASE ERROR] Debug PDO após binding: SQL: [75] SELECT SUM(estoque_atual) as total_estoque FROM produtos WHERE ativo = TRUE
Params:  0

[2025-10-14 21:12:52] [DATABASE ERROR] Preparando query: SELECT id FROM produtos WHERE ativo = TRUE com parâmetros: []
[2025-10-14 21:12:52] [DATABASE ERROR] Debug PDO após binding: SQL: [42] SELECT id FROM produtos WHERE ativo = TRUE
Params:  0

[2025-10-14 21:12:52] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":2,":data_fim_a":null,":data_fim":null}
[2025-10-14 21:12:52] [DATABASE ERROR] Parâmetro associado: :produto_id = 2 (tipo: 1)
[2025-10-14 21:12:52] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-10-14 21:12:52] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-10-14 21:12:52] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-10-14 21:12:52] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":2}
[2025-10-14 21:12:52] [DATABASE ERROR] Parâmetro associado: :id = 2 (tipo: 1)
[2025-10-14 21:12:52] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-14 21:12:52] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":3,":data_fim_a":null,":data_fim":null}
[2025-10-14 21:12:52] [DATABASE ERROR] Parâmetro associado: :produto_id = 3 (tipo: 1)
[2025-10-14 21:12:52] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-10-14 21:12:52] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-10-14 21:12:52] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-10-14 21:12:52] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":3}
[2025-10-14 21:12:52] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-10-14 21:12:52] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-14 21:12:52] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":4,":data_fim_a":null,":data_fim":null}
[2025-10-14 21:12:52] [DATABASE ERROR] Parâmetro associado: :produto_id = 4 (tipo: 1)
[2025-10-14 21:12:52] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-10-14 21:12:52] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-10-14 21:12:52] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-10-14 21:12:52] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":4}
[2025-10-14 21:12:52] [DATABASE ERROR] Parâmetro associado: :id = 4 (tipo: 1)
[2025-10-14 21:12:52] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-14 21:12:52] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":5,":data_fim_a":null,":data_fim":null}
[2025-10-14 21:12:52] [DATABASE ERROR] Parâmetro associado: :produto_id = 5 (tipo: 1)
[2025-10-14 21:12:52] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-10-14 21:12:52] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-10-14 21:12:52] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-10-14 21:12:52] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":5}
[2025-10-14 21:12:52] [DATABASE ERROR] Parâmetro associado: :id = 5 (tipo: 1)
[2025-10-14 21:12:52] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-14 21:12:52] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":6,":data_fim_a":null,":data_fim":null}
[2025-10-14 21:12:52] [DATABASE ERROR] Parâmetro associado: :produto_id = 6 (tipo: 1)
[2025-10-14 21:12:52] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-10-14 21:12:52] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-10-14 21:12:52] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-10-14 21:12:52] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":6}
[2025-10-14 21:12:52] [DATABASE ERROR] Parâmetro associado: :id = 6 (tipo: 1)
[2025-10-14 21:12:52] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-14 21:12:52] [DATABASE ERROR] Preparando query: SELECT id, tipo, categoria, documento_numero, data_movimentacao, valor_total, fornecedor, usuario 
                    FROM vw_movimentacoes_recentes 
                    ORDER BY data_movimentacao DESC 
                    LIMIT 10 com parâmetros: []
[2025-10-14 21:12:52] [DATABASE ERROR] Debug PDO após binding: SQL: [235] SELECT id, tipo, categoria, documento_numero, data_movimentacao, valor_total, fornecedor, usuario 
                    FROM vw_movimentacoes_recentes 
                    ORDER BY data_movimentacao DESC 
                    LIMIT 10
Params:  0

[2025-10-14 21:12:52] [DATABASE ERROR] Preparando query: 
                SELECT 
                    DATE_FORMAT(m.data_movimentacao, '%Y-%m') as periodo,
                    tm.tipo,
                    SUM(mi.quantidade) as total_quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                WHERE m.status = 'PROCESSADO'
                    AND m.data_movimentacao >= DATE_SUB(CURDATE(), INTERVAL 6 MONTH)
                GROUP BY periodo, tm.tipo
                ORDER BY periodo ASC com parâmetros: []
[2025-10-14 21:12:52] [DATABASE ERROR] Debug PDO após binding: SQL: [593] 
                SELECT 
                    DATE_FORMAT(m.data_movimentacao, '%Y-%m') as periodo,
                    tm.tipo,
                    SUM(mi.quantidade) as total_quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                WHERE m.status = 'PROCESSADO'
                    AND m.data_movimentacao >= DATE_SUB(CURDATE(), INTERVAL 6 MONTH)
                GROUP BY periodo, tm.tipo
                ORDER BY periodo ASC
Params:  0

[2025-10-14 21:12:52] [DATABASE ERROR] Preparando query: SELECT id, codigo, nome, estoque_atual, estoque_minimo, categoria, fornecedor 
                    FROM vw_produtos_estoque_critico 
                    ORDER BY estoque_atual ASC 
                    LIMIT 10 com parâmetros: []
[2025-10-14 21:12:52] [DATABASE ERROR] Debug PDO após binding: SQL: [212] SELECT id, codigo, nome, estoque_atual, estoque_minimo, categoria, fornecedor 
                    FROM vw_produtos_estoque_critico 
                    ORDER BY estoque_atual ASC 
                    LIMIT 10
Params:  0

[2025-10-14 21:19:34] [DATABASE ERROR] Parâmetro associado: :usuario_id = NULL (tipo: 1)
[2025-10-14 21:19:34] [DATABASE ERROR] Parâmetro associado: :usuario_id = NULL (tipo: 1)
[2025-10-14 21:21:22] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-10-14 21:21:22] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-10-14 21:21:28] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-10-14 21:21:28] [DATABASE ERROR] Preparando query: SELECT SUM(estoque_atual) as total_estoque FROM produtos WHERE ativo = TRUE com parâmetros: []
[2025-10-14 21:21:28] [DATABASE ERROR] Debug PDO após binding: SQL: [75] SELECT SUM(estoque_atual) as total_estoque FROM produtos WHERE ativo = TRUE
Params:  0

[2025-10-14 21:21:28] [DATABASE ERROR] Preparando query: SELECT id FROM produtos WHERE ativo = TRUE com parâmetros: []
[2025-10-14 21:21:28] [DATABASE ERROR] Debug PDO após binding: SQL: [42] SELECT id FROM produtos WHERE ativo = TRUE
Params:  0

[2025-10-14 21:21:28] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":2,":data_fim_a":null,":data_fim":null}
[2025-10-14 21:21:28] [DATABASE ERROR] Parâmetro associado: :produto_id = 2 (tipo: 1)
[2025-10-14 21:21:28] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-10-14 21:21:28] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-10-14 21:21:28] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-10-14 21:21:28] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":2}
[2025-10-14 21:21:28] [DATABASE ERROR] Parâmetro associado: :id = 2 (tipo: 1)
[2025-10-14 21:21:28] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-14 21:21:28] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":3,":data_fim_a":null,":data_fim":null}
[2025-10-14 21:21:28] [DATABASE ERROR] Parâmetro associado: :produto_id = 3 (tipo: 1)
[2025-10-14 21:21:28] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-10-14 21:21:28] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-10-14 21:21:28] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-10-14 21:21:28] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":3}
[2025-10-14 21:21:28] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-10-14 21:21:28] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-14 21:21:28] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":4,":data_fim_a":null,":data_fim":null}
[2025-10-14 21:21:28] [DATABASE ERROR] Parâmetro associado: :produto_id = 4 (tipo: 1)
[2025-10-14 21:21:28] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-10-14 21:21:28] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-10-14 21:21:28] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-10-14 21:21:28] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":4}
[2025-10-14 21:21:28] [DATABASE ERROR] Parâmetro associado: :id = 4 (tipo: 1)
[2025-10-14 21:21:28] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-14 21:21:28] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":5,":data_fim_a":null,":data_fim":null}
[2025-10-14 21:21:28] [DATABASE ERROR] Parâmetro associado: :produto_id = 5 (tipo: 1)
[2025-10-14 21:21:28] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-10-14 21:21:28] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-10-14 21:21:28] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-10-14 21:21:28] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":5}
[2025-10-14 21:21:28] [DATABASE ERROR] Parâmetro associado: :id = 5 (tipo: 1)
[2025-10-14 21:21:28] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-14 21:21:28] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":6,":data_fim_a":null,":data_fim":null}
[2025-10-14 21:21:28] [DATABASE ERROR] Parâmetro associado: :produto_id = 6 (tipo: 1)
[2025-10-14 21:21:28] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-10-14 21:21:28] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-10-14 21:21:28] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-10-14 21:21:28] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":6}
[2025-10-14 21:21:28] [DATABASE ERROR] Parâmetro associado: :id = 6 (tipo: 1)
[2025-10-14 21:21:28] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-14 21:21:28] [DATABASE ERROR] Preparando query: SELECT id, tipo, categoria, documento_numero, data_movimentacao, valor_total, fornecedor, usuario 
                    FROM vw_movimentacoes_recentes 
                    ORDER BY data_movimentacao DESC 
                    LIMIT 10 com parâmetros: []
[2025-10-14 21:21:28] [DATABASE ERROR] Debug PDO após binding: SQL: [235] SELECT id, tipo, categoria, documento_numero, data_movimentacao, valor_total, fornecedor, usuario 
                    FROM vw_movimentacoes_recentes 
                    ORDER BY data_movimentacao DESC 
                    LIMIT 10
Params:  0

[2025-10-14 21:21:28] [DATABASE ERROR] Preparando query: 
                SELECT 
                    DATE_FORMAT(m.data_movimentacao, '%Y-%m') as periodo,
                    tm.tipo,
                    SUM(mi.quantidade) as total_quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                WHERE m.status = 'PROCESSADO'
                    AND m.data_movimentacao >= DATE_SUB(CURDATE(), INTERVAL 6 MONTH)
                GROUP BY periodo, tm.tipo
                ORDER BY periodo ASC com parâmetros: []
[2025-10-14 21:21:28] [DATABASE ERROR] Debug PDO após binding: SQL: [593] 
                SELECT 
                    DATE_FORMAT(m.data_movimentacao, '%Y-%m') as periodo,
                    tm.tipo,
                    SUM(mi.quantidade) as total_quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                WHERE m.status = 'PROCESSADO'
                    AND m.data_movimentacao >= DATE_SUB(CURDATE(), INTERVAL 6 MONTH)
                GROUP BY periodo, tm.tipo
                ORDER BY periodo ASC
Params:  0

[2025-10-14 21:21:28] [DATABASE ERROR] Preparando query: SELECT id, codigo, nome, estoque_atual, estoque_minimo, categoria, fornecedor 
                    FROM vw_produtos_estoque_critico 
                    ORDER BY estoque_atual ASC 
                    LIMIT 10 com parâmetros: []
[2025-10-14 21:21:28] [DATABASE ERROR] Debug PDO após binding: SQL: [212] SELECT id, codigo, nome, estoque_atual, estoque_minimo, categoria, fornecedor 
                    FROM vw_produtos_estoque_critico 
                    ORDER BY estoque_atual ASC 
                    LIMIT 10
Params:  0

[2025-10-14 21:21:32] [DATABASE ERROR] Parâmetro associado: :user_id = 1 (tipo: 1)
[2025-10-14 21:21:32] [DATABASE ERROR] Parâmetro associado: :tabela = usuarios (tipo: 2)
[2025-10-14 21:21:32] [DATABASE ERROR] Parâmetro associado: :registro_id = NULL (tipo: 0)
[2025-10-14 21:21:32] [DATABASE ERROR] Parâmetro associado: :acao = LOGOUT (tipo: 2)
[2025-10-14 21:21:32] [DATABASE ERROR] Parâmetro associado: :dados_anteriores = NULL (tipo: 0)
[2025-10-14 21:21:32] [DATABASE ERROR] Parâmetro associado: :dados_novos = NULL (tipo: 0)
[2025-10-14 21:21:32] [DATABASE ERROR] Parâmetro associado: :usuario_id = NULL (tipo: 0)
[2025-10-14 21:21:32] [DATABASE ERROR] Parâmetro associado: :ip_address = ::1 (tipo: 2)
[2025-10-14 21:21:32] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 (tipo: 2)
[2025-10-14 21:21:32] [DATABASE ERROR] Erro ao executar query: SQLSTATE[23000]: Integrity constraint violation: 1048 Column 'registro_id' cannot be null
[2025-10-14 21:21:39] [DATABASE ERROR] Parâmetro associado: :username = adm2 (tipo: 2)
[2025-10-14 21:21:39] [DATABASE ERROR] Parâmetro associado: :email = adm2 (tipo: 2)
[2025-10-14 21:21:40] [DATABASE ERROR] Preparando query: UPDATE usuarios SET ultimo_acesso = NOW() WHERE id = :id com parâmetros: {":id":3}
[2025-10-14 21:21:40] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-10-14 21:21:40] [DATABASE ERROR] Debug PDO após binding: SQL: [56] UPDATE usuarios SET ultimo_acesso = NOW() WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-14 21:21:40] [DATABASE ERROR] Parâmetro associado: :tabela = usuarios (tipo: 2)
[2025-10-14 21:21:40] [DATABASE ERROR] Parâmetro associado: :registro_id = 3 (tipo: 1)
[2025-10-14 21:21:40] [DATABASE ERROR] Parâmetro associado: :acao = LOGIN (tipo: 2)
[2025-10-14 21:21:40] [DATABASE ERROR] Parâmetro associado: :dados_anteriores = NULL (tipo: 0)
[2025-10-14 21:21:40] [DATABASE ERROR] Parâmetro associado: :dados_novos = NULL (tipo: 0)
[2025-10-14 21:21:40] [DATABASE ERROR] Parâmetro associado: :usuario_id = NULL (tipo: 0)
[2025-10-14 21:21:40] [DATABASE ERROR] Parâmetro associado: :ip_address = ::1 (tipo: 2)
[2025-10-14 21:21:40] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 (tipo: 2)
[2025-10-14 21:21:40] [DATABASE ERROR] Parâmetro associado: :id = bl84n2fsl5aljninljcju9rd66 (tipo: 2)
[2025-10-14 21:21:40] [DATABASE ERROR] Parâmetro associado: :id = bl84n2fsl5aljninljcju9rd66 (tipo: 2)
[2025-10-14 21:21:40] [DATABASE ERROR] Parâmetro associado: :usuario_id = 3 (tipo: 1)
[2025-10-14 21:21:40] [DATABASE ERROR] Parâmetro associado: :ip_address = ::1 (tipo: 2)
[2025-10-14 21:21:40] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 (tipo: 2)
[2025-10-14 21:21:40] [DATABASE ERROR] Parâmetro associado: :dados = {"user_id":3,"user_name":"Adm2","user_email":"adm2@borela.com","user_profile":1,"user_profile_name":"Administrador","logged_in":true,"login_time":1760487700} (tipo: 2)
[2025-10-14 21:21:40] [DATABASE ERROR] Parâmetro associado: :usuario_id = 3 (tipo: 1)
[2025-10-14 21:21:40] [DATABASE ERROR] Preparando query: SELECT SUM(estoque_atual) as total_estoque FROM produtos WHERE ativo = TRUE com parâmetros: []
[2025-10-14 21:21:40] [DATABASE ERROR] Debug PDO após binding: SQL: [75] SELECT SUM(estoque_atual) as total_estoque FROM produtos WHERE ativo = TRUE
Params:  0

[2025-10-14 21:21:40] [DATABASE ERROR] Preparando query: SELECT id FROM produtos WHERE ativo = TRUE com parâmetros: []
[2025-10-14 21:21:40] [DATABASE ERROR] Debug PDO após binding: SQL: [42] SELECT id FROM produtos WHERE ativo = TRUE
Params:  0

[2025-10-14 21:21:40] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":2,":data_fim_a":null,":data_fim":null}
[2025-10-14 21:21:40] [DATABASE ERROR] Parâmetro associado: :produto_id = 2 (tipo: 1)
[2025-10-14 21:21:40] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-10-14 21:21:40] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-10-14 21:21:40] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-10-14 21:21:40] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":2}
[2025-10-14 21:21:40] [DATABASE ERROR] Parâmetro associado: :id = 2 (tipo: 1)
[2025-10-14 21:21:40] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-14 21:21:40] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":3,":data_fim_a":null,":data_fim":null}
[2025-10-14 21:21:40] [DATABASE ERROR] Parâmetro associado: :produto_id = 3 (tipo: 1)
[2025-10-14 21:21:40] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-10-14 21:21:40] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-10-14 21:21:40] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-10-14 21:21:40] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":3}
[2025-10-14 21:21:40] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-10-14 21:21:40] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-14 21:21:40] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":4,":data_fim_a":null,":data_fim":null}
[2025-10-14 21:21:40] [DATABASE ERROR] Parâmetro associado: :produto_id = 4 (tipo: 1)
[2025-10-14 21:21:40] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-10-14 21:21:40] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-10-14 21:21:40] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-10-14 21:21:40] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":4}
[2025-10-14 21:21:40] [DATABASE ERROR] Parâmetro associado: :id = 4 (tipo: 1)
[2025-10-14 21:21:40] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-14 21:21:40] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":5,":data_fim_a":null,":data_fim":null}
[2025-10-14 21:21:40] [DATABASE ERROR] Parâmetro associado: :produto_id = 5 (tipo: 1)
[2025-10-14 21:21:40] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-10-14 21:21:40] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-10-14 21:21:40] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-10-14 21:21:40] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":5}
[2025-10-14 21:21:40] [DATABASE ERROR] Parâmetro associado: :id = 5 (tipo: 1)
[2025-10-14 21:21:40] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-14 21:21:40] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":6,":data_fim_a":null,":data_fim":null}
[2025-10-14 21:21:40] [DATABASE ERROR] Parâmetro associado: :produto_id = 6 (tipo: 1)
[2025-10-14 21:21:40] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-10-14 21:21:40] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-10-14 21:21:40] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-10-14 21:21:40] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":6}
[2025-10-14 21:21:40] [DATABASE ERROR] Parâmetro associado: :id = 6 (tipo: 1)
[2025-10-14 21:21:40] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-14 21:21:40] [DATABASE ERROR] Preparando query: SELECT id, codigo, nome, estoque_atual, estoque_minimo, categoria, fornecedor 
                    FROM vw_produtos_estoque_critico 
                    ORDER BY estoque_atual ASC 
                    LIMIT 10 com parâmetros: []
[2025-10-14 21:21:40] [DATABASE ERROR] Debug PDO após binding: SQL: [212] SELECT id, codigo, nome, estoque_atual, estoque_minimo, categoria, fornecedor 
                    FROM vw_produtos_estoque_critico 
                    ORDER BY estoque_atual ASC 
                    LIMIT 10
Params:  0

[2025-10-14 21:21:40] [DATABASE ERROR] Preparando query: SELECT id, tipo, categoria, documento_numero, data_movimentacao, valor_total, fornecedor, usuario 
                    FROM vw_movimentacoes_recentes 
                    ORDER BY data_movimentacao DESC 
                    LIMIT 10 com parâmetros: []
[2025-10-14 21:21:40] [DATABASE ERROR] Debug PDO após binding: SQL: [235] SELECT id, tipo, categoria, documento_numero, data_movimentacao, valor_total, fornecedor, usuario 
                    FROM vw_movimentacoes_recentes 
                    ORDER BY data_movimentacao DESC 
                    LIMIT 10
Params:  0

[2025-10-14 21:21:40] [DATABASE ERROR] Preparando query: 
                SELECT 
                    DATE_FORMAT(m.data_movimentacao, '%Y-%m') as periodo,
                    tm.tipo,
                    SUM(mi.quantidade) as total_quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                WHERE m.status = 'PROCESSADO'
                    AND m.data_movimentacao >= DATE_SUB(CURDATE(), INTERVAL 6 MONTH)
                GROUP BY periodo, tm.tipo
                ORDER BY periodo ASC com parâmetros: []
[2025-10-14 21:21:40] [DATABASE ERROR] Debug PDO após binding: SQL: [593] 
                SELECT 
                    DATE_FORMAT(m.data_movimentacao, '%Y-%m') as periodo,
                    tm.tipo,
                    SUM(mi.quantidade) as total_quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                WHERE m.status = 'PROCESSADO'
                    AND m.data_movimentacao >= DATE_SUB(CURDATE(), INTERVAL 6 MONTH)
                GROUP BY periodo, tm.tipo
                ORDER BY periodo ASC
Params:  0

[2025-10-14 21:21:43] [DATABASE ERROR] Parâmetro associado: :usuario_id = 3 (tipo: 1)
[2025-10-14 21:21:43] [DATABASE ERROR] Parâmetro associado: :usuario_id = 3 (tipo: 1)
[2025-10-14 21:22:33] [DATABASE ERROR] Parâmetro associado: :usuario_id = 3 (tipo: 1)
[2025-10-14 21:22:34] [DATABASE ERROR] Parâmetro associado: :usuario_id = 3 (tipo: 1)
[2025-10-14 21:22:37] [DATABASE ERROR] Parâmetro associado: :usuario_id = 3 (tipo: 1)
[2025-10-14 21:22:37] [DATABASE ERROR] Preparando query: SELECT id, codigo, nome, estoque_atual, estoque_minimo, categoria, fornecedor 
                    FROM vw_produtos_estoque_critico 
                    ORDER BY estoque_atual ASC 
                    LIMIT 10 com parâmetros: []
[2025-10-14 21:22:37] [DATABASE ERROR] Debug PDO após binding: SQL: [212] SELECT id, codigo, nome, estoque_atual, estoque_minimo, categoria, fornecedor 
                    FROM vw_produtos_estoque_critico 
                    ORDER BY estoque_atual ASC 
                    LIMIT 10
Params:  0

[2025-10-14 21:22:37] [DATABASE ERROR] Preparando query: SELECT id, tipo, categoria, documento_numero, data_movimentacao, valor_total, fornecedor, usuario 
                    FROM vw_movimentacoes_recentes 
                    ORDER BY data_movimentacao DESC 
                    LIMIT 10 com parâmetros: []
[2025-10-14 21:22:37] [DATABASE ERROR] Debug PDO após binding: SQL: [235] SELECT id, tipo, categoria, documento_numero, data_movimentacao, valor_total, fornecedor, usuario 
                    FROM vw_movimentacoes_recentes 
                    ORDER BY data_movimentacao DESC 
                    LIMIT 10
Params:  0

[2025-10-14 21:22:37] [DATABASE ERROR] Preparando query: SELECT SUM(estoque_atual) as total_estoque FROM produtos WHERE ativo = TRUE com parâmetros: []
[2025-10-14 21:22:37] [DATABASE ERROR] Debug PDO após binding: SQL: [75] SELECT SUM(estoque_atual) as total_estoque FROM produtos WHERE ativo = TRUE
Params:  0

[2025-10-14 21:22:37] [DATABASE ERROR] Preparando query: SELECT id FROM produtos WHERE ativo = TRUE com parâmetros: []
[2025-10-14 21:22:37] [DATABASE ERROR] Debug PDO após binding: SQL: [42] SELECT id FROM produtos WHERE ativo = TRUE
Params:  0

[2025-10-14 21:22:37] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":2,":data_fim_a":null,":data_fim":null}
[2025-10-14 21:22:37] [DATABASE ERROR] Parâmetro associado: :produto_id = 2 (tipo: 1)
[2025-10-14 21:22:37] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-10-14 21:22:37] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-10-14 21:22:37] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-10-14 21:22:37] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":2}
[2025-10-14 21:22:37] [DATABASE ERROR] Parâmetro associado: :id = 2 (tipo: 1)
[2025-10-14 21:22:37] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-14 21:22:37] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":3,":data_fim_a":null,":data_fim":null}
[2025-10-14 21:22:37] [DATABASE ERROR] Parâmetro associado: :produto_id = 3 (tipo: 1)
[2025-10-14 21:22:37] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-10-14 21:22:37] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-10-14 21:22:37] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-10-14 21:22:37] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":3}
[2025-10-14 21:22:37] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-10-14 21:22:37] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-14 21:22:37] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":4,":data_fim_a":null,":data_fim":null}
[2025-10-14 21:22:37] [DATABASE ERROR] Parâmetro associado: :produto_id = 4 (tipo: 1)
[2025-10-14 21:22:37] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-10-14 21:22:37] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-10-14 21:22:37] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-10-14 21:22:37] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":4}
[2025-10-14 21:22:37] [DATABASE ERROR] Parâmetro associado: :id = 4 (tipo: 1)
[2025-10-14 21:22:37] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-14 21:22:37] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":5,":data_fim_a":null,":data_fim":null}
[2025-10-14 21:22:37] [DATABASE ERROR] Parâmetro associado: :produto_id = 5 (tipo: 1)
[2025-10-14 21:22:37] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-10-14 21:22:37] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-10-14 21:22:37] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-10-14 21:22:37] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":5}
[2025-10-14 21:22:37] [DATABASE ERROR] Parâmetro associado: :id = 5 (tipo: 1)
[2025-10-14 21:22:37] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-14 21:22:37] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":6,":data_fim_a":null,":data_fim":null}
[2025-10-14 21:22:37] [DATABASE ERROR] Parâmetro associado: :produto_id = 6 (tipo: 1)
[2025-10-14 21:22:37] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-10-14 21:22:37] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-10-14 21:22:37] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-10-14 21:22:37] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":6}
[2025-10-14 21:22:37] [DATABASE ERROR] Parâmetro associado: :id = 6 (tipo: 1)
[2025-10-14 21:22:37] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-14 21:22:37] [DATABASE ERROR] Preparando query: 
                SELECT 
                    DATE_FORMAT(m.data_movimentacao, '%Y-%m') as periodo,
                    tm.tipo,
                    SUM(mi.quantidade) as total_quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                WHERE m.status = 'PROCESSADO'
                    AND m.data_movimentacao >= DATE_SUB(CURDATE(), INTERVAL 6 MONTH)
                GROUP BY periodo, tm.tipo
                ORDER BY periodo ASC com parâmetros: []
[2025-10-14 21:22:37] [DATABASE ERROR] Debug PDO após binding: SQL: [593] 
                SELECT 
                    DATE_FORMAT(m.data_movimentacao, '%Y-%m') as periodo,
                    tm.tipo,
                    SUM(mi.quantidade) as total_quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                WHERE m.status = 'PROCESSADO'
                    AND m.data_movimentacao >= DATE_SUB(CURDATE(), INTERVAL 6 MONTH)
                GROUP BY periodo, tm.tipo
                ORDER BY periodo ASC
Params:  0

[2025-10-14 21:22:43] [DATABASE ERROR] Parâmetro associado: :usuario_id = 3 (tipo: 1)
[2025-10-14 21:22:43] [DATABASE ERROR] Parâmetro associado: :usuario_id = 3 (tipo: 1)
[2025-10-14 21:22:48] [DATABASE ERROR] Parâmetro associado: :alert_id = 7 (tipo: 1)
[2025-10-14 21:22:48] [DATABASE ERROR] Parâmetro associado: :usuario_id = 3 (tipo: 1)
[2025-10-14 21:22:48] [DATABASE ERROR] Parâmetro associado: :tabela = alertas_estoque (tipo: 2)
[2025-10-14 21:22:48] [DATABASE ERROR] Parâmetro associado: :registro_id = 7 (tipo: 1)
[2025-10-14 21:22:48] [DATABASE ERROR] Parâmetro associado: :acao = alertas_estoque (tipo: 2)
[2025-10-14 21:22:48] [DATABASE ERROR] Parâmetro associado: :dados_anteriores = "UPDATE" (tipo: 2)
[2025-10-14 21:22:48] [DATABASE ERROR] Parâmetro associado: :dados_novos = {"lido":false} (tipo: 2)
[2025-10-14 21:22:48] [DATABASE ERROR] Parâmetro associado: :usuario_id = 3 (tipo: 1)
[2025-10-14 21:22:48] [DATABASE ERROR] Parâmetro associado: :ip_address = ::1 (tipo: 2)
[2025-10-14 21:22:48] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 (tipo: 2)
[2025-10-14 21:22:51] [DATABASE ERROR] Parâmetro associado: :usuario_id = 3 (tipo: 1)
[2025-10-14 21:22:51] [DATABASE ERROR] Preparando query: SELECT id, codigo, nome, estoque_atual, estoque_minimo, categoria, fornecedor 
                    FROM vw_produtos_estoque_critico 
                    ORDER BY estoque_atual ASC 
                    LIMIT 10 com parâmetros: []
[2025-10-14 21:22:51] [DATABASE ERROR] Debug PDO após binding: SQL: [212] SELECT id, codigo, nome, estoque_atual, estoque_minimo, categoria, fornecedor 
                    FROM vw_produtos_estoque_critico 
                    ORDER BY estoque_atual ASC 
                    LIMIT 10
Params:  0

[2025-10-14 21:22:51] [DATABASE ERROR] Preparando query: SELECT SUM(estoque_atual) as total_estoque FROM produtos WHERE ativo = TRUE com parâmetros: []
[2025-10-14 21:22:51] [DATABASE ERROR] Debug PDO após binding: SQL: [75] SELECT SUM(estoque_atual) as total_estoque FROM produtos WHERE ativo = TRUE
Params:  0

[2025-10-14 21:22:51] [DATABASE ERROR] Preparando query: SELECT id FROM produtos WHERE ativo = TRUE com parâmetros: []
[2025-10-14 21:22:51] [DATABASE ERROR] Debug PDO após binding: SQL: [42] SELECT id FROM produtos WHERE ativo = TRUE
Params:  0

[2025-10-14 21:22:51] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":2,":data_fim_a":null,":data_fim":null}
[2025-10-14 21:22:51] [DATABASE ERROR] Parâmetro associado: :produto_id = 2 (tipo: 1)
[2025-10-14 21:22:51] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-10-14 21:22:51] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-10-14 21:22:51] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-10-14 21:22:51] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":2}
[2025-10-14 21:22:51] [DATABASE ERROR] Parâmetro associado: :id = 2 (tipo: 1)
[2025-10-14 21:22:51] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-14 21:22:51] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":3,":data_fim_a":null,":data_fim":null}
[2025-10-14 21:22:51] [DATABASE ERROR] Parâmetro associado: :produto_id = 3 (tipo: 1)
[2025-10-14 21:22:51] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-10-14 21:22:51] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-10-14 21:22:51] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-10-14 21:22:51] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":3}
[2025-10-14 21:22:51] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-10-14 21:22:51] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-14 21:22:51] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":4,":data_fim_a":null,":data_fim":null}
[2025-10-14 21:22:51] [DATABASE ERROR] Parâmetro associado: :produto_id = 4 (tipo: 1)
[2025-10-14 21:22:51] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-10-14 21:22:51] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-10-14 21:22:51] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-10-14 21:22:51] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":4}
[2025-10-14 21:22:51] [DATABASE ERROR] Parâmetro associado: :id = 4 (tipo: 1)
[2025-10-14 21:22:51] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-14 21:22:51] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":5,":data_fim_a":null,":data_fim":null}
[2025-10-14 21:22:51] [DATABASE ERROR] Parâmetro associado: :produto_id = 5 (tipo: 1)
[2025-10-14 21:22:51] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-10-14 21:22:51] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-10-14 21:22:51] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-10-14 21:22:51] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":5}
[2025-10-14 21:22:51] [DATABASE ERROR] Parâmetro associado: :id = 5 (tipo: 1)
[2025-10-14 21:22:51] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-14 21:22:51] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":6,":data_fim_a":null,":data_fim":null}
[2025-10-14 21:22:51] [DATABASE ERROR] Parâmetro associado: :produto_id = 6 (tipo: 1)
[2025-10-14 21:22:51] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-10-14 21:22:51] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-10-14 21:22:51] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-10-14 21:22:51] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":6}
[2025-10-14 21:22:51] [DATABASE ERROR] Parâmetro associado: :id = 6 (tipo: 1)
[2025-10-14 21:22:51] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-14 21:22:51] [DATABASE ERROR] Preparando query: SELECT id, tipo, categoria, documento_numero, data_movimentacao, valor_total, fornecedor, usuario 
                    FROM vw_movimentacoes_recentes 
                    ORDER BY data_movimentacao DESC 
                    LIMIT 10 com parâmetros: []
[2025-10-14 21:22:51] [DATABASE ERROR] Debug PDO após binding: SQL: [235] SELECT id, tipo, categoria, documento_numero, data_movimentacao, valor_total, fornecedor, usuario 
                    FROM vw_movimentacoes_recentes 
                    ORDER BY data_movimentacao DESC 
                    LIMIT 10
Params:  0

[2025-10-14 21:22:51] [DATABASE ERROR] Preparando query: 
                SELECT 
                    DATE_FORMAT(m.data_movimentacao, '%Y-%m') as periodo,
                    tm.tipo,
                    SUM(mi.quantidade) as total_quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                WHERE m.status = 'PROCESSADO'
                    AND m.data_movimentacao >= DATE_SUB(CURDATE(), INTERVAL 6 MONTH)
                GROUP BY periodo, tm.tipo
                ORDER BY periodo ASC com parâmetros: []
[2025-10-14 21:22:51] [DATABASE ERROR] Debug PDO após binding: SQL: [593] 
                SELECT 
                    DATE_FORMAT(m.data_movimentacao, '%Y-%m') as periodo,
                    tm.tipo,
                    SUM(mi.quantidade) as total_quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                WHERE m.status = 'PROCESSADO'
                    AND m.data_movimentacao >= DATE_SUB(CURDATE(), INTERVAL 6 MONTH)
                GROUP BY periodo, tm.tipo
                ORDER BY periodo ASC
Params:  0

[2025-10-14 21:22:54] [DATABASE ERROR] Parâmetro associado: :usuario_id = 3 (tipo: 1)
[2025-10-14 21:22:54] [DATABASE ERROR] Parâmetro associado: :usuario_id = 3 (tipo: 1)
[2025-10-14 21:22:55] [DATABASE ERROR] Parâmetro associado: :alert_id = 5 (tipo: 1)
[2025-10-14 21:22:55] [DATABASE ERROR] Parâmetro associado: :usuario_id = 3 (tipo: 1)
[2025-10-14 21:22:55] [DATABASE ERROR] Parâmetro associado: :tabela = alertas_estoque (tipo: 2)
[2025-10-14 21:22:55] [DATABASE ERROR] Parâmetro associado: :registro_id = 5 (tipo: 1)
[2025-10-14 21:22:55] [DATABASE ERROR] Parâmetro associado: :acao = alertas_estoque (tipo: 2)
[2025-10-14 21:22:55] [DATABASE ERROR] Parâmetro associado: :dados_anteriores = "UPDATE" (tipo: 2)
[2025-10-14 21:22:55] [DATABASE ERROR] Parâmetro associado: :dados_novos = {"lido":false} (tipo: 2)
[2025-10-14 21:22:55] [DATABASE ERROR] Parâmetro associado: :usuario_id = 3 (tipo: 1)
[2025-10-14 21:22:55] [DATABASE ERROR] Parâmetro associado: :ip_address = ::1 (tipo: 2)
[2025-10-14 21:22:55] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 (tipo: 2)
[2025-10-14 21:22:58] [DATABASE ERROR] Parâmetro associado: :user_id = 3 (tipo: 1)
[2025-10-14 21:22:59] [DATABASE ERROR] Parâmetro associado: :tabela = usuarios (tipo: 2)
[2025-10-14 21:22:59] [DATABASE ERROR] Parâmetro associado: :registro_id = NULL (tipo: 0)
[2025-10-14 21:22:59] [DATABASE ERROR] Parâmetro associado: :acao = LOGOUT (tipo: 2)
[2025-10-14 21:22:59] [DATABASE ERROR] Parâmetro associado: :dados_anteriores = NULL (tipo: 0)
[2025-10-14 21:22:59] [DATABASE ERROR] Parâmetro associado: :dados_novos = NULL (tipo: 0)
[2025-10-14 21:22:59] [DATABASE ERROR] Parâmetro associado: :usuario_id = NULL (tipo: 0)
[2025-10-14 21:22:59] [DATABASE ERROR] Parâmetro associado: :ip_address = ::1 (tipo: 2)
[2025-10-14 21:22:59] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 (tipo: 2)
[2025-10-14 21:22:59] [DATABASE ERROR] Erro ao executar query: SQLSTATE[23000]: Integrity constraint violation: 1048 Column 'registro_id' cannot be null
[2025-10-14 21:23:06] [DATABASE ERROR] Parâmetro associado: :username = admin (tipo: 2)
[2025-10-14 21:23:06] [DATABASE ERROR] Parâmetro associado: :email = admin (tipo: 2)
[2025-10-14 21:23:06] [DATABASE ERROR] Preparando query: UPDATE usuarios SET ultimo_acesso = NOW() WHERE id = :id com parâmetros: {":id":1}
[2025-10-14 21:23:06] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-10-14 21:23:06] [DATABASE ERROR] Debug PDO após binding: SQL: [56] UPDATE usuarios SET ultimo_acesso = NOW() WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-14 21:23:06] [DATABASE ERROR] Parâmetro associado: :tabela = usuarios (tipo: 2)
[2025-10-14 21:23:06] [DATABASE ERROR] Parâmetro associado: :registro_id = 1 (tipo: 1)
[2025-10-14 21:23:06] [DATABASE ERROR] Parâmetro associado: :acao = LOGIN (tipo: 2)
[2025-10-14 21:23:06] [DATABASE ERROR] Parâmetro associado: :dados_anteriores = NULL (tipo: 0)
[2025-10-14 21:23:06] [DATABASE ERROR] Parâmetro associado: :dados_novos = NULL (tipo: 0)
[2025-10-14 21:23:06] [DATABASE ERROR] Parâmetro associado: :usuario_id = NULL (tipo: 0)
[2025-10-14 21:23:06] [DATABASE ERROR] Parâmetro associado: :ip_address = ::1 (tipo: 2)
[2025-10-14 21:23:06] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 (tipo: 2)
[2025-10-14 21:23:06] [DATABASE ERROR] Parâmetro associado: :id = fn964624hj01kgrc81busbujmg (tipo: 2)
[2025-10-14 21:23:06] [DATABASE ERROR] Parâmetro associado: :id = fn964624hj01kgrc81busbujmg (tipo: 2)
[2025-10-14 21:23:06] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-10-14 21:23:06] [DATABASE ERROR] Parâmetro associado: :ip_address = ::1 (tipo: 2)
[2025-10-14 21:23:06] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 (tipo: 2)
[2025-10-14 21:23:06] [DATABASE ERROR] Parâmetro associado: :dados = {"user_id":1,"user_name":"Administrador do Sistema","user_email":"admin@sorveteria.com","user_profile":1,"user_profile_name":"Administrador","logged_in":true,"login_time":1760487786} (tipo: 2)
[2025-10-14 21:23:06] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-10-14 21:23:06] [DATABASE ERROR] Preparando query: SELECT id, codigo, nome, estoque_atual, estoque_minimo, categoria, fornecedor 
                    FROM vw_produtos_estoque_critico 
                    ORDER BY estoque_atual ASC 
                    LIMIT 10 com parâmetros: []
[2025-10-14 21:23:06] [DATABASE ERROR] Debug PDO após binding: SQL: [212] SELECT id, codigo, nome, estoque_atual, estoque_minimo, categoria, fornecedor 
                    FROM vw_produtos_estoque_critico 
                    ORDER BY estoque_atual ASC 
                    LIMIT 10
Params:  0

[2025-10-14 21:23:06] [DATABASE ERROR] Preparando query: SELECT id, tipo, categoria, documento_numero, data_movimentacao, valor_total, fornecedor, usuario 
                    FROM vw_movimentacoes_recentes 
                    ORDER BY data_movimentacao DESC 
                    LIMIT 10 com parâmetros: []
[2025-10-14 21:23:06] [DATABASE ERROR] Debug PDO após binding: SQL: [235] SELECT id, tipo, categoria, documento_numero, data_movimentacao, valor_total, fornecedor, usuario 
                    FROM vw_movimentacoes_recentes 
                    ORDER BY data_movimentacao DESC 
                    LIMIT 10
Params:  0

[2025-10-14 21:23:06] [DATABASE ERROR] Preparando query: 
                SELECT 
                    DATE_FORMAT(m.data_movimentacao, '%Y-%m') as periodo,
                    tm.tipo,
                    SUM(mi.quantidade) as total_quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                WHERE m.status = 'PROCESSADO'
                    AND m.data_movimentacao >= DATE_SUB(CURDATE(), INTERVAL 6 MONTH)
                GROUP BY periodo, tm.tipo
                ORDER BY periodo ASC com parâmetros: []
[2025-10-14 21:23:06] [DATABASE ERROR] Debug PDO após binding: SQL: [593] 
                SELECT 
                    DATE_FORMAT(m.data_movimentacao, '%Y-%m') as periodo,
                    tm.tipo,
                    SUM(mi.quantidade) as total_quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                WHERE m.status = 'PROCESSADO'
                    AND m.data_movimentacao >= DATE_SUB(CURDATE(), INTERVAL 6 MONTH)
                GROUP BY periodo, tm.tipo
                ORDER BY periodo ASC
Params:  0

[2025-10-14 21:23:06] [DATABASE ERROR] Preparando query: SELECT SUM(estoque_atual) as total_estoque FROM produtos WHERE ativo = TRUE com parâmetros: []
[2025-10-14 21:23:06] [DATABASE ERROR] Debug PDO após binding: SQL: [75] SELECT SUM(estoque_atual) as total_estoque FROM produtos WHERE ativo = TRUE
Params:  0

[2025-10-14 21:23:06] [DATABASE ERROR] Preparando query: SELECT id FROM produtos WHERE ativo = TRUE com parâmetros: []
[2025-10-14 21:23:06] [DATABASE ERROR] Debug PDO após binding: SQL: [42] SELECT id FROM produtos WHERE ativo = TRUE
Params:  0

[2025-10-14 21:23:06] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":2,":data_fim_a":null,":data_fim":null}
[2025-10-14 21:23:06] [DATABASE ERROR] Parâmetro associado: :produto_id = 2 (tipo: 1)
[2025-10-14 21:23:06] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-10-14 21:23:06] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-10-14 21:23:06] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-10-14 21:23:06] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":2}
[2025-10-14 21:23:06] [DATABASE ERROR] Parâmetro associado: :id = 2 (tipo: 1)
[2025-10-14 21:23:06] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-14 21:23:06] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":3,":data_fim_a":null,":data_fim":null}
[2025-10-14 21:23:06] [DATABASE ERROR] Parâmetro associado: :produto_id = 3 (tipo: 1)
[2025-10-14 21:23:06] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-10-14 21:23:06] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-10-14 21:23:06] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-10-14 21:23:06] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":3}
[2025-10-14 21:23:06] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-10-14 21:23:06] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-14 21:23:06] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":4,":data_fim_a":null,":data_fim":null}
[2025-10-14 21:23:06] [DATABASE ERROR] Parâmetro associado: :produto_id = 4 (tipo: 1)
[2025-10-14 21:23:06] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-10-14 21:23:06] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-10-14 21:23:06] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-10-14 21:23:06] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":4}
[2025-10-14 21:23:06] [DATABASE ERROR] Parâmetro associado: :id = 4 (tipo: 1)
[2025-10-14 21:23:06] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-14 21:23:06] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":5,":data_fim_a":null,":data_fim":null}
[2025-10-14 21:23:06] [DATABASE ERROR] Parâmetro associado: :produto_id = 5 (tipo: 1)
[2025-10-14 21:23:06] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-10-14 21:23:06] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-10-14 21:23:06] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-10-14 21:23:06] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":5}
[2025-10-14 21:23:06] [DATABASE ERROR] Parâmetro associado: :id = 5 (tipo: 1)
[2025-10-14 21:23:06] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-14 21:23:06] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":6,":data_fim_a":null,":data_fim":null}
[2025-10-14 21:23:06] [DATABASE ERROR] Parâmetro associado: :produto_id = 6 (tipo: 1)
[2025-10-14 21:23:06] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-10-14 21:23:06] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-10-14 21:23:06] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-10-14 21:23:06] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":6}
[2025-10-14 21:23:06] [DATABASE ERROR] Parâmetro associado: :id = 6 (tipo: 1)
[2025-10-14 21:23:06] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-14 21:58:14] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-10-14 21:58:14] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-10-14 21:58:18] [DATABASE ERROR] Parâmetro associado: :alert_id = 4 (tipo: 1)
[2025-10-14 21:58:18] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-10-14 21:58:18] [DATABASE ERROR] Parâmetro associado: :tabela = alertas_estoque (tipo: 2)
[2025-10-14 21:58:18] [DATABASE ERROR] Parâmetro associado: :registro_id = 4 (tipo: 1)
[2025-10-14 21:58:18] [DATABASE ERROR] Parâmetro associado: :acao = alertas_estoque (tipo: 2)
[2025-10-14 21:58:18] [DATABASE ERROR] Parâmetro associado: :dados_anteriores = "UPDATE" (tipo: 2)
[2025-10-14 21:58:18] [DATABASE ERROR] Parâmetro associado: :dados_novos = {"lido":false} (tipo: 2)
[2025-10-14 21:58:18] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-10-14 21:58:18] [DATABASE ERROR] Parâmetro associado: :ip_address = ::1 (tipo: 2)
[2025-10-14 21:58:18] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 (tipo: 2)
[2025-10-14 21:58:19] [DATABASE ERROR] Parâmetro associado: :alert_id = 6 (tipo: 1)
[2025-10-14 21:58:19] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-10-14 21:58:19] [DATABASE ERROR] Parâmetro associado: :tabela = alertas_estoque (tipo: 2)
[2025-10-14 21:58:19] [DATABASE ERROR] Parâmetro associado: :registro_id = 6 (tipo: 1)
[2025-10-14 21:58:19] [DATABASE ERROR] Parâmetro associado: :acao = alertas_estoque (tipo: 2)
[2025-10-14 21:58:19] [DATABASE ERROR] Parâmetro associado: :dados_anteriores = "UPDATE" (tipo: 2)
[2025-10-14 21:58:19] [DATABASE ERROR] Parâmetro associado: :dados_novos = {"lido":false} (tipo: 2)
[2025-10-14 21:58:19] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-10-14 21:58:19] [DATABASE ERROR] Parâmetro associado: :ip_address = ::1 (tipo: 2)
[2025-10-14 21:58:19] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 (tipo: 2)
[2025-10-14 21:58:19] [DATABASE ERROR] Parâmetro associado: :alert_id = 8 (tipo: 1)
[2025-10-14 21:58:19] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-10-14 21:58:19] [DATABASE ERROR] Parâmetro associado: :tabela = alertas_estoque (tipo: 2)
[2025-10-14 21:58:19] [DATABASE ERROR] Parâmetro associado: :registro_id = 8 (tipo: 1)
[2025-10-14 21:58:19] [DATABASE ERROR] Parâmetro associado: :acao = alertas_estoque (tipo: 2)
[2025-10-14 21:58:19] [DATABASE ERROR] Parâmetro associado: :dados_anteriores = "UPDATE" (tipo: 2)
[2025-10-14 21:58:19] [DATABASE ERROR] Parâmetro associado: :dados_novos = {"lido":false} (tipo: 2)
[2025-10-14 21:58:19] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-10-14 21:58:19] [DATABASE ERROR] Parâmetro associado: :ip_address = ::1 (tipo: 2)
[2025-10-14 21:58:19] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 (tipo: 2)
[2025-10-14 21:58:22] [DATABASE ERROR] Preparando query: SELECT * FROM categorias WHERE ativo = :value com parâmetros: {":value":1}
[2025-10-14 21:58:22] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-10-14 21:58:22] [DATABASE ERROR] Debug PDO após binding: SQL: [45] SELECT * FROM categorias WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-10-14 21:58:24] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-10-14 21:58:24] [DATABASE ERROR] Preparando query: SELECT SUM(estoque_atual) as total_estoque FROM produtos WHERE ativo = TRUE com parâmetros: []
[2025-10-14 21:58:24] [DATABASE ERROR] Debug PDO após binding: SQL: [75] SELECT SUM(estoque_atual) as total_estoque FROM produtos WHERE ativo = TRUE
Params:  0

[2025-10-14 21:58:24] [DATABASE ERROR] Preparando query: SELECT id FROM produtos WHERE ativo = TRUE com parâmetros: []
[2025-10-14 21:58:24] [DATABASE ERROR] Debug PDO após binding: SQL: [42] SELECT id FROM produtos WHERE ativo = TRUE
Params:  0

[2025-10-14 21:58:24] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":2,":data_fim_a":null,":data_fim":null}
[2025-10-14 21:58:24] [DATABASE ERROR] Parâmetro associado: :produto_id = 2 (tipo: 1)
[2025-10-14 21:58:24] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-10-14 21:58:24] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-10-14 21:58:24] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-10-14 21:58:24] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":2}
[2025-10-14 21:58:24] [DATABASE ERROR] Parâmetro associado: :id = 2 (tipo: 1)
[2025-10-14 21:58:24] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-14 21:58:24] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":3,":data_fim_a":null,":data_fim":null}
[2025-10-14 21:58:24] [DATABASE ERROR] Parâmetro associado: :produto_id = 3 (tipo: 1)
[2025-10-14 21:58:24] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-10-14 21:58:24] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-10-14 21:58:24] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-10-14 21:58:24] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":3}
[2025-10-14 21:58:24] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-10-14 21:58:24] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-14 21:58:24] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":4,":data_fim_a":null,":data_fim":null}
[2025-10-14 21:58:24] [DATABASE ERROR] Parâmetro associado: :produto_id = 4 (tipo: 1)
[2025-10-14 21:58:24] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-10-14 21:58:24] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-10-14 21:58:24] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-10-14 21:58:24] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":4}
[2025-10-14 21:58:24] [DATABASE ERROR] Parâmetro associado: :id = 4 (tipo: 1)
[2025-10-14 21:58:24] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-14 21:58:24] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":5,":data_fim_a":null,":data_fim":null}
[2025-10-14 21:58:24] [DATABASE ERROR] Parâmetro associado: :produto_id = 5 (tipo: 1)
[2025-10-14 21:58:24] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-10-14 21:58:24] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-10-14 21:58:24] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-10-14 21:58:24] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":5}
[2025-10-14 21:58:24] [DATABASE ERROR] Parâmetro associado: :id = 5 (tipo: 1)
[2025-10-14 21:58:24] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-14 21:58:24] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":6,":data_fim_a":null,":data_fim":null}
[2025-10-14 21:58:24] [DATABASE ERROR] Parâmetro associado: :produto_id = 6 (tipo: 1)
[2025-10-14 21:58:24] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-10-14 21:58:24] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-10-14 21:58:24] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-10-14 21:58:24] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":6}
[2025-10-14 21:58:24] [DATABASE ERROR] Parâmetro associado: :id = 6 (tipo: 1)
[2025-10-14 21:58:24] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-14 21:58:24] [DATABASE ERROR] Preparando query: SELECT id, codigo, nome, estoque_atual, estoque_minimo, categoria, fornecedor 
                    FROM vw_produtos_estoque_critico 
                    ORDER BY estoque_atual ASC 
                    LIMIT 10 com parâmetros: []
[2025-10-14 21:58:24] [DATABASE ERROR] Debug PDO após binding: SQL: [212] SELECT id, codigo, nome, estoque_atual, estoque_minimo, categoria, fornecedor 
                    FROM vw_produtos_estoque_critico 
                    ORDER BY estoque_atual ASC 
                    LIMIT 10
Params:  0

[2025-10-14 21:58:24] [DATABASE ERROR] Preparando query: SELECT id, tipo, categoria, documento_numero, data_movimentacao, valor_total, fornecedor, usuario 
                    FROM vw_movimentacoes_recentes 
                    ORDER BY data_movimentacao DESC 
                    LIMIT 10 com parâmetros: []
[2025-10-14 21:58:24] [DATABASE ERROR] Debug PDO após binding: SQL: [235] SELECT id, tipo, categoria, documento_numero, data_movimentacao, valor_total, fornecedor, usuario 
                    FROM vw_movimentacoes_recentes 
                    ORDER BY data_movimentacao DESC 
                    LIMIT 10
Params:  0

[2025-10-14 21:58:24] [DATABASE ERROR] Preparando query: 
                SELECT 
                    DATE_FORMAT(m.data_movimentacao, '%Y-%m') as periodo,
                    tm.tipo,
                    SUM(mi.quantidade) as total_quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                WHERE m.status = 'PROCESSADO'
                    AND m.data_movimentacao >= DATE_SUB(CURDATE(), INTERVAL 6 MONTH)
                GROUP BY periodo, tm.tipo
                ORDER BY periodo ASC com parâmetros: []
[2025-10-14 21:58:24] [DATABASE ERROR] Debug PDO após binding: SQL: [593] 
                SELECT 
                    DATE_FORMAT(m.data_movimentacao, '%Y-%m') as periodo,
                    tm.tipo,
                    SUM(mi.quantidade) as total_quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                WHERE m.status = 'PROCESSADO'
                    AND m.data_movimentacao >= DATE_SUB(CURDATE(), INTERVAL 6 MONTH)
                GROUP BY periodo, tm.tipo
                ORDER BY periodo ASC
Params:  0

[2025-10-14 21:58:29] [DATABASE ERROR] Parâmetro associado: :user_id = 1 (tipo: 1)
[2025-10-14 21:58:29] [DATABASE ERROR] Parâmetro associado: :tabela = usuarios (tipo: 2)
[2025-10-14 21:58:29] [DATABASE ERROR] Parâmetro associado: :registro_id = NULL (tipo: 0)
[2025-10-14 21:58:29] [DATABASE ERROR] Parâmetro associado: :acao = LOGOUT (tipo: 2)
[2025-10-14 21:58:29] [DATABASE ERROR] Parâmetro associado: :dados_anteriores = NULL (tipo: 0)
[2025-10-14 21:58:29] [DATABASE ERROR] Parâmetro associado: :dados_novos = NULL (tipo: 0)
[2025-10-14 21:58:29] [DATABASE ERROR] Parâmetro associado: :usuario_id = NULL (tipo: 0)
[2025-10-14 21:58:29] [DATABASE ERROR] Parâmetro associado: :ip_address = ::1 (tipo: 2)
[2025-10-14 21:58:29] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 (tipo: 2)
[2025-10-14 21:58:29] [DATABASE ERROR] Erro ao executar query: SQLSTATE[23000]: Integrity constraint violation: 1048 Column 'registro_id' cannot be null
[2025-10-14 21:58:35] [DATABASE ERROR] Parâmetro associado: :username = adm2 (tipo: 2)
[2025-10-14 21:58:35] [DATABASE ERROR] Parâmetro associado: :email = adm2 (tipo: 2)
[2025-10-14 21:58:35] [DATABASE ERROR] Preparando query: UPDATE usuarios SET ultimo_acesso = NOW() WHERE id = :id com parâmetros: {":id":3}
[2025-10-14 21:58:35] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-10-14 21:58:35] [DATABASE ERROR] Debug PDO após binding: SQL: [56] UPDATE usuarios SET ultimo_acesso = NOW() WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-14 21:58:35] [DATABASE ERROR] Parâmetro associado: :tabela = usuarios (tipo: 2)
[2025-10-14 21:58:35] [DATABASE ERROR] Parâmetro associado: :registro_id = 3 (tipo: 1)
[2025-10-14 21:58:35] [DATABASE ERROR] Parâmetro associado: :acao = LOGIN (tipo: 2)
[2025-10-14 21:58:35] [DATABASE ERROR] Parâmetro associado: :dados_anteriores = NULL (tipo: 0)
[2025-10-14 21:58:35] [DATABASE ERROR] Parâmetro associado: :dados_novos = NULL (tipo: 0)
[2025-10-14 21:58:35] [DATABASE ERROR] Parâmetro associado: :usuario_id = NULL (tipo: 0)
[2025-10-14 21:58:35] [DATABASE ERROR] Parâmetro associado: :ip_address = ::1 (tipo: 2)
[2025-10-14 21:58:35] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 (tipo: 2)
[2025-10-14 21:58:35] [DATABASE ERROR] Parâmetro associado: :id = mtvfk00628jaqkpsnbunptau4a (tipo: 2)
[2025-10-14 21:58:35] [DATABASE ERROR] Parâmetro associado: :id = mtvfk00628jaqkpsnbunptau4a (tipo: 2)
[2025-10-14 21:58:35] [DATABASE ERROR] Parâmetro associado: :usuario_id = 3 (tipo: 1)
[2025-10-14 21:58:35] [DATABASE ERROR] Parâmetro associado: :ip_address = ::1 (tipo: 2)
[2025-10-14 21:58:35] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 (tipo: 2)
[2025-10-14 21:58:35] [DATABASE ERROR] Parâmetro associado: :dados = {"user_id":3,"user_name":"Adm2","user_email":"adm2@borela.com","user_profile":1,"user_profile_name":"Administrador","logged_in":true,"login_time":1760489915} (tipo: 2)
[2025-10-14 21:58:35] [DATABASE ERROR] Parâmetro associado: :usuario_id = 3 (tipo: 1)
[2025-10-14 21:58:35] [DATABASE ERROR] Preparando query: SELECT SUM(estoque_atual) as total_estoque FROM produtos WHERE ativo = TRUE com parâmetros: []
[2025-10-14 21:58:35] [DATABASE ERROR] Debug PDO após binding: SQL: [75] SELECT SUM(estoque_atual) as total_estoque FROM produtos WHERE ativo = TRUE
Params:  0

[2025-10-14 21:58:35] [DATABASE ERROR] Preparando query: SELECT id FROM produtos WHERE ativo = TRUE com parâmetros: []
[2025-10-14 21:58:35] [DATABASE ERROR] Debug PDO após binding: SQL: [42] SELECT id FROM produtos WHERE ativo = TRUE
Params:  0

[2025-10-14 21:58:35] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":2,":data_fim_a":null,":data_fim":null}
[2025-10-14 21:58:35] [DATABASE ERROR] Parâmetro associado: :produto_id = 2 (tipo: 1)
[2025-10-14 21:58:35] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-10-14 21:58:35] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-10-14 21:58:35] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-10-14 21:58:35] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":2}
[2025-10-14 21:58:35] [DATABASE ERROR] Parâmetro associado: :id = 2 (tipo: 1)
[2025-10-14 21:58:35] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-14 21:58:35] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":3,":data_fim_a":null,":data_fim":null}
[2025-10-14 21:58:35] [DATABASE ERROR] Parâmetro associado: :produto_id = 3 (tipo: 1)
[2025-10-14 21:58:35] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-10-14 21:58:35] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-10-14 21:58:35] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-10-14 21:58:35] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":3}
[2025-10-14 21:58:35] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-10-14 21:58:35] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-14 21:58:35] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":4,":data_fim_a":null,":data_fim":null}
[2025-10-14 21:58:35] [DATABASE ERROR] Parâmetro associado: :produto_id = 4 (tipo: 1)
[2025-10-14 21:58:35] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-10-14 21:58:35] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-10-14 21:58:35] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-10-14 21:58:35] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":4}
[2025-10-14 21:58:35] [DATABASE ERROR] Parâmetro associado: :id = 4 (tipo: 1)
[2025-10-14 21:58:35] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-14 21:58:35] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":5,":data_fim_a":null,":data_fim":null}
[2025-10-14 21:58:35] [DATABASE ERROR] Parâmetro associado: :produto_id = 5 (tipo: 1)
[2025-10-14 21:58:35] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-10-14 21:58:35] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-10-14 21:58:35] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-10-14 21:58:35] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":5}
[2025-10-14 21:58:35] [DATABASE ERROR] Parâmetro associado: :id = 5 (tipo: 1)
[2025-10-14 21:58:35] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-14 21:58:35] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":6,":data_fim_a":null,":data_fim":null}
[2025-10-14 21:58:35] [DATABASE ERROR] Parâmetro associado: :produto_id = 6 (tipo: 1)
[2025-10-14 21:58:35] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-10-14 21:58:35] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-10-14 21:58:35] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-10-14 21:58:35] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":6}
[2025-10-14 21:58:35] [DATABASE ERROR] Parâmetro associado: :id = 6 (tipo: 1)
[2025-10-14 21:58:35] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-14 21:58:35] [DATABASE ERROR] Preparando query: SELECT id, codigo, nome, estoque_atual, estoque_minimo, categoria, fornecedor 
                    FROM vw_produtos_estoque_critico 
                    ORDER BY estoque_atual ASC 
                    LIMIT 10 com parâmetros: []
[2025-10-14 21:58:35] [DATABASE ERROR] Debug PDO após binding: SQL: [212] SELECT id, codigo, nome, estoque_atual, estoque_minimo, categoria, fornecedor 
                    FROM vw_produtos_estoque_critico 
                    ORDER BY estoque_atual ASC 
                    LIMIT 10
Params:  0

[2025-10-14 21:58:35] [DATABASE ERROR] Preparando query: SELECT id, tipo, categoria, documento_numero, data_movimentacao, valor_total, fornecedor, usuario 
                    FROM vw_movimentacoes_recentes 
                    ORDER BY data_movimentacao DESC 
                    LIMIT 10 com parâmetros: []
[2025-10-14 21:58:35] [DATABASE ERROR] Debug PDO após binding: SQL: [235] SELECT id, tipo, categoria, documento_numero, data_movimentacao, valor_total, fornecedor, usuario 
                    FROM vw_movimentacoes_recentes 
                    ORDER BY data_movimentacao DESC 
                    LIMIT 10
Params:  0

[2025-10-14 21:58:35] [DATABASE ERROR] Preparando query: 
                SELECT 
                    DATE_FORMAT(m.data_movimentacao, '%Y-%m') as periodo,
                    tm.tipo,
                    SUM(mi.quantidade) as total_quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                WHERE m.status = 'PROCESSADO'
                    AND m.data_movimentacao >= DATE_SUB(CURDATE(), INTERVAL 6 MONTH)
                GROUP BY periodo, tm.tipo
                ORDER BY periodo ASC com parâmetros: []
[2025-10-14 21:58:35] [DATABASE ERROR] Debug PDO após binding: SQL: [593] 
                SELECT 
                    DATE_FORMAT(m.data_movimentacao, '%Y-%m') as periodo,
                    tm.tipo,
                    SUM(mi.quantidade) as total_quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                WHERE m.status = 'PROCESSADO'
                    AND m.data_movimentacao >= DATE_SUB(CURDATE(), INTERVAL 6 MONTH)
                GROUP BY periodo, tm.tipo
                ORDER BY periodo ASC
Params:  0

[2025-10-14 21:58:38] [DATABASE ERROR] Parâmetro associado: :usuario_id = 3 (tipo: 1)
[2025-10-14 21:58:38] [DATABASE ERROR] Parâmetro associado: :usuario_id = 3 (tipo: 1)
[2025-10-14 21:58:41] [DATABASE ERROR] Parâmetro associado: :alert_id = 9 (tipo: 1)
[2025-10-14 21:58:41] [DATABASE ERROR] Parâmetro associado: :usuario_id = 3 (tipo: 1)
[2025-10-14 21:58:41] [DATABASE ERROR] Parâmetro associado: :tabela = alertas_estoque (tipo: 2)
[2025-10-14 21:58:41] [DATABASE ERROR] Parâmetro associado: :registro_id = 9 (tipo: 1)
[2025-10-14 21:58:41] [DATABASE ERROR] Parâmetro associado: :acao = alertas_estoque (tipo: 2)
[2025-10-14 21:58:41] [DATABASE ERROR] Parâmetro associado: :dados_anteriores = "UPDATE" (tipo: 2)
[2025-10-14 21:58:41] [DATABASE ERROR] Parâmetro associado: :dados_novos = {"lido":false} (tipo: 2)
[2025-10-14 21:58:41] [DATABASE ERROR] Parâmetro associado: :usuario_id = 3 (tipo: 1)
[2025-10-14 21:58:41] [DATABASE ERROR] Parâmetro associado: :ip_address = ::1 (tipo: 2)
[2025-10-14 21:58:41] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 (tipo: 2)
[2025-10-14 21:58:42] [DATABASE ERROR] Parâmetro associado: :usuario_id = 3 (tipo: 1)
[2025-10-14 21:58:42] [DATABASE ERROR] Preparando query: SELECT SUM(estoque_atual) as total_estoque FROM produtos WHERE ativo = TRUE com parâmetros: []
[2025-10-14 21:58:42] [DATABASE ERROR] Debug PDO após binding: SQL: [75] SELECT SUM(estoque_atual) as total_estoque FROM produtos WHERE ativo = TRUE
Params:  0

[2025-10-14 21:58:42] [DATABASE ERROR] Preparando query: SELECT id FROM produtos WHERE ativo = TRUE com parâmetros: []
[2025-10-14 21:58:42] [DATABASE ERROR] Debug PDO após binding: SQL: [42] SELECT id FROM produtos WHERE ativo = TRUE
Params:  0

[2025-10-14 21:58:42] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":2,":data_fim_a":null,":data_fim":null}
[2025-10-14 21:58:42] [DATABASE ERROR] Parâmetro associado: :produto_id = 2 (tipo: 1)
[2025-10-14 21:58:42] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-10-14 21:58:42] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-10-14 21:58:42] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-10-14 21:58:42] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":2}
[2025-10-14 21:58:42] [DATABASE ERROR] Parâmetro associado: :id = 2 (tipo: 1)
[2025-10-14 21:58:42] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-14 21:58:42] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":3,":data_fim_a":null,":data_fim":null}
[2025-10-14 21:58:42] [DATABASE ERROR] Parâmetro associado: :produto_id = 3 (tipo: 1)
[2025-10-14 21:58:42] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-10-14 21:58:42] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-10-14 21:58:42] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-10-14 21:58:42] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":3}
[2025-10-14 21:58:42] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-10-14 21:58:42] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-14 21:58:42] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":4,":data_fim_a":null,":data_fim":null}
[2025-10-14 21:58:42] [DATABASE ERROR] Parâmetro associado: :produto_id = 4 (tipo: 1)
[2025-10-14 21:58:42] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-10-14 21:58:42] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-10-14 21:58:42] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-10-14 21:58:42] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":4}
[2025-10-14 21:58:42] [DATABASE ERROR] Parâmetro associado: :id = 4 (tipo: 1)
[2025-10-14 21:58:42] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-14 21:58:42] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":5,":data_fim_a":null,":data_fim":null}
[2025-10-14 21:58:42] [DATABASE ERROR] Parâmetro associado: :produto_id = 5 (tipo: 1)
[2025-10-14 21:58:42] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-10-14 21:58:42] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-10-14 21:58:42] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-10-14 21:58:42] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":5}
[2025-10-14 21:58:42] [DATABASE ERROR] Parâmetro associado: :id = 5 (tipo: 1)
[2025-10-14 21:58:42] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-14 21:58:42] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":6,":data_fim_a":null,":data_fim":null}
[2025-10-14 21:58:42] [DATABASE ERROR] Parâmetro associado: :produto_id = 6 (tipo: 1)
[2025-10-14 21:58:42] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-10-14 21:58:42] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-10-14 21:58:42] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-10-14 21:58:42] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":6}
[2025-10-14 21:58:42] [DATABASE ERROR] Parâmetro associado: :id = 6 (tipo: 1)
[2025-10-14 21:58:42] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-14 21:58:42] [DATABASE ERROR] Preparando query: 
                SELECT 
                    DATE_FORMAT(m.data_movimentacao, '%Y-%m') as periodo,
                    tm.tipo,
                    SUM(mi.quantidade) as total_quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                WHERE m.status = 'PROCESSADO'
                    AND m.data_movimentacao >= DATE_SUB(CURDATE(), INTERVAL 6 MONTH)
                GROUP BY periodo, tm.tipo
                ORDER BY periodo ASC com parâmetros: []
[2025-10-14 21:58:42] [DATABASE ERROR] Debug PDO após binding: SQL: [593] 
                SELECT 
                    DATE_FORMAT(m.data_movimentacao, '%Y-%m') as periodo,
                    tm.tipo,
                    SUM(mi.quantidade) as total_quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                WHERE m.status = 'PROCESSADO'
                    AND m.data_movimentacao >= DATE_SUB(CURDATE(), INTERVAL 6 MONTH)
                GROUP BY periodo, tm.tipo
                ORDER BY periodo ASC
Params:  0

[2025-10-14 21:58:42] [DATABASE ERROR] Preparando query: SELECT id, tipo, categoria, documento_numero, data_movimentacao, valor_total, fornecedor, usuario 
                    FROM vw_movimentacoes_recentes 
                    ORDER BY data_movimentacao DESC 
                    LIMIT 10 com parâmetros: []
[2025-10-14 21:58:42] [DATABASE ERROR] Debug PDO após binding: SQL: [235] SELECT id, tipo, categoria, documento_numero, data_movimentacao, valor_total, fornecedor, usuario 
                    FROM vw_movimentacoes_recentes 
                    ORDER BY data_movimentacao DESC 
                    LIMIT 10
Params:  0

[2025-10-14 21:58:43] [DATABASE ERROR] Preparando query: SELECT id, codigo, nome, estoque_atual, estoque_minimo, categoria, fornecedor 
                    FROM vw_produtos_estoque_critico 
                    ORDER BY estoque_atual ASC 
                    LIMIT 10 com parâmetros: []
[2025-10-14 21:58:43] [DATABASE ERROR] Debug PDO após binding: SQL: [212] SELECT id, codigo, nome, estoque_atual, estoque_minimo, categoria, fornecedor 
                    FROM vw_produtos_estoque_critico 
                    ORDER BY estoque_atual ASC 
                    LIMIT 10
Params:  0

[2025-10-14 21:58:48] [DATABASE ERROR] Preparando query: SELECT * FROM produtos WHERE ativo = :value com parâmetros: {":value":1}
[2025-10-14 21:58:48] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-10-14 21:58:48] [DATABASE ERROR] Debug PDO após binding: SQL: [43] SELECT * FROM produtos WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-10-14 21:58:48] [DATABASE ERROR] Preparando query: SELECT * FROM categorias WHERE ativo = :value com parâmetros: {":value":1}
[2025-10-14 21:58:48] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-10-14 21:58:48] [DATABASE ERROR] Debug PDO após binding: SQL: [45] SELECT * FROM categorias WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-10-14 21:58:48] [DATABASE ERROR] Preparando query: SELECT * FROM categorias WHERE ativo = :value com parâmetros: {":value":1}
[2025-10-14 21:58:48] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-10-14 21:58:48] [DATABASE ERROR] Debug PDO após binding: SQL: [45] SELECT * FROM categorias WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-10-14 21:58:48] [DATABASE ERROR] Preparando query: SELECT * FROM unidades_medida com parâmetros: []
[2025-10-14 21:58:48] [DATABASE ERROR] Debug PDO após binding: SQL: [29] SELECT * FROM unidades_medida
Params:  0

[2025-10-14 21:58:48] [DATABASE ERROR] Preparando query: SELECT * FROM fornecedores WHERE ativo = :value com parâmetros: {":value":1}
[2025-10-14 21:58:48] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-10-14 21:58:48] [DATABASE ERROR] Debug PDO após binding: SQL: [47] SELECT * FROM fornecedores WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-10-14 21:58:48] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-10-14 21:58:48] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-10-14 21:58:48] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-10-14 21:58:48] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-10-14 21:58:48] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-10-14 21:58:52] [DATABASE ERROR] Parâmetro associado: :id = 6 (tipo: 1)
[2025-10-14 21:58:52] [DATABASE ERROR] Preparando query: 
                SELECT 
                    DATE_FORMAT(m.data_movimentacao, '%Y-%m') as periodo,
                    tm.tipo,
                    SUM(mi.quantidade) as total_quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                WHERE m.status = 'PROCESSADO'
                    AND mi.produto_id = :product_id
                    AND m.data_movimentacao BETWEEN :start_date AND :end_date
                GROUP BY periodo, tm.tipo
                ORDER BY periodo ASC com parâmetros: {":product_id":"6",":start_date":"2025-04-14",":end_date":"2025-10-14"}
[2025-10-14 21:58:52] [DATABASE ERROR] Parâmetro associado: :product_id = 6 (tipo: 2)
[2025-10-14 21:58:52] [DATABASE ERROR] Parâmetro associado: :start_date = 2025-04-14 (tipo: 2)
[2025-10-14 21:58:52] [DATABASE ERROR] Parâmetro associado: :end_date = 2025-10-14 (tipo: 2)
[2025-10-14 21:58:52] [DATABASE ERROR] Debug PDO após binding: SQL: [639] 
                SELECT 
                    DATE_FORMAT(m.data_movimentacao, '%Y-%m') as periodo,
                    tm.tipo,
                    SUM(mi.quantidade) as total_quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                WHERE m.status = 'PROCESSADO'
                    AND mi.produto_id = :product_id
                    AND m.data_movimentacao BETWEEN :start_date AND :end_date
                GROUP BY periodo, tm.tipo
                ORDER BY periodo ASC
Params:  3
Key: Name: [11] :product_id
paramno=0
name=[11] ":product_id"
is_param=1
param_type=2
Key: Name: [11] :start_date
paramno=1
name=[11] ":start_date"
is_param=1
param_type=2
Key: Name: [9] :end_date
paramno=2
name=[9] ":end_date"
is_param=1
param_type=2

[2025-10-14 21:58:52] [DATABASE ERROR] Preparando query: 
                SELECT m.documento_numero, m.data_movimentacao, u.nome_completo as usuario, mi.quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                JOIN usuarios u ON m.usuario_id = u.id
                WHERE tm.tipo = 'ENTRADA' 
                    AND mi.produto_id = :product_id
                    AND m.data_movimentacao BETWEEN :start_date AND :end_date
                ORDER BY m.data_movimentacao DESC com parâmetros: {":product_id":"6",":start_date":"2025-04-14",":end_date":"2025-10-14"}
[2025-10-14 21:58:52] [DATABASE ERROR] Parâmetro associado: :product_id = 6 (tipo: 2)
[2025-10-14 21:58:52] [DATABASE ERROR] Parâmetro associado: :start_date = 2025-04-14 (tipo: 2)
[2025-10-14 21:58:52] [DATABASE ERROR] Parâmetro associado: :end_date = 2025-10-14 (tipo: 2)
[2025-10-14 21:58:52] [DATABASE ERROR] Debug PDO após binding: SQL: [579] 
                SELECT m.documento_numero, m.data_movimentacao, u.nome_completo as usuario, mi.quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                JOIN usuarios u ON m.usuario_id = u.id
                WHERE tm.tipo = 'ENTRADA' 
                    AND mi.produto_id = :product_id
                    AND m.data_movimentacao BETWEEN :start_date AND :end_date
                ORDER BY m.data_movimentacao DESC
Params:  3
Key: Name: [11] :product_id
paramno=0
name=[11] ":product_id"
is_param=1
param_type=2
Key: Name: [11] :start_date
paramno=1
name=[11] ":start_date"
is_param=1
param_type=2
Key: Name: [9] :end_date
paramno=2
name=[9] ":end_date"
is_param=1
param_type=2

[2025-10-14 21:58:52] [DATABASE ERROR] Preparando query: 
                SELECT m.documento_numero, m.data_movimentacao, u.nome_completo as usuario, mi.quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                JOIN usuarios u ON m.usuario_id = u.id
                WHERE tm.tipo = 'SAIDA' 
                    AND mi.produto_id = :product_id
                    AND m.data_movimentacao BETWEEN :start_date AND :end_date
                ORDER BY m.data_movimentacao DESC com parâmetros: {":product_id":"6",":start_date":"2025-04-14",":end_date":"2025-10-14"}
[2025-10-14 21:58:52] [DATABASE ERROR] Parâmetro associado: :product_id = 6 (tipo: 2)
[2025-10-14 21:58:52] [DATABASE ERROR] Parâmetro associado: :start_date = 2025-04-14 (tipo: 2)
[2025-10-14 21:58:52] [DATABASE ERROR] Parâmetro associado: :end_date = 2025-10-14 (tipo: 2)
[2025-10-14 21:58:52] [DATABASE ERROR] Debug PDO após binding: SQL: [577] 
                SELECT m.documento_numero, m.data_movimentacao, u.nome_completo as usuario, mi.quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                JOIN usuarios u ON m.usuario_id = u.id
                WHERE tm.tipo = 'SAIDA' 
                    AND mi.produto_id = :product_id
                    AND m.data_movimentacao BETWEEN :start_date AND :end_date
                ORDER BY m.data_movimentacao DESC
Params:  3
Key: Name: [11] :product_id
paramno=0
name=[11] ":product_id"
is_param=1
param_type=2
Key: Name: [11] :start_date
paramno=1
name=[11] ":start_date"
is_param=1
param_type=2
Key: Name: [9] :end_date
paramno=2
name=[9] ":end_date"
is_param=1
param_type=2

[2025-10-14 21:59:02] [DATABASE ERROR] Parâmetro associado: :user_id = 3 (tipo: 1)
[2025-10-14 21:59:02] [DATABASE ERROR] Parâmetro associado: :tabela = usuarios (tipo: 2)
[2025-10-14 21:59:02] [DATABASE ERROR] Parâmetro associado: :registro_id = NULL (tipo: 0)
[2025-10-14 21:59:02] [DATABASE ERROR] Parâmetro associado: :acao = LOGOUT (tipo: 2)
[2025-10-14 21:59:02] [DATABASE ERROR] Parâmetro associado: :dados_anteriores = NULL (tipo: 0)
[2025-10-14 21:59:02] [DATABASE ERROR] Parâmetro associado: :dados_novos = NULL (tipo: 0)
[2025-10-14 21:59:02] [DATABASE ERROR] Parâmetro associado: :usuario_id = NULL (tipo: 0)
[2025-10-14 21:59:02] [DATABASE ERROR] Parâmetro associado: :ip_address = ::1 (tipo: 2)
[2025-10-14 21:59:02] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 (tipo: 2)
[2025-10-14 21:59:02] [DATABASE ERROR] Erro ao executar query: SQLSTATE[23000]: Integrity constraint violation: 1048 Column 'registro_id' cannot be null
[2025-10-14 21:59:07] [DATABASE ERROR] Parâmetro associado: :username = flavio (tipo: 2)
[2025-10-14 21:59:07] [DATABASE ERROR] Parâmetro associado: :email = flavio (tipo: 2)
[2025-10-14 21:59:07] [DATABASE ERROR] Preparando query: UPDATE usuarios SET ultimo_acesso = NOW() WHERE id = :id com parâmetros: {":id":2}
[2025-10-14 21:59:07] [DATABASE ERROR] Parâmetro associado: :id = 2 (tipo: 1)
[2025-10-14 21:59:07] [DATABASE ERROR] Debug PDO após binding: SQL: [56] UPDATE usuarios SET ultimo_acesso = NOW() WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-14 21:59:07] [DATABASE ERROR] Parâmetro associado: :tabela = usuarios (tipo: 2)
[2025-10-14 21:59:07] [DATABASE ERROR] Parâmetro associado: :registro_id = 2 (tipo: 1)
[2025-10-14 21:59:07] [DATABASE ERROR] Parâmetro associado: :acao = LOGIN (tipo: 2)
[2025-10-14 21:59:07] [DATABASE ERROR] Parâmetro associado: :dados_anteriores = NULL (tipo: 0)
[2025-10-14 21:59:07] [DATABASE ERROR] Parâmetro associado: :dados_novos = NULL (tipo: 0)
[2025-10-14 21:59:07] [DATABASE ERROR] Parâmetro associado: :usuario_id = NULL (tipo: 0)
[2025-10-14 21:59:07] [DATABASE ERROR] Parâmetro associado: :ip_address = ::1 (tipo: 2)
[2025-10-14 21:59:07] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 (tipo: 2)
[2025-10-14 21:59:07] [DATABASE ERROR] Parâmetro associado: :id = h7o4pu08cq8gh1mov02hdkqjca (tipo: 2)
[2025-10-14 21:59:07] [DATABASE ERROR] Parâmetro associado: :id = h7o4pu08cq8gh1mov02hdkqjca (tipo: 2)
[2025-10-14 21:59:07] [DATABASE ERROR] Parâmetro associado: :usuario_id = 2 (tipo: 1)
[2025-10-14 21:59:07] [DATABASE ERROR] Parâmetro associado: :ip_address = ::1 (tipo: 2)
[2025-10-14 21:59:07] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 (tipo: 2)
[2025-10-14 21:59:07] [DATABASE ERROR] Parâmetro associado: :dados = {"user_id":2,"user_name":"Fl\u00e1vio Alves","user_email":"flavioafj@yahoo.com.br","user_profile":2,"user_profile_name":"Operador","logged_in":true,"login_time":1760489947} (tipo: 2)
[2025-10-14 21:59:07] [DATABASE ERROR] Parâmetro associado: :usuario_id = 2 (tipo: 1)
[2025-10-14 21:59:26] [DATABASE ERROR] Parâmetro associado: :id = 5 (tipo: 1)
[2025-10-14 21:59:26] [DATABASE ERROR] Parâmetro associado: :id = 5 (tipo: 1)
[2025-10-14 21:59:26] [DATABASE ERROR] Parâmetro associado: :produto_id = 5 (tipo: 1)
[2025-10-14 21:59:26] [DATABASE ERROR] Parâmetro associado: :produto_id = 5 (tipo: 1)
[2025-10-14 21:59:34] [DATABASE ERROR] Parâmetro associado: :produto_id = 5 (tipo: 1)
[2025-10-14 21:59:34] [DATABASE ERROR] Parâmetro associado: :mensagem = Produto Leite A integral bag com estoque baixo: 0.000 <= 1.000. (tipo: 2)
[2025-10-14 21:59:34] [DATABASE ERROR] Parâmetro associado: :admin_id = 1 (tipo: 1)
[2025-10-14 21:59:34] [DATABASE ERROR] Parâmetro associado: :produto_id = 5 (tipo: 1)
[2025-10-14 21:59:34] [DATABASE ERROR] Parâmetro associado: :mensagem = Produto Leite A integral bag com estoque baixo: 0.000 <= 1.000. (tipo: 2)
[2025-10-14 21:59:34] [DATABASE ERROR] Parâmetro associado: :admin_id = 3 (tipo: 1)
[2025-10-14 21:59:34] [DATABASE ERROR] Parâmetro associado: :tabela = alertas_estoque (tipo: 2)
[2025-10-14 21:59:34] [DATABASE ERROR] Parâmetro associado: :registro_id = 11 (tipo: 2)
[2025-10-14 21:59:34] [DATABASE ERROR] Parâmetro associado: :acao = alertas_estoque (tipo: 2)
[2025-10-14 21:59:34] [DATABASE ERROR] Parâmetro associado: :dados_anteriores = "INSERT" (tipo: 2)
[2025-10-14 21:59:34] [DATABASE ERROR] Parâmetro associado: :dados_novos = NULL (tipo: 0)
[2025-10-14 21:59:34] [DATABASE ERROR] Parâmetro associado: :usuario_id = 2 (tipo: 1)
[2025-10-14 21:59:34] [DATABASE ERROR] Parâmetro associado: :ip_address = ::1 (tipo: 2)
[2025-10-14 21:59:34] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 (tipo: 2)
[2025-10-14 21:59:38] [DATABASE ERROR] Parâmetro associado: :alert_id = 11 (tipo: 1)
[2025-10-14 21:59:38] [DATABASE ERROR] Parâmetro associado: :usuario_id = 2 (tipo: 1)
[2025-10-14 21:59:55] [DATABASE ERROR] Preparando query: SELECT * FROM produtos WHERE ativo = :value com parâmetros: {":value":1}
[2025-10-14 21:59:55] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-10-14 21:59:55] [DATABASE ERROR] Debug PDO após binding: SQL: [43] SELECT * FROM produtos WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-10-14 22:01:48] [DATABASE ERROR] Parâmetro associado: :user_id = 2 (tipo: 1)
[2025-10-14 22:01:48] [DATABASE ERROR] Parâmetro associado: :tabela = usuarios (tipo: 2)
[2025-10-14 22:01:48] [DATABASE ERROR] Parâmetro associado: :registro_id = NULL (tipo: 0)
[2025-10-14 22:01:48] [DATABASE ERROR] Parâmetro associado: :acao = LOGOUT (tipo: 2)
[2025-10-14 22:01:48] [DATABASE ERROR] Parâmetro associado: :dados_anteriores = NULL (tipo: 0)
[2025-10-14 22:01:48] [DATABASE ERROR] Parâmetro associado: :dados_novos = NULL (tipo: 0)
[2025-10-14 22:01:48] [DATABASE ERROR] Parâmetro associado: :usuario_id = NULL (tipo: 0)
[2025-10-14 22:01:48] [DATABASE ERROR] Parâmetro associado: :ip_address = ::1 (tipo: 2)
[2025-10-14 22:01:48] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 (tipo: 2)
[2025-10-14 22:01:48] [DATABASE ERROR] Erro ao executar query: SQLSTATE[23000]: Integrity constraint violation: 1048 Column 'registro_id' cannot be null
[2025-10-14 22:01:55] [DATABASE ERROR] Parâmetro associado: :username = admin (tipo: 2)
[2025-10-14 22:01:55] [DATABASE ERROR] Parâmetro associado: :email = admin (tipo: 2)
[2025-10-14 22:01:55] [DATABASE ERROR] Preparando query: UPDATE usuarios SET ultimo_acesso = NOW() WHERE id = :id com parâmetros: {":id":1}
[2025-10-14 22:01:55] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-10-14 22:01:55] [DATABASE ERROR] Debug PDO após binding: SQL: [56] UPDATE usuarios SET ultimo_acesso = NOW() WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-14 22:01:55] [DATABASE ERROR] Parâmetro associado: :tabela = usuarios (tipo: 2)
[2025-10-14 22:01:55] [DATABASE ERROR] Parâmetro associado: :registro_id = 1 (tipo: 1)
[2025-10-14 22:01:55] [DATABASE ERROR] Parâmetro associado: :acao = LOGIN (tipo: 2)
[2025-10-14 22:01:55] [DATABASE ERROR] Parâmetro associado: :dados_anteriores = NULL (tipo: 0)
[2025-10-14 22:01:55] [DATABASE ERROR] Parâmetro associado: :dados_novos = NULL (tipo: 0)
[2025-10-14 22:01:55] [DATABASE ERROR] Parâmetro associado: :usuario_id = NULL (tipo: 0)
[2025-10-14 22:01:55] [DATABASE ERROR] Parâmetro associado: :ip_address = ::1 (tipo: 2)
[2025-10-14 22:01:55] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 (tipo: 2)
[2025-10-14 22:01:55] [DATABASE ERROR] Parâmetro associado: :id = lpb2shpibjkro49c77co0cofud (tipo: 2)
[2025-10-14 22:01:55] [DATABASE ERROR] Parâmetro associado: :id = lpb2shpibjkro49c77co0cofud (tipo: 2)
[2025-10-14 22:01:55] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-10-14 22:01:55] [DATABASE ERROR] Parâmetro associado: :ip_address = ::1 (tipo: 2)
[2025-10-14 22:01:55] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 (tipo: 2)
[2025-10-14 22:01:55] [DATABASE ERROR] Parâmetro associado: :dados = {"user_id":1,"user_name":"Administrador do Sistema","user_email":"admin@sorveteria.com","user_profile":1,"user_profile_name":"Administrador","logged_in":true,"login_time":1760490115} (tipo: 2)
[2025-10-14 22:01:55] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-10-14 22:01:55] [DATABASE ERROR] Preparando query: SELECT SUM(estoque_atual) as total_estoque FROM produtos WHERE ativo = TRUE com parâmetros: []
[2025-10-14 22:01:55] [DATABASE ERROR] Debug PDO após binding: SQL: [75] SELECT SUM(estoque_atual) as total_estoque FROM produtos WHERE ativo = TRUE
Params:  0

[2025-10-14 22:01:55] [DATABASE ERROR] Preparando query: SELECT id FROM produtos WHERE ativo = TRUE com parâmetros: []
[2025-10-14 22:01:55] [DATABASE ERROR] Debug PDO após binding: SQL: [42] SELECT id FROM produtos WHERE ativo = TRUE
Params:  0

[2025-10-14 22:01:55] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":2,":data_fim_a":null,":data_fim":null}
[2025-10-14 22:01:55] [DATABASE ERROR] Parâmetro associado: :produto_id = 2 (tipo: 1)
[2025-10-14 22:01:55] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-10-14 22:01:55] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-10-14 22:01:55] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-10-14 22:01:55] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":2}
[2025-10-14 22:01:55] [DATABASE ERROR] Parâmetro associado: :id = 2 (tipo: 1)
[2025-10-14 22:01:55] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-14 22:01:55] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":3,":data_fim_a":null,":data_fim":null}
[2025-10-14 22:01:55] [DATABASE ERROR] Parâmetro associado: :produto_id = 3 (tipo: 1)
[2025-10-14 22:01:55] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-10-14 22:01:55] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-10-14 22:01:55] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-10-14 22:01:55] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":3}
[2025-10-14 22:01:55] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-10-14 22:01:55] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-14 22:01:55] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":4,":data_fim_a":null,":data_fim":null}
[2025-10-14 22:01:55] [DATABASE ERROR] Parâmetro associado: :produto_id = 4 (tipo: 1)
[2025-10-14 22:01:55] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-10-14 22:01:55] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-10-14 22:01:55] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-10-14 22:01:55] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":4}
[2025-10-14 22:01:55] [DATABASE ERROR] Parâmetro associado: :id = 4 (tipo: 1)
[2025-10-14 22:01:55] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-14 22:01:55] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":5,":data_fim_a":null,":data_fim":null}
[2025-10-14 22:01:55] [DATABASE ERROR] Parâmetro associado: :produto_id = 5 (tipo: 1)
[2025-10-14 22:01:55] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-10-14 22:01:55] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-10-14 22:01:55] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-10-14 22:01:55] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":5}
[2025-10-14 22:01:55] [DATABASE ERROR] Parâmetro associado: :id = 5 (tipo: 1)
[2025-10-14 22:01:55] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-14 22:01:55] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":6,":data_fim_a":null,":data_fim":null}
[2025-10-14 22:01:55] [DATABASE ERROR] Parâmetro associado: :produto_id = 6 (tipo: 1)
[2025-10-14 22:01:55] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-10-14 22:01:55] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-10-14 22:01:55] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-10-14 22:01:55] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":6}
[2025-10-14 22:01:55] [DATABASE ERROR] Parâmetro associado: :id = 6 (tipo: 1)
[2025-10-14 22:01:55] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-14 22:01:55] [DATABASE ERROR] Preparando query: SELECT id, codigo, nome, estoque_atual, estoque_minimo, categoria, fornecedor 
                    FROM vw_produtos_estoque_critico 
                    ORDER BY estoque_atual ASC 
                    LIMIT 10 com parâmetros: []
[2025-10-14 22:01:55] [DATABASE ERROR] Debug PDO após binding: SQL: [212] SELECT id, codigo, nome, estoque_atual, estoque_minimo, categoria, fornecedor 
                    FROM vw_produtos_estoque_critico 
                    ORDER BY estoque_atual ASC 
                    LIMIT 10
Params:  0

[2025-10-14 22:01:55] [DATABASE ERROR] Preparando query: SELECT id, tipo, categoria, documento_numero, data_movimentacao, valor_total, fornecedor, usuario 
                    FROM vw_movimentacoes_recentes 
                    ORDER BY data_movimentacao DESC 
                    LIMIT 10 com parâmetros: []
[2025-10-14 22:01:55] [DATABASE ERROR] Debug PDO após binding: SQL: [235] SELECT id, tipo, categoria, documento_numero, data_movimentacao, valor_total, fornecedor, usuario 
                    FROM vw_movimentacoes_recentes 
                    ORDER BY data_movimentacao DESC 
                    LIMIT 10
Params:  0

[2025-10-14 22:01:55] [DATABASE ERROR] Preparando query: 
                SELECT 
                    DATE_FORMAT(m.data_movimentacao, '%Y-%m') as periodo,
                    tm.tipo,
                    SUM(mi.quantidade) as total_quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                WHERE m.status = 'PROCESSADO'
                    AND m.data_movimentacao >= DATE_SUB(CURDATE(), INTERVAL 6 MONTH)
                GROUP BY periodo, tm.tipo
                ORDER BY periodo ASC com parâmetros: []
[2025-10-14 22:01:55] [DATABASE ERROR] Debug PDO após binding: SQL: [593] 
                SELECT 
                    DATE_FORMAT(m.data_movimentacao, '%Y-%m') as periodo,
                    tm.tipo,
                    SUM(mi.quantidade) as total_quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                WHERE m.status = 'PROCESSADO'
                    AND m.data_movimentacao >= DATE_SUB(CURDATE(), INTERVAL 6 MONTH)
                GROUP BY periodo, tm.tipo
                ORDER BY periodo ASC
Params:  0

[2025-10-14 22:02:01] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-10-14 22:02:02] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-10-14 22:02:04] [DATABASE ERROR] Preparando query: SELECT * FROM produtos WHERE ativo = :value com parâmetros: {":value":1}
[2025-10-14 22:02:04] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-10-14 22:02:04] [DATABASE ERROR] Debug PDO após binding: SQL: [43] SELECT * FROM produtos WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-10-14 22:02:04] [DATABASE ERROR] Preparando query: SELECT * FROM categorias WHERE ativo = :value com parâmetros: {":value":1}
[2025-10-14 22:02:04] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-10-14 22:02:04] [DATABASE ERROR] Debug PDO após binding: SQL: [45] SELECT * FROM categorias WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-10-14 22:02:04] [DATABASE ERROR] Preparando query: SELECT * FROM categorias WHERE ativo = :value com parâmetros: {":value":1}
[2025-10-14 22:02:04] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-10-14 22:02:04] [DATABASE ERROR] Debug PDO após binding: SQL: [45] SELECT * FROM categorias WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-10-14 22:02:04] [DATABASE ERROR] Preparando query: SELECT * FROM unidades_medida com parâmetros: []
[2025-10-14 22:02:04] [DATABASE ERROR] Debug PDO após binding: SQL: [29] SELECT * FROM unidades_medida
Params:  0

[2025-10-14 22:02:04] [DATABASE ERROR] Preparando query: SELECT * FROM fornecedores WHERE ativo = :value com parâmetros: {":value":1}
[2025-10-14 22:02:04] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-10-14 22:02:04] [DATABASE ERROR] Debug PDO após binding: SQL: [47] SELECT * FROM fornecedores WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-10-14 22:02:04] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-10-14 22:02:04] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-10-14 22:02:04] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-10-14 22:02:04] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-10-14 22:02:04] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-10-14 22:02:12] [DATABASE ERROR] Preparando query: SELECT * FROM produtos WHERE ativo = :value com parâmetros: {":value":0}
[2025-10-14 22:02:12] [DATABASE ERROR] Parâmetro associado: :value = 0 (tipo: 1)
[2025-10-14 22:02:12] [DATABASE ERROR] Debug PDO após binding: SQL: [43] SELECT * FROM produtos WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-10-14 22:02:12] [DATABASE ERROR] Preparando query: SELECT * FROM categorias WHERE ativo = :value com parâmetros: {":value":1}
[2025-10-14 22:02:12] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-10-14 22:02:12] [DATABASE ERROR] Debug PDO após binding: SQL: [45] SELECT * FROM categorias WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-10-14 22:02:12] [DATABASE ERROR] Preparando query: SELECT * FROM categorias WHERE ativo = :value com parâmetros: {":value":1}
[2025-10-14 22:02:12] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-10-14 22:02:12] [DATABASE ERROR] Debug PDO após binding: SQL: [45] SELECT * FROM categorias WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-10-14 22:02:12] [DATABASE ERROR] Preparando query: SELECT * FROM unidades_medida com parâmetros: []
[2025-10-14 22:02:12] [DATABASE ERROR] Debug PDO após binding: SQL: [29] SELECT * FROM unidades_medida
Params:  0

[2025-10-14 22:02:12] [DATABASE ERROR] Preparando query: SELECT * FROM fornecedores WHERE ativo = :value com parâmetros: {":value":1}
[2025-10-14 22:02:12] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-10-14 22:02:12] [DATABASE ERROR] Debug PDO após binding: SQL: [47] SELECT * FROM fornecedores WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-10-14 22:02:14] [DATABASE ERROR] Preparando query: SELECT * FROM produtos WHERE ativo = :value com parâmetros: {":value":1}
[2025-10-14 22:02:14] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-10-14 22:02:14] [DATABASE ERROR] Debug PDO após binding: SQL: [43] SELECT * FROM produtos WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-10-14 22:02:14] [DATABASE ERROR] Preparando query: SELECT * FROM categorias WHERE ativo = :value com parâmetros: {":value":1}
[2025-10-14 22:02:14] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-10-14 22:02:14] [DATABASE ERROR] Debug PDO após binding: SQL: [45] SELECT * FROM categorias WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-10-14 22:02:14] [DATABASE ERROR] Preparando query: SELECT * FROM categorias WHERE ativo = :value com parâmetros: {":value":1}
[2025-10-14 22:02:14] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-10-14 22:02:14] [DATABASE ERROR] Debug PDO após binding: SQL: [45] SELECT * FROM categorias WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-10-14 22:02:14] [DATABASE ERROR] Preparando query: SELECT * FROM unidades_medida com parâmetros: []
[2025-10-14 22:02:14] [DATABASE ERROR] Debug PDO após binding: SQL: [29] SELECT * FROM unidades_medida
Params:  0

[2025-10-14 22:02:14] [DATABASE ERROR] Preparando query: SELECT * FROM fornecedores WHERE ativo = :value com parâmetros: {":value":1}
[2025-10-14 22:02:14] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-10-14 22:02:14] [DATABASE ERROR] Debug PDO após binding: SQL: [47] SELECT * FROM fornecedores WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-10-14 22:02:14] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-10-14 22:02:14] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-10-14 22:02:14] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-10-14 22:02:14] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-10-14 22:02:14] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-10-14 22:02:24] [DATABASE ERROR] Parâmetro associado: :id = 6 (tipo: 1)
[2025-10-14 22:02:24] [DATABASE ERROR] Preparando query: 
                SELECT 
                    DATE_FORMAT(m.data_movimentacao, '%Y-%m') as periodo,
                    tm.tipo,
                    SUM(mi.quantidade) as total_quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                WHERE m.status = 'PROCESSADO'
                    AND mi.produto_id = :product_id
                    AND m.data_movimentacao BETWEEN :start_date AND :end_date
                GROUP BY periodo, tm.tipo
                ORDER BY periodo ASC com parâmetros: {":product_id":"6",":start_date":"2025-04-14",":end_date":"2025-10-14"}
[2025-10-14 22:02:24] [DATABASE ERROR] Parâmetro associado: :product_id = 6 (tipo: 2)
[2025-10-14 22:02:24] [DATABASE ERROR] Parâmetro associado: :start_date = 2025-04-14 (tipo: 2)
[2025-10-14 22:02:24] [DATABASE ERROR] Parâmetro associado: :end_date = 2025-10-14 (tipo: 2)
[2025-10-14 22:02:24] [DATABASE ERROR] Debug PDO após binding: SQL: [639] 
                SELECT 
                    DATE_FORMAT(m.data_movimentacao, '%Y-%m') as periodo,
                    tm.tipo,
                    SUM(mi.quantidade) as total_quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                WHERE m.status = 'PROCESSADO'
                    AND mi.produto_id = :product_id
                    AND m.data_movimentacao BETWEEN :start_date AND :end_date
                GROUP BY periodo, tm.tipo
                ORDER BY periodo ASC
Params:  3
Key: Name: [11] :product_id
paramno=0
name=[11] ":product_id"
is_param=1
param_type=2
Key: Name: [11] :start_date
paramno=1
name=[11] ":start_date"
is_param=1
param_type=2
Key: Name: [9] :end_date
paramno=2
name=[9] ":end_date"
is_param=1
param_type=2

[2025-10-14 22:02:24] [DATABASE ERROR] Preparando query: 
                SELECT m.documento_numero, m.data_movimentacao, u.nome_completo as usuario, mi.quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                JOIN usuarios u ON m.usuario_id = u.id
                WHERE tm.tipo = 'ENTRADA' 
                    AND mi.produto_id = :product_id
                    AND m.data_movimentacao BETWEEN :start_date AND :end_date
                ORDER BY m.data_movimentacao DESC com parâmetros: {":product_id":"6",":start_date":"2025-04-14",":end_date":"2025-10-14"}
[2025-10-14 22:02:24] [DATABASE ERROR] Parâmetro associado: :product_id = 6 (tipo: 2)
[2025-10-14 22:02:24] [DATABASE ERROR] Parâmetro associado: :start_date = 2025-04-14 (tipo: 2)
[2025-10-14 22:02:24] [DATABASE ERROR] Parâmetro associado: :end_date = 2025-10-14 (tipo: 2)
[2025-10-14 22:02:24] [DATABASE ERROR] Debug PDO após binding: SQL: [579] 
                SELECT m.documento_numero, m.data_movimentacao, u.nome_completo as usuario, mi.quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                JOIN usuarios u ON m.usuario_id = u.id
                WHERE tm.tipo = 'ENTRADA' 
                    AND mi.produto_id = :product_id
                    AND m.data_movimentacao BETWEEN :start_date AND :end_date
                ORDER BY m.data_movimentacao DESC
Params:  3
Key: Name: [11] :product_id
paramno=0
name=[11] ":product_id"
is_param=1
param_type=2
Key: Name: [11] :start_date
paramno=1
name=[11] ":start_date"
is_param=1
param_type=2
Key: Name: [9] :end_date
paramno=2
name=[9] ":end_date"
is_param=1
param_type=2

[2025-10-14 22:02:24] [DATABASE ERROR] Preparando query: 
                SELECT m.documento_numero, m.data_movimentacao, u.nome_completo as usuario, mi.quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                JOIN usuarios u ON m.usuario_id = u.id
                WHERE tm.tipo = 'SAIDA' 
                    AND mi.produto_id = :product_id
                    AND m.data_movimentacao BETWEEN :start_date AND :end_date
                ORDER BY m.data_movimentacao DESC com parâmetros: {":product_id":"6",":start_date":"2025-04-14",":end_date":"2025-10-14"}
[2025-10-14 22:02:24] [DATABASE ERROR] Parâmetro associado: :product_id = 6 (tipo: 2)
[2025-10-14 22:02:24] [DATABASE ERROR] Parâmetro associado: :start_date = 2025-04-14 (tipo: 2)
[2025-10-14 22:02:24] [DATABASE ERROR] Parâmetro associado: :end_date = 2025-10-14 (tipo: 2)
[2025-10-14 22:02:24] [DATABASE ERROR] Debug PDO após binding: SQL: [577] 
                SELECT m.documento_numero, m.data_movimentacao, u.nome_completo as usuario, mi.quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                JOIN usuarios u ON m.usuario_id = u.id
                WHERE tm.tipo = 'SAIDA' 
                    AND mi.produto_id = :product_id
                    AND m.data_movimentacao BETWEEN :start_date AND :end_date
                ORDER BY m.data_movimentacao DESC
Params:  3
Key: Name: [11] :product_id
paramno=0
name=[11] ":product_id"
is_param=1
param_type=2
Key: Name: [11] :start_date
paramno=1
name=[11] ":start_date"
is_param=1
param_type=2
Key: Name: [9] :end_date
paramno=2
name=[9] ":end_date"
is_param=1
param_type=2

[2025-10-14 22:04:15] [DATABASE ERROR] Parâmetro associado: :user_id = 1 (tipo: 1)
[2025-10-14 22:04:15] [DATABASE ERROR] Parâmetro associado: :tabela = usuarios (tipo: 2)
[2025-10-14 22:04:15] [DATABASE ERROR] Parâmetro associado: :registro_id = NULL (tipo: 0)
[2025-10-14 22:04:15] [DATABASE ERROR] Parâmetro associado: :acao = LOGOUT (tipo: 2)
[2025-10-14 22:04:15] [DATABASE ERROR] Parâmetro associado: :dados_anteriores = NULL (tipo: 0)
[2025-10-14 22:04:15] [DATABASE ERROR] Parâmetro associado: :dados_novos = NULL (tipo: 0)
[2025-10-14 22:04:15] [DATABASE ERROR] Parâmetro associado: :usuario_id = NULL (tipo: 0)
[2025-10-14 22:04:15] [DATABASE ERROR] Parâmetro associado: :ip_address = ::1 (tipo: 2)
[2025-10-14 22:04:15] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 (tipo: 2)
[2025-10-14 22:04:15] [DATABASE ERROR] Erro ao executar query: SQLSTATE[23000]: Integrity constraint violation: 1048 Column 'registro_id' cannot be null
[2025-10-14 22:04:19] [DATABASE ERROR] Parâmetro associado: :username = flavio (tipo: 2)
[2025-10-14 22:04:19] [DATABASE ERROR] Parâmetro associado: :email = flavio (tipo: 2)
[2025-10-14 22:04:19] [DATABASE ERROR] Preparando query: UPDATE usuarios SET ultimo_acesso = NOW() WHERE id = :id com parâmetros: {":id":2}
[2025-10-14 22:04:19] [DATABASE ERROR] Parâmetro associado: :id = 2 (tipo: 1)
[2025-10-14 22:04:19] [DATABASE ERROR] Debug PDO após binding: SQL: [56] UPDATE usuarios SET ultimo_acesso = NOW() WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-14 22:04:19] [DATABASE ERROR] Parâmetro associado: :tabela = usuarios (tipo: 2)
[2025-10-14 22:04:19] [DATABASE ERROR] Parâmetro associado: :registro_id = 2 (tipo: 1)
[2025-10-14 22:04:19] [DATABASE ERROR] Parâmetro associado: :acao = LOGIN (tipo: 2)
[2025-10-14 22:04:19] [DATABASE ERROR] Parâmetro associado: :dados_anteriores = NULL (tipo: 0)
[2025-10-14 22:04:19] [DATABASE ERROR] Parâmetro associado: :dados_novos = NULL (tipo: 0)
[2025-10-14 22:04:19] [DATABASE ERROR] Parâmetro associado: :usuario_id = NULL (tipo: 0)
[2025-10-14 22:04:19] [DATABASE ERROR] Parâmetro associado: :ip_address = ::1 (tipo: 2)
[2025-10-14 22:04:19] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 (tipo: 2)
[2025-10-14 22:04:19] [DATABASE ERROR] Parâmetro associado: :id = m0reb11os9hcfpqcon48ers7mj (tipo: 2)
[2025-10-14 22:04:19] [DATABASE ERROR] Parâmetro associado: :id = m0reb11os9hcfpqcon48ers7mj (tipo: 2)
[2025-10-14 22:04:19] [DATABASE ERROR] Parâmetro associado: :usuario_id = 2 (tipo: 1)
[2025-10-14 22:04:19] [DATABASE ERROR] Parâmetro associado: :ip_address = ::1 (tipo: 2)
[2025-10-14 22:04:19] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 (tipo: 2)
[2025-10-14 22:04:19] [DATABASE ERROR] Parâmetro associado: :dados = {"user_id":2,"user_name":"Fl\u00e1vio Alves","user_email":"flavioafj@yahoo.com.br","user_profile":2,"user_profile_name":"Operador","logged_in":true,"login_time":1760490259} (tipo: 2)
[2025-10-14 22:04:19] [DATABASE ERROR] Parâmetro associado: :usuario_id = 2 (tipo: 1)
[2025-10-14 23:01:45] [DATABASE ERROR] Parâmetro associado: :id = 6 (tipo: 1)
[2025-10-14 23:01:45] [DATABASE ERROR] Parâmetro associado: :id = 6 (tipo: 1)
[2025-10-14 23:01:45] [DATABASE ERROR] Parâmetro associado: :produto_id = 6 (tipo: 1)
[2025-10-14 23:01:53] [DATABASE ERROR] Parâmetro associado: :user_id = 2 (tipo: 1)
[2025-10-14 23:01:53] [DATABASE ERROR] Parâmetro associado: :tabela = usuarios (tipo: 2)
[2025-10-14 23:01:53] [DATABASE ERROR] Parâmetro associado: :registro_id = NULL (tipo: 0)
[2025-10-14 23:01:53] [DATABASE ERROR] Parâmetro associado: :acao = LOGOUT (tipo: 2)
[2025-10-14 23:01:53] [DATABASE ERROR] Parâmetro associado: :dados_anteriores = NULL (tipo: 0)
[2025-10-14 23:01:53] [DATABASE ERROR] Parâmetro associado: :dados_novos = NULL (tipo: 0)
[2025-10-14 23:01:53] [DATABASE ERROR] Parâmetro associado: :usuario_id = NULL (tipo: 0)
[2025-10-14 23:01:53] [DATABASE ERROR] Parâmetro associado: :ip_address = ::1 (tipo: 2)
[2025-10-14 23:01:53] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 (tipo: 2)
[2025-10-14 23:01:53] [DATABASE ERROR] Erro ao executar query: SQLSTATE[23000]: Integrity constraint violation: 1048 Column 'registro_id' cannot be null
[2025-10-14 23:02:00] [DATABASE ERROR] Parâmetro associado: :username = adm2 (tipo: 2)
[2025-10-14 23:02:00] [DATABASE ERROR] Parâmetro associado: :email = adm2 (tipo: 2)
[2025-10-14 23:02:00] [DATABASE ERROR] Preparando query: UPDATE usuarios SET ultimo_acesso = NOW() WHERE id = :id com parâmetros: {":id":3}
[2025-10-14 23:02:00] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-10-14 23:02:00] [DATABASE ERROR] Debug PDO após binding: SQL: [56] UPDATE usuarios SET ultimo_acesso = NOW() WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-14 23:02:00] [DATABASE ERROR] Parâmetro associado: :tabela = usuarios (tipo: 2)
[2025-10-14 23:02:00] [DATABASE ERROR] Parâmetro associado: :registro_id = 3 (tipo: 1)
[2025-10-14 23:02:00] [DATABASE ERROR] Parâmetro associado: :acao = LOGIN (tipo: 2)
[2025-10-14 23:02:00] [DATABASE ERROR] Parâmetro associado: :dados_anteriores = NULL (tipo: 0)
[2025-10-14 23:02:00] [DATABASE ERROR] Parâmetro associado: :dados_novos = NULL (tipo: 0)
[2025-10-14 23:02:00] [DATABASE ERROR] Parâmetro associado: :usuario_id = NULL (tipo: 0)
[2025-10-14 23:02:00] [DATABASE ERROR] Parâmetro associado: :ip_address = ::1 (tipo: 2)
[2025-10-14 23:02:00] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 (tipo: 2)
[2025-10-14 23:02:00] [DATABASE ERROR] Parâmetro associado: :id = 2n9c51i4g15ig824e16cda12tb (tipo: 2)
[2025-10-14 23:02:00] [DATABASE ERROR] Parâmetro associado: :id = 2n9c51i4g15ig824e16cda12tb (tipo: 2)
[2025-10-14 23:02:00] [DATABASE ERROR] Parâmetro associado: :usuario_id = 3 (tipo: 1)
[2025-10-14 23:02:00] [DATABASE ERROR] Parâmetro associado: :ip_address = ::1 (tipo: 2)
[2025-10-14 23:02:00] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 (tipo: 2)
[2025-10-14 23:02:00] [DATABASE ERROR] Parâmetro associado: :dados = {"user_id":3,"user_name":"Adm2","user_email":"adm2@borela.com","user_profile":1,"user_profile_name":"Administrador","logged_in":true,"login_time":1760493720} (tipo: 2)
[2025-10-14 23:02:00] [DATABASE ERROR] Parâmetro associado: :usuario_id = 3 (tipo: 1)
[2025-10-14 23:02:01] [DATABASE ERROR] Preparando query: SELECT SUM(estoque_atual) as total_estoque FROM produtos WHERE ativo = TRUE com parâmetros: []
[2025-10-14 23:02:01] [DATABASE ERROR] Debug PDO após binding: SQL: [75] SELECT SUM(estoque_atual) as total_estoque FROM produtos WHERE ativo = TRUE
Params:  0

[2025-10-14 23:02:01] [DATABASE ERROR] Preparando query: SELECT id FROM produtos WHERE ativo = TRUE com parâmetros: []
[2025-10-14 23:02:01] [DATABASE ERROR] Debug PDO após binding: SQL: [42] SELECT id FROM produtos WHERE ativo = TRUE
Params:  0

[2025-10-14 23:02:01] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":2,":data_fim_a":null,":data_fim":null}
[2025-10-14 23:02:01] [DATABASE ERROR] Parâmetro associado: :produto_id = 2 (tipo: 1)
[2025-10-14 23:02:01] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-10-14 23:02:01] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-10-14 23:02:01] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-10-14 23:02:01] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":2}
[2025-10-14 23:02:01] [DATABASE ERROR] Parâmetro associado: :id = 2 (tipo: 1)
[2025-10-14 23:02:01] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-14 23:02:01] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":3,":data_fim_a":null,":data_fim":null}
[2025-10-14 23:02:01] [DATABASE ERROR] Parâmetro associado: :produto_id = 3 (tipo: 1)
[2025-10-14 23:02:01] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-10-14 23:02:01] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-10-14 23:02:01] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-10-14 23:02:01] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":3}
[2025-10-14 23:02:01] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-10-14 23:02:01] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-14 23:02:01] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":4,":data_fim_a":null,":data_fim":null}
[2025-10-14 23:02:01] [DATABASE ERROR] Parâmetro associado: :produto_id = 4 (tipo: 1)
[2025-10-14 23:02:01] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-10-14 23:02:01] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-10-14 23:02:01] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-10-14 23:02:01] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":4}
[2025-10-14 23:02:01] [DATABASE ERROR] Parâmetro associado: :id = 4 (tipo: 1)
[2025-10-14 23:02:01] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-14 23:02:01] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":5,":data_fim_a":null,":data_fim":null}
[2025-10-14 23:02:01] [DATABASE ERROR] Parâmetro associado: :produto_id = 5 (tipo: 1)
[2025-10-14 23:02:01] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-10-14 23:02:01] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-10-14 23:02:01] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-10-14 23:02:01] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":5}
[2025-10-14 23:02:01] [DATABASE ERROR] Parâmetro associado: :id = 5 (tipo: 1)
[2025-10-14 23:02:01] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-14 23:02:01] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":6,":data_fim_a":null,":data_fim":null}
[2025-10-14 23:02:01] [DATABASE ERROR] Parâmetro associado: :produto_id = 6 (tipo: 1)
[2025-10-14 23:02:01] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-10-14 23:02:01] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-10-14 23:02:01] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-10-14 23:02:01] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":6}
[2025-10-14 23:02:01] [DATABASE ERROR] Parâmetro associado: :id = 6 (tipo: 1)
[2025-10-14 23:02:01] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-14 23:02:01] [DATABASE ERROR] Preparando query: 
                SELECT 
                    DATE_FORMAT(m.data_movimentacao, '%Y-%m') as periodo,
                    tm.tipo,
                    SUM(mi.quantidade) as total_quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                WHERE m.status = 'PROCESSADO'
                    AND m.data_movimentacao >= DATE_SUB(CURDATE(), INTERVAL 6 MONTH)
                GROUP BY periodo, tm.tipo
                ORDER BY periodo ASC com parâmetros: []
[2025-10-14 23:02:01] [DATABASE ERROR] Debug PDO após binding: SQL: [593] 
                SELECT 
                    DATE_FORMAT(m.data_movimentacao, '%Y-%m') as periodo,
                    tm.tipo,
                    SUM(mi.quantidade) as total_quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                WHERE m.status = 'PROCESSADO'
                    AND m.data_movimentacao >= DATE_SUB(CURDATE(), INTERVAL 6 MONTH)
                GROUP BY periodo, tm.tipo
                ORDER BY periodo ASC
Params:  0

[2025-10-14 23:02:01] [DATABASE ERROR] Preparando query: SELECT id, codigo, nome, estoque_atual, estoque_minimo, categoria, fornecedor 
                    FROM vw_produtos_estoque_critico 
                    ORDER BY estoque_atual ASC 
                    LIMIT 10 com parâmetros: []
[2025-10-14 23:02:01] [DATABASE ERROR] Debug PDO após binding: SQL: [212] SELECT id, codigo, nome, estoque_atual, estoque_minimo, categoria, fornecedor 
                    FROM vw_produtos_estoque_critico 
                    ORDER BY estoque_atual ASC 
                    LIMIT 10
Params:  0

[2025-10-14 23:02:01] [DATABASE ERROR] Preparando query: SELECT id, tipo, categoria, documento_numero, data_movimentacao, valor_total, fornecedor, usuario 
                    FROM vw_movimentacoes_recentes 
                    ORDER BY data_movimentacao DESC 
                    LIMIT 10 com parâmetros: []
[2025-10-14 23:02:01] [DATABASE ERROR] Debug PDO após binding: SQL: [235] SELECT id, tipo, categoria, documento_numero, data_movimentacao, valor_total, fornecedor, usuario 
                    FROM vw_movimentacoes_recentes 
                    ORDER BY data_movimentacao DESC 
                    LIMIT 10
Params:  0

[2025-10-14 23:02:08] [DATABASE ERROR] Parâmetro associado: :usuario_id = 3 (tipo: 1)
[2025-10-14 23:02:08] [DATABASE ERROR] Parâmetro associado: :usuario_id = 3 (tipo: 1)
[2025-10-14 23:02:14] [DATABASE ERROR] Parâmetro associado: :alert_id = 11 (tipo: 1)
[2025-10-14 23:02:14] [DATABASE ERROR] Parâmetro associado: :usuario_id = 3 (tipo: 1)
[2025-10-14 23:02:14] [DATABASE ERROR] Parâmetro associado: :tabela = alertas_estoque (tipo: 2)
[2025-10-14 23:02:14] [DATABASE ERROR] Parâmetro associado: :registro_id = 11 (tipo: 1)
[2025-10-14 23:02:14] [DATABASE ERROR] Parâmetro associado: :acao = alertas_estoque (tipo: 2)
[2025-10-14 23:02:14] [DATABASE ERROR] Parâmetro associado: :dados_anteriores = "UPDATE" (tipo: 2)
[2025-10-14 23:02:14] [DATABASE ERROR] Parâmetro associado: :dados_novos = {"lido":false} (tipo: 2)
[2025-10-14 23:02:14] [DATABASE ERROR] Parâmetro associado: :usuario_id = 3 (tipo: 1)
[2025-10-14 23:02:14] [DATABASE ERROR] Parâmetro associado: :ip_address = ::1 (tipo: 2)
[2025-10-14 23:02:14] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 (tipo: 2)
[2025-10-14 23:02:16] [DATABASE ERROR] Parâmetro associado: :user_id = 3 (tipo: 1)
[2025-10-14 23:02:16] [DATABASE ERROR] Parâmetro associado: :tabela = usuarios (tipo: 2)
[2025-10-14 23:02:16] [DATABASE ERROR] Parâmetro associado: :registro_id = NULL (tipo: 0)
[2025-10-14 23:02:16] [DATABASE ERROR] Parâmetro associado: :acao = LOGOUT (tipo: 2)
[2025-10-14 23:02:16] [DATABASE ERROR] Parâmetro associado: :dados_anteriores = NULL (tipo: 0)
[2025-10-14 23:02:16] [DATABASE ERROR] Parâmetro associado: :dados_novos = NULL (tipo: 0)
[2025-10-14 23:02:16] [DATABASE ERROR] Parâmetro associado: :usuario_id = NULL (tipo: 0)
[2025-10-14 23:02:16] [DATABASE ERROR] Parâmetro associado: :ip_address = ::1 (tipo: 2)
[2025-10-14 23:02:16] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 (tipo: 2)
[2025-10-14 23:02:16] [DATABASE ERROR] Erro ao executar query: SQLSTATE[23000]: Integrity constraint violation: 1048 Column 'registro_id' cannot be null
[2025-10-14 23:02:22] [DATABASE ERROR] Parâmetro associado: :username = admin (tipo: 2)
[2025-10-14 23:02:22] [DATABASE ERROR] Parâmetro associado: :email = admin (tipo: 2)
[2025-10-14 23:02:22] [DATABASE ERROR] Preparando query: UPDATE usuarios SET ultimo_acesso = NOW() WHERE id = :id com parâmetros: {":id":1}
[2025-10-14 23:02:22] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-10-14 23:02:22] [DATABASE ERROR] Debug PDO após binding: SQL: [56] UPDATE usuarios SET ultimo_acesso = NOW() WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-14 23:02:22] [DATABASE ERROR] Parâmetro associado: :tabela = usuarios (tipo: 2)
[2025-10-14 23:02:22] [DATABASE ERROR] Parâmetro associado: :registro_id = 1 (tipo: 1)
[2025-10-14 23:02:22] [DATABASE ERROR] Parâmetro associado: :acao = LOGIN (tipo: 2)
[2025-10-14 23:02:22] [DATABASE ERROR] Parâmetro associado: :dados_anteriores = NULL (tipo: 0)
[2025-10-14 23:02:22] [DATABASE ERROR] Parâmetro associado: :dados_novos = NULL (tipo: 0)
[2025-10-14 23:02:22] [DATABASE ERROR] Parâmetro associado: :usuario_id = NULL (tipo: 0)
[2025-10-14 23:02:22] [DATABASE ERROR] Parâmetro associado: :ip_address = ::1 (tipo: 2)
[2025-10-14 23:02:22] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 (tipo: 2)
[2025-10-14 23:02:22] [DATABASE ERROR] Parâmetro associado: :id = nferu4vuh0bvu2sdd4ip0fcd5j (tipo: 2)
[2025-10-14 23:02:22] [DATABASE ERROR] Parâmetro associado: :id = nferu4vuh0bvu2sdd4ip0fcd5j (tipo: 2)
[2025-10-14 23:02:22] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-10-14 23:02:22] [DATABASE ERROR] Parâmetro associado: :ip_address = ::1 (tipo: 2)
[2025-10-14 23:02:22] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 (tipo: 2)
[2025-10-14 23:02:22] [DATABASE ERROR] Parâmetro associado: :dados = {"user_id":1,"user_name":"Administrador do Sistema","user_email":"admin@sorveteria.com","user_profile":1,"user_profile_name":"Administrador","logged_in":true,"login_time":1760493742} (tipo: 2)
[2025-10-14 23:02:22] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-10-14 23:02:22] [DATABASE ERROR] Preparando query: SELECT SUM(estoque_atual) as total_estoque FROM produtos WHERE ativo = TRUE com parâmetros: []
[2025-10-14 23:02:22] [DATABASE ERROR] Debug PDO após binding: SQL: [75] SELECT SUM(estoque_atual) as total_estoque FROM produtos WHERE ativo = TRUE
Params:  0

[2025-10-14 23:02:22] [DATABASE ERROR] Preparando query: SELECT id FROM produtos WHERE ativo = TRUE com parâmetros: []
[2025-10-14 23:02:22] [DATABASE ERROR] Debug PDO após binding: SQL: [42] SELECT id FROM produtos WHERE ativo = TRUE
Params:  0

[2025-10-14 23:02:22] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":2,":data_fim_a":null,":data_fim":null}
[2025-10-14 23:02:22] [DATABASE ERROR] Parâmetro associado: :produto_id = 2 (tipo: 1)
[2025-10-14 23:02:22] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-10-14 23:02:22] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-10-14 23:02:22] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-10-14 23:02:22] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":2}
[2025-10-14 23:02:22] [DATABASE ERROR] Parâmetro associado: :id = 2 (tipo: 1)
[2025-10-14 23:02:22] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-14 23:02:22] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":3,":data_fim_a":null,":data_fim":null}
[2025-10-14 23:02:22] [DATABASE ERROR] Parâmetro associado: :produto_id = 3 (tipo: 1)
[2025-10-14 23:02:22] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-10-14 23:02:22] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-10-14 23:02:22] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-10-14 23:02:22] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":3}
[2025-10-14 23:02:22] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-10-14 23:02:22] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-14 23:02:22] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":4,":data_fim_a":null,":data_fim":null}
[2025-10-14 23:02:22] [DATABASE ERROR] Parâmetro associado: :produto_id = 4 (tipo: 1)
[2025-10-14 23:02:22] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-10-14 23:02:22] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-10-14 23:02:22] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-10-14 23:02:22] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":4}
[2025-10-14 23:02:22] [DATABASE ERROR] Parâmetro associado: :id = 4 (tipo: 1)
[2025-10-14 23:02:22] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-14 23:02:22] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":5,":data_fim_a":null,":data_fim":null}
[2025-10-14 23:02:22] [DATABASE ERROR] Parâmetro associado: :produto_id = 5 (tipo: 1)
[2025-10-14 23:02:22] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-10-14 23:02:22] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-10-14 23:02:22] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-10-14 23:02:22] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":5}
[2025-10-14 23:02:22] [DATABASE ERROR] Parâmetro associado: :id = 5 (tipo: 1)
[2025-10-14 23:02:22] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-14 23:02:22] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":6,":data_fim_a":null,":data_fim":null}
[2025-10-14 23:02:22] [DATABASE ERROR] Parâmetro associado: :produto_id = 6 (tipo: 1)
[2025-10-14 23:02:22] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-10-14 23:02:22] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-10-14 23:02:22] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-10-14 23:02:22] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":6}
[2025-10-14 23:02:22] [DATABASE ERROR] Parâmetro associado: :id = 6 (tipo: 1)
[2025-10-14 23:02:22] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-14 23:02:22] [DATABASE ERROR] Preparando query: SELECT id, codigo, nome, estoque_atual, estoque_minimo, categoria, fornecedor 
                    FROM vw_produtos_estoque_critico 
                    ORDER BY estoque_atual ASC 
                    LIMIT 10 com parâmetros: []
[2025-10-14 23:02:22] [DATABASE ERROR] Debug PDO após binding: SQL: [212] SELECT id, codigo, nome, estoque_atual, estoque_minimo, categoria, fornecedor 
                    FROM vw_produtos_estoque_critico 
                    ORDER BY estoque_atual ASC 
                    LIMIT 10
Params:  0

[2025-10-14 23:02:22] [DATABASE ERROR] Preparando query: SELECT id, tipo, categoria, documento_numero, data_movimentacao, valor_total, fornecedor, usuario 
                    FROM vw_movimentacoes_recentes 
                    ORDER BY data_movimentacao DESC 
                    LIMIT 10 com parâmetros: []
[2025-10-14 23:02:22] [DATABASE ERROR] Debug PDO após binding: SQL: [235] SELECT id, tipo, categoria, documento_numero, data_movimentacao, valor_total, fornecedor, usuario 
                    FROM vw_movimentacoes_recentes 
                    ORDER BY data_movimentacao DESC 
                    LIMIT 10
Params:  0

[2025-10-14 23:02:22] [DATABASE ERROR] Preparando query: 
                SELECT 
                    DATE_FORMAT(m.data_movimentacao, '%Y-%m') as periodo,
                    tm.tipo,
                    SUM(mi.quantidade) as total_quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                WHERE m.status = 'PROCESSADO'
                    AND m.data_movimentacao >= DATE_SUB(CURDATE(), INTERVAL 6 MONTH)
                GROUP BY periodo, tm.tipo
                ORDER BY periodo ASC com parâmetros: []
[2025-10-14 23:02:22] [DATABASE ERROR] Debug PDO após binding: SQL: [593] 
                SELECT 
                    DATE_FORMAT(m.data_movimentacao, '%Y-%m') as periodo,
                    tm.tipo,
                    SUM(mi.quantidade) as total_quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                WHERE m.status = 'PROCESSADO'
                    AND m.data_movimentacao >= DATE_SUB(CURDATE(), INTERVAL 6 MONTH)
                GROUP BY periodo, tm.tipo
                ORDER BY periodo ASC
Params:  0

[2025-10-14 23:02:53] [DATABASE ERROR] Parâmetro associado: :user_id = 1 (tipo: 1)
[2025-10-14 23:02:53] [DATABASE ERROR] Parâmetro associado: :tabela = usuarios (tipo: 2)
[2025-10-14 23:02:53] [DATABASE ERROR] Parâmetro associado: :registro_id = NULL (tipo: 0)
[2025-10-14 23:02:53] [DATABASE ERROR] Parâmetro associado: :acao = LOGOUT (tipo: 2)
[2025-10-14 23:02:53] [DATABASE ERROR] Parâmetro associado: :dados_anteriores = NULL (tipo: 0)
[2025-10-14 23:02:53] [DATABASE ERROR] Parâmetro associado: :dados_novos = NULL (tipo: 0)
[2025-10-14 23:02:53] [DATABASE ERROR] Parâmetro associado: :usuario_id = NULL (tipo: 0)
[2025-10-14 23:02:53] [DATABASE ERROR] Parâmetro associado: :ip_address = ::1 (tipo: 2)
[2025-10-14 23:02:53] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 (tipo: 2)
[2025-10-14 23:02:53] [DATABASE ERROR] Erro ao executar query: SQLSTATE[23000]: Integrity constraint violation: 1048 Column 'registro_id' cannot be null
[2025-10-14 23:03:00] [DATABASE ERROR] Parâmetro associado: :username = adm2 (tipo: 2)
[2025-10-14 23:03:00] [DATABASE ERROR] Parâmetro associado: :email = adm2 (tipo: 2)
[2025-10-14 23:03:01] [DATABASE ERROR] Preparando query: UPDATE usuarios SET ultimo_acesso = NOW() WHERE id = :id com parâmetros: {":id":3}
[2025-10-14 23:03:01] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-10-14 23:03:01] [DATABASE ERROR] Debug PDO após binding: SQL: [56] UPDATE usuarios SET ultimo_acesso = NOW() WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-14 23:03:01] [DATABASE ERROR] Parâmetro associado: :tabela = usuarios (tipo: 2)
[2025-10-14 23:03:01] [DATABASE ERROR] Parâmetro associado: :registro_id = 3 (tipo: 1)
[2025-10-14 23:03:01] [DATABASE ERROR] Parâmetro associado: :acao = LOGIN (tipo: 2)
[2025-10-14 23:03:01] [DATABASE ERROR] Parâmetro associado: :dados_anteriores = NULL (tipo: 0)
[2025-10-14 23:03:01] [DATABASE ERROR] Parâmetro associado: :dados_novos = NULL (tipo: 0)
[2025-10-14 23:03:01] [DATABASE ERROR] Parâmetro associado: :usuario_id = NULL (tipo: 0)
[2025-10-14 23:03:01] [DATABASE ERROR] Parâmetro associado: :ip_address = ::1 (tipo: 2)
[2025-10-14 23:03:01] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 (tipo: 2)
[2025-10-14 23:03:01] [DATABASE ERROR] Parâmetro associado: :id = dn66caj5tu4lu7gi75s0709f64 (tipo: 2)
[2025-10-14 23:03:01] [DATABASE ERROR] Parâmetro associado: :id = dn66caj5tu4lu7gi75s0709f64 (tipo: 2)
[2025-10-14 23:03:01] [DATABASE ERROR] Parâmetro associado: :usuario_id = 3 (tipo: 1)
[2025-10-14 23:03:01] [DATABASE ERROR] Parâmetro associado: :ip_address = ::1 (tipo: 2)
[2025-10-14 23:03:01] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 (tipo: 2)
[2025-10-14 23:03:01] [DATABASE ERROR] Parâmetro associado: :dados = {"user_id":3,"user_name":"Adm2","user_email":"adm2@borela.com","user_profile":1,"user_profile_name":"Administrador","logged_in":true,"login_time":1760493781} (tipo: 2)
[2025-10-14 23:03:01] [DATABASE ERROR] Parâmetro associado: :usuario_id = 3 (tipo: 1)
[2025-10-14 23:03:01] [DATABASE ERROR] Preparando query: SELECT SUM(estoque_atual) as total_estoque FROM produtos WHERE ativo = TRUE com parâmetros: []
[2025-10-14 23:03:01] [DATABASE ERROR] Debug PDO após binding: SQL: [75] SELECT SUM(estoque_atual) as total_estoque FROM produtos WHERE ativo = TRUE
Params:  0

[2025-10-14 23:03:01] [DATABASE ERROR] Preparando query: SELECT id FROM produtos WHERE ativo = TRUE com parâmetros: []
[2025-10-14 23:03:01] [DATABASE ERROR] Debug PDO após binding: SQL: [42] SELECT id FROM produtos WHERE ativo = TRUE
Params:  0

[2025-10-14 23:03:01] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":2,":data_fim_a":null,":data_fim":null}
[2025-10-14 23:03:01] [DATABASE ERROR] Parâmetro associado: :produto_id = 2 (tipo: 1)
[2025-10-14 23:03:01] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-10-14 23:03:01] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-10-14 23:03:01] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-10-14 23:03:01] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":2}
[2025-10-14 23:03:01] [DATABASE ERROR] Parâmetro associado: :id = 2 (tipo: 1)
[2025-10-14 23:03:01] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-14 23:03:01] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":3,":data_fim_a":null,":data_fim":null}
[2025-10-14 23:03:01] [DATABASE ERROR] Parâmetro associado: :produto_id = 3 (tipo: 1)
[2025-10-14 23:03:01] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-10-14 23:03:01] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-10-14 23:03:01] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-10-14 23:03:01] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":3}
[2025-10-14 23:03:01] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-10-14 23:03:01] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-14 23:03:01] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":4,":data_fim_a":null,":data_fim":null}
[2025-10-14 23:03:01] [DATABASE ERROR] Parâmetro associado: :produto_id = 4 (tipo: 1)
[2025-10-14 23:03:01] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-10-14 23:03:01] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-10-14 23:03:01] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-10-14 23:03:01] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":4}
[2025-10-14 23:03:01] [DATABASE ERROR] Parâmetro associado: :id = 4 (tipo: 1)
[2025-10-14 23:03:01] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-14 23:03:01] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":5,":data_fim_a":null,":data_fim":null}
[2025-10-14 23:03:01] [DATABASE ERROR] Parâmetro associado: :produto_id = 5 (tipo: 1)
[2025-10-14 23:03:01] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-10-14 23:03:01] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-10-14 23:03:01] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-10-14 23:03:01] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":5}
[2025-10-14 23:03:01] [DATABASE ERROR] Parâmetro associado: :id = 5 (tipo: 1)
[2025-10-14 23:03:01] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-14 23:03:01] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":6,":data_fim_a":null,":data_fim":null}
[2025-10-14 23:03:01] [DATABASE ERROR] Parâmetro associado: :produto_id = 6 (tipo: 1)
[2025-10-14 23:03:01] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-10-14 23:03:01] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-10-14 23:03:01] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-10-14 23:03:01] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":6}
[2025-10-14 23:03:01] [DATABASE ERROR] Parâmetro associado: :id = 6 (tipo: 1)
[2025-10-14 23:03:01] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-14 23:03:01] [DATABASE ERROR] Preparando query: SELECT id, codigo, nome, estoque_atual, estoque_minimo, categoria, fornecedor 
                    FROM vw_produtos_estoque_critico 
                    ORDER BY estoque_atual ASC 
                    LIMIT 10 com parâmetros: []
[2025-10-14 23:03:01] [DATABASE ERROR] Debug PDO após binding: SQL: [212] SELECT id, codigo, nome, estoque_atual, estoque_minimo, categoria, fornecedor 
                    FROM vw_produtos_estoque_critico 
                    ORDER BY estoque_atual ASC 
                    LIMIT 10
Params:  0

[2025-10-14 23:03:01] [DATABASE ERROR] Preparando query: 
                SELECT 
                    DATE_FORMAT(m.data_movimentacao, '%Y-%m') as periodo,
                    tm.tipo,
                    SUM(mi.quantidade) as total_quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                WHERE m.status = 'PROCESSADO'
                    AND m.data_movimentacao >= DATE_SUB(CURDATE(), INTERVAL 6 MONTH)
                GROUP BY periodo, tm.tipo
                ORDER BY periodo ASC com parâmetros: []
[2025-10-14 23:03:01] [DATABASE ERROR] Debug PDO após binding: SQL: [593] 
                SELECT 
                    DATE_FORMAT(m.data_movimentacao, '%Y-%m') as periodo,
                    tm.tipo,
                    SUM(mi.quantidade) as total_quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                WHERE m.status = 'PROCESSADO'
                    AND m.data_movimentacao >= DATE_SUB(CURDATE(), INTERVAL 6 MONTH)
                GROUP BY periodo, tm.tipo
                ORDER BY periodo ASC
Params:  0

[2025-10-14 23:03:01] [DATABASE ERROR] Preparando query: SELECT id, tipo, categoria, documento_numero, data_movimentacao, valor_total, fornecedor, usuario 
                    FROM vw_movimentacoes_recentes 
                    ORDER BY data_movimentacao DESC 
                    LIMIT 10 com parâmetros: []
[2025-10-14 23:03:01] [DATABASE ERROR] Debug PDO após binding: SQL: [235] SELECT id, tipo, categoria, documento_numero, data_movimentacao, valor_total, fornecedor, usuario 
                    FROM vw_movimentacoes_recentes 
                    ORDER BY data_movimentacao DESC 
                    LIMIT 10
Params:  0

[2025-10-14 23:03:05] [DATABASE ERROR] Parâmetro associado: :user_id = 3 (tipo: 1)
[2025-10-14 23:03:05] [DATABASE ERROR] Parâmetro associado: :tabela = usuarios (tipo: 2)
[2025-10-14 23:03:05] [DATABASE ERROR] Parâmetro associado: :registro_id = NULL (tipo: 0)
[2025-10-14 23:03:05] [DATABASE ERROR] Parâmetro associado: :acao = LOGOUT (tipo: 2)
[2025-10-14 23:03:05] [DATABASE ERROR] Parâmetro associado: :dados_anteriores = NULL (tipo: 0)
[2025-10-14 23:03:05] [DATABASE ERROR] Parâmetro associado: :dados_novos = NULL (tipo: 0)
[2025-10-14 23:03:05] [DATABASE ERROR] Parâmetro associado: :usuario_id = NULL (tipo: 0)
[2025-10-14 23:03:05] [DATABASE ERROR] Parâmetro associado: :ip_address = ::1 (tipo: 2)
[2025-10-14 23:03:05] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 (tipo: 2)
[2025-10-14 23:03:05] [DATABASE ERROR] Erro ao executar query: SQLSTATE[23000]: Integrity constraint violation: 1048 Column 'registro_id' cannot be null
[2025-10-15 21:17:28] [DATABASE ERROR] Erro de conexão: SQLSTATE[HY000] [1045] Access denied for user 'seu_usuario'@'localhost' (using password: YES)
[2025-10-15 21:17:32] [DATABASE ERROR] Erro de conexão: SQLSTATE[HY000] [1045] Access denied for user 'seu_usuario'@'localhost' (using password: YES)
[2025-10-15 21:17:36] [DATABASE ERROR] Erro de conexão: SQLSTATE[HY000] [1045] Access denied for user 'seu_usuario'@'localhost' (using password: YES)
[2025-10-15 21:26:10] [DATABASE ERROR] Erro de conexão: SQLSTATE[HY000] [1045] Access denied for user 'seu_usuario'@'localhost' (using password: YES)
[2025-10-15 21:47:00] [DATABASE ERROR] Erro de conexão: SQLSTATE[HY000] [1045] Access denied for user 'seu_usuario'@'localhost' (using password: YES)
[2025-10-15 21:47:03] [DATABASE ERROR] Erro de conexão: SQLSTATE[HY000] [1045] Access denied for user 'seu_usuario'@'localhost' (using password: YES)
[2025-10-15 21:49:04] [DATABASE ERROR] Erro de conexão: SQLSTATE[HY000] [1045] Access denied for user 'seu_usuario'@'localhost' (using password: YES)
[2025-10-15 22:07:47] [DATABASE ERROR] Erro de conexão: SQLSTATE[HY000] [1045] Access denied for user 'seu_usuario'@'localhost' (using password: YES)
[2025-10-15 22:22:25] [DATABASE ERROR] Parâmetro associado: :username = admin (tipo: 2)
[2025-10-15 22:22:25] [DATABASE ERROR] Parâmetro associado: :email = admin (tipo: 2)
[2025-10-15 22:22:25] [DATABASE ERROR] Preparando query: UPDATE usuarios SET ultimo_acesso = NOW() WHERE id = :id com parâmetros: {":id":1}
[2025-10-15 22:22:25] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-10-15 22:22:25] [DATABASE ERROR] Debug PDO após binding: SQL: [56] UPDATE usuarios SET ultimo_acesso = NOW() WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-15 22:22:25] [DATABASE ERROR] Parâmetro associado: :tabela = usuarios (tipo: 2)
[2025-10-15 22:22:25] [DATABASE ERROR] Parâmetro associado: :registro_id = 1 (tipo: 1)
[2025-10-15 22:22:25] [DATABASE ERROR] Parâmetro associado: :acao = LOGIN (tipo: 2)
[2025-10-15 22:22:25] [DATABASE ERROR] Parâmetro associado: :dados_anteriores = NULL (tipo: 0)
[2025-10-15 22:22:25] [DATABASE ERROR] Parâmetro associado: :dados_novos = NULL (tipo: 0)
[2025-10-15 22:22:25] [DATABASE ERROR] Parâmetro associado: :usuario_id = NULL (tipo: 0)
[2025-10-15 22:22:25] [DATABASE ERROR] Parâmetro associado: :ip_address = 192.168.15.8 (tipo: 2)
[2025-10-15 22:22:25] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36 (tipo: 2)
[2025-10-15 22:22:25] [DATABASE ERROR] Erro ao executar query: SQLSTATE[01000]: Warning: 1265 Data truncated for column 'acao' at row 1
[2025-10-15 22:22:25] [DATABASE ERROR] Parâmetro associado: :id = rr2qpodoneqb441o6qn6idtg56 (tipo: 2)
[2025-10-15 22:22:25] [DATABASE ERROR] Parâmetro associado: :id = rr2qpodoneqb441o6qn6idtg56 (tipo: 2)
[2025-10-15 22:22:25] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-10-15 22:22:25] [DATABASE ERROR] Parâmetro associado: :ip_address = 192.168.15.8 (tipo: 2)
[2025-10-15 22:22:25] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36 (tipo: 2)
[2025-10-15 22:22:25] [DATABASE ERROR] Parâmetro associado: :dados = {"user_id":1,"user_name":"Administrador do Sistema","user_email":"admin@sorveteria.com","user_profile":1,"user_profile_name":"Administrador","logged_in":true,"login_time":1760577745} (tipo: 2)
[2025-10-15 22:22:25] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-10-15 22:22:53] [DATABASE ERROR] Parâmetro associado: :user_id = 1 (tipo: 1)
[2025-10-15 22:22:53] [DATABASE ERROR] Parâmetro associado: :tabela = usuarios (tipo: 2)
[2025-10-15 22:22:53] [DATABASE ERROR] Parâmetro associado: :registro_id = NULL (tipo: 0)
[2025-10-15 22:22:53] [DATABASE ERROR] Parâmetro associado: :acao = LOGOUT (tipo: 2)
[2025-10-15 22:22:53] [DATABASE ERROR] Parâmetro associado: :dados_anteriores = NULL (tipo: 0)
[2025-10-15 22:22:53] [DATABASE ERROR] Parâmetro associado: :dados_novos = NULL (tipo: 0)
[2025-10-15 22:22:53] [DATABASE ERROR] Parâmetro associado: :usuario_id = NULL (tipo: 0)
[2025-10-15 22:22:53] [DATABASE ERROR] Parâmetro associado: :ip_address = 192.168.15.8 (tipo: 2)
[2025-10-15 22:22:53] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36 (tipo: 2)
[2025-10-15 22:22:53] [DATABASE ERROR] Erro ao executar query: SQLSTATE[23000]: Integrity constraint violation: 1048 Column 'registro_id' cannot be null
[2025-10-15 22:23:11] [DATABASE ERROR] Parâmetro associado: :username = adm2 (tipo: 2)
[2025-10-15 22:23:11] [DATABASE ERROR] Parâmetro associado: :email = adm2 (tipo: 2)
[2025-10-15 22:23:12] [DATABASE ERROR] Preparando query: UPDATE usuarios SET ultimo_acesso = NOW() WHERE id = :id com parâmetros: {":id":3}
[2025-10-15 22:23:12] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-10-15 22:23:12] [DATABASE ERROR] Debug PDO após binding: SQL: [56] UPDATE usuarios SET ultimo_acesso = NOW() WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-15 22:23:12] [DATABASE ERROR] Parâmetro associado: :tabela = usuarios (tipo: 2)
[2025-10-15 22:23:12] [DATABASE ERROR] Parâmetro associado: :registro_id = 3 (tipo: 1)
[2025-10-15 22:23:12] [DATABASE ERROR] Parâmetro associado: :acao = LOGIN (tipo: 2)
[2025-10-15 22:23:12] [DATABASE ERROR] Parâmetro associado: :dados_anteriores = NULL (tipo: 0)
[2025-10-15 22:23:12] [DATABASE ERROR] Parâmetro associado: :dados_novos = NULL (tipo: 0)
[2025-10-15 22:23:12] [DATABASE ERROR] Parâmetro associado: :usuario_id = NULL (tipo: 0)
[2025-10-15 22:23:12] [DATABASE ERROR] Parâmetro associado: :ip_address = 192.168.15.8 (tipo: 2)
[2025-10-15 22:23:12] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36 (tipo: 2)
[2025-10-15 22:23:12] [DATABASE ERROR] Erro ao executar query: SQLSTATE[01000]: Warning: 1265 Data truncated for column 'acao' at row 1
[2025-10-15 22:23:12] [DATABASE ERROR] Parâmetro associado: :id = rnortj7itonta9fc5m5k60h3to (tipo: 2)
[2025-10-15 22:23:12] [DATABASE ERROR] Parâmetro associado: :id = rnortj7itonta9fc5m5k60h3to (tipo: 2)
[2025-10-15 22:23:12] [DATABASE ERROR] Parâmetro associado: :usuario_id = 3 (tipo: 1)
[2025-10-15 22:23:12] [DATABASE ERROR] Parâmetro associado: :ip_address = 192.168.15.8 (tipo: 2)
[2025-10-15 22:23:12] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36 (tipo: 2)
[2025-10-15 22:23:12] [DATABASE ERROR] Parâmetro associado: :dados = {"user_id":3,"user_name":"Adm2","user_email":"adm2@borela.com","user_profile":1,"user_profile_name":"Administrador","logged_in":true,"login_time":1760577792} (tipo: 2)
[2025-10-15 22:23:12] [DATABASE ERROR] Parâmetro associado: :usuario_id = 3 (tipo: 1)
[2025-10-15 22:26:45] [DATABASE ERROR] Parâmetro associado: :usuario_id = 3 (tipo: 1)
[2025-10-15 22:28:36] [DATABASE ERROR] Parâmetro associado: :user_id = 3 (tipo: 1)
[2025-10-15 22:28:36] [DATABASE ERROR] Parâmetro associado: :tabela = usuarios (tipo: 2)
[2025-10-15 22:28:36] [DATABASE ERROR] Parâmetro associado: :registro_id = NULL (tipo: 0)
[2025-10-15 22:28:36] [DATABASE ERROR] Parâmetro associado: :acao = LOGOUT (tipo: 2)
[2025-10-15 22:28:36] [DATABASE ERROR] Parâmetro associado: :dados_anteriores = NULL (tipo: 0)
[2025-10-15 22:28:36] [DATABASE ERROR] Parâmetro associado: :dados_novos = NULL (tipo: 0)
[2025-10-15 22:28:36] [DATABASE ERROR] Parâmetro associado: :usuario_id = NULL (tipo: 0)
[2025-10-15 22:28:36] [DATABASE ERROR] Parâmetro associado: :ip_address = 192.168.15.8 (tipo: 2)
[2025-10-15 22:28:36] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36 (tipo: 2)
[2025-10-15 22:28:36] [DATABASE ERROR] Erro ao executar query: SQLSTATE[23000]: Integrity constraint violation: 1048 Column 'registro_id' cannot be null
[2025-10-15 22:28:44] [DATABASE ERROR] Parâmetro associado: :username = flavio (tipo: 2)
[2025-10-15 22:28:44] [DATABASE ERROR] Parâmetro associado: :email = flavio (tipo: 2)
[2025-10-15 22:28:44] [DATABASE ERROR] Preparando query: UPDATE usuarios SET ultimo_acesso = NOW() WHERE id = :id com parâmetros: {":id":2}
[2025-10-15 22:28:44] [DATABASE ERROR] Parâmetro associado: :id = 2 (tipo: 1)
[2025-10-15 22:28:44] [DATABASE ERROR] Debug PDO após binding: SQL: [56] UPDATE usuarios SET ultimo_acesso = NOW() WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-15 22:28:44] [DATABASE ERROR] Parâmetro associado: :tabela = usuarios (tipo: 2)
[2025-10-15 22:28:44] [DATABASE ERROR] Parâmetro associado: :registro_id = 2 (tipo: 1)
[2025-10-15 22:28:44] [DATABASE ERROR] Parâmetro associado: :acao = LOGIN (tipo: 2)
[2025-10-15 22:28:44] [DATABASE ERROR] Parâmetro associado: :dados_anteriores = NULL (tipo: 0)
[2025-10-15 22:28:44] [DATABASE ERROR] Parâmetro associado: :dados_novos = NULL (tipo: 0)
[2025-10-15 22:28:44] [DATABASE ERROR] Parâmetro associado: :usuario_id = NULL (tipo: 0)
[2025-10-15 22:28:44] [DATABASE ERROR] Parâmetro associado: :ip_address = 192.168.15.8 (tipo: 2)
[2025-10-15 22:28:44] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36 (tipo: 2)
[2025-10-15 22:28:44] [DATABASE ERROR] Erro ao executar query: SQLSTATE[01000]: Warning: 1265 Data truncated for column 'acao' at row 1
[2025-10-15 22:28:44] [DATABASE ERROR] Parâmetro associado: :id = ua5kk4u7dpmuuvf2abtc2qok3h (tipo: 2)
[2025-10-15 22:28:44] [DATABASE ERROR] Parâmetro associado: :id = ua5kk4u7dpmuuvf2abtc2qok3h (tipo: 2)
[2025-10-15 22:28:44] [DATABASE ERROR] Parâmetro associado: :usuario_id = 2 (tipo: 1)
[2025-10-15 22:28:44] [DATABASE ERROR] Parâmetro associado: :ip_address = 192.168.15.8 (tipo: 2)
[2025-10-15 22:28:44] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36 (tipo: 2)
[2025-10-15 22:28:44] [DATABASE ERROR] Parâmetro associado: :dados = {"user_id":2,"user_name":"Fl\u00e1vio Alves","user_email":"flavioafj@yahoo.com.br","user_profile":2,"user_profile_name":"Operador","logged_in":true,"login_time":1760578124} (tipo: 2)
[2025-10-15 22:28:44] [DATABASE ERROR] Parâmetro associado: :usuario_id = 2 (tipo: 1)
[2025-10-15 22:38:22] [DATABASE ERROR] Parâmetro associado: :usuario_id = 2 (tipo: 1)
[2025-10-15 22:38:23] [DATABASE ERROR] Parâmetro associado: :usuario_id = 2 (tipo: 1)
[2025-10-15 22:38:28] [DATABASE ERROR] Parâmetro associado: :usuario_id = 2 (tipo: 1)
[2025-10-15 22:38:29] [DATABASE ERROR] Parâmetro associado: :usuario_id = 2 (tipo: 1)
[2025-10-15 22:38:58] [DATABASE ERROR] Parâmetro associado: :usuario_id = 2 (tipo: 1)
[2025-10-15 22:39:02] [DATABASE ERROR] Parâmetro associado: :usuario_id = 2 (tipo: 1)
[2025-10-15 22:39:14] [DATABASE ERROR] Parâmetro associado: :usuario_id = 2 (tipo: 1)
[2025-10-15 22:39:25] [DATABASE ERROR] Parâmetro associado: :usuario_id = 2 (tipo: 1)
[2025-10-15 22:39:28] [DATABASE ERROR] Parâmetro associado: :usuario_id = 2 (tipo: 1)
[2025-10-15 22:40:09] [DATABASE ERROR] Parâmetro associado: :usuario_id = 2 (tipo: 1)
[2025-10-15 22:40:10] [DATABASE ERROR] Parâmetro associado: :usuario_id = 2 (tipo: 1)
[2025-10-15 22:40:37] [DATABASE ERROR] Parâmetro associado: :usuario_id = 2 (tipo: 1)
[2025-10-15 22:40:46] [DATABASE ERROR] Parâmetro associado: :usuario_id = 2 (tipo: 1)
[2025-10-15 22:41:34] [DATABASE ERROR] Parâmetro associado: :user_id = 2 (tipo: 1)
[2025-10-15 22:41:34] [DATABASE ERROR] Parâmetro associado: :tabela = usuarios (tipo: 2)
[2025-10-15 22:41:34] [DATABASE ERROR] Parâmetro associado: :registro_id = NULL (tipo: 0)
[2025-10-15 22:41:34] [DATABASE ERROR] Parâmetro associado: :acao = LOGOUT (tipo: 2)
[2025-10-15 22:41:34] [DATABASE ERROR] Parâmetro associado: :dados_anteriores = NULL (tipo: 0)
[2025-10-15 22:41:34] [DATABASE ERROR] Parâmetro associado: :dados_novos = NULL (tipo: 0)
[2025-10-15 22:41:34] [DATABASE ERROR] Parâmetro associado: :usuario_id = NULL (tipo: 0)
[2025-10-15 22:41:34] [DATABASE ERROR] Parâmetro associado: :ip_address = 192.168.15.8 (tipo: 2)
[2025-10-15 22:41:34] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36 (tipo: 2)
[2025-10-15 22:41:34] [DATABASE ERROR] Erro ao executar query: SQLSTATE[23000]: Integrity constraint violation: 1048 Column 'registro_id' cannot be null
[2025-10-15 23:08:45] [DATABASE ERROR] Parâmetro associado: :username = admin (tipo: 2)
[2025-10-15 23:08:45] [DATABASE ERROR] Parâmetro associado: :email = admin (tipo: 2)
[2025-10-15 23:08:45] [DATABASE ERROR] Preparando query: UPDATE usuarios SET ultimo_acesso = NOW() WHERE id = :id com parâmetros: {":id":1}
[2025-10-15 23:08:45] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-10-15 23:08:45] [DATABASE ERROR] Debug PDO após binding: SQL: [56] UPDATE usuarios SET ultimo_acesso = NOW() WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-15 23:08:45] [DATABASE ERROR] Parâmetro associado: :tabela = usuarios (tipo: 2)
[2025-10-15 23:08:45] [DATABASE ERROR] Parâmetro associado: :registro_id = 1 (tipo: 1)
[2025-10-15 23:08:45] [DATABASE ERROR] Parâmetro associado: :acao = LOGIN (tipo: 2)
[2025-10-15 23:08:45] [DATABASE ERROR] Parâmetro associado: :dados_anteriores = NULL (tipo: 0)
[2025-10-15 23:08:45] [DATABASE ERROR] Parâmetro associado: :dados_novos = NULL (tipo: 0)
[2025-10-15 23:08:45] [DATABASE ERROR] Parâmetro associado: :usuario_id = NULL (tipo: 0)
[2025-10-15 23:08:45] [DATABASE ERROR] Parâmetro associado: :ip_address = 192.168.15.8 (tipo: 2)
[2025-10-15 23:08:45] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36 (tipo: 2)
[2025-10-15 23:08:45] [DATABASE ERROR] Erro ao executar query: SQLSTATE[01000]: Warning: 1265 Data truncated for column 'acao' at row 1
[2025-10-15 23:08:45] [DATABASE ERROR] Parâmetro associado: :id = fb7ak066s7f59amkm95dej9rq5 (tipo: 2)
[2025-10-15 23:08:45] [DATABASE ERROR] Parâmetro associado: :id = fb7ak066s7f59amkm95dej9rq5 (tipo: 2)
[2025-10-15 23:08:45] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-10-15 23:08:45] [DATABASE ERROR] Parâmetro associado: :ip_address = 192.168.15.8 (tipo: 2)
[2025-10-15 23:08:45] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36 (tipo: 2)
[2025-10-15 23:08:45] [DATABASE ERROR] Parâmetro associado: :dados = {"user_id":1,"user_name":"Administrador do Sistema","user_email":"admin@sorveteria.com","user_profile":1,"user_profile_name":"Administrador","logged_in":true,"login_time":1760580525} (tipo: 2)
[2025-10-15 23:08:45] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-10-15 23:09:46] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-10-15 23:09:53] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-10-15 23:11:35] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-10-15 23:12:43] [DATABASE ERROR] Preparando query: SELECT * FROM categorias WHERE ativo = :value com parâmetros: {":value":1}
[2025-10-15 23:12:43] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-10-15 23:12:43] [DATABASE ERROR] Debug PDO após binding: SQL: [45] SELECT * FROM categorias WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-10-15 23:13:45] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-10-15 23:13:48] [DATABASE ERROR] Preparando query: SELECT * FROM categorias WHERE ativo = :value com parâmetros: {":value":1}
[2025-10-15 23:13:48] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-10-15 23:13:48] [DATABASE ERROR] Debug PDO após binding: SQL: [45] SELECT * FROM categorias WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-10-15 23:13:50] [DATABASE ERROR] Preparando query: SELECT * FROM produtos WHERE ativo = :value com parâmetros: {":value":1}
[2025-10-15 23:13:50] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-10-15 23:13:50] [DATABASE ERROR] Debug PDO após binding: SQL: [43] SELECT * FROM produtos WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-10-15 23:13:52] [DATABASE ERROR] Preparando query: SELECT u.id, u.nome_completo, u.email, u.usuario, 
                       u.ativo, u.ultimo_acesso, u.criado_em,
                       p.nome as perfil_nome 
                FROM usuarios u 
                JOIN perfis p ON u.perfil_id = p.id ORDER BY u.nome_completo com parâmetros: []
[2025-10-15 23:13:52] [DATABASE ERROR] Debug PDO após binding: SQL: [268] SELECT u.id, u.nome_completo, u.email, u.usuario, 
                       u.ativo, u.ultimo_acesso, u.criado_em,
                       p.nome as perfil_nome 
                FROM usuarios u 
                JOIN perfis p ON u.perfil_id = p.id ORDER BY u.nome_completo
Params:  0

[2025-10-15 23:13:54] [DATABASE ERROR] Preparando query: SELECT * FROM categorias WHERE ativo = :value com parâmetros: {":value":1}
[2025-10-15 23:13:54] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-10-15 23:13:54] [DATABASE ERROR] Debug PDO após binding: SQL: [45] SELECT * FROM categorias WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-10-15 23:13:54] [DATABASE ERROR] Preparando query: SELECT * FROM fornecedores WHERE ativo = :value com parâmetros: {":value":1}
[2025-10-15 23:13:54] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-10-15 23:13:54] [DATABASE ERROR] Debug PDO após binding: SQL: [47] SELECT * FROM fornecedores WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-10-15 23:13:54] [DATABASE ERROR] Preparando query: SELECT * FROM tipos_movimentacao com parâmetros: []
[2025-10-15 23:13:54] [DATABASE ERROR] Debug PDO após binding: SQL: [32] SELECT * FROM tipos_movimentacao
Params:  0

[2025-10-15 23:25:23] [DATABASE ERROR] Preparando query: SELECT * FROM categorias WHERE ativo = :value com parâmetros: {":value":1}
[2025-10-15 23:25:23] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-10-15 23:25:23] [DATABASE ERROR] Debug PDO após binding: SQL: [45] SELECT * FROM categorias WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-10-15 23:25:23] [DATABASE ERROR] Preparando query: SELECT * FROM fornecedores WHERE ativo = :value com parâmetros: {":value":1}
[2025-10-15 23:25:23] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-10-15 23:25:23] [DATABASE ERROR] Debug PDO após binding: SQL: [47] SELECT * FROM fornecedores WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-10-15 23:25:23] [DATABASE ERROR] Preparando query: SELECT * FROM tipos_movimentacao com parâmetros: []
[2025-10-15 23:25:23] [DATABASE ERROR] Debug PDO após binding: SQL: [32] SELECT * FROM tipos_movimentacao
Params:  0

[2025-10-15 23:29:07] [DATABASE ERROR] Preparando query: SELECT * FROM categorias WHERE ativo = :value com parâmetros: {":value":1}
[2025-10-15 23:29:07] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-10-15 23:29:07] [DATABASE ERROR] Debug PDO após binding: SQL: [45] SELECT * FROM categorias WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-10-15 23:29:07] [DATABASE ERROR] Preparando query: SELECT * FROM fornecedores WHERE ativo = :value com parâmetros: {":value":1}
[2025-10-15 23:29:07] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-10-15 23:29:07] [DATABASE ERROR] Debug PDO após binding: SQL: [47] SELECT * FROM fornecedores WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-10-15 23:29:07] [DATABASE ERROR] Preparando query: SELECT * FROM tipos_movimentacao com parâmetros: []
[2025-10-15 23:29:07] [DATABASE ERROR] Debug PDO após binding: SQL: [32] SELECT * FROM tipos_movimentacao
Params:  0

[2025-10-15 23:29:13] [DATABASE ERROR] Parâmetro associado: :user_id = 1 (tipo: 1)
[2025-10-15 23:29:13] [DATABASE ERROR] Parâmetro associado: :tabela = usuarios (tipo: 2)
[2025-10-15 23:29:13] [DATABASE ERROR] Parâmetro associado: :registro_id = NULL (tipo: 0)
[2025-10-15 23:29:13] [DATABASE ERROR] Parâmetro associado: :acao = LOGOUT (tipo: 2)
[2025-10-15 23:29:13] [DATABASE ERROR] Parâmetro associado: :dados_anteriores = NULL (tipo: 0)
[2025-10-15 23:29:13] [DATABASE ERROR] Parâmetro associado: :dados_novos = NULL (tipo: 0)
[2025-10-15 23:29:13] [DATABASE ERROR] Parâmetro associado: :usuario_id = NULL (tipo: 0)
[2025-10-15 23:29:13] [DATABASE ERROR] Parâmetro associado: :ip_address = 192.168.15.8 (tipo: 2)
[2025-10-15 23:29:13] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36 (tipo: 2)
[2025-10-15 23:29:13] [DATABASE ERROR] Erro ao executar query: SQLSTATE[23000]: Integrity constraint violation: 1048 Column 'registro_id' cannot be null
[2025-10-15 23:29:26] [DATABASE ERROR] Parâmetro associado: :username = flavio (tipo: 2)
[2025-10-15 23:29:26] [DATABASE ERROR] Parâmetro associado: :email = flavio (tipo: 2)
[2025-10-15 23:29:26] [DATABASE ERROR] Preparando query: UPDATE usuarios SET ultimo_acesso = NOW() WHERE id = :id com parâmetros: {":id":2}
[2025-10-15 23:29:26] [DATABASE ERROR] Parâmetro associado: :id = 2 (tipo: 1)
[2025-10-15 23:29:26] [DATABASE ERROR] Debug PDO após binding: SQL: [56] UPDATE usuarios SET ultimo_acesso = NOW() WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-15 23:29:26] [DATABASE ERROR] Parâmetro associado: :tabela = usuarios (tipo: 2)
[2025-10-15 23:29:26] [DATABASE ERROR] Parâmetro associado: :registro_id = 2 (tipo: 1)
[2025-10-15 23:29:26] [DATABASE ERROR] Parâmetro associado: :acao = LOGIN (tipo: 2)
[2025-10-15 23:29:26] [DATABASE ERROR] Parâmetro associado: :dados_anteriores = NULL (tipo: 0)
[2025-10-15 23:29:26] [DATABASE ERROR] Parâmetro associado: :dados_novos = NULL (tipo: 0)
[2025-10-15 23:29:26] [DATABASE ERROR] Parâmetro associado: :usuario_id = NULL (tipo: 0)
[2025-10-15 23:29:26] [DATABASE ERROR] Parâmetro associado: :ip_address = 192.168.15.8 (tipo: 2)
[2025-10-15 23:29:26] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36 (tipo: 2)
[2025-10-15 23:29:26] [DATABASE ERROR] Erro ao executar query: SQLSTATE[01000]: Warning: 1265 Data truncated for column 'acao' at row 1
[2025-10-15 23:29:26] [DATABASE ERROR] Parâmetro associado: :id = eohc4ujsga8fq1m7v99u6i8al1 (tipo: 2)
[2025-10-15 23:29:26] [DATABASE ERROR] Parâmetro associado: :id = eohc4ujsga8fq1m7v99u6i8al1 (tipo: 2)
[2025-10-15 23:29:26] [DATABASE ERROR] Parâmetro associado: :usuario_id = 2 (tipo: 1)
[2025-10-15 23:29:26] [DATABASE ERROR] Parâmetro associado: :ip_address = 192.168.15.8 (tipo: 2)
[2025-10-15 23:29:26] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36 (tipo: 2)
[2025-10-15 23:29:26] [DATABASE ERROR] Parâmetro associado: :dados = {"user_id":2,"user_name":"Fl\u00e1vio Alves","user_email":"flavioafj@yahoo.com.br","user_profile":2,"user_profile_name":"Operador","logged_in":true,"login_time":1760581766} (tipo: 2)
[2025-10-15 23:29:26] [DATABASE ERROR] Parâmetro associado: :usuario_id = 2 (tipo: 1)
[2025-10-15 23:29:52] [DATABASE ERROR] Parâmetro associado: :user_id = 2 (tipo: 1)
[2025-10-15 23:29:52] [DATABASE ERROR] Parâmetro associado: :tabela = usuarios (tipo: 2)
[2025-10-15 23:29:52] [DATABASE ERROR] Parâmetro associado: :registro_id = NULL (tipo: 0)
[2025-10-15 23:29:52] [DATABASE ERROR] Parâmetro associado: :acao = LOGOUT (tipo: 2)
[2025-10-15 23:29:52] [DATABASE ERROR] Parâmetro associado: :dados_anteriores = NULL (tipo: 0)
[2025-10-15 23:29:52] [DATABASE ERROR] Parâmetro associado: :dados_novos = NULL (tipo: 0)
[2025-10-15 23:29:52] [DATABASE ERROR] Parâmetro associado: :usuario_id = NULL (tipo: 0)
[2025-10-15 23:29:52] [DATABASE ERROR] Parâmetro associado: :ip_address = 192.168.15.8 (tipo: 2)
[2025-10-15 23:29:52] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36 (tipo: 2)
[2025-10-15 23:29:52] [DATABASE ERROR] Erro ao executar query: SQLSTATE[23000]: Integrity constraint violation: 1048 Column 'registro_id' cannot be null
[2025-10-15 23:30:00] [DATABASE ERROR] Parâmetro associado: :username = admin (tipo: 2)
[2025-10-15 23:30:00] [DATABASE ERROR] Parâmetro associado: :email = admin (tipo: 2)
[2025-10-15 23:30:00] [DATABASE ERROR] Preparando query: UPDATE usuarios SET ultimo_acesso = NOW() WHERE id = :id com parâmetros: {":id":1}
[2025-10-15 23:30:00] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-10-15 23:30:00] [DATABASE ERROR] Debug PDO após binding: SQL: [56] UPDATE usuarios SET ultimo_acesso = NOW() WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-15 23:30:00] [DATABASE ERROR] Parâmetro associado: :tabela = usuarios (tipo: 2)
[2025-10-15 23:30:00] [DATABASE ERROR] Parâmetro associado: :registro_id = 1 (tipo: 1)
[2025-10-15 23:30:00] [DATABASE ERROR] Parâmetro associado: :acao = LOGIN (tipo: 2)
[2025-10-15 23:30:00] [DATABASE ERROR] Parâmetro associado: :dados_anteriores = NULL (tipo: 0)
[2025-10-15 23:30:00] [DATABASE ERROR] Parâmetro associado: :dados_novos = NULL (tipo: 0)
[2025-10-15 23:30:00] [DATABASE ERROR] Parâmetro associado: :usuario_id = NULL (tipo: 0)
[2025-10-15 23:30:00] [DATABASE ERROR] Parâmetro associado: :ip_address = 192.168.15.8 (tipo: 2)
[2025-10-15 23:30:00] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36 (tipo: 2)
[2025-10-15 23:30:00] [DATABASE ERROR] Erro ao executar query: SQLSTATE[01000]: Warning: 1265 Data truncated for column 'acao' at row 1
[2025-10-15 23:30:00] [DATABASE ERROR] Parâmetro associado: :id = vvn31b2apqsh71npte0djthepo (tipo: 2)
[2025-10-15 23:30:00] [DATABASE ERROR] Parâmetro associado: :id = vvn31b2apqsh71npte0djthepo (tipo: 2)
[2025-10-15 23:30:00] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-10-15 23:30:00] [DATABASE ERROR] Parâmetro associado: :ip_address = 192.168.15.8 (tipo: 2)
[2025-10-15 23:30:00] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36 (tipo: 2)
[2025-10-15 23:30:00] [DATABASE ERROR] Parâmetro associado: :dados = {"user_id":1,"user_name":"Administrador do Sistema","user_email":"admin@sorveteria.com","user_profile":1,"user_profile_name":"Administrador","logged_in":true,"login_time":1760581800} (tipo: 2)
[2025-10-15 23:30:00] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-10-15 23:43:37] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-10-15 23:45:28] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-10-15 23:45:41] [DATABASE ERROR] Preparando query: SELECT * FROM produtos WHERE ativo = :value com parâmetros: {":value":1}
[2025-10-15 23:45:41] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-10-15 23:45:41] [DATABASE ERROR] Debug PDO após binding: SQL: [43] SELECT * FROM produtos WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-10-15 23:46:25] [DATABASE ERROR] Preparando query: SELECT * FROM categorias WHERE ativo = :value com parâmetros: {":value":1}
[2025-10-15 23:46:25] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-10-15 23:46:25] [DATABASE ERROR] Debug PDO após binding: SQL: [45] SELECT * FROM categorias WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-10-15 23:46:25] [DATABASE ERROR] Preparando query: SELECT * FROM fornecedores WHERE ativo = :value com parâmetros: {":value":1}
[2025-10-15 23:46:25] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-10-15 23:46:25] [DATABASE ERROR] Debug PDO após binding: SQL: [47] SELECT * FROM fornecedores WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-10-15 23:46:25] [DATABASE ERROR] Preparando query: SELECT * FROM tipos_movimentacao com parâmetros: []
[2025-10-15 23:46:25] [DATABASE ERROR] Debug PDO após binding: SQL: [32] SELECT * FROM tipos_movimentacao
Params:  0

[2025-10-15 23:46:27] [DATABASE ERROR] Preparando query: SELECT u.id, u.nome_completo, u.email, u.usuario, 
                       u.ativo, u.ultimo_acesso, u.criado_em,
                       p.nome as perfil_nome 
                FROM usuarios u 
                JOIN perfis p ON u.perfil_id = p.id ORDER BY u.nome_completo com parâmetros: []
[2025-10-15 23:46:27] [DATABASE ERROR] Debug PDO após binding: SQL: [268] SELECT u.id, u.nome_completo, u.email, u.usuario, 
                       u.ativo, u.ultimo_acesso, u.criado_em,
                       p.nome as perfil_nome 
                FROM usuarios u 
                JOIN perfis p ON u.perfil_id = p.id ORDER BY u.nome_completo
Params:  0

[2025-10-15 23:47:15] [DATABASE ERROR] Preparando query: SELECT u.id, u.nome_completo, u.email, u.usuario, 
                       u.ativo, u.ultimo_acesso, u.criado_em,
                       p.nome as perfil_nome 
                FROM usuarios u 
                JOIN perfis p ON u.perfil_id = p.id ORDER BY u.nome_completo com parâmetros: []
[2025-10-15 23:47:15] [DATABASE ERROR] Debug PDO após binding: SQL: [268] SELECT u.id, u.nome_completo, u.email, u.usuario, 
                       u.ativo, u.ultimo_acesso, u.criado_em,
                       p.nome as perfil_nome 
                FROM usuarios u 
                JOIN perfis p ON u.perfil_id = p.id ORDER BY u.nome_completo
Params:  0

[2025-10-15 23:47:47] [DATABASE ERROR] Preparando query: SELECT * FROM categorias WHERE ativo = :value com parâmetros: {":value":1}
[2025-10-15 23:47:47] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-10-15 23:47:47] [DATABASE ERROR] Debug PDO após binding: SQL: [45] SELECT * FROM categorias WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-10-15 23:47:48] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-10-15 23:48:09] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-10-15 23:48:47] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-10-15 23:50:10] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-10-16 00:02:38] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-10-16 00:02:59] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-10-16 00:04:22] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-10-16 00:14:53] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-10-16 00:16:12] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-10-16 00:21:47] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-10-16 00:22:58] [DATABASE ERROR] Preparando query: SELECT * FROM categorias WHERE ativo = :value com parâmetros: {":value":1}
[2025-10-16 00:22:58] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-10-16 00:22:58] [DATABASE ERROR] Debug PDO após binding: SQL: [45] SELECT * FROM categorias WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-10-16 00:26:14] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-10-16 00:29:32] [DATABASE ERROR] Preparando query: SELECT * FROM categorias WHERE ativo = :value com parâmetros: {":value":1}
[2025-10-16 00:29:32] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-10-16 00:29:32] [DATABASE ERROR] Debug PDO após binding: SQL: [45] SELECT * FROM categorias WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-10-16 00:29:41] [DATABASE ERROR] Preparando query: SELECT * FROM categorias WHERE ativo = :value com parâmetros: {":value":1}
[2025-10-16 00:29:41] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-10-16 00:29:41] [DATABASE ERROR] Debug PDO após binding: SQL: [45] SELECT * FROM categorias WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-10-16 00:31:33] [DATABASE ERROR] Parâmetro associado: :user_id = 1 (tipo: 1)
[2025-10-16 00:31:43] [DATABASE ERROR] Parâmetro associado: :username = admin (tipo: 2)
[2025-10-16 00:31:43] [DATABASE ERROR] Parâmetro associado: :email = admin (tipo: 2)
[2025-10-16 00:31:43] [DATABASE ERROR] Preparando query: UPDATE usuarios SET ultimo_acesso = NOW() WHERE id = :id com parâmetros: {":id":1}
[2025-10-16 00:31:43] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-10-16 00:31:43] [DATABASE ERROR] Debug PDO após binding: SQL: [56] UPDATE usuarios SET ultimo_acesso = NOW() WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-16 00:31:43] [DATABASE ERROR] Parâmetro associado: :tabela = usuarios (tipo: 2)
[2025-10-16 00:31:43] [DATABASE ERROR] Parâmetro associado: :registro_id = 1 (tipo: 1)
[2025-10-16 00:31:43] [DATABASE ERROR] Parâmetro associado: :acao = LOGIN (tipo: 2)
[2025-10-16 00:31:43] [DATABASE ERROR] Parâmetro associado: :dados_anteriores = NULL (tipo: 0)
[2025-10-16 00:31:43] [DATABASE ERROR] Parâmetro associado: :dados_novos = NULL (tipo: 0)
[2025-10-16 00:31:43] [DATABASE ERROR] Parâmetro associado: :usuario_id = NULL (tipo: 0)
[2025-10-16 00:31:43] [DATABASE ERROR] Parâmetro associado: :ip_address = 192.168.15.8 (tipo: 2)
[2025-10-16 00:31:43] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36 (tipo: 2)
[2025-10-16 00:31:43] [DATABASE ERROR] Erro ao executar query: SQLSTATE[01000]: Warning: 1265 Data truncated for column 'acao' at row 1
[2025-10-16 00:31:43] [DATABASE ERROR] Parâmetro associado: :id = lpedqel3a668cvglcu6os75n56 (tipo: 2)
[2025-10-16 00:31:43] [DATABASE ERROR] Parâmetro associado: :id = lpedqel3a668cvglcu6os75n56 (tipo: 2)
[2025-10-16 00:31:43] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-10-16 00:31:43] [DATABASE ERROR] Parâmetro associado: :ip_address = 192.168.15.8 (tipo: 2)
[2025-10-16 00:31:43] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36 (tipo: 2)
[2025-10-16 00:31:43] [DATABASE ERROR] Parâmetro associado: :dados = {"user_id":1,"user_name":"Administrador do Sistema","user_email":"admin@sorveteria.com","user_profile":1,"user_profile_name":"Administrador","logged_in":true,"login_time":1760585503} (tipo: 2)
[2025-10-16 00:31:43] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-10-16 00:31:53] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-10-16 00:31:55] [DATABASE ERROR] Preparando query: SELECT * FROM categorias WHERE ativo = :value com parâmetros: {":value":1}
[2025-10-16 00:31:55] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-10-16 00:31:55] [DATABASE ERROR] Debug PDO após binding: SQL: [45] SELECT * FROM categorias WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-10-16 00:32:00] [DATABASE ERROR] Preparando query: SELECT * FROM produtos WHERE ativo = :value com parâmetros: {":value":1}
[2025-10-16 00:32:00] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-10-16 00:32:00] [DATABASE ERROR] Debug PDO após binding: SQL: [43] SELECT * FROM produtos WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-10-16 00:32:03] [DATABASE ERROR] Preparando query: SELECT u.id, u.nome_completo, u.email, u.usuario, 
                       u.ativo, u.ultimo_acesso, u.criado_em,
                       p.nome as perfil_nome 
                FROM usuarios u 
                JOIN perfis p ON u.perfil_id = p.id ORDER BY u.nome_completo com parâmetros: []
[2025-10-16 00:32:03] [DATABASE ERROR] Debug PDO após binding: SQL: [268] SELECT u.id, u.nome_completo, u.email, u.usuario, 
                       u.ativo, u.ultimo_acesso, u.criado_em,
                       p.nome as perfil_nome 
                FROM usuarios u 
                JOIN perfis p ON u.perfil_id = p.id ORDER BY u.nome_completo
Params:  0

[2025-10-16 00:32:05] [DATABASE ERROR] Preparando query: SELECT * FROM categorias WHERE ativo = :value com parâmetros: {":value":1}
[2025-10-16 00:32:05] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-10-16 00:32:05] [DATABASE ERROR] Debug PDO após binding: SQL: [45] SELECT * FROM categorias WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-10-16 00:32:05] [DATABASE ERROR] Preparando query: SELECT * FROM fornecedores WHERE ativo = :value com parâmetros: {":value":1}
[2025-10-16 00:32:05] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-10-16 00:32:05] [DATABASE ERROR] Debug PDO após binding: SQL: [47] SELECT * FROM fornecedores WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-10-16 00:32:05] [DATABASE ERROR] Preparando query: SELECT * FROM tipos_movimentacao com parâmetros: []
[2025-10-16 00:32:05] [DATABASE ERROR] Debug PDO após binding: SQL: [32] SELECT * FROM tipos_movimentacao
Params:  0

[2025-10-16 00:32:09] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-10-16 00:33:43] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-10-16 08:50:53] [DATABASE ERROR] Parâmetro associado: :username = admin (tipo: 2)
[2025-10-16 08:50:53] [DATABASE ERROR] Parâmetro associado: :email = admin (tipo: 2)
[2025-10-16 08:50:53] [DATABASE ERROR] Preparando query: UPDATE usuarios SET ultimo_acesso = NOW() WHERE id = :id com parâmetros: {":id":1}
[2025-10-16 08:50:53] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-10-16 08:50:53] [DATABASE ERROR] Debug PDO após binding: SQL: [56] UPDATE usuarios SET ultimo_acesso = NOW() WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-16 08:50:53] [DATABASE ERROR] Parâmetro associado: :tabela = usuarios (tipo: 2)
[2025-10-16 08:50:53] [DATABASE ERROR] Parâmetro associado: :registro_id = 1 (tipo: 1)
[2025-10-16 08:50:53] [DATABASE ERROR] Parâmetro associado: :acao = LOGIN (tipo: 2)
[2025-10-16 08:50:53] [DATABASE ERROR] Parâmetro associado: :dados_anteriores = NULL (tipo: 0)
[2025-10-16 08:50:53] [DATABASE ERROR] Parâmetro associado: :dados_novos = NULL (tipo: 0)
[2025-10-16 08:50:53] [DATABASE ERROR] Parâmetro associado: :usuario_id = NULL (tipo: 0)
[2025-10-16 08:50:53] [DATABASE ERROR] Parâmetro associado: :ip_address = 192.168.15.8 (tipo: 2)
[2025-10-16 08:50:53] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36 (tipo: 2)
[2025-10-16 08:50:53] [DATABASE ERROR] Erro ao executar query: SQLSTATE[01000]: Warning: 1265 Data truncated for column 'acao' at row 1
[2025-10-16 08:50:53] [DATABASE ERROR] Parâmetro associado: :id = 6ajgkhf0sa4d5ml7po3li4f3ki (tipo: 2)
[2025-10-16 08:50:53] [DATABASE ERROR] Parâmetro associado: :id = 6ajgkhf0sa4d5ml7po3li4f3ki (tipo: 2)
[2025-10-16 08:50:53] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-10-16 08:50:53] [DATABASE ERROR] Parâmetro associado: :ip_address = 192.168.15.8 (tipo: 2)
[2025-10-16 08:50:53] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36 (tipo: 2)
[2025-10-16 08:50:53] [DATABASE ERROR] Parâmetro associado: :dados = {"user_id":1,"user_name":"Administrador do Sistema","user_email":"admin@sorveteria.com","user_profile":1,"user_profile_name":"Administrador","logged_in":true,"login_time":1760615453} (tipo: 2)
[2025-10-16 08:50:53] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-10-16 08:50:58] [DATABASE ERROR] Preparando query: SELECT * FROM categorias WHERE ativo = :value com parâmetros: {":value":1}
[2025-10-16 08:50:58] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-10-16 08:50:58] [DATABASE ERROR] Debug PDO após binding: SQL: [45] SELECT * FROM categorias WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-10-16 09:10:23] [DATABASE ERROR] Preparando query: SELECT * FROM categorias WHERE ativo = :value com parâmetros: {":value":1}
[2025-10-16 09:10:23] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-10-16 09:10:23] [DATABASE ERROR] Debug PDO após binding: SQL: [45] SELECT * FROM categorias WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-10-16 09:11:47] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-10-16 09:11:52] [DATABASE ERROR] Preparando query: SELECT * FROM categorias WHERE ativo = :value com parâmetros: {":value":1}
[2025-10-16 09:11:52] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-10-16 09:11:52] [DATABASE ERROR] Debug PDO após binding: SQL: [45] SELECT * FROM categorias WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-10-16 09:21:59] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-10-16 09:25:09] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-10-16 09:27:46] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-10-16 09:29:44] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-10-16 09:35:35] [DATABASE ERROR] Preparando query: SELECT * FROM categorias WHERE ativo = :value com parâmetros: {":value":1}
[2025-10-16 09:35:35] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-10-16 09:35:35] [DATABASE ERROR] Debug PDO após binding: SQL: [45] SELECT * FROM categorias WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-10-16 09:35:40] [DATABASE ERROR] Preparando query: SELECT * FROM produtos WHERE ativo = :value com parâmetros: {":value":1}
[2025-10-16 09:35:40] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-10-16 09:35:40] [DATABASE ERROR] Debug PDO após binding: SQL: [43] SELECT * FROM produtos WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-10-16 09:35:51] [DATABASE ERROR] Preparando query: SELECT u.id, u.nome_completo, u.email, u.usuario, 
                       u.ativo, u.ultimo_acesso, u.criado_em,
                       p.nome as perfil_nome 
                FROM usuarios u 
                JOIN perfis p ON u.perfil_id = p.id ORDER BY u.nome_completo com parâmetros: []
[2025-10-16 09:35:51] [DATABASE ERROR] Debug PDO após binding: SQL: [268] SELECT u.id, u.nome_completo, u.email, u.usuario, 
                       u.ativo, u.ultimo_acesso, u.criado_em,
                       p.nome as perfil_nome 
                FROM usuarios u 
                JOIN perfis p ON u.perfil_id = p.id ORDER BY u.nome_completo
Params:  0

[2025-10-16 09:35:53] [DATABASE ERROR] Preparando query: SELECT * FROM categorias WHERE ativo = :value com parâmetros: {":value":1}
[2025-10-16 09:35:53] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-10-16 09:35:53] [DATABASE ERROR] Debug PDO após binding: SQL: [45] SELECT * FROM categorias WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-10-16 09:35:53] [DATABASE ERROR] Preparando query: SELECT * FROM fornecedores WHERE ativo = :value com parâmetros: {":value":1}
[2025-10-16 09:35:53] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-10-16 09:35:53] [DATABASE ERROR] Debug PDO após binding: SQL: [47] SELECT * FROM fornecedores WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-10-16 09:35:53] [DATABASE ERROR] Preparando query: SELECT * FROM tipos_movimentacao com parâmetros: []
[2025-10-16 09:35:53] [DATABASE ERROR] Debug PDO após binding: SQL: [32] SELECT * FROM tipos_movimentacao
Params:  0

[2025-10-16 09:35:58] [DATABASE ERROR] Parâmetro associado: :user_id = 1 (tipo: 1)
[2025-10-16 09:35:58] [DATABASE ERROR] Parâmetro associado: :tabela = usuarios (tipo: 2)
[2025-10-16 09:35:58] [DATABASE ERROR] Parâmetro associado: :registro_id = NULL (tipo: 0)
[2025-10-16 09:35:58] [DATABASE ERROR] Parâmetro associado: :acao = LOGOUT (tipo: 2)
[2025-10-16 09:35:58] [DATABASE ERROR] Parâmetro associado: :dados_anteriores = NULL (tipo: 0)
[2025-10-16 09:35:58] [DATABASE ERROR] Parâmetro associado: :dados_novos = NULL (tipo: 0)
[2025-10-16 09:35:58] [DATABASE ERROR] Parâmetro associado: :usuario_id = NULL (tipo: 0)
[2025-10-16 09:35:58] [DATABASE ERROR] Parâmetro associado: :ip_address = 192.168.15.8 (tipo: 2)
[2025-10-16 09:35:58] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36 (tipo: 2)
[2025-10-16 09:35:58] [DATABASE ERROR] Erro ao executar query: SQLSTATE[23000]: Integrity constraint violation: 1048 Column 'registro_id' cannot be null
[2025-10-16 09:36:07] [DATABASE ERROR] Parâmetro associado: :username = adm2 (tipo: 2)
[2025-10-16 09:36:07] [DATABASE ERROR] Parâmetro associado: :email = adm2 (tipo: 2)
[2025-10-16 09:36:07] [DATABASE ERROR] Preparando query: UPDATE usuarios SET ultimo_acesso = NOW() WHERE id = :id com parâmetros: {":id":3}
[2025-10-16 09:36:07] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-10-16 09:36:07] [DATABASE ERROR] Debug PDO após binding: SQL: [56] UPDATE usuarios SET ultimo_acesso = NOW() WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-16 09:36:07] [DATABASE ERROR] Parâmetro associado: :tabela = usuarios (tipo: 2)
[2025-10-16 09:36:07] [DATABASE ERROR] Parâmetro associado: :registro_id = 3 (tipo: 1)
[2025-10-16 09:36:07] [DATABASE ERROR] Parâmetro associado: :acao = LOGIN (tipo: 2)
[2025-10-16 09:36:07] [DATABASE ERROR] Parâmetro associado: :dados_anteriores = NULL (tipo: 0)
[2025-10-16 09:36:07] [DATABASE ERROR] Parâmetro associado: :dados_novos = NULL (tipo: 0)
[2025-10-16 09:36:07] [DATABASE ERROR] Parâmetro associado: :usuario_id = NULL (tipo: 0)
[2025-10-16 09:36:07] [DATABASE ERROR] Parâmetro associado: :ip_address = 192.168.15.8 (tipo: 2)
[2025-10-16 09:36:07] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36 (tipo: 2)
[2025-10-16 09:36:07] [DATABASE ERROR] Erro ao executar query: SQLSTATE[01000]: Warning: 1265 Data truncated for column 'acao' at row 1
[2025-10-16 09:36:07] [DATABASE ERROR] Parâmetro associado: :id = p5jn1dm38nb88pp2euo26a1vn8 (tipo: 2)
[2025-10-16 09:36:07] [DATABASE ERROR] Parâmetro associado: :id = p5jn1dm38nb88pp2euo26a1vn8 (tipo: 2)
[2025-10-16 09:36:07] [DATABASE ERROR] Parâmetro associado: :usuario_id = 3 (tipo: 1)
[2025-10-16 09:36:07] [DATABASE ERROR] Parâmetro associado: :ip_address = 192.168.15.8 (tipo: 2)
[2025-10-16 09:36:07] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36 (tipo: 2)
[2025-10-16 09:36:07] [DATABASE ERROR] Parâmetro associado: :dados = {"user_id":3,"user_name":"Adm2","user_email":"adm2@borela.com","user_profile":1,"user_profile_name":"Administrador","logged_in":true,"login_time":1760618167} (tipo: 2)
[2025-10-16 09:36:07] [DATABASE ERROR] Parâmetro associado: :usuario_id = 3 (tipo: 1)
[2025-10-16 09:36:12] [DATABASE ERROR] Preparando query: SELECT * FROM categorias WHERE ativo = :value com parâmetros: {":value":1}
[2025-10-16 09:36:12] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-10-16 09:36:12] [DATABASE ERROR] Debug PDO após binding: SQL: [45] SELECT * FROM categorias WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-10-16 09:38:13] [DATABASE ERROR] Preparando query: SELECT * FROM categorias WHERE ativo = :value com parâmetros: {":value":1}
[2025-10-16 09:38:13] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-10-16 09:38:13] [DATABASE ERROR] Debug PDO após binding: SQL: [45] SELECT * FROM categorias WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-10-16 09:38:17] [DATABASE ERROR] Parâmetro associado: :user_id = 3 (tipo: 1)
[2025-10-16 09:38:17] [DATABASE ERROR] Parâmetro associado: :tabela = usuarios (tipo: 2)
[2025-10-16 09:38:17] [DATABASE ERROR] Parâmetro associado: :registro_id = NULL (tipo: 0)
[2025-10-16 09:38:17] [DATABASE ERROR] Parâmetro associado: :acao = LOGOUT (tipo: 2)
[2025-10-16 09:38:17] [DATABASE ERROR] Parâmetro associado: :dados_anteriores = NULL (tipo: 0)
[2025-10-16 09:38:17] [DATABASE ERROR] Parâmetro associado: :dados_novos = NULL (tipo: 0)
[2025-10-16 09:38:17] [DATABASE ERROR] Parâmetro associado: :usuario_id = NULL (tipo: 0)
[2025-10-16 09:38:17] [DATABASE ERROR] Parâmetro associado: :ip_address = 192.168.15.8 (tipo: 2)
[2025-10-16 09:38:17] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36 (tipo: 2)
[2025-10-16 09:38:17] [DATABASE ERROR] Erro ao executar query: SQLSTATE[23000]: Integrity constraint violation: 1048 Column 'registro_id' cannot be null
[2025-10-16 09:38:24] [DATABASE ERROR] Parâmetro associado: :username = admin (tipo: 2)
[2025-10-16 09:38:24] [DATABASE ERROR] Parâmetro associado: :email = admin (tipo: 2)
[2025-10-16 09:38:25] [DATABASE ERROR] Preparando query: UPDATE usuarios SET ultimo_acesso = NOW() WHERE id = :id com parâmetros: {":id":1}
[2025-10-16 09:38:25] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-10-16 09:38:25] [DATABASE ERROR] Debug PDO após binding: SQL: [56] UPDATE usuarios SET ultimo_acesso = NOW() WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-16 09:38:25] [DATABASE ERROR] Parâmetro associado: :tabela = usuarios (tipo: 2)
[2025-10-16 09:38:25] [DATABASE ERROR] Parâmetro associado: :registro_id = 1 (tipo: 1)
[2025-10-16 09:38:25] [DATABASE ERROR] Parâmetro associado: :acao = LOGIN (tipo: 2)
[2025-10-16 09:38:25] [DATABASE ERROR] Parâmetro associado: :dados_anteriores = NULL (tipo: 0)
[2025-10-16 09:38:25] [DATABASE ERROR] Parâmetro associado: :dados_novos = NULL (tipo: 0)
[2025-10-16 09:38:25] [DATABASE ERROR] Parâmetro associado: :usuario_id = NULL (tipo: 0)
[2025-10-16 09:38:25] [DATABASE ERROR] Parâmetro associado: :ip_address = 192.168.15.8 (tipo: 2)
[2025-10-16 09:38:25] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36 (tipo: 2)
[2025-10-16 09:38:25] [DATABASE ERROR] Erro ao executar query: SQLSTATE[01000]: Warning: 1265 Data truncated for column 'acao' at row 1
[2025-10-16 09:38:25] [DATABASE ERROR] Parâmetro associado: :id = 84jngs4d3ci198olbisto8t1ha (tipo: 2)
[2025-10-16 09:38:25] [DATABASE ERROR] Parâmetro associado: :id = 84jngs4d3ci198olbisto8t1ha (tipo: 2)
[2025-10-16 09:38:25] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-10-16 09:38:25] [DATABASE ERROR] Parâmetro associado: :ip_address = 192.168.15.8 (tipo: 2)
[2025-10-16 09:38:25] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36 (tipo: 2)
[2025-10-16 09:38:25] [DATABASE ERROR] Parâmetro associado: :dados = {"user_id":1,"user_name":"Administrador do Sistema","user_email":"admin@sorveteria.com","user_profile":1,"user_profile_name":"Administrador","logged_in":true,"login_time":1760618305} (tipo: 2)
[2025-10-16 09:38:25] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-10-16 09:38:29] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-10-16 09:39:05] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-10-16 09:40:59] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-10-16 09:41:00] [DATABASE ERROR] Preparando query: SELECT * FROM produtos WHERE ativo = :value com parâmetros: {":value":1}
[2025-10-16 09:41:00] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-10-16 09:41:01] [DATABASE ERROR] Debug PDO após binding: SQL: [43] SELECT * FROM produtos WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-10-16 09:41:14] [DATABASE ERROR] Preparando query: SELECT * FROM categorias WHERE ativo = :value com parâmetros: {":value":1}
[2025-10-16 09:41:14] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-10-16 09:41:14] [DATABASE ERROR] Debug PDO após binding: SQL: [45] SELECT * FROM categorias WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-10-16 09:42:41] [DATABASE ERROR] Preparando query: SELECT * FROM categorias WHERE ativo = :value com parâmetros: {":value":1}
[2025-10-16 09:42:41] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-10-16 09:42:41] [DATABASE ERROR] Debug PDO após binding: SQL: [45] SELECT * FROM categorias WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-10-16 09:55:38] [DATABASE ERROR] Erro de conexão: SQLSTATE[HY000] [1698] Access denied for user 'root'@'localhost'
[2025-10-16 09:57:23] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-10-16 10:02:48] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-10-16 10:09:07] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-10-16 10:42:08] [DATABASE ERROR] Parâmetro associado: :user_id = 1 (tipo: 1)
[2025-10-16 10:54:09] [DATABASE ERROR] Parâmetro associado: :username = admin (tipo: 2)
[2025-10-16 10:54:09] [DATABASE ERROR] Parâmetro associado: :email = admin (tipo: 2)
[2025-10-16 10:54:09] [DATABASE ERROR] Preparando query: UPDATE usuarios SET ultimo_acesso = NOW() WHERE id = :id com parâmetros: {":id":1}
[2025-10-16 10:54:09] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-10-16 10:54:09] [DATABASE ERROR] Debug PDO após binding: SQL: [56] UPDATE usuarios SET ultimo_acesso = NOW() WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-16 10:54:09] [DATABASE ERROR] Parâmetro associado: :tabela = usuarios (tipo: 2)
[2025-10-16 10:54:09] [DATABASE ERROR] Parâmetro associado: :registro_id = 1 (tipo: 1)
[2025-10-16 10:54:09] [DATABASE ERROR] Parâmetro associado: :acao = LOGIN (tipo: 2)
[2025-10-16 10:54:09] [DATABASE ERROR] Parâmetro associado: :dados_anteriores = NULL (tipo: 0)
[2025-10-16 10:54:09] [DATABASE ERROR] Parâmetro associado: :dados_novos = NULL (tipo: 0)
[2025-10-16 10:54:09] [DATABASE ERROR] Parâmetro associado: :usuario_id = NULL (tipo: 0)
[2025-10-16 10:54:09] [DATABASE ERROR] Parâmetro associado: :ip_address = 192.168.15.8 (tipo: 2)
[2025-10-16 10:54:09] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36 (tipo: 2)
[2025-10-16 10:54:09] [DATABASE ERROR] Erro ao executar query: SQLSTATE[01000]: Warning: 1265 Data truncated for column 'acao' at row 1
[2025-10-16 10:54:09] [DATABASE ERROR] Parâmetro associado: :id = 42mlvv9rs2ilqmtptfibevs8vd (tipo: 2)
[2025-10-16 10:54:09] [DATABASE ERROR] Parâmetro associado: :id = 42mlvv9rs2ilqmtptfibevs8vd (tipo: 2)
[2025-10-16 10:54:09] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-10-16 10:54:09] [DATABASE ERROR] Parâmetro associado: :ip_address = 192.168.15.8 (tipo: 2)
[2025-10-16 10:54:09] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36 (tipo: 2)
[2025-10-16 10:54:09] [DATABASE ERROR] Parâmetro associado: :dados = {"user_id":1,"user_name":"Administrador do Sistema","user_email":"admin@sorveteria.com","user_profile":1,"user_profile_name":"Administrador","logged_in":true,"login_time":1760622849} (tipo: 2)
[2025-10-16 10:54:10] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-10-16 10:54:22] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-10-16 10:54:41] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-10-16 10:55:31] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-10-16 11:07:45] [DATABASE ERROR] Preparando query: SELECT * FROM categorias WHERE ativo = :value com parâmetros: {":value":1}
[2025-10-16 11:07:45] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-10-16 11:07:45] [DATABASE ERROR] Debug PDO após binding: SQL: [45] SELECT * FROM categorias WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-10-16 11:14:31] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-10-16 11:18:14] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-10-16 11:18:34] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-10-16 11:18:52] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-10-16 11:24:53] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-10-16 14:47:53] [DATABASE ERROR] Parâmetro associado: :username = admin (tipo: 2)
[2025-10-16 14:47:53] [DATABASE ERROR] Parâmetro associado: :email = admin (tipo: 2)
[2025-10-16 14:47:54] [DATABASE ERROR] Preparando query: UPDATE usuarios SET ultimo_acesso = NOW() WHERE id = :id com parâmetros: {":id":1}
[2025-10-16 14:47:54] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-10-16 14:47:54] [DATABASE ERROR] Debug PDO após binding: SQL: [56] UPDATE usuarios SET ultimo_acesso = NOW() WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-16 14:47:54] [DATABASE ERROR] Parâmetro associado: :tabela = usuarios (tipo: 2)
[2025-10-16 14:47:54] [DATABASE ERROR] Parâmetro associado: :registro_id = 1 (tipo: 1)
[2025-10-16 14:47:54] [DATABASE ERROR] Parâmetro associado: :acao = LOGIN (tipo: 2)
[2025-10-16 14:47:54] [DATABASE ERROR] Parâmetro associado: :dados_anteriores = NULL (tipo: 0)
[2025-10-16 14:47:54] [DATABASE ERROR] Parâmetro associado: :dados_novos = NULL (tipo: 0)
[2025-10-16 14:47:54] [DATABASE ERROR] Parâmetro associado: :usuario_id = NULL (tipo: 0)
[2025-10-16 14:47:54] [DATABASE ERROR] Parâmetro associado: :ip_address = 192.168.15.8 (tipo: 2)
[2025-10-16 14:47:54] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36 (tipo: 2)
[2025-10-16 14:47:54] [DATABASE ERROR] Erro ao executar query: SQLSTATE[01000]: Warning: 1265 Data truncated for column 'acao' at row 1
[2025-10-16 14:47:54] [DATABASE ERROR] Parâmetro associado: :id = 25fpst7d230ip6e0dl6rf2fst2 (tipo: 2)
[2025-10-16 14:47:54] [DATABASE ERROR] Parâmetro associado: :id = 25fpst7d230ip6e0dl6rf2fst2 (tipo: 2)
[2025-10-16 14:47:54] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-10-16 14:47:54] [DATABASE ERROR] Parâmetro associado: :ip_address = 192.168.15.8 (tipo: 2)
[2025-10-16 14:47:54] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36 (tipo: 2)
[2025-10-16 14:47:54] [DATABASE ERROR] Parâmetro associado: :dados = {"user_id":1,"user_name":"Administrador do Sistema","user_email":"admin@sorveteria.com","user_profile":1,"user_profile_name":"Administrador","logged_in":true,"login_time":1760636874} (tipo: 2)
[2025-10-16 14:47:54] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-10-16 14:48:05] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-10-16 14:49:52] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-10-16 14:49:57] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-10-16 14:50:20] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-10-16 14:50:36] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-10-16 14:51:27] [DATABASE ERROR] Parâmetro associado: :user_id = 1 (tipo: 1)
[2025-10-16 14:51:27] [DATABASE ERROR] Parâmetro associado: :tabela = usuarios (tipo: 2)
[2025-10-16 14:51:27] [DATABASE ERROR] Parâmetro associado: :registro_id = NULL (tipo: 0)
[2025-10-16 14:51:27] [DATABASE ERROR] Parâmetro associado: :acao = LOGOUT (tipo: 2)
[2025-10-16 14:51:27] [DATABASE ERROR] Parâmetro associado: :dados_anteriores = NULL (tipo: 0)
[2025-10-16 14:51:27] [DATABASE ERROR] Parâmetro associado: :dados_novos = NULL (tipo: 0)
[2025-10-16 14:51:27] [DATABASE ERROR] Parâmetro associado: :usuario_id = NULL (tipo: 0)
[2025-10-16 14:51:27] [DATABASE ERROR] Parâmetro associado: :ip_address = 192.168.15.8 (tipo: 2)
[2025-10-16 14:51:27] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36 (tipo: 2)
[2025-10-16 14:51:27] [DATABASE ERROR] Erro ao executar query: SQLSTATE[23000]: Integrity constraint violation: 1048 Column 'registro_id' cannot be null
[2025-10-16 14:51:36] [DATABASE ERROR] Parâmetro associado: :username = admin (tipo: 2)
[2025-10-16 14:51:36] [DATABASE ERROR] Parâmetro associado: :email = admin (tipo: 2)
[2025-10-16 14:51:36] [DATABASE ERROR] Preparando query: UPDATE usuarios SET ultimo_acesso = NOW() WHERE id = :id com parâmetros: {":id":1}
[2025-10-16 14:51:36] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-10-16 14:51:36] [DATABASE ERROR] Debug PDO após binding: SQL: [56] UPDATE usuarios SET ultimo_acesso = NOW() WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-16 14:51:36] [DATABASE ERROR] Parâmetro associado: :tabela = usuarios (tipo: 2)
[2025-10-16 14:51:36] [DATABASE ERROR] Parâmetro associado: :registro_id = 1 (tipo: 1)
[2025-10-16 14:51:36] [DATABASE ERROR] Parâmetro associado: :acao = LOGIN (tipo: 2)
[2025-10-16 14:51:36] [DATABASE ERROR] Parâmetro associado: :dados_anteriores = NULL (tipo: 0)
[2025-10-16 14:51:36] [DATABASE ERROR] Parâmetro associado: :dados_novos = NULL (tipo: 0)
[2025-10-16 14:51:36] [DATABASE ERROR] Parâmetro associado: :usuario_id = NULL (tipo: 0)
[2025-10-16 14:51:36] [DATABASE ERROR] Parâmetro associado: :ip_address = 192.168.15.8 (tipo: 2)
[2025-10-16 14:51:36] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36 (tipo: 2)
[2025-10-16 14:51:36] [DATABASE ERROR] Erro ao executar query: SQLSTATE[01000]: Warning: 1265 Data truncated for column 'acao' at row 1
[2025-10-16 14:51:36] [DATABASE ERROR] Parâmetro associado: :id = kjtghpr6539kan3gtltmb2qs3f (tipo: 2)
[2025-10-16 14:51:36] [DATABASE ERROR] Parâmetro associado: :id = kjtghpr6539kan3gtltmb2qs3f (tipo: 2)
[2025-10-16 14:51:36] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-10-16 14:51:36] [DATABASE ERROR] Parâmetro associado: :ip_address = 192.168.15.8 (tipo: 2)
[2025-10-16 14:51:36] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36 (tipo: 2)
[2025-10-16 14:51:36] [DATABASE ERROR] Parâmetro associado: :dados = {"user_id":1,"user_name":"Administrador do Sistema","user_email":"admin@sorveteria.com","user_profile":1,"user_profile_name":"Administrador","logged_in":true,"login_time":1760637096} (tipo: 2)
[2025-10-16 14:51:36] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-10-16 15:01:41] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-10-16 15:03:59] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-10-16 15:04:11] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-10-16 15:15:36] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-10-16 15:15:39] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-10-16 15:16:18] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-10-16 15:18:10] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-10-16 15:28:28] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-10-16 15:28:43] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-10-16 15:28:47] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-10-16 15:48:55] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-10-16 15:48:58] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-10-16 16:33:19] [DATABASE ERROR] Parâmetro associado: :user_id = 1 (tipo: 1)
[2025-10-16 16:33:29] [DATABASE ERROR] Parâmetro associado: :username = admin (tipo: 2)
[2025-10-16 16:33:29] [DATABASE ERROR] Parâmetro associado: :email = admin (tipo: 2)
[2025-10-16 16:33:29] [DATABASE ERROR] Preparando query: UPDATE usuarios SET ultimo_acesso = NOW() WHERE id = :id com parâmetros: {":id":1}
[2025-10-16 16:33:29] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-10-16 16:33:30] [DATABASE ERROR] Debug PDO após binding: SQL: [56] UPDATE usuarios SET ultimo_acesso = NOW() WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-16 16:33:30] [DATABASE ERROR] Parâmetro associado: :tabela = usuarios (tipo: 2)
[2025-10-16 16:33:30] [DATABASE ERROR] Parâmetro associado: :registro_id = 1 (tipo: 1)
[2025-10-16 16:33:30] [DATABASE ERROR] Parâmetro associado: :acao = LOGIN (tipo: 2)
[2025-10-16 16:33:30] [DATABASE ERROR] Parâmetro associado: :dados_anteriores = NULL (tipo: 0)
[2025-10-16 16:33:30] [DATABASE ERROR] Parâmetro associado: :dados_novos = NULL (tipo: 0)
[2025-10-16 16:33:30] [DATABASE ERROR] Parâmetro associado: :usuario_id = NULL (tipo: 0)
[2025-10-16 16:33:30] [DATABASE ERROR] Parâmetro associado: :ip_address = 192.168.15.8 (tipo: 2)
[2025-10-16 16:33:30] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36 (tipo: 2)
[2025-10-16 16:33:30] [DATABASE ERROR] Erro ao executar query: SQLSTATE[01000]: Warning: 1265 Data truncated for column 'acao' at row 1
[2025-10-16 16:33:30] [DATABASE ERROR] Parâmetro associado: :id = 7atfp6hkktgd84rctrj9petseu (tipo: 2)
[2025-10-16 16:33:30] [DATABASE ERROR] Parâmetro associado: :id = 7atfp6hkktgd84rctrj9petseu (tipo: 2)
[2025-10-16 16:33:30] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-10-16 16:33:30] [DATABASE ERROR] Parâmetro associado: :ip_address = 192.168.15.8 (tipo: 2)
[2025-10-16 16:33:30] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36 (tipo: 2)
[2025-10-16 16:33:30] [DATABASE ERROR] Parâmetro associado: :dados = {"user_id":1,"user_name":"Administrador do Sistema","user_email":"admin@sorveteria.com","user_profile":1,"user_profile_name":"Administrador","logged_in":true,"login_time":1760643210} (tipo: 2)
[2025-10-16 16:33:30] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-10-17 09:47:07] [DATABASE ERROR] Parâmetro associado: :username = admin (tipo: 2)
[2025-10-17 09:47:07] [DATABASE ERROR] Parâmetro associado: :email = admin (tipo: 2)
[2025-10-17 09:47:07] [DATABASE ERROR] Preparando query: UPDATE usuarios SET ultimo_acesso = NOW() WHERE id = :id com parâmetros: {":id":1}
[2025-10-17 09:47:07] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-10-17 09:47:07] [DATABASE ERROR] Debug PDO após binding: SQL: [56] UPDATE usuarios SET ultimo_acesso = NOW() WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-17 09:47:07] [DATABASE ERROR] Parâmetro associado: :tabela = usuarios (tipo: 2)
[2025-10-17 09:47:07] [DATABASE ERROR] Parâmetro associado: :registro_id = 1 (tipo: 1)
[2025-10-17 09:47:07] [DATABASE ERROR] Parâmetro associado: :acao = LOGIN (tipo: 2)
[2025-10-17 09:47:07] [DATABASE ERROR] Parâmetro associado: :dados_anteriores = NULL (tipo: 0)
[2025-10-17 09:47:07] [DATABASE ERROR] Parâmetro associado: :dados_novos = NULL (tipo: 0)
[2025-10-17 09:47:07] [DATABASE ERROR] Parâmetro associado: :usuario_id = NULL (tipo: 0)
[2025-10-17 09:47:07] [DATABASE ERROR] Parâmetro associado: :ip_address = 192.168.15.8 (tipo: 2)
[2025-10-17 09:47:07] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36 (tipo: 2)
[2025-10-17 09:47:07] [DATABASE ERROR] Erro ao executar query: SQLSTATE[01000]: Warning: 1265 Data truncated for column 'acao' at row 1
[2025-10-17 09:47:07] [DATABASE ERROR] Parâmetro associado: :id = qk38cgo3rrhcl8bsvsig264rhe (tipo: 2)
[2025-10-17 09:47:07] [DATABASE ERROR] Parâmetro associado: :id = qk38cgo3rrhcl8bsvsig264rhe (tipo: 2)
[2025-10-17 09:47:07] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-10-17 09:47:07] [DATABASE ERROR] Parâmetro associado: :ip_address = 192.168.15.8 (tipo: 2)
[2025-10-17 09:47:07] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36 (tipo: 2)
[2025-10-17 09:47:07] [DATABASE ERROR] Parâmetro associado: :dados = {"user_id":1,"user_name":"Administrador do Sistema","user_email":"admin@sorveteria.com","user_profile":1,"user_profile_name":"Administrador","logged_in":true,"login_time":1760705227} (tipo: 2)
[2025-10-17 09:47:08] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-10-17 09:47:14] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-10-17 09:47:16] [DATABASE ERROR] Preparando query: SELECT * FROM categorias WHERE ativo = :value com parâmetros: {":value":1}
[2025-10-17 09:47:16] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-10-17 09:47:16] [DATABASE ERROR] Debug PDO após binding: SQL: [45] SELECT * FROM categorias WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-10-17 09:47:18] [DATABASE ERROR] Preparando query: SELECT * FROM produtos WHERE ativo = :value com parâmetros: {":value":1}
[2025-10-17 09:47:18] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-10-17 09:47:18] [DATABASE ERROR] Debug PDO após binding: SQL: [43] SELECT * FROM produtos WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-10-17 09:50:57] [DATABASE ERROR] Preparando query: SELECT * FROM produtos WHERE ativo = :value com parâmetros: {":value":1}
[2025-10-17 09:50:57] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-10-17 09:50:57] [DATABASE ERROR] Debug PDO após binding: SQL: [43] SELECT * FROM produtos WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-10-17 09:51:17] [DATABASE ERROR] Preparando query: SELECT * FROM produtos WHERE ativo = :value com parâmetros: {":value":1}
[2025-10-17 09:51:17] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-10-17 09:51:17] [DATABASE ERROR] Debug PDO após binding: SQL: [43] SELECT * FROM produtos WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-10-17 09:52:09] [DATABASE ERROR] Preparando query: SELECT * FROM produtos WHERE ativo = :value com parâmetros: {":value":1}
[2025-10-17 09:52:09] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-10-17 09:52:09] [DATABASE ERROR] Debug PDO após binding: SQL: [43] SELECT * FROM produtos WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-10-17 10:19:30] [DATABASE ERROR] Preparando query: SELECT * FROM produtos WHERE ativo = :value com parâmetros: {":value":1}
[2025-10-17 10:19:30] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-10-17 10:19:30] [DATABASE ERROR] Debug PDO após binding: SQL: [43] SELECT * FROM produtos WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-10-17 10:20:52] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-10-17 10:20:59] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-10-17 10:21:42] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-10-17 10:29:37] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-10-17 10:29:42] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-10-17 10:35:31] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-10-17 10:36:11] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-10-17 11:42:41] [DATABASE ERROR] Parâmetro associado: :username = admin (tipo: 2)
[2025-10-17 11:42:41] [DATABASE ERROR] Parâmetro associado: :email = admin (tipo: 2)
[2025-10-17 11:42:42] [DATABASE ERROR] Preparando query: UPDATE usuarios SET ultimo_acesso = NOW() WHERE id = :id com parâmetros: {":id":1}
[2025-10-17 11:42:42] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-10-17 11:42:42] [DATABASE ERROR] Debug PDO após binding: SQL: [56] UPDATE usuarios SET ultimo_acesso = NOW() WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-17 11:42:42] [DATABASE ERROR] Parâmetro associado: :tabela = usuarios (tipo: 2)
[2025-10-17 11:42:42] [DATABASE ERROR] Parâmetro associado: :registro_id = 1 (tipo: 1)
[2025-10-17 11:42:42] [DATABASE ERROR] Parâmetro associado: :acao = LOGIN (tipo: 2)
[2025-10-17 11:42:42] [DATABASE ERROR] Parâmetro associado: :dados_anteriores = NULL (tipo: 0)
[2025-10-17 11:42:42] [DATABASE ERROR] Parâmetro associado: :dados_novos = NULL (tipo: 0)
[2025-10-17 11:42:42] [DATABASE ERROR] Parâmetro associado: :usuario_id = NULL (tipo: 0)
[2025-10-17 11:42:42] [DATABASE ERROR] Parâmetro associado: :ip_address = 192.168.15.8 (tipo: 2)
[2025-10-17 11:42:42] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36 (tipo: 2)
[2025-10-17 11:42:42] [DATABASE ERROR] Erro ao executar query: SQLSTATE[01000]: Warning: 1265 Data truncated for column 'acao' at row 1
[2025-10-17 11:42:42] [DATABASE ERROR] Parâmetro associado: :id = j60qd3q3tdqsld9mc3hs5mothe (tipo: 2)
[2025-10-17 11:42:42] [DATABASE ERROR] Parâmetro associado: :id = j60qd3q3tdqsld9mc3hs5mothe (tipo: 2)
[2025-10-17 11:42:42] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-10-17 11:42:42] [DATABASE ERROR] Parâmetro associado: :ip_address = 192.168.15.8 (tipo: 2)
[2025-10-17 11:42:42] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36 (tipo: 2)
[2025-10-17 11:42:42] [DATABASE ERROR] Parâmetro associado: :dados = {"user_id":1,"user_name":"Administrador do Sistema","user_email":"admin@sorveteria.com","user_profile":1,"user_profile_name":"Administrador","logged_in":true,"login_time":1760712162} (tipo: 2)
[2025-10-17 11:42:43] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-10-17 11:42:49] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-10-17 11:46:09] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-10-17 11:47:01] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-10-17 12:01:25] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-10-17 12:02:14] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-10-17 13:31:58] [DATABASE ERROR] Parâmetro associado: :username = admin (tipo: 2)
[2025-10-17 13:31:58] [DATABASE ERROR] Parâmetro associado: :email = admin (tipo: 2)
[2025-10-17 13:31:58] [DATABASE ERROR] Preparando query: UPDATE usuarios SET ultimo_acesso = NOW() WHERE id = :id com parâmetros: {":id":1}
[2025-10-17 13:31:58] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-10-17 13:31:58] [DATABASE ERROR] Debug PDO após binding: SQL: [56] UPDATE usuarios SET ultimo_acesso = NOW() WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-17 13:31:58] [DATABASE ERROR] Parâmetro associado: :tabela = usuarios (tipo: 2)
[2025-10-17 13:31:58] [DATABASE ERROR] Parâmetro associado: :registro_id = 1 (tipo: 1)
[2025-10-17 13:31:58] [DATABASE ERROR] Parâmetro associado: :acao = LOGIN (tipo: 2)
[2025-10-17 13:31:58] [DATABASE ERROR] Parâmetro associado: :dados_anteriores = NULL (tipo: 0)
[2025-10-17 13:31:58] [DATABASE ERROR] Parâmetro associado: :dados_novos = NULL (tipo: 0)
[2025-10-17 13:31:58] [DATABASE ERROR] Parâmetro associado: :usuario_id = NULL (tipo: 0)
[2025-10-17 13:31:58] [DATABASE ERROR] Parâmetro associado: :ip_address = 192.168.15.8 (tipo: 2)
[2025-10-17 13:31:58] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36 (tipo: 2)
[2025-10-17 13:31:58] [DATABASE ERROR] Erro ao executar query: SQLSTATE[01000]: Warning: 1265 Data truncated for column 'acao' at row 1
[2025-10-17 13:31:58] [DATABASE ERROR] Parâmetro associado: :id = ksr0snann1aaqi283cmq581epf (tipo: 2)
[2025-10-17 13:31:58] [DATABASE ERROR] Parâmetro associado: :id = ksr0snann1aaqi283cmq581epf (tipo: 2)
[2025-10-17 13:31:58] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-10-17 13:31:58] [DATABASE ERROR] Parâmetro associado: :ip_address = 192.168.15.8 (tipo: 2)
[2025-10-17 13:31:58] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36 (tipo: 2)
[2025-10-17 13:31:58] [DATABASE ERROR] Parâmetro associado: :dados = {"user_id":1,"user_name":"Administrador do Sistema","user_email":"admin@sorveteria.com","user_profile":1,"user_profile_name":"Administrador","logged_in":true,"login_time":1760718718} (tipo: 2)
[2025-10-17 13:31:59] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-10-17 13:40:02] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-10-17 14:37:36] [DATABASE ERROR] Parâmetro associado: :username = admin (tipo: 2)
[2025-10-17 14:37:36] [DATABASE ERROR] Parâmetro associado: :email = admin (tipo: 2)
[2025-10-17 14:37:36] [DATABASE ERROR] Preparando query: UPDATE usuarios SET ultimo_acesso = NOW() WHERE id = :id com parâmetros: {":id":1}
[2025-10-17 14:37:36] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-10-17 14:37:37] [DATABASE ERROR] Debug PDO após binding: SQL: [56] UPDATE usuarios SET ultimo_acesso = NOW() WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-17 14:37:37] [DATABASE ERROR] Parâmetro associado: :tabela = usuarios (tipo: 2)
[2025-10-17 14:37:37] [DATABASE ERROR] Parâmetro associado: :registro_id = 1 (tipo: 1)
[2025-10-17 14:37:37] [DATABASE ERROR] Parâmetro associado: :acao = LOGIN (tipo: 2)
[2025-10-17 14:37:37] [DATABASE ERROR] Parâmetro associado: :dados_anteriores = NULL (tipo: 0)
[2025-10-17 14:37:37] [DATABASE ERROR] Parâmetro associado: :dados_novos = NULL (tipo: 0)
[2025-10-17 14:37:37] [DATABASE ERROR] Parâmetro associado: :usuario_id = NULL (tipo: 0)
[2025-10-17 14:37:37] [DATABASE ERROR] Parâmetro associado: :ip_address = 192.168.15.8 (tipo: 2)
[2025-10-17 14:37:37] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36 (tipo: 2)
[2025-10-17 14:37:37] [DATABASE ERROR] Erro ao executar query: SQLSTATE[01000]: Warning: 1265 Data truncated for column 'acao' at row 1
[2025-10-17 14:37:37] [DATABASE ERROR] Parâmetro associado: :id = 28joq88dbjvef8vbvc3sq08k1q (tipo: 2)
[2025-10-17 14:37:37] [DATABASE ERROR] Parâmetro associado: :id = 28joq88dbjvef8vbvc3sq08k1q (tipo: 2)
[2025-10-17 14:37:37] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-10-17 14:37:37] [DATABASE ERROR] Parâmetro associado: :ip_address = 192.168.15.8 (tipo: 2)
[2025-10-17 14:37:37] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36 (tipo: 2)
[2025-10-17 14:37:37] [DATABASE ERROR] Parâmetro associado: :dados = {"user_id":1,"user_name":"Administrador do Sistema","user_email":"admin@sorveteria.com","user_profile":1,"user_profile_name":"Administrador","logged_in":true,"login_time":1760722657} (tipo: 2)
[2025-10-17 14:37:38] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-10-18 14:15:14] [DATABASE ERROR] Parâmetro associado: :username = admin (tipo: 2)
[2025-10-18 14:15:14] [DATABASE ERROR] Parâmetro associado: :email = admin (tipo: 2)
[2025-10-18 14:15:14] [DATABASE ERROR] Preparando query: UPDATE usuarios SET ultimo_acesso = NOW() WHERE id = :id com parâmetros: {":id":1}
[2025-10-18 14:15:14] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-10-18 14:15:14] [DATABASE ERROR] Debug PDO após binding: SQL: [56] UPDATE usuarios SET ultimo_acesso = NOW() WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-18 14:15:14] [DATABASE ERROR] Parâmetro associado: :tabela = usuarios (tipo: 2)
[2025-10-18 14:15:14] [DATABASE ERROR] Parâmetro associado: :registro_id = 1 (tipo: 1)
[2025-10-18 14:15:14] [DATABASE ERROR] Parâmetro associado: :acao = LOGIN (tipo: 2)
[2025-10-18 14:15:14] [DATABASE ERROR] Parâmetro associado: :dados_anteriores = NULL (tipo: 0)
[2025-10-18 14:15:14] [DATABASE ERROR] Parâmetro associado: :dados_novos = NULL (tipo: 0)
[2025-10-18 14:15:14] [DATABASE ERROR] Parâmetro associado: :usuario_id = NULL (tipo: 0)
[2025-10-18 14:15:14] [DATABASE ERROR] Parâmetro associado: :ip_address = 192.168.15.6 (tipo: 2)
[2025-10-18 14:15:14] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36 (tipo: 2)
[2025-10-18 14:15:14] [DATABASE ERROR] Erro ao executar query: SQLSTATE[01000]: Warning: 1265 Data truncated for column 'acao' at row 1
[2025-10-18 14:15:14] [DATABASE ERROR] Parâmetro associado: :id = 1hd9nt0driqdbb57rpiuuoj9t6 (tipo: 2)
[2025-10-18 14:15:14] [DATABASE ERROR] Parâmetro associado: :id = 1hd9nt0driqdbb57rpiuuoj9t6 (tipo: 2)
[2025-10-18 14:15:14] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-10-18 14:15:14] [DATABASE ERROR] Parâmetro associado: :ip_address = 192.168.15.6 (tipo: 2)
[2025-10-18 14:15:14] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36 (tipo: 2)
[2025-10-18 14:15:14] [DATABASE ERROR] Parâmetro associado: :dados = {"user_id":1,"user_name":"Administrador do Sistema","user_email":"admin@sorveteria.com","user_profile":1,"user_profile_name":"Administrador","logged_in":true,"login_time":1760807714} (tipo: 2)
[2025-10-18 14:15:15] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-10-18 14:15:26] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-10-18 14:15:29] [DATABASE ERROR] Preparando query: SELECT * FROM categorias WHERE ativo = :value com parâmetros: {":value":1}
[2025-10-18 14:15:29] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-10-18 14:15:29] [DATABASE ERROR] Debug PDO após binding: SQL: [45] SELECT * FROM categorias WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-10-18 14:30:55] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-10-18 16:08:23] [DATABASE ERROR] Parâmetro associado: :username = admin (tipo: 2)
[2025-10-18 16:08:23] [DATABASE ERROR] Parâmetro associado: :email = admin (tipo: 2)
[2025-10-18 16:08:23] [DATABASE ERROR] Preparando query: UPDATE usuarios SET ultimo_acesso = NOW() WHERE id = :id com parâmetros: {":id":1}
[2025-10-18 16:08:23] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-10-18 16:08:23] [DATABASE ERROR] Debug PDO após binding: SQL: [56] UPDATE usuarios SET ultimo_acesso = NOW() WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-18 16:08:23] [DATABASE ERROR] Parâmetro associado: :tabela = usuarios (tipo: 2)
[2025-10-18 16:08:23] [DATABASE ERROR] Parâmetro associado: :registro_id = 1 (tipo: 1)
[2025-10-18 16:08:23] [DATABASE ERROR] Parâmetro associado: :acao = LOGIN (tipo: 2)
[2025-10-18 16:08:23] [DATABASE ERROR] Parâmetro associado: :dados_anteriores = NULL (tipo: 0)
[2025-10-18 16:08:23] [DATABASE ERROR] Parâmetro associado: :dados_novos = NULL (tipo: 0)
[2025-10-18 16:08:23] [DATABASE ERROR] Parâmetro associado: :usuario_id = NULL (tipo: 0)
[2025-10-18 16:08:23] [DATABASE ERROR] Parâmetro associado: :ip_address = 192.168.15.8 (tipo: 2)
[2025-10-18 16:08:23] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36 (tipo: 2)
[2025-10-18 16:08:23] [DATABASE ERROR] Erro ao executar query: SQLSTATE[01000]: Warning: 1265 Data truncated for column 'acao' at row 1
[2025-10-18 16:08:23] [DATABASE ERROR] Parâmetro associado: :id = j53di3amka0f6rd94sgu37g925 (tipo: 2)
[2025-10-18 16:08:23] [DATABASE ERROR] Parâmetro associado: :id = j53di3amka0f6rd94sgu37g925 (tipo: 2)
[2025-10-18 16:08:23] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-10-18 16:08:23] [DATABASE ERROR] Parâmetro associado: :ip_address = 192.168.15.8 (tipo: 2)
[2025-10-18 16:08:23] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36 (tipo: 2)
[2025-10-18 16:08:23] [DATABASE ERROR] Parâmetro associado: :dados = {"user_id":1,"user_name":"Administrador do Sistema","user_email":"admin@sorveteria.com","user_profile":1,"user_profile_name":"Administrador","logged_in":true,"login_time":1760814503} (tipo: 2)
[2025-10-18 16:08:24] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-10-18 16:15:19] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-10-18 16:30:50] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-10-18 16:31:34] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-10-18 17:39:11] [DATABASE ERROR] Parâmetro associado: :username = admin (tipo: 2)
[2025-10-18 17:39:11] [DATABASE ERROR] Parâmetro associado: :email = admin (tipo: 2)
[2025-10-18 17:39:11] [DATABASE ERROR] Preparando query: UPDATE usuarios SET ultimo_acesso = NOW() WHERE id = :id com parâmetros: {":id":1}
[2025-10-18 17:39:11] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-10-18 17:39:11] [DATABASE ERROR] Debug PDO após binding: SQL: [56] UPDATE usuarios SET ultimo_acesso = NOW() WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-18 17:39:11] [DATABASE ERROR] Parâmetro associado: :tabela = usuarios (tipo: 2)
[2025-10-18 17:39:11] [DATABASE ERROR] Parâmetro associado: :registro_id = 1 (tipo: 1)
[2025-10-18 17:39:11] [DATABASE ERROR] Parâmetro associado: :acao = LOGIN (tipo: 2)
[2025-10-18 17:39:11] [DATABASE ERROR] Parâmetro associado: :dados_anteriores = NULL (tipo: 0)
[2025-10-18 17:39:11] [DATABASE ERROR] Parâmetro associado: :dados_novos = NULL (tipo: 0)
[2025-10-18 17:39:11] [DATABASE ERROR] Parâmetro associado: :usuario_id = NULL (tipo: 0)
[2025-10-18 17:39:11] [DATABASE ERROR] Parâmetro associado: :ip_address = 192.168.15.8 (tipo: 2)
[2025-10-18 17:39:11] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36 (tipo: 2)
[2025-10-18 17:39:11] [DATABASE ERROR] Erro ao executar query: SQLSTATE[01000]: Warning: 1265 Data truncated for column 'acao' at row 1
[2025-10-18 17:39:11] [DATABASE ERROR] Parâmetro associado: :id = to8bt4ilrecvpl2ob3t7gofq6f (tipo: 2)
[2025-10-18 17:39:11] [DATABASE ERROR] Parâmetro associado: :id = to8bt4ilrecvpl2ob3t7gofq6f (tipo: 2)
[2025-10-18 17:39:11] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-10-18 17:39:11] [DATABASE ERROR] Parâmetro associado: :ip_address = 192.168.15.8 (tipo: 2)
[2025-10-18 17:39:11] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36 (tipo: 2)
[2025-10-18 17:39:11] [DATABASE ERROR] Parâmetro associado: :dados = {"user_id":1,"user_name":"Administrador do Sistema","user_email":"admin@sorveteria.com","user_profile":1,"user_profile_name":"Administrador","logged_in":true,"login_time":1760819951} (tipo: 2)
[2025-10-18 17:39:11] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-10-18 17:51:54] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-10-18 17:52:24] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-10-18 17:59:23] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-10-18 18:11:00] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-10-18 18:11:23] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-10-18 18:11:28] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-10-18 18:42:38] [DATABASE ERROR] Parâmetro associado: :user_id = 1 (tipo: 1)
[2025-10-18 18:42:44] [DATABASE ERROR] Parâmetro associado: :username = admin (tipo: 2)
[2025-10-18 18:42:44] [DATABASE ERROR] Parâmetro associado: :email = admin (tipo: 2)
[2025-10-18 18:42:44] [DATABASE ERROR] Preparando query: UPDATE usuarios SET ultimo_acesso = NOW() WHERE id = :id com parâmetros: {":id":1}
[2025-10-18 18:42:44] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-10-18 18:42:44] [DATABASE ERROR] Debug PDO após binding: SQL: [56] UPDATE usuarios SET ultimo_acesso = NOW() WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-18 18:42:44] [DATABASE ERROR] Parâmetro associado: :tabela = usuarios (tipo: 2)
[2025-10-18 18:42:44] [DATABASE ERROR] Parâmetro associado: :registro_id = 1 (tipo: 1)
[2025-10-18 18:42:44] [DATABASE ERROR] Parâmetro associado: :acao = LOGIN (tipo: 2)
[2025-10-18 18:42:44] [DATABASE ERROR] Parâmetro associado: :dados_anteriores = NULL (tipo: 0)
[2025-10-18 18:42:44] [DATABASE ERROR] Parâmetro associado: :dados_novos = NULL (tipo: 0)
[2025-10-18 18:42:44] [DATABASE ERROR] Parâmetro associado: :usuario_id = NULL (tipo: 0)
[2025-10-18 18:42:44] [DATABASE ERROR] Parâmetro associado: :ip_address = 192.168.15.8 (tipo: 2)
[2025-10-18 18:42:44] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36 (tipo: 2)
[2025-10-18 18:42:44] [DATABASE ERROR] Erro ao executar query: SQLSTATE[01000]: Warning: 1265 Data truncated for column 'acao' at row 1
[2025-10-18 18:42:44] [DATABASE ERROR] Parâmetro associado: :id = t9rnpnn6ujdq23m67ha14kftjb (tipo: 2)
[2025-10-18 18:42:44] [DATABASE ERROR] Parâmetro associado: :id = t9rnpnn6ujdq23m67ha14kftjb (tipo: 2)
[2025-10-18 18:42:44] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-10-18 18:42:44] [DATABASE ERROR] Parâmetro associado: :ip_address = 192.168.15.8 (tipo: 2)
[2025-10-18 18:42:44] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36 (tipo: 2)
[2025-10-18 18:42:44] [DATABASE ERROR] Parâmetro associado: :dados = {"user_id":1,"user_name":"Administrador do Sistema","user_email":"admin@sorveteria.com","user_profile":1,"user_profile_name":"Administrador","logged_in":true,"login_time":1760823764} (tipo: 2)
[2025-10-18 18:42:45] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-10-18 19:03:01] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-10-18 19:39:49] [DATABASE ERROR] Preparando query: SELECT * FROM produtos WHERE ativo = :value com parâmetros: {":value":1}
[2025-10-18 19:39:49] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-10-18 19:39:49] [DATABASE ERROR] Debug PDO após binding: SQL: [43] SELECT * FROM produtos WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-10-18 19:39:49] [DATABASE ERROR] Preparando query: SELECT * FROM categorias WHERE ativo = :value com parâmetros: {":value":1}
[2025-10-18 19:39:49] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-10-18 19:39:49] [DATABASE ERROR] Debug PDO após binding: SQL: [45] SELECT * FROM categorias WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-10-18 19:39:49] [DATABASE ERROR] Preparando query: SELECT * FROM categorias WHERE ativo = :value com parâmetros: {":value":1}
[2025-10-18 19:39:49] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-10-18 19:39:49] [DATABASE ERROR] Debug PDO após binding: SQL: [45] SELECT * FROM categorias WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-10-18 19:39:49] [DATABASE ERROR] Preparando query: SELECT * FROM unidades_medida com parâmetros: []
[2025-10-18 19:39:49] [DATABASE ERROR] Debug PDO após binding: SQL: [29] SELECT * FROM unidades_medida
Params:  0

[2025-10-18 19:39:49] [DATABASE ERROR] Preparando query: SELECT * FROM fornecedores WHERE ativo = :value com parâmetros: {":value":1}
[2025-10-18 19:39:49] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-10-18 19:39:49] [DATABASE ERROR] Debug PDO após binding: SQL: [47] SELECT * FROM fornecedores WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-10-18 19:39:49] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-10-18 19:39:49] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-10-18 19:39:49] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-10-18 19:39:49] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-10-18 19:39:49] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-10-18 19:40:01] [DATABASE ERROR] Parâmetro associado: :id = 5 (tipo: 1)
[2025-10-18 19:40:04] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-10-18 19:40:36] [DATABASE ERROR] Preparando query: SELECT * FROM produtos WHERE ativo = :value com parâmetros: {":value":1}
[2025-10-18 19:40:36] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-10-18 19:40:36] [DATABASE ERROR] Debug PDO após binding: SQL: [43] SELECT * FROM produtos WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-10-18 19:40:36] [DATABASE ERROR] Preparando query: SELECT * FROM categorias WHERE ativo = :value com parâmetros: {":value":1}
[2025-10-18 19:40:36] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-10-18 19:40:36] [DATABASE ERROR] Debug PDO após binding: SQL: [45] SELECT * FROM categorias WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-10-18 19:40:36] [DATABASE ERROR] Preparando query: SELECT * FROM categorias WHERE ativo = :value com parâmetros: {":value":1}
[2025-10-18 19:40:36] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-10-18 19:40:36] [DATABASE ERROR] Debug PDO após binding: SQL: [45] SELECT * FROM categorias WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-10-18 19:40:36] [DATABASE ERROR] Preparando query: SELECT * FROM unidades_medida com parâmetros: []
[2025-10-18 19:40:36] [DATABASE ERROR] Debug PDO após binding: SQL: [29] SELECT * FROM unidades_medida
Params:  0

[2025-10-18 19:40:36] [DATABASE ERROR] Preparando query: SELECT * FROM fornecedores WHERE ativo = :value com parâmetros: {":value":1}
[2025-10-18 19:40:36] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-10-18 19:40:36] [DATABASE ERROR] Debug PDO após binding: SQL: [47] SELECT * FROM fornecedores WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-10-18 19:40:36] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-10-18 19:40:36] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-10-18 19:40:36] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-10-18 19:40:36] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-10-18 19:40:36] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-10-18 19:40:39] [DATABASE ERROR] Preparando query: SELECT * FROM produtos WHERE ativo = :value com parâmetros: {":value":1}
[2025-10-18 19:40:39] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-10-18 19:40:39] [DATABASE ERROR] Debug PDO após binding: SQL: [43] SELECT * FROM produtos WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-10-18 19:40:40] [DATABASE ERROR] Preparando query: SELECT * FROM categorias WHERE ativo = :value com parâmetros: {":value":1}
[2025-10-18 19:40:40] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-10-18 19:40:40] [DATABASE ERROR] Debug PDO após binding: SQL: [45] SELECT * FROM categorias WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-10-18 19:40:56] [DATABASE ERROR] Preparando query: SELECT * FROM produtos WHERE ativo = :value com parâmetros: {":value":1}
[2025-10-18 19:40:56] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-10-18 19:40:56] [DATABASE ERROR] Debug PDO após binding: SQL: [43] SELECT * FROM produtos WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-10-18 19:40:56] [DATABASE ERROR] Preparando query: SELECT * FROM categorias WHERE ativo = :value com parâmetros: {":value":1}
[2025-10-18 19:40:56] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-10-18 19:40:56] [DATABASE ERROR] Debug PDO após binding: SQL: [45] SELECT * FROM categorias WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-10-18 19:40:56] [DATABASE ERROR] Preparando query: SELECT * FROM categorias WHERE ativo = :value com parâmetros: {":value":1}
[2025-10-18 19:40:56] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-10-18 19:40:56] [DATABASE ERROR] Debug PDO após binding: SQL: [45] SELECT * FROM categorias WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-10-18 19:40:56] [DATABASE ERROR] Preparando query: SELECT * FROM unidades_medida com parâmetros: []
[2025-10-18 19:40:56] [DATABASE ERROR] Debug PDO após binding: SQL: [29] SELECT * FROM unidades_medida
Params:  0

[2025-10-18 19:40:56] [DATABASE ERROR] Preparando query: SELECT * FROM fornecedores WHERE ativo = :value com parâmetros: {":value":1}
[2025-10-18 19:40:56] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-10-18 19:40:56] [DATABASE ERROR] Debug PDO após binding: SQL: [47] SELECT * FROM fornecedores WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-10-18 19:40:56] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-10-18 19:40:56] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-10-18 19:40:56] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-10-18 19:40:56] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-10-18 19:40:56] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-10-18 19:40:59] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-10-18 19:41:09] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-10-18 19:42:28] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-10-18 19:43:49] [DATABASE ERROR] Parâmetro associado: :user_id = 1 (tipo: 1)
[2025-10-18 19:43:56] [DATABASE ERROR] Parâmetro associado: :username = admin (tipo: 2)
[2025-10-18 19:43:56] [DATABASE ERROR] Parâmetro associado: :email = admin (tipo: 2)
[2025-10-18 19:44:03] [DATABASE ERROR] Parâmetro associado: :username = admin (tipo: 2)
[2025-10-18 19:44:03] [DATABASE ERROR] Parâmetro associado: :email = admin (tipo: 2)
[2025-10-18 19:44:03] [DATABASE ERROR] Preparando query: UPDATE usuarios SET ultimo_acesso = NOW() WHERE id = :id com parâmetros: {":id":1}
[2025-10-18 19:44:03] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-10-18 19:44:03] [DATABASE ERROR] Debug PDO após binding: SQL: [56] UPDATE usuarios SET ultimo_acesso = NOW() WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-18 19:44:03] [DATABASE ERROR] Parâmetro associado: :tabela = usuarios (tipo: 2)
[2025-10-18 19:44:03] [DATABASE ERROR] Parâmetro associado: :registro_id = 1 (tipo: 1)
[2025-10-18 19:44:03] [DATABASE ERROR] Parâmetro associado: :acao = LOGIN (tipo: 2)
[2025-10-18 19:44:03] [DATABASE ERROR] Parâmetro associado: :dados_anteriores = NULL (tipo: 0)
[2025-10-18 19:44:03] [DATABASE ERROR] Parâmetro associado: :dados_novos = NULL (tipo: 0)
[2025-10-18 19:44:03] [DATABASE ERROR] Parâmetro associado: :usuario_id = NULL (tipo: 0)
[2025-10-18 19:44:03] [DATABASE ERROR] Parâmetro associado: :ip_address = 192.168.15.8 (tipo: 2)
[2025-10-18 19:44:03] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36 (tipo: 2)
[2025-10-18 19:44:09] [DATABASE ERROR] Erro ao executar query: SQLSTATE[01000]: Warning: 1265 Data truncated for column 'acao' at row 1
[2025-10-18 19:44:09] [DATABASE ERROR] Parâmetro associado: :id = lfd3q2ubajle9qtjqagqjs2rts (tipo: 2)
[2025-10-18 19:44:09] [DATABASE ERROR] Parâmetro associado: :id = lfd3q2ubajle9qtjqagqjs2rts (tipo: 2)
[2025-10-18 19:44:09] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-10-18 19:44:09] [DATABASE ERROR] Parâmetro associado: :ip_address = 192.168.15.8 (tipo: 2)
[2025-10-18 19:44:09] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36 (tipo: 2)
[2025-10-18 19:44:09] [DATABASE ERROR] Parâmetro associado: :dados = {"user_id":1,"user_name":"Administrador do Sistema","user_email":"admin@sorveteria.com","user_profile":1,"user_profile_name":"Administrador","logged_in":true,"login_time":1760827449} (tipo: 2)
[2025-10-18 19:44:09] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-10-18 19:44:57] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-10-18 19:46:33] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-10-18 19:46:39] [DATABASE ERROR] Preparando query: SELECT SUM(estoque_atual) as total_estoque FROM produtos WHERE ativo = TRUE com parâmetros: []
[2025-10-18 19:46:39] [DATABASE ERROR] Debug PDO após binding: SQL: [75] SELECT SUM(estoque_atual) as total_estoque FROM produtos WHERE ativo = TRUE
Params:  0

[2025-10-18 19:46:39] [DATABASE ERROR] Preparando query: SELECT id FROM produtos WHERE ativo = TRUE com parâmetros: []
[2025-10-18 19:46:39] [DATABASE ERROR] Debug PDO após binding: SQL: [42] SELECT id FROM produtos WHERE ativo = TRUE
Params:  0

[2025-10-18 19:46:39] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":2,":data_fim_a":null,":data_fim":null}
[2025-10-18 19:46:39] [DATABASE ERROR] Parâmetro associado: :produto_id = 2 (tipo: 1)
[2025-10-18 19:46:39] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-10-18 19:46:39] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-10-18 19:46:39] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-10-18 19:46:39] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":2}
[2025-10-18 19:46:39] [DATABASE ERROR] Parâmetro associado: :id = 2 (tipo: 1)
[2025-10-18 19:46:39] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-18 19:46:39] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":3,":data_fim_a":null,":data_fim":null}
[2025-10-18 19:46:39] [DATABASE ERROR] Parâmetro associado: :produto_id = 3 (tipo: 1)
[2025-10-18 19:46:39] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-10-18 19:46:39] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-10-18 19:46:39] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-10-18 19:46:39] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":3}
[2025-10-18 19:46:39] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-10-18 19:46:39] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-18 19:46:39] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":4,":data_fim_a":null,":data_fim":null}
[2025-10-18 19:46:39] [DATABASE ERROR] Parâmetro associado: :produto_id = 4 (tipo: 1)
[2025-10-18 19:46:39] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-10-18 19:46:39] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-10-18 19:46:39] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-10-18 19:46:39] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":4}
[2025-10-18 19:46:39] [DATABASE ERROR] Parâmetro associado: :id = 4 (tipo: 1)
[2025-10-18 19:46:39] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-18 19:46:39] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":5,":data_fim_a":null,":data_fim":null}
[2025-10-18 19:46:39] [DATABASE ERROR] Parâmetro associado: :produto_id = 5 (tipo: 1)
[2025-10-18 19:46:39] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-10-18 19:46:39] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-10-18 19:46:39] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-10-18 19:46:39] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":5}
[2025-10-18 19:46:39] [DATABASE ERROR] Parâmetro associado: :id = 5 (tipo: 1)
[2025-10-18 19:46:39] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-18 19:46:39] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":6,":data_fim_a":null,":data_fim":null}
[2025-10-18 19:46:39] [DATABASE ERROR] Parâmetro associado: :produto_id = 6 (tipo: 1)
[2025-10-18 19:46:39] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-10-18 19:46:39] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-10-18 19:46:39] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-10-18 19:46:39] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":6}
[2025-10-18 19:46:39] [DATABASE ERROR] Parâmetro associado: :id = 6 (tipo: 1)
[2025-10-18 19:46:39] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-18 19:47:09] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-10-18 19:47:10] [DATABASE ERROR] Preparando query: SELECT SUM(estoque_atual) as total_estoque FROM produtos WHERE ativo = TRUE com parâmetros: []
[2025-10-18 19:47:10] [DATABASE ERROR] Debug PDO após binding: SQL: [75] SELECT SUM(estoque_atual) as total_estoque FROM produtos WHERE ativo = TRUE
Params:  0

[2025-10-18 19:47:10] [DATABASE ERROR] Preparando query: SELECT id FROM produtos WHERE ativo = TRUE com parâmetros: []
[2025-10-18 19:47:10] [DATABASE ERROR] Debug PDO após binding: SQL: [42] SELECT id FROM produtos WHERE ativo = TRUE
Params:  0

[2025-10-18 19:47:10] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":2,":data_fim_a":null,":data_fim":null}
[2025-10-18 19:47:10] [DATABASE ERROR] Parâmetro associado: :produto_id = 2 (tipo: 1)
[2025-10-18 19:47:10] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-10-18 19:47:10] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-10-18 19:47:10] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-10-18 19:47:10] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":2}
[2025-10-18 19:47:10] [DATABASE ERROR] Parâmetro associado: :id = 2 (tipo: 1)
[2025-10-18 19:47:10] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-18 19:47:10] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":3,":data_fim_a":null,":data_fim":null}
[2025-10-18 19:47:10] [DATABASE ERROR] Parâmetro associado: :produto_id = 3 (tipo: 1)
[2025-10-18 19:47:10] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-10-18 19:47:10] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-10-18 19:47:10] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-10-18 19:47:10] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":3}
[2025-10-18 19:47:10] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-10-18 19:47:10] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-18 19:47:10] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":4,":data_fim_a":null,":data_fim":null}
[2025-10-18 19:47:10] [DATABASE ERROR] Parâmetro associado: :produto_id = 4 (tipo: 1)
[2025-10-18 19:47:10] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-10-18 19:47:10] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-10-18 19:47:10] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-10-18 19:47:10] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":4}
[2025-10-18 19:47:10] [DATABASE ERROR] Parâmetro associado: :id = 4 (tipo: 1)
[2025-10-18 19:47:10] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-18 19:47:10] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":5,":data_fim_a":null,":data_fim":null}
[2025-10-18 19:47:10] [DATABASE ERROR] Parâmetro associado: :produto_id = 5 (tipo: 1)
[2025-10-18 19:47:10] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-10-18 19:47:10] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-10-18 19:47:10] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-10-18 19:47:10] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":5}
[2025-10-18 19:47:10] [DATABASE ERROR] Parâmetro associado: :id = 5 (tipo: 1)
[2025-10-18 19:47:10] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-18 19:47:10] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":6,":data_fim_a":null,":data_fim":null}
[2025-10-18 19:47:10] [DATABASE ERROR] Parâmetro associado: :produto_id = 6 (tipo: 1)
[2025-10-18 19:47:10] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-10-18 19:47:10] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-10-18 19:47:10] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-10-18 19:47:10] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":6}
[2025-10-18 19:47:10] [DATABASE ERROR] Parâmetro associado: :id = 6 (tipo: 1)
[2025-10-18 19:47:10] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-18 19:47:51] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-10-18 19:47:54] [DATABASE ERROR] Preparando query: SELECT id, codigo, nome, estoque_atual, estoque_minimo, categoria, fornecedor 
                    FROM vw_produtos_estoque_critico 
                    ORDER BY estoque_atual ASC 
                    LIMIT 10 com parâmetros: []
[2025-10-18 19:47:54] [DATABASE ERROR] Debug PDO após binding: SQL: [212] SELECT id, codigo, nome, estoque_atual, estoque_minimo, categoria, fornecedor 
                    FROM vw_produtos_estoque_critico 
                    ORDER BY estoque_atual ASC 
                    LIMIT 10
Params:  0

[2025-10-18 19:47:55] [DATABASE ERROR] Preparando query: 
                SELECT 
                    DATE_FORMAT(m.data_movimentacao, '%Y-%m') as periodo,
                    tm.tipo,
                    SUM(mi.quantidade) as total_quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                WHERE m.status = 'PROCESSADO'
                    AND m.data_movimentacao >= DATE_SUB(CURDATE(), INTERVAL 6 MONTH)
                GROUP BY periodo, tm.tipo
                ORDER BY periodo ASC com parâmetros: []
[2025-10-18 19:47:55] [DATABASE ERROR] Debug PDO após binding: SQL: [593] 
                SELECT 
                    DATE_FORMAT(m.data_movimentacao, '%Y-%m') as periodo,
                    tm.tipo,
                    SUM(mi.quantidade) as total_quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                WHERE m.status = 'PROCESSADO'
                    AND m.data_movimentacao >= DATE_SUB(CURDATE(), INTERVAL 6 MONTH)
                GROUP BY periodo, tm.tipo
                ORDER BY periodo ASC
Params:  0

[2025-10-18 19:47:57] [DATABASE ERROR] Preparando query: SELECT id, tipo, categoria, documento_numero, data_movimentacao, valor_total, fornecedor, usuario 
                    FROM vw_movimentacoes_recentes 
                    ORDER BY data_movimentacao DESC 
                    LIMIT 10 com parâmetros: []
[2025-10-18 19:47:57] [DATABASE ERROR] Debug PDO após binding: SQL: [235] SELECT id, tipo, categoria, documento_numero, data_movimentacao, valor_total, fornecedor, usuario 
                    FROM vw_movimentacoes_recentes 
                    ORDER BY data_movimentacao DESC 
                    LIMIT 10
Params:  0

[2025-10-18 19:47:57] [DATABASE ERROR] Preparando query: SELECT SUM(estoque_atual) as total_estoque FROM produtos WHERE ativo = TRUE com parâmetros: []
[2025-10-18 19:47:57] [DATABASE ERROR] Debug PDO após binding: SQL: [75] SELECT SUM(estoque_atual) as total_estoque FROM produtos WHERE ativo = TRUE
Params:  0

[2025-10-18 19:47:57] [DATABASE ERROR] Preparando query: SELECT id FROM produtos WHERE ativo = TRUE com parâmetros: []
[2025-10-18 19:47:57] [DATABASE ERROR] Debug PDO após binding: SQL: [42] SELECT id FROM produtos WHERE ativo = TRUE
Params:  0

[2025-10-18 19:47:57] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":2,":data_fim_a":null,":data_fim":null}
[2025-10-18 19:47:57] [DATABASE ERROR] Parâmetro associado: :produto_id = 2 (tipo: 1)
[2025-10-18 19:47:57] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-10-18 19:47:57] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-10-18 19:47:57] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-10-18 19:47:57] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":2}
[2025-10-18 19:47:57] [DATABASE ERROR] Parâmetro associado: :id = 2 (tipo: 1)
[2025-10-18 19:47:57] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-18 19:47:57] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":3,":data_fim_a":null,":data_fim":null}
[2025-10-18 19:47:57] [DATABASE ERROR] Parâmetro associado: :produto_id = 3 (tipo: 1)
[2025-10-18 19:47:57] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-10-18 19:47:57] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-10-18 19:47:57] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-10-18 19:47:57] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":3}
[2025-10-18 19:47:57] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-10-18 19:47:57] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-18 19:47:57] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":4,":data_fim_a":null,":data_fim":null}
[2025-10-18 19:47:57] [DATABASE ERROR] Parâmetro associado: :produto_id = 4 (tipo: 1)
[2025-10-18 19:47:57] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-10-18 19:47:57] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-10-18 19:47:57] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-10-18 19:47:57] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":4}
[2025-10-18 19:47:57] [DATABASE ERROR] Parâmetro associado: :id = 4 (tipo: 1)
[2025-10-18 19:47:57] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-18 19:47:57] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":5,":data_fim_a":null,":data_fim":null}
[2025-10-18 19:47:57] [DATABASE ERROR] Parâmetro associado: :produto_id = 5 (tipo: 1)
[2025-10-18 19:47:57] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-10-18 19:47:57] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-10-18 19:47:57] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-10-18 19:47:57] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":5}
[2025-10-18 19:47:57] [DATABASE ERROR] Parâmetro associado: :id = 5 (tipo: 1)
[2025-10-18 19:47:57] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-18 19:47:57] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":6,":data_fim_a":null,":data_fim":null}
[2025-10-18 19:47:57] [DATABASE ERROR] Parâmetro associado: :produto_id = 6 (tipo: 1)
[2025-10-18 19:47:57] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-10-18 19:47:57] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-10-18 19:47:57] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-10-18 19:47:57] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":6}
[2025-10-18 19:47:57] [DATABASE ERROR] Parâmetro associado: :id = 6 (tipo: 1)
[2025-10-18 19:47:57] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-18 19:48:15] [DATABASE ERROR] Preparando query: SELECT * FROM produtos WHERE ativo = :value com parâmetros: {":value":1}
[2025-10-18 19:48:15] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-10-18 19:48:15] [DATABASE ERROR] Debug PDO após binding: SQL: [43] SELECT * FROM produtos WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-10-18 19:48:15] [DATABASE ERROR] Preparando query: SELECT * FROM categorias WHERE ativo = :value com parâmetros: {":value":1}
[2025-10-18 19:48:15] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-10-18 19:48:15] [DATABASE ERROR] Debug PDO após binding: SQL: [45] SELECT * FROM categorias WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-10-18 19:48:15] [DATABASE ERROR] Preparando query: SELECT * FROM categorias WHERE ativo = :value com parâmetros: {":value":1}
[2025-10-18 19:48:15] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-10-18 19:48:15] [DATABASE ERROR] Debug PDO após binding: SQL: [45] SELECT * FROM categorias WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-10-18 19:48:15] [DATABASE ERROR] Preparando query: SELECT * FROM unidades_medida com parâmetros: []
[2025-10-18 19:48:15] [DATABASE ERROR] Debug PDO após binding: SQL: [29] SELECT * FROM unidades_medida
Params:  0

[2025-10-18 19:48:15] [DATABASE ERROR] Preparando query: SELECT * FROM fornecedores WHERE ativo = :value com parâmetros: {":value":1}
[2025-10-18 19:48:15] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-10-18 19:48:15] [DATABASE ERROR] Debug PDO após binding: SQL: [47] SELECT * FROM fornecedores WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-10-18 19:48:15] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-10-18 19:48:15] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-10-18 19:48:15] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-10-18 19:48:15] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-10-18 19:48:15] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-10-18 19:48:18] [DATABASE ERROR] Parâmetro associado: :id = 2 (tipo: 1)
[2025-10-18 19:48:23] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-10-18 19:48:24] [DATABASE ERROR] Preparando query: SELECT SUM(estoque_atual) as total_estoque FROM produtos WHERE ativo = TRUE com parâmetros: []
[2025-10-18 19:48:24] [DATABASE ERROR] Debug PDO após binding: SQL: [75] SELECT SUM(estoque_atual) as total_estoque FROM produtos WHERE ativo = TRUE
Params:  0

[2025-10-18 19:48:24] [DATABASE ERROR] Preparando query: SELECT id FROM produtos WHERE ativo = TRUE com parâmetros: []
[2025-10-18 19:48:24] [DATABASE ERROR] Debug PDO após binding: SQL: [42] SELECT id FROM produtos WHERE ativo = TRUE
Params:  0

[2025-10-18 19:48:24] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":2,":data_fim_a":null,":data_fim":null}
[2025-10-18 19:48:24] [DATABASE ERROR] Parâmetro associado: :produto_id = 2 (tipo: 1)
[2025-10-18 19:48:24] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-10-18 19:48:24] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-10-18 19:48:24] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-10-18 19:48:24] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":2}
[2025-10-18 19:48:24] [DATABASE ERROR] Parâmetro associado: :id = 2 (tipo: 1)
[2025-10-18 19:48:24] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-18 19:48:24] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":3,":data_fim_a":null,":data_fim":null}
[2025-10-18 19:48:24] [DATABASE ERROR] Parâmetro associado: :produto_id = 3 (tipo: 1)
[2025-10-18 19:48:24] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-10-18 19:48:24] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-10-18 19:48:24] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-10-18 19:48:24] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":3}
[2025-10-18 19:48:24] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-10-18 19:48:24] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-18 19:48:24] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":4,":data_fim_a":null,":data_fim":null}
[2025-10-18 19:48:24] [DATABASE ERROR] Parâmetro associado: :produto_id = 4 (tipo: 1)
[2025-10-18 19:48:24] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-10-18 19:48:24] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-10-18 19:48:24] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-10-18 19:48:24] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":4}
[2025-10-18 19:48:24] [DATABASE ERROR] Parâmetro associado: :id = 4 (tipo: 1)
[2025-10-18 19:48:24] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-18 19:48:24] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":5,":data_fim_a":null,":data_fim":null}
[2025-10-18 19:48:24] [DATABASE ERROR] Parâmetro associado: :produto_id = 5 (tipo: 1)
[2025-10-18 19:48:24] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-10-18 19:48:24] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-10-18 19:48:24] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-10-18 19:48:24] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":5}
[2025-10-18 19:48:24] [DATABASE ERROR] Parâmetro associado: :id = 5 (tipo: 1)
[2025-10-18 19:48:24] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-18 19:48:24] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":6,":data_fim_a":null,":data_fim":null}
[2025-10-18 19:48:24] [DATABASE ERROR] Parâmetro associado: :produto_id = 6 (tipo: 1)
[2025-10-18 19:48:24] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-10-18 19:48:24] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-10-18 19:48:24] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-10-18 19:48:24] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":6}
[2025-10-18 19:48:24] [DATABASE ERROR] Parâmetro associado: :id = 6 (tipo: 1)
[2025-10-18 19:48:24] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-18 19:48:33] [DATABASE ERROR] Preparando query: SELECT id, codigo, nome, estoque_atual, estoque_minimo, categoria, fornecedor 
                    FROM vw_produtos_estoque_critico 
                    ORDER BY estoque_atual ASC 
                    LIMIT 10 com parâmetros: []
[2025-10-18 19:48:33] [DATABASE ERROR] Debug PDO após binding: SQL: [212] SELECT id, codigo, nome, estoque_atual, estoque_minimo, categoria, fornecedor 
                    FROM vw_produtos_estoque_critico 
                    ORDER BY estoque_atual ASC 
                    LIMIT 10
Params:  0

[2025-10-18 19:48:34] [DATABASE ERROR] Preparando query: SELECT id, tipo, categoria, documento_numero, data_movimentacao, valor_total, fornecedor, usuario 
                    FROM vw_movimentacoes_recentes 
                    ORDER BY data_movimentacao DESC 
                    LIMIT 10 com parâmetros: []
[2025-10-18 19:48:34] [DATABASE ERROR] Debug PDO após binding: SQL: [235] SELECT id, tipo, categoria, documento_numero, data_movimentacao, valor_total, fornecedor, usuario 
                    FROM vw_movimentacoes_recentes 
                    ORDER BY data_movimentacao DESC 
                    LIMIT 10
Params:  0

[2025-10-18 19:48:34] [DATABASE ERROR] Preparando query: 
                SELECT 
                    DATE_FORMAT(m.data_movimentacao, '%Y-%m') as periodo,
                    tm.tipo,
                    SUM(mi.quantidade) as total_quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                WHERE m.status = 'PROCESSADO'
                    AND m.data_movimentacao >= DATE_SUB(CURDATE(), INTERVAL 6 MONTH)
                GROUP BY periodo, tm.tipo
                ORDER BY periodo ASC com parâmetros: []
[2025-10-18 19:48:34] [DATABASE ERROR] Debug PDO após binding: SQL: [593] 
                SELECT 
                    DATE_FORMAT(m.data_movimentacao, '%Y-%m') as periodo,
                    tm.tipo,
                    SUM(mi.quantidade) as total_quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                WHERE m.status = 'PROCESSADO'
                    AND m.data_movimentacao >= DATE_SUB(CURDATE(), INTERVAL 6 MONTH)
                GROUP BY periodo, tm.tipo
                ORDER BY periodo ASC
Params:  0

[2025-10-18 19:50:54] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-10-18 19:50:54] [DATABASE ERROR] Preparando query: SELECT id, tipo, categoria, documento_numero, data_movimentacao, valor_total, fornecedor, usuario 
                    FROM vw_movimentacoes_recentes 
                    ORDER BY data_movimentacao DESC 
                    LIMIT 10 com parâmetros: []
[2025-10-18 19:50:54] [DATABASE ERROR] Debug PDO após binding: SQL: [235] SELECT id, tipo, categoria, documento_numero, data_movimentacao, valor_total, fornecedor, usuario 
                    FROM vw_movimentacoes_recentes 
                    ORDER BY data_movimentacao DESC 
                    LIMIT 10
Params:  0

[2025-10-18 19:50:54] [DATABASE ERROR] Preparando query: SELECT SUM(estoque_atual) as total_estoque FROM produtos WHERE ativo = TRUE com parâmetros: []
[2025-10-18 19:50:54] [DATABASE ERROR] Debug PDO após binding: SQL: [75] SELECT SUM(estoque_atual) as total_estoque FROM produtos WHERE ativo = TRUE
Params:  0

[2025-10-18 19:50:54] [DATABASE ERROR] Preparando query: SELECT id FROM produtos WHERE ativo = TRUE com parâmetros: []
[2025-10-18 19:50:54] [DATABASE ERROR] Debug PDO após binding: SQL: [42] SELECT id FROM produtos WHERE ativo = TRUE
Params:  0

[2025-10-18 19:50:54] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":2,":data_fim_a":null,":data_fim":null}
[2025-10-18 19:50:54] [DATABASE ERROR] Parâmetro associado: :produto_id = 2 (tipo: 1)
[2025-10-18 19:50:54] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-10-18 19:50:54] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-10-18 19:50:54] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-10-18 19:50:54] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":2}
[2025-10-18 19:50:54] [DATABASE ERROR] Parâmetro associado: :id = 2 (tipo: 1)
[2025-10-18 19:50:54] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-18 19:50:54] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":3,":data_fim_a":null,":data_fim":null}
[2025-10-18 19:50:54] [DATABASE ERROR] Parâmetro associado: :produto_id = 3 (tipo: 1)
[2025-10-18 19:50:54] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-10-18 19:50:54] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-10-18 19:50:54] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-10-18 19:50:54] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":3}
[2025-10-18 19:50:54] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-10-18 19:50:54] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-18 19:50:54] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":4,":data_fim_a":null,":data_fim":null}
[2025-10-18 19:50:54] [DATABASE ERROR] Parâmetro associado: :produto_id = 4 (tipo: 1)
[2025-10-18 19:50:54] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-10-18 19:50:54] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-10-18 19:50:54] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-10-18 19:50:54] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":4}
[2025-10-18 19:50:54] [DATABASE ERROR] Parâmetro associado: :id = 4 (tipo: 1)
[2025-10-18 19:50:54] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-18 19:50:54] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":5,":data_fim_a":null,":data_fim":null}
[2025-10-18 19:50:54] [DATABASE ERROR] Parâmetro associado: :produto_id = 5 (tipo: 1)
[2025-10-18 19:50:54] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-10-18 19:50:54] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-10-18 19:50:54] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-10-18 19:50:54] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":5}
[2025-10-18 19:50:54] [DATABASE ERROR] Parâmetro associado: :id = 5 (tipo: 1)
[2025-10-18 19:50:54] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-18 19:50:54] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":6,":data_fim_a":null,":data_fim":null}
[2025-10-18 19:50:54] [DATABASE ERROR] Parâmetro associado: :produto_id = 6 (tipo: 1)
[2025-10-18 19:50:54] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-10-18 19:50:54] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-10-18 19:50:54] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-10-18 19:50:54] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":6}
[2025-10-18 19:50:54] [DATABASE ERROR] Parâmetro associado: :id = 6 (tipo: 1)
[2025-10-18 19:50:54] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-18 19:50:54] [DATABASE ERROR] Preparando query: SELECT id, codigo, nome, estoque_atual, estoque_minimo, categoria, fornecedor 
                    FROM vw_produtos_estoque_critico 
                    ORDER BY estoque_atual ASC 
                    LIMIT 10 com parâmetros: []
[2025-10-18 19:50:54] [DATABASE ERROR] Debug PDO após binding: SQL: [212] SELECT id, codigo, nome, estoque_atual, estoque_minimo, categoria, fornecedor 
                    FROM vw_produtos_estoque_critico 
                    ORDER BY estoque_atual ASC 
                    LIMIT 10
Params:  0

[2025-10-18 19:50:54] [DATABASE ERROR] Preparando query: 
                SELECT 
                    DATE_FORMAT(m.data_movimentacao, '%Y-%m') as periodo,
                    tm.tipo,
                    SUM(mi.quantidade) as total_quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                WHERE m.status = 'PROCESSADO'
                    AND m.data_movimentacao >= DATE_SUB(CURDATE(), INTERVAL 6 MONTH)
                GROUP BY periodo, tm.tipo
                ORDER BY periodo ASC com parâmetros: []
[2025-10-18 19:50:54] [DATABASE ERROR] Debug PDO após binding: SQL: [593] 
                SELECT 
                    DATE_FORMAT(m.data_movimentacao, '%Y-%m') as periodo,
                    tm.tipo,
                    SUM(mi.quantidade) as total_quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                WHERE m.status = 'PROCESSADO'
                    AND m.data_movimentacao >= DATE_SUB(CURDATE(), INTERVAL 6 MONTH)
                GROUP BY periodo, tm.tipo
                ORDER BY periodo ASC
Params:  0

[2025-10-18 19:54:51] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-10-18 19:54:51] [DATABASE ERROR] Preparando query: SELECT id, tipo, categoria, documento_numero, data_movimentacao, valor_total, fornecedor, usuario 
                    FROM vw_movimentacoes_recentes 
                    ORDER BY data_movimentacao DESC 
                    LIMIT 10 com parâmetros: []
[2025-10-18 19:54:51] [DATABASE ERROR] Debug PDO após binding: SQL: [235] SELECT id, tipo, categoria, documento_numero, data_movimentacao, valor_total, fornecedor, usuario 
                    FROM vw_movimentacoes_recentes 
                    ORDER BY data_movimentacao DESC 
                    LIMIT 10
Params:  0

[2025-10-18 19:54:51] [DATABASE ERROR] Preparando query: SELECT id, codigo, nome, estoque_atual, estoque_minimo, categoria, fornecedor 
                    FROM vw_produtos_estoque_critico 
                    ORDER BY estoque_atual ASC 
                    LIMIT 10 com parâmetros: []
[2025-10-18 19:54:51] [DATABASE ERROR] Debug PDO após binding: SQL: [212] SELECT id, codigo, nome, estoque_atual, estoque_minimo, categoria, fornecedor 
                    FROM vw_produtos_estoque_critico 
                    ORDER BY estoque_atual ASC 
                    LIMIT 10
Params:  0

[2025-10-18 19:54:51] [DATABASE ERROR] Preparando query: 
                SELECT 
                    DATE_FORMAT(m.data_movimentacao, '%Y-%m') as periodo,
                    tm.tipo,
                    SUM(mi.quantidade) as total_quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                WHERE m.status = 'PROCESSADO'
                    AND m.data_movimentacao >= DATE_SUB(CURDATE(), INTERVAL 6 MONTH)
                GROUP BY periodo, tm.tipo
                ORDER BY periodo ASC com parâmetros: []
[2025-10-18 19:54:51] [DATABASE ERROR] Debug PDO após binding: SQL: [593] 
                SELECT 
                    DATE_FORMAT(m.data_movimentacao, '%Y-%m') as periodo,
                    tm.tipo,
                    SUM(mi.quantidade) as total_quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                WHERE m.status = 'PROCESSADO'
                    AND m.data_movimentacao >= DATE_SUB(CURDATE(), INTERVAL 6 MONTH)
                GROUP BY periodo, tm.tipo
                ORDER BY periodo ASC
Params:  0

[2025-10-18 19:54:51] [DATABASE ERROR] Preparando query: SELECT SUM(estoque_atual) as total_estoque FROM produtos WHERE ativo = TRUE com parâmetros: []
[2025-10-18 19:54:51] [DATABASE ERROR] Debug PDO após binding: SQL: [75] SELECT SUM(estoque_atual) as total_estoque FROM produtos WHERE ativo = TRUE
Params:  0

[2025-10-18 19:54:51] [DATABASE ERROR] Preparando query: SELECT id FROM produtos WHERE ativo = TRUE com parâmetros: []
[2025-10-18 19:54:51] [DATABASE ERROR] Debug PDO após binding: SQL: [42] SELECT id FROM produtos WHERE ativo = TRUE
Params:  0

[2025-10-18 19:54:51] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":2,":data_fim_a":null,":data_fim":null}
[2025-10-18 19:54:51] [DATABASE ERROR] Parâmetro associado: :produto_id = 2 (tipo: 1)
[2025-10-18 19:54:51] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-10-18 19:54:51] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-10-18 19:54:51] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-10-18 19:54:51] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":2}
[2025-10-18 19:54:51] [DATABASE ERROR] Parâmetro associado: :id = 2 (tipo: 1)
[2025-10-18 19:54:51] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-18 19:54:51] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":3,":data_fim_a":null,":data_fim":null}
[2025-10-18 19:54:51] [DATABASE ERROR] Parâmetro associado: :produto_id = 3 (tipo: 1)
[2025-10-18 19:54:51] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-10-18 19:54:51] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-10-18 19:54:51] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-10-18 19:54:51] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":3}
[2025-10-18 19:54:51] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-10-18 19:54:51] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-18 19:54:51] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":4,":data_fim_a":null,":data_fim":null}
[2025-10-18 19:54:51] [DATABASE ERROR] Parâmetro associado: :produto_id = 4 (tipo: 1)
[2025-10-18 19:54:51] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-10-18 19:54:51] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-10-18 19:54:51] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-10-18 19:54:51] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":4}
[2025-10-18 19:54:51] [DATABASE ERROR] Parâmetro associado: :id = 4 (tipo: 1)
[2025-10-18 19:54:51] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-18 19:54:51] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":5,":data_fim_a":null,":data_fim":null}
[2025-10-18 19:54:51] [DATABASE ERROR] Parâmetro associado: :produto_id = 5 (tipo: 1)
[2025-10-18 19:54:51] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-10-18 19:54:51] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-10-18 19:54:51] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-10-18 19:54:51] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":5}
[2025-10-18 19:54:51] [DATABASE ERROR] Parâmetro associado: :id = 5 (tipo: 1)
[2025-10-18 19:54:51] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-18 19:54:51] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":6,":data_fim_a":null,":data_fim":null}
[2025-10-18 19:54:51] [DATABASE ERROR] Parâmetro associado: :produto_id = 6 (tipo: 1)
[2025-10-18 19:54:51] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-10-18 19:54:51] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-10-18 19:54:51] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-10-18 19:54:51] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":6}
[2025-10-18 19:54:51] [DATABASE ERROR] Parâmetro associado: :id = 6 (tipo: 1)
[2025-10-18 19:54:51] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-18 19:56:22] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-10-18 19:56:22] [DATABASE ERROR] Preparando query: SELECT id, codigo, nome, estoque_atual, estoque_minimo, categoria, fornecedor 
                    FROM vw_produtos_estoque_critico 
                    ORDER BY estoque_atual ASC 
                    LIMIT 10 com parâmetros: []
[2025-10-18 19:56:22] [DATABASE ERROR] Debug PDO após binding: SQL: [212] SELECT id, codigo, nome, estoque_atual, estoque_minimo, categoria, fornecedor 
                    FROM vw_produtos_estoque_critico 
                    ORDER BY estoque_atual ASC 
                    LIMIT 10
Params:  0

[2025-10-18 19:56:22] [DATABASE ERROR] Preparando query: 
                SELECT 
                    DATE_FORMAT(m.data_movimentacao, '%Y-%m') as periodo,
                    tm.tipo,
                    SUM(mi.quantidade) as total_quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                WHERE m.status = 'PROCESSADO'
                    AND m.data_movimentacao >= DATE_SUB(CURDATE(), INTERVAL 6 MONTH)
                GROUP BY periodo, tm.tipo
                ORDER BY periodo ASC com parâmetros: []
[2025-10-18 19:56:22] [DATABASE ERROR] Debug PDO após binding: SQL: [593] 
                SELECT 
                    DATE_FORMAT(m.data_movimentacao, '%Y-%m') as periodo,
                    tm.tipo,
                    SUM(mi.quantidade) as total_quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                WHERE m.status = 'PROCESSADO'
                    AND m.data_movimentacao >= DATE_SUB(CURDATE(), INTERVAL 6 MONTH)
                GROUP BY periodo, tm.tipo
                ORDER BY periodo ASC
Params:  0

[2025-10-18 19:56:22] [DATABASE ERROR] Preparando query: SELECT id, tipo, categoria, documento_numero, data_movimentacao, valor_total, fornecedor, usuario 
                    FROM vw_movimentacoes_recentes 
                    ORDER BY data_movimentacao DESC 
                    LIMIT 10 com parâmetros: []
[2025-10-18 19:56:22] [DATABASE ERROR] Debug PDO após binding: SQL: [235] SELECT id, tipo, categoria, documento_numero, data_movimentacao, valor_total, fornecedor, usuario 
                    FROM vw_movimentacoes_recentes 
                    ORDER BY data_movimentacao DESC 
                    LIMIT 10
Params:  0

[2025-10-18 19:56:22] [DATABASE ERROR] Preparando query: SELECT SUM(estoque_atual) as total_estoque FROM produtos WHERE ativo = TRUE com parâmetros: []
[2025-10-18 19:56:22] [DATABASE ERROR] Debug PDO após binding: SQL: [75] SELECT SUM(estoque_atual) as total_estoque FROM produtos WHERE ativo = TRUE
Params:  0

[2025-10-18 19:56:22] [DATABASE ERROR] Preparando query: SELECT id FROM produtos WHERE ativo = TRUE com parâmetros: []
[2025-10-18 19:56:22] [DATABASE ERROR] Debug PDO após binding: SQL: [42] SELECT id FROM produtos WHERE ativo = TRUE
Params:  0

[2025-10-18 19:56:22] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":2,":data_fim_a":null,":data_fim":null}
[2025-10-18 19:56:22] [DATABASE ERROR] Parâmetro associado: :produto_id = 2 (tipo: 1)
[2025-10-18 19:56:22] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-10-18 19:56:22] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-10-18 19:56:22] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-10-18 19:56:22] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":2}
[2025-10-18 19:56:22] [DATABASE ERROR] Parâmetro associado: :id = 2 (tipo: 1)
[2025-10-18 19:56:22] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-18 19:56:22] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":3,":data_fim_a":null,":data_fim":null}
[2025-10-18 19:56:22] [DATABASE ERROR] Parâmetro associado: :produto_id = 3 (tipo: 1)
[2025-10-18 19:56:22] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-10-18 19:56:22] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-10-18 19:56:22] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-10-18 19:56:22] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":3}
[2025-10-18 19:56:22] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-10-18 19:56:22] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-18 19:56:22] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":4,":data_fim_a":null,":data_fim":null}
[2025-10-18 19:56:22] [DATABASE ERROR] Parâmetro associado: :produto_id = 4 (tipo: 1)
[2025-10-18 19:56:22] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-10-18 19:56:22] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-10-18 19:56:22] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-10-18 19:56:22] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":4}
[2025-10-18 19:56:22] [DATABASE ERROR] Parâmetro associado: :id = 4 (tipo: 1)
[2025-10-18 19:56:22] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-18 19:56:22] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":5,":data_fim_a":null,":data_fim":null}
[2025-10-18 19:56:22] [DATABASE ERROR] Parâmetro associado: :produto_id = 5 (tipo: 1)
[2025-10-18 19:56:22] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-10-18 19:56:22] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-10-18 19:56:22] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-10-18 19:56:22] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":5}
[2025-10-18 19:56:22] [DATABASE ERROR] Parâmetro associado: :id = 5 (tipo: 1)
[2025-10-18 19:56:22] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-18 19:56:22] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":6,":data_fim_a":null,":data_fim":null}
[2025-10-18 19:56:22] [DATABASE ERROR] Parâmetro associado: :produto_id = 6 (tipo: 1)
[2025-10-18 19:56:22] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-10-18 19:56:22] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-10-18 19:56:22] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-10-18 19:56:22] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":6}
[2025-10-18 19:56:22] [DATABASE ERROR] Parâmetro associado: :id = 6 (tipo: 1)
[2025-10-18 19:56:22] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-18 19:57:37] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-10-18 20:01:05] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-10-18 20:01:05] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-10-18 20:01:14] [DATABASE ERROR] Parâmetro associado: :alert_id = 10 (tipo: 1)
[2025-10-18 20:01:14] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-10-18 20:01:14] [DATABASE ERROR] Parâmetro associado: :tabela = alertas_estoque (tipo: 2)
[2025-10-18 20:01:14] [DATABASE ERROR] Parâmetro associado: :registro_id = 10 (tipo: 1)
[2025-10-18 20:01:14] [DATABASE ERROR] Parâmetro associado: :acao = alertas_estoque (tipo: 2)
[2025-10-18 20:01:14] [DATABASE ERROR] Parâmetro associado: :dados_anteriores = "UPDATE" (tipo: 2)
[2025-10-18 20:01:14] [DATABASE ERROR] Parâmetro associado: :dados_novos = {"lido":false} (tipo: 2)
[2025-10-18 20:01:14] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-10-18 20:01:14] [DATABASE ERROR] Parâmetro associado: :ip_address = 192.168.15.8 (tipo: 2)
[2025-10-18 20:01:14] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36 (tipo: 2)
[2025-10-18 20:01:28] [DATABASE ERROR] Erro ao executar query: SQLSTATE[01000]: Warning: 1265 Data truncated for column 'acao' at row 1
[2025-10-18 20:01:28] [DATABASE ERROR] Parâmetro associado: :alert_id = 10 (tipo: 1)
[2025-10-18 20:01:28] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-10-18 20:01:28] [DATABASE ERROR] Parâmetro associado: :tabela = alertas_estoque (tipo: 2)
[2025-10-18 20:01:28] [DATABASE ERROR] Parâmetro associado: :registro_id = 10 (tipo: 1)
[2025-10-18 20:01:28] [DATABASE ERROR] Parâmetro associado: :acao = alertas_estoque (tipo: 2)
[2025-10-18 20:01:28] [DATABASE ERROR] Parâmetro associado: :dados_anteriores = "UPDATE" (tipo: 2)
[2025-10-18 20:01:28] [DATABASE ERROR] Parâmetro associado: :dados_novos = {"lido":false} (tipo: 2)
[2025-10-18 20:01:28] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-10-18 20:01:28] [DATABASE ERROR] Parâmetro associado: :ip_address = 192.168.15.8 (tipo: 2)
[2025-10-18 20:01:28] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36 (tipo: 2)
[2025-10-18 20:01:31] [DATABASE ERROR] Erro ao executar query: SQLSTATE[01000]: Warning: 1265 Data truncated for column 'acao' at row 1
[2025-10-18 20:01:49] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-10-18 20:01:50] [DATABASE ERROR] Preparando query: SELECT SUM(estoque_atual) as total_estoque FROM produtos WHERE ativo = TRUE com parâmetros: []
[2025-10-18 20:01:50] [DATABASE ERROR] Debug PDO após binding: SQL: [75] SELECT SUM(estoque_atual) as total_estoque FROM produtos WHERE ativo = TRUE
Params:  0

[2025-10-18 20:01:50] [DATABASE ERROR] Preparando query: SELECT id FROM produtos WHERE ativo = TRUE com parâmetros: []
[2025-10-18 20:01:50] [DATABASE ERROR] Debug PDO após binding: SQL: [42] SELECT id FROM produtos WHERE ativo = TRUE
Params:  0

[2025-10-18 20:01:50] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":2,":data_fim_a":null,":data_fim":null}
[2025-10-18 20:01:50] [DATABASE ERROR] Parâmetro associado: :produto_id = 2 (tipo: 1)
[2025-10-18 20:01:50] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-10-18 20:01:50] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-10-18 20:01:50] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-10-18 20:01:50] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":2}
[2025-10-18 20:01:50] [DATABASE ERROR] Parâmetro associado: :id = 2 (tipo: 1)
[2025-10-18 20:01:50] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-18 20:01:50] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":3,":data_fim_a":null,":data_fim":null}
[2025-10-18 20:01:50] [DATABASE ERROR] Parâmetro associado: :produto_id = 3 (tipo: 1)
[2025-10-18 20:01:50] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-10-18 20:01:50] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-10-18 20:01:50] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-10-18 20:01:50] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":3}
[2025-10-18 20:01:50] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-10-18 20:01:50] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-18 20:01:50] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":4,":data_fim_a":null,":data_fim":null}
[2025-10-18 20:01:50] [DATABASE ERROR] Parâmetro associado: :produto_id = 4 (tipo: 1)
[2025-10-18 20:01:50] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-10-18 20:01:50] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-10-18 20:01:50] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-10-18 20:01:50] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":4}
[2025-10-18 20:01:50] [DATABASE ERROR] Parâmetro associado: :id = 4 (tipo: 1)
[2025-10-18 20:01:50] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-18 20:01:50] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":5,":data_fim_a":null,":data_fim":null}
[2025-10-18 20:01:50] [DATABASE ERROR] Parâmetro associado: :produto_id = 5 (tipo: 1)
[2025-10-18 20:01:50] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-10-18 20:01:50] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-10-18 20:01:50] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-10-18 20:01:50] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":5}
[2025-10-18 20:01:50] [DATABASE ERROR] Parâmetro associado: :id = 5 (tipo: 1)
[2025-10-18 20:01:50] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-18 20:01:50] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":6,":data_fim_a":null,":data_fim":null}
[2025-10-18 20:01:50] [DATABASE ERROR] Parâmetro associado: :produto_id = 6 (tipo: 1)
[2025-10-18 20:01:50] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-10-18 20:01:50] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-10-18 20:01:50] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-10-18 20:01:50] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":6}
[2025-10-18 20:01:50] [DATABASE ERROR] Parâmetro associado: :id = 6 (tipo: 1)
[2025-10-18 20:01:50] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-18 20:01:50] [DATABASE ERROR] Preparando query: SELECT id, codigo, nome, estoque_atual, estoque_minimo, categoria, fornecedor 
                    FROM vw_produtos_estoque_critico 
                    ORDER BY estoque_atual ASC 
                    LIMIT 10 com parâmetros: []
[2025-10-18 20:01:50] [DATABASE ERROR] Debug PDO após binding: SQL: [212] SELECT id, codigo, nome, estoque_atual, estoque_minimo, categoria, fornecedor 
                    FROM vw_produtos_estoque_critico 
                    ORDER BY estoque_atual ASC 
                    LIMIT 10
Params:  0

[2025-10-18 20:01:50] [DATABASE ERROR] Preparando query: SELECT id, tipo, categoria, documento_numero, data_movimentacao, valor_total, fornecedor, usuario 
                    FROM vw_movimentacoes_recentes 
                    ORDER BY data_movimentacao DESC 
                    LIMIT 10 com parâmetros: []
[2025-10-18 20:01:50] [DATABASE ERROR] Debug PDO após binding: SQL: [235] SELECT id, tipo, categoria, documento_numero, data_movimentacao, valor_total, fornecedor, usuario 
                    FROM vw_movimentacoes_recentes 
                    ORDER BY data_movimentacao DESC 
                    LIMIT 10
Params:  0

[2025-10-18 20:01:50] [DATABASE ERROR] Preparando query: 
                SELECT 
                    DATE_FORMAT(m.data_movimentacao, '%Y-%m') as periodo,
                    tm.tipo,
                    SUM(mi.quantidade) as total_quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                WHERE m.status = 'PROCESSADO'
                    AND m.data_movimentacao >= DATE_SUB(CURDATE(), INTERVAL 6 MONTH)
                GROUP BY periodo, tm.tipo
                ORDER BY periodo ASC com parâmetros: []
[2025-10-18 20:01:50] [DATABASE ERROR] Debug PDO após binding: SQL: [593] 
                SELECT 
                    DATE_FORMAT(m.data_movimentacao, '%Y-%m') as periodo,
                    tm.tipo,
                    SUM(mi.quantidade) as total_quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                WHERE m.status = 'PROCESSADO'
                    AND m.data_movimentacao >= DATE_SUB(CURDATE(), INTERVAL 6 MONTH)
                GROUP BY periodo, tm.tipo
                ORDER BY periodo ASC
Params:  0

[2025-10-18 20:02:25] [DATABASE ERROR] Preparando query: SELECT u.id, u.nome_completo, u.email, u.usuario, 
                       u.ativo, u.ultimo_acesso, u.criado_em,
                       p.nome as perfil_nome 
                FROM usuarios u 
                JOIN perfis p ON u.perfil_id = p.id ORDER BY u.nome_completo com parâmetros: []
[2025-10-18 20:02:25] [DATABASE ERROR] Debug PDO após binding: SQL: [268] SELECT u.id, u.nome_completo, u.email, u.usuario, 
                       u.ativo, u.ultimo_acesso, u.criado_em,
                       p.nome as perfil_nome 
                FROM usuarios u 
                JOIN perfis p ON u.perfil_id = p.id ORDER BY u.nome_completo
Params:  0

[2025-10-18 20:05:15] [DATABASE ERROR] Preparando query: SELECT u.id, u.nome_completo, u.email, u.usuario, 
                       u.ativo, u.ultimo_acesso, u.criado_em,
                       p.nome as perfil_nome 
                FROM usuarios u 
                JOIN perfis p ON u.perfil_id = p.id ORDER BY u.nome_completo com parâmetros: []
[2025-10-18 20:05:15] [DATABASE ERROR] Debug PDO após binding: SQL: [268] SELECT u.id, u.nome_completo, u.email, u.usuario, 
                       u.ativo, u.ultimo_acesso, u.criado_em,
                       p.nome as perfil_nome 
                FROM usuarios u 
                JOIN perfis p ON u.perfil_id = p.id ORDER BY u.nome_completo
Params:  0

[2025-10-18 20:05:30] [DATABASE ERROR] Preparando query: SELECT 
                    a.id, a.tabela, a.registro_id, a.acao, a.dados_anteriores, a.dados_novos,
                    u.nome_completo AS usuario, a.ip_address, a.user_agent, a.criado_em
                FROM auditoria a
                LEFT JOIN usuarios u ON a.usuario_id = u.id
                WHERE 1=1 AND a.criado_em >= :data_inicio AND a.criado_em <= :data_fim ORDER BY a.criado_em DESC LIMIT 100 com parâmetros: {":data_inicio":"2025-09-01",":data_fim":"2025-10-30"}
[2025-10-18 20:05:30] [DATABASE ERROR] Parâmetro associado: :data_inicio = 2025-09-01 (tipo: 2)
[2025-10-18 20:05:30] [DATABASE ERROR] Parâmetro associado: :data_fim = 2025-10-30 (tipo: 2)
[2025-10-18 20:05:30] [DATABASE ERROR] Debug PDO após binding: SQL: [410] SELECT 
                    a.id, a.tabela, a.registro_id, a.acao, a.dados_anteriores, a.dados_novos,
                    u.nome_completo AS usuario, a.ip_address, a.user_agent, a.criado_em
                FROM auditoria a
                LEFT JOIN usuarios u ON a.usuario_id = u.id
                WHERE 1=1 AND a.criado_em >= :data_inicio AND a.criado_em <= :data_fim ORDER BY a.criado_em DESC LIMIT 100
Params:  2
Key: Name: [12] :data_inicio
paramno=0
name=[12] ":data_inicio"
is_param=1
param_type=2
Key: Name: [9] :data_fim
paramno=1
name=[9] ":data_fim"
is_param=1
param_type=2

[2025-10-18 20:06:09] [DATABASE ERROR] Preparando query: SELECT u.id, u.nome_completo, u.email, u.usuario, 
                       u.ativo, u.ultimo_acesso, u.criado_em,
                       p.nome as perfil_nome 
                FROM usuarios u 
                JOIN perfis p ON u.perfil_id = p.id ORDER BY u.nome_completo com parâmetros: []
[2025-10-18 20:06:09] [DATABASE ERROR] Debug PDO após binding: SQL: [268] SELECT u.id, u.nome_completo, u.email, u.usuario, 
                       u.ativo, u.ultimo_acesso, u.criado_em,
                       p.nome as perfil_nome 
                FROM usuarios u 
                JOIN perfis p ON u.perfil_id = p.id ORDER BY u.nome_completo
Params:  0

[2025-10-18 20:06:44] [DATABASE ERROR] Parâmetro associado: :username = admin (tipo: 2)
[2025-10-18 20:06:44] [DATABASE ERROR] Parâmetro associado: :email = admin (tipo: 2)
[2025-10-18 20:06:44] [DATABASE ERROR] Preparando query: UPDATE usuarios SET ultimo_acesso = NOW() WHERE id = :id com parâmetros: {":id":1}
[2025-10-18 20:06:44] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-10-18 20:06:44] [DATABASE ERROR] Debug PDO após binding: SQL: [56] UPDATE usuarios SET ultimo_acesso = NOW() WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-18 20:06:44] [DATABASE ERROR] Parâmetro associado: :tabela = usuarios (tipo: 2)
[2025-10-18 20:06:44] [DATABASE ERROR] Parâmetro associado: :registro_id = 1 (tipo: 1)
[2025-10-18 20:06:44] [DATABASE ERROR] Parâmetro associado: :acao = LOGIN (tipo: 2)
[2025-10-18 20:06:44] [DATABASE ERROR] Parâmetro associado: :dados_anteriores = NULL (tipo: 0)
[2025-10-18 20:06:44] [DATABASE ERROR] Parâmetro associado: :dados_novos = NULL (tipo: 0)
[2025-10-18 20:06:44] [DATABASE ERROR] Parâmetro associado: :usuario_id = NULL (tipo: 0)
[2025-10-18 20:06:44] [DATABASE ERROR] Parâmetro associado: :ip_address = 192.168.15.8 (tipo: 2)
[2025-10-18 20:06:44] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 (tipo: 2)
[2025-10-18 20:06:44] [DATABASE ERROR] Erro ao executar query: SQLSTATE[01000]: Warning: 1265 Data truncated for column 'acao' at row 1
[2025-10-18 20:06:44] [DATABASE ERROR] Parâmetro associado: :id = 7jniv0or8ates6adqk8s61uvbl (tipo: 2)
[2025-10-18 20:06:44] [DATABASE ERROR] Parâmetro associado: :id = 7jniv0or8ates6adqk8s61uvbl (tipo: 2)
[2025-10-18 20:06:44] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-10-18 20:06:44] [DATABASE ERROR] Parâmetro associado: :ip_address = 192.168.15.8 (tipo: 2)
[2025-10-18 20:06:44] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 (tipo: 2)
[2025-10-18 20:06:44] [DATABASE ERROR] Parâmetro associado: :dados = {"user_id":1,"user_name":"Administrador do Sistema","user_email":"admin@sorveteria.com","user_profile":1,"user_profile_name":"Administrador","logged_in":true,"login_time":1760828804} (tipo: 2)
[2025-10-18 20:06:44] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-10-18 20:06:44] [DATABASE ERROR] Preparando query: SELECT SUM(estoque_atual) as total_estoque FROM produtos WHERE ativo = TRUE com parâmetros: []
[2025-10-18 20:06:44] [DATABASE ERROR] Debug PDO após binding: SQL: [75] SELECT SUM(estoque_atual) as total_estoque FROM produtos WHERE ativo = TRUE
Params:  0

[2025-10-18 20:06:44] [DATABASE ERROR] Preparando query: SELECT id FROM produtos WHERE ativo = TRUE com parâmetros: []
[2025-10-18 20:06:44] [DATABASE ERROR] Debug PDO após binding: SQL: [42] SELECT id FROM produtos WHERE ativo = TRUE
Params:  0

[2025-10-18 20:06:44] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":2,":data_fim_a":null,":data_fim":null}
[2025-10-18 20:06:44] [DATABASE ERROR] Parâmetro associado: :produto_id = 2 (tipo: 1)
[2025-10-18 20:06:44] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-10-18 20:06:44] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-10-18 20:06:44] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-10-18 20:06:44] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":2}
[2025-10-18 20:06:44] [DATABASE ERROR] Parâmetro associado: :id = 2 (tipo: 1)
[2025-10-18 20:06:44] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-18 20:06:44] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":3,":data_fim_a":null,":data_fim":null}
[2025-10-18 20:06:44] [DATABASE ERROR] Parâmetro associado: :produto_id = 3 (tipo: 1)
[2025-10-18 20:06:44] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-10-18 20:06:44] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-10-18 20:06:44] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-10-18 20:06:44] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":3}
[2025-10-18 20:06:44] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-10-18 20:06:44] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-18 20:06:44] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":4,":data_fim_a":null,":data_fim":null}
[2025-10-18 20:06:44] [DATABASE ERROR] Parâmetro associado: :produto_id = 4 (tipo: 1)
[2025-10-18 20:06:44] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-10-18 20:06:44] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-10-18 20:06:44] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-10-18 20:06:44] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":4}
[2025-10-18 20:06:44] [DATABASE ERROR] Parâmetro associado: :id = 4 (tipo: 1)
[2025-10-18 20:06:44] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-18 20:06:44] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":5,":data_fim_a":null,":data_fim":null}
[2025-10-18 20:06:44] [DATABASE ERROR] Parâmetro associado: :produto_id = 5 (tipo: 1)
[2025-10-18 20:06:44] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-10-18 20:06:44] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-10-18 20:06:44] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-10-18 20:06:44] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":5}
[2025-10-18 20:06:44] [DATABASE ERROR] Parâmetro associado: :id = 5 (tipo: 1)
[2025-10-18 20:06:44] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-18 20:06:44] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":6,":data_fim_a":null,":data_fim":null}
[2025-10-18 20:06:44] [DATABASE ERROR] Parâmetro associado: :produto_id = 6 (tipo: 1)
[2025-10-18 20:06:44] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-10-18 20:06:44] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-10-18 20:06:44] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-10-18 20:06:44] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":6}
[2025-10-18 20:06:44] [DATABASE ERROR] Parâmetro associado: :id = 6 (tipo: 1)
[2025-10-18 20:06:44] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-18 20:06:44] [DATABASE ERROR] Preparando query: SELECT id, codigo, nome, estoque_atual, estoque_minimo, categoria, fornecedor 
                    FROM vw_produtos_estoque_critico 
                    ORDER BY estoque_atual ASC 
                    LIMIT 10 com parâmetros: []
[2025-10-18 20:06:44] [DATABASE ERROR] Debug PDO após binding: SQL: [212] SELECT id, codigo, nome, estoque_atual, estoque_minimo, categoria, fornecedor 
                    FROM vw_produtos_estoque_critico 
                    ORDER BY estoque_atual ASC 
                    LIMIT 10
Params:  0

[2025-10-18 20:06:44] [DATABASE ERROR] Preparando query: 
                SELECT 
                    DATE_FORMAT(m.data_movimentacao, '%Y-%m') as periodo,
                    tm.tipo,
                    SUM(mi.quantidade) as total_quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                WHERE m.status = 'PROCESSADO'
                    AND m.data_movimentacao >= DATE_SUB(CURDATE(), INTERVAL 6 MONTH)
                GROUP BY periodo, tm.tipo
                ORDER BY periodo ASC com parâmetros: []
[2025-10-18 20:06:44] [DATABASE ERROR] Debug PDO após binding: SQL: [593] 
                SELECT 
                    DATE_FORMAT(m.data_movimentacao, '%Y-%m') as periodo,
                    tm.tipo,
                    SUM(mi.quantidade) as total_quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                WHERE m.status = 'PROCESSADO'
                    AND m.data_movimentacao >= DATE_SUB(CURDATE(), INTERVAL 6 MONTH)
                GROUP BY periodo, tm.tipo
                ORDER BY periodo ASC
Params:  0

[2025-10-18 20:06:44] [DATABASE ERROR] Preparando query: SELECT id, tipo, categoria, documento_numero, data_movimentacao, valor_total, fornecedor, usuario 
                    FROM vw_movimentacoes_recentes 
                    ORDER BY data_movimentacao DESC 
                    LIMIT 10 com parâmetros: []
[2025-10-18 20:06:44] [DATABASE ERROR] Debug PDO após binding: SQL: [235] SELECT id, tipo, categoria, documento_numero, data_movimentacao, valor_total, fornecedor, usuario 
                    FROM vw_movimentacoes_recentes 
                    ORDER BY data_movimentacao DESC 
                    LIMIT 10
Params:  0

[2025-10-18 20:09:45] [DATABASE ERROR] Preparando query: SELECT u.id, u.nome_completo, u.email, u.usuario, 
                       u.ativo, u.ultimo_acesso, u.criado_em,
                       p.nome as perfil_nome 
                FROM usuarios u 
                JOIN perfis p ON u.perfil_id = p.id ORDER BY u.nome_completo com parâmetros: []
[2025-10-18 20:09:45] [DATABASE ERROR] Debug PDO após binding: SQL: [268] SELECT u.id, u.nome_completo, u.email, u.usuario, 
                       u.ativo, u.ultimo_acesso, u.criado_em,
                       p.nome as perfil_nome 
                FROM usuarios u 
                JOIN perfis p ON u.perfil_id = p.id ORDER BY u.nome_completo
Params:  0

[2025-10-18 20:09:59] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-10-18 20:10:00] [DATABASE ERROR] Preparando query: 
                SELECT 
                    DATE_FORMAT(m.data_movimentacao, '%Y-%m') as periodo,
                    tm.tipo,
                    SUM(mi.quantidade) as total_quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                WHERE m.status = 'PROCESSADO'
                    AND m.data_movimentacao >= DATE_SUB(CURDATE(), INTERVAL 6 MONTH)
                GROUP BY periodo, tm.tipo
                ORDER BY periodo ASC com parâmetros: []
[2025-10-18 20:10:00] [DATABASE ERROR] Debug PDO após binding: SQL: [593] 
                SELECT 
                    DATE_FORMAT(m.data_movimentacao, '%Y-%m') as periodo,
                    tm.tipo,
                    SUM(mi.quantidade) as total_quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                WHERE m.status = 'PROCESSADO'
                    AND m.data_movimentacao >= DATE_SUB(CURDATE(), INTERVAL 6 MONTH)
                GROUP BY periodo, tm.tipo
                ORDER BY periodo ASC
Params:  0

[2025-10-18 20:10:00] [DATABASE ERROR] Preparando query: SELECT id, tipo, categoria, documento_numero, data_movimentacao, valor_total, fornecedor, usuario 
                    FROM vw_movimentacoes_recentes 
                    ORDER BY data_movimentacao DESC 
                    LIMIT 10 com parâmetros: []
[2025-10-18 20:10:00] [DATABASE ERROR] Debug PDO após binding: SQL: [235] SELECT id, tipo, categoria, documento_numero, data_movimentacao, valor_total, fornecedor, usuario 
                    FROM vw_movimentacoes_recentes 
                    ORDER BY data_movimentacao DESC 
                    LIMIT 10
Params:  0

[2025-10-18 20:10:00] [DATABASE ERROR] Preparando query: SELECT id, codigo, nome, estoque_atual, estoque_minimo, categoria, fornecedor 
                    FROM vw_produtos_estoque_critico 
                    ORDER BY estoque_atual ASC 
                    LIMIT 10 com parâmetros: []
[2025-10-18 20:10:00] [DATABASE ERROR] Debug PDO após binding: SQL: [212] SELECT id, codigo, nome, estoque_atual, estoque_minimo, categoria, fornecedor 
                    FROM vw_produtos_estoque_critico 
                    ORDER BY estoque_atual ASC 
                    LIMIT 10
Params:  0

[2025-10-18 20:10:00] [DATABASE ERROR] Preparando query: SELECT SUM(estoque_atual) as total_estoque FROM produtos WHERE ativo = TRUE com parâmetros: []
[2025-10-18 20:10:00] [DATABASE ERROR] Debug PDO após binding: SQL: [75] SELECT SUM(estoque_atual) as total_estoque FROM produtos WHERE ativo = TRUE
Params:  0

[2025-10-18 20:10:00] [DATABASE ERROR] Preparando query: SELECT id FROM produtos WHERE ativo = TRUE com parâmetros: []
[2025-10-18 20:10:00] [DATABASE ERROR] Debug PDO após binding: SQL: [42] SELECT id FROM produtos WHERE ativo = TRUE
Params:  0

[2025-10-18 20:10:00] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":2,":data_fim_a":null,":data_fim":null}
[2025-10-18 20:10:00] [DATABASE ERROR] Parâmetro associado: :produto_id = 2 (tipo: 1)
[2025-10-18 20:10:00] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-10-18 20:10:00] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-10-18 20:10:00] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-10-18 20:10:00] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":2}
[2025-10-18 20:10:00] [DATABASE ERROR] Parâmetro associado: :id = 2 (tipo: 1)
[2025-10-18 20:10:00] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-18 20:10:00] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":3,":data_fim_a":null,":data_fim":null}
[2025-10-18 20:10:00] [DATABASE ERROR] Parâmetro associado: :produto_id = 3 (tipo: 1)
[2025-10-18 20:10:00] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-10-18 20:10:00] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-10-18 20:10:00] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-10-18 20:10:00] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":3}
[2025-10-18 20:10:00] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-10-18 20:10:00] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-18 20:10:00] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":4,":data_fim_a":null,":data_fim":null}
[2025-10-18 20:10:00] [DATABASE ERROR] Parâmetro associado: :produto_id = 4 (tipo: 1)
[2025-10-18 20:10:00] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-10-18 20:10:00] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-10-18 20:10:00] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-10-18 20:10:00] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":4}
[2025-10-18 20:10:00] [DATABASE ERROR] Parâmetro associado: :id = 4 (tipo: 1)
[2025-10-18 20:10:00] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-18 20:10:00] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":5,":data_fim_a":null,":data_fim":null}
[2025-10-18 20:10:00] [DATABASE ERROR] Parâmetro associado: :produto_id = 5 (tipo: 1)
[2025-10-18 20:10:00] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-10-18 20:10:00] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-10-18 20:10:00] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-10-18 20:10:00] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":5}
[2025-10-18 20:10:00] [DATABASE ERROR] Parâmetro associado: :id = 5 (tipo: 1)
[2025-10-18 20:10:00] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-18 20:10:00] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":6,":data_fim_a":null,":data_fim":null}
[2025-10-18 20:10:00] [DATABASE ERROR] Parâmetro associado: :produto_id = 6 (tipo: 1)
[2025-10-18 20:10:00] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-10-18 20:10:00] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-10-18 20:10:00] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-10-18 20:10:00] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":6}
[2025-10-18 20:10:00] [DATABASE ERROR] Parâmetro associado: :id = 6 (tipo: 1)
[2025-10-18 20:10:00] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-18 20:11:00] [DATABASE ERROR] Preparando query: SELECT * FROM categorias WHERE ativo = :value com parâmetros: {":value":1}
[2025-10-18 20:11:00] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-10-18 20:11:00] [DATABASE ERROR] Debug PDO após binding: SQL: [45] SELECT * FROM categorias WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-10-18 20:11:00] [DATABASE ERROR] Preparando query: SELECT * FROM fornecedores WHERE ativo = :value com parâmetros: {":value":1}
[2025-10-18 20:11:00] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-10-18 20:11:00] [DATABASE ERROR] Debug PDO após binding: SQL: [47] SELECT * FROM fornecedores WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-10-18 20:11:00] [DATABASE ERROR] Preparando query: SELECT * FROM tipos_movimentacao com parâmetros: []
[2025-10-18 20:11:00] [DATABASE ERROR] Debug PDO após binding: SQL: [32] SELECT * FROM tipos_movimentacao
Params:  0

[2025-10-18 20:13:12] [DATABASE ERROR] Preparando query: SELECT * FROM categorias WHERE ativo = :value com parâmetros: {":value":1}
[2025-10-18 20:13:12] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-10-18 20:13:12] [DATABASE ERROR] Debug PDO após binding: SQL: [45] SELECT * FROM categorias WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-10-18 20:13:12] [DATABASE ERROR] Preparando query: SELECT * FROM fornecedores WHERE ativo = :value com parâmetros: {":value":1}
[2025-10-18 20:13:12] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-10-18 20:13:12] [DATABASE ERROR] Debug PDO após binding: SQL: [47] SELECT * FROM fornecedores WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-10-18 20:13:12] [DATABASE ERROR] Preparando query: SELECT * FROM tipos_movimentacao com parâmetros: []
[2025-10-18 20:13:12] [DATABASE ERROR] Debug PDO após binding: SQL: [32] SELECT * FROM tipos_movimentacao
Params:  0

[2025-10-18 20:13:23] [DATABASE ERROR] Preparando query: 
            SELECT 
                p.id, 
                p.nome, 
                p.estoque_atual, 
                c.nome AS categoria, 
                f.razao_social AS fornecedor
            FROM produtos p
            LEFT JOIN categorias c ON p.categoria_id = c.id
            LEFT JOIN fornecedores f ON p.fornecedor_principal_id = f.id
            WHERE p.ativo = TRUE
                AND (:produto_id_null IS NULL OR p.id = :produto_id)
                AND (:categoria_id_null IS NULL OR p.categoria_id = :categoria_id)
                AND (:fornecedor_id_null IS NULL OR p.fornecedor_principal_id = :fornecedor_id)
            ORDER BY p.nome ASC;
         com parâmetros: {":produto_id_null":null,":produto_id":null,":categoria_id_null":null,":categoria_id":null,":fornecedor_id_null":null,":fornecedor_id":null}
[2025-10-18 20:13:23] [DATABASE ERROR] Parâmetro associado: :produto_id_null = NULL (tipo: 0)
[2025-10-18 20:13:23] [DATABASE ERROR] Parâmetro associado: :produto_id = NULL (tipo: 0)
[2025-10-18 20:13:23] [DATABASE ERROR] Parâmetro associado: :categoria_id_null = NULL (tipo: 0)
[2025-10-18 20:13:23] [DATABASE ERROR] Parâmetro associado: :categoria_id = NULL (tipo: 0)
[2025-10-18 20:13:23] [DATABASE ERROR] Parâmetro associado: :fornecedor_id_null = NULL (tipo: 0)
[2025-10-18 20:13:23] [DATABASE ERROR] Parâmetro associado: :fornecedor_id = NULL (tipo: 0)
[2025-10-18 20:13:23] [DATABASE ERROR] Debug PDO após binding: SQL: [684] 
            SELECT 
                p.id, 
                p.nome, 
                p.estoque_atual, 
                c.nome AS categoria, 
                f.razao_social AS fornecedor
            FROM produtos p
            LEFT JOIN categorias c ON p.categoria_id = c.id
            LEFT JOIN fornecedores f ON p.fornecedor_principal_id = f.id
            WHERE p.ativo = TRUE
                AND (:produto_id_null IS NULL OR p.id = :produto_id)
                AND (:categoria_id_null IS NULL OR p.categoria_id = :categoria_id)
                AND (:fornecedor_id_null IS NULL OR p.fornecedor_principal_id = :fornecedor_id)
            ORDER BY p.nome ASC;
        
Params:  6
Key: Name: [16] :produto_id_null
paramno=0
name=[16] ":produto_id_null"
is_param=1
param_type=0
Key: Name: [11] :produto_id
paramno=1
name=[11] ":produto_id"
is_param=1
param_type=0
Key: Name: [18] :categoria_id_null
paramno=2
name=[18] ":categoria_id_null"
is_param=1
param_type=0
Key: Name: [13] :categoria_id
paramno=3
name=[13] ":categoria_id"
is_param=1
param_type=0
Key: Name: [19] :fornecedor_id_null
paramno=4
name=[19] ":fornecedor_id_null"
is_param=1
param_type=0
Key: Name: [14] :fornecedor_id
paramno=5
name=[14] ":fornecedor_id"
is_param=1
param_type=0

[2025-10-18 20:13:23] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":6,":data_fim_a":"2025-10-30",":data_fim":"2025-10-30"}
[2025-10-18 20:13:23] [DATABASE ERROR] Parâmetro associado: :produto_id = 6 (tipo: 1)
[2025-10-18 20:13:23] [DATABASE ERROR] Parâmetro associado: :data_fim_a = 2025-10-30 (tipo: 2)
[2025-10-18 20:13:23] [DATABASE ERROR] Parâmetro associado: :data_fim = 2025-10-30 (tipo: 2)
[2025-10-18 20:13:23] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=2
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=2

[2025-10-18 20:13:23] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":6}
[2025-10-18 20:13:23] [DATABASE ERROR] Parâmetro associado: :id = 6 (tipo: 1)
[2025-10-18 20:13:23] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-18 20:13:23] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":3,":data_fim_a":"2025-10-30",":data_fim":"2025-10-30"}
[2025-10-18 20:13:23] [DATABASE ERROR] Parâmetro associado: :produto_id = 3 (tipo: 1)
[2025-10-18 20:13:23] [DATABASE ERROR] Parâmetro associado: :data_fim_a = 2025-10-30 (tipo: 2)
[2025-10-18 20:13:23] [DATABASE ERROR] Parâmetro associado: :data_fim = 2025-10-30 (tipo: 2)
[2025-10-18 20:13:23] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=2
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=2

[2025-10-18 20:13:23] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":3}
[2025-10-18 20:13:23] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-10-18 20:13:23] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-18 20:13:23] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":4,":data_fim_a":"2025-10-30",":data_fim":"2025-10-30"}
[2025-10-18 20:13:23] [DATABASE ERROR] Parâmetro associado: :produto_id = 4 (tipo: 1)
[2025-10-18 20:13:23] [DATABASE ERROR] Parâmetro associado: :data_fim_a = 2025-10-30 (tipo: 2)
[2025-10-18 20:13:23] [DATABASE ERROR] Parâmetro associado: :data_fim = 2025-10-30 (tipo: 2)
[2025-10-18 20:13:23] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=2
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=2

[2025-10-18 20:13:23] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":4}
[2025-10-18 20:13:23] [DATABASE ERROR] Parâmetro associado: :id = 4 (tipo: 1)
[2025-10-18 20:13:23] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-18 20:13:23] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":5,":data_fim_a":"2025-10-30",":data_fim":"2025-10-30"}
[2025-10-18 20:13:23] [DATABASE ERROR] Parâmetro associado: :produto_id = 5 (tipo: 1)
[2025-10-18 20:13:23] [DATABASE ERROR] Parâmetro associado: :data_fim_a = 2025-10-30 (tipo: 2)
[2025-10-18 20:13:23] [DATABASE ERROR] Parâmetro associado: :data_fim = 2025-10-30 (tipo: 2)
[2025-10-18 20:13:23] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=2
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=2

[2025-10-18 20:13:23] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":5}
[2025-10-18 20:13:23] [DATABASE ERROR] Parâmetro associado: :id = 5 (tipo: 1)
[2025-10-18 20:13:23] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-18 20:13:23] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":2,":data_fim_a":"2025-10-30",":data_fim":"2025-10-30"}
[2025-10-18 20:13:23] [DATABASE ERROR] Parâmetro associado: :produto_id = 2 (tipo: 1)
[2025-10-18 20:13:23] [DATABASE ERROR] Parâmetro associado: :data_fim_a = 2025-10-30 (tipo: 2)
[2025-10-18 20:13:23] [DATABASE ERROR] Parâmetro associado: :data_fim = 2025-10-30 (tipo: 2)
[2025-10-18 20:13:23] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=2
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=2

[2025-10-18 20:13:23] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":2}
[2025-10-18 20:13:23] [DATABASE ERROR] Parâmetro associado: :id = 2 (tipo: 1)
[2025-10-18 20:13:23] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-18 20:13:28] [DATABASE ERROR] Preparando query: 
            SELECT 
                p.id, 
                p.nome, 
                p.estoque_atual, 
                c.nome AS categoria, 
                f.razao_social AS fornecedor
            FROM produtos p
            LEFT JOIN categorias c ON p.categoria_id = c.id
            LEFT JOIN fornecedores f ON p.fornecedor_principal_id = f.id
            WHERE p.ativo = TRUE
                AND (:produto_id_null IS NULL OR p.id = :produto_id)
                AND (:categoria_id_null IS NULL OR p.categoria_id = :categoria_id)
                AND (:fornecedor_id_null IS NULL OR p.fornecedor_principal_id = :fornecedor_id)
            ORDER BY p.nome ASC;
         com parâmetros: {":produto_id_null":null,":produto_id":null,":categoria_id_null":null,":categoria_id":null,":fornecedor_id_null":null,":fornecedor_id":null}
[2025-10-18 20:13:28] [DATABASE ERROR] Parâmetro associado: :produto_id_null = NULL (tipo: 0)
[2025-10-18 20:13:28] [DATABASE ERROR] Parâmetro associado: :produto_id = NULL (tipo: 0)
[2025-10-18 20:13:28] [DATABASE ERROR] Parâmetro associado: :categoria_id_null = NULL (tipo: 0)
[2025-10-18 20:13:28] [DATABASE ERROR] Parâmetro associado: :categoria_id = NULL (tipo: 0)
[2025-10-18 20:13:28] [DATABASE ERROR] Parâmetro associado: :fornecedor_id_null = NULL (tipo: 0)
[2025-10-18 20:13:28] [DATABASE ERROR] Parâmetro associado: :fornecedor_id = NULL (tipo: 0)
[2025-10-18 20:13:28] [DATABASE ERROR] Debug PDO após binding: SQL: [684] 
            SELECT 
                p.id, 
                p.nome, 
                p.estoque_atual, 
                c.nome AS categoria, 
                f.razao_social AS fornecedor
            FROM produtos p
            LEFT JOIN categorias c ON p.categoria_id = c.id
            LEFT JOIN fornecedores f ON p.fornecedor_principal_id = f.id
            WHERE p.ativo = TRUE
                AND (:produto_id_null IS NULL OR p.id = :produto_id)
                AND (:categoria_id_null IS NULL OR p.categoria_id = :categoria_id)
                AND (:fornecedor_id_null IS NULL OR p.fornecedor_principal_id = :fornecedor_id)
            ORDER BY p.nome ASC;
        
Params:  6
Key: Name: [16] :produto_id_null
paramno=0
name=[16] ":produto_id_null"
is_param=1
param_type=0
Key: Name: [11] :produto_id
paramno=1
name=[11] ":produto_id"
is_param=1
param_type=0
Key: Name: [18] :categoria_id_null
paramno=2
name=[18] ":categoria_id_null"
is_param=1
param_type=0
Key: Name: [13] :categoria_id
paramno=3
name=[13] ":categoria_id"
is_param=1
param_type=0
Key: Name: [19] :fornecedor_id_null
paramno=4
name=[19] ":fornecedor_id_null"
is_param=1
param_type=0
Key: Name: [14] :fornecedor_id
paramno=5
name=[14] ":fornecedor_id"
is_param=1
param_type=0

[2025-10-18 20:13:28] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":6,":data_fim_a":"2025-10-30",":data_fim":"2025-10-30"}
[2025-10-18 20:13:28] [DATABASE ERROR] Parâmetro associado: :produto_id = 6 (tipo: 1)
[2025-10-18 20:13:28] [DATABASE ERROR] Parâmetro associado: :data_fim_a = 2025-10-30 (tipo: 2)
[2025-10-18 20:13:28] [DATABASE ERROR] Parâmetro associado: :data_fim = 2025-10-30 (tipo: 2)
[2025-10-18 20:13:28] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=2
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=2

[2025-10-18 20:13:28] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":6}
[2025-10-18 20:13:28] [DATABASE ERROR] Parâmetro associado: :id = 6 (tipo: 1)
[2025-10-18 20:13:28] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-18 20:13:28] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":3,":data_fim_a":"2025-10-30",":data_fim":"2025-10-30"}
[2025-10-18 20:13:28] [DATABASE ERROR] Parâmetro associado: :produto_id = 3 (tipo: 1)
[2025-10-18 20:13:28] [DATABASE ERROR] Parâmetro associado: :data_fim_a = 2025-10-30 (tipo: 2)
[2025-10-18 20:13:28] [DATABASE ERROR] Parâmetro associado: :data_fim = 2025-10-30 (tipo: 2)
[2025-10-18 20:13:28] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=2
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=2

[2025-10-18 20:13:28] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":3}
[2025-10-18 20:13:28] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-10-18 20:13:28] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-18 20:13:28] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":4,":data_fim_a":"2025-10-30",":data_fim":"2025-10-30"}
[2025-10-18 20:13:28] [DATABASE ERROR] Parâmetro associado: :produto_id = 4 (tipo: 1)
[2025-10-18 20:13:28] [DATABASE ERROR] Parâmetro associado: :data_fim_a = 2025-10-30 (tipo: 2)
[2025-10-18 20:13:28] [DATABASE ERROR] Parâmetro associado: :data_fim = 2025-10-30 (tipo: 2)
[2025-10-18 20:13:28] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=2
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=2

[2025-10-18 20:13:28] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":4}
[2025-10-18 20:13:28] [DATABASE ERROR] Parâmetro associado: :id = 4 (tipo: 1)
[2025-10-18 20:13:28] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-18 20:13:28] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":5,":data_fim_a":"2025-10-30",":data_fim":"2025-10-30"}
[2025-10-18 20:13:28] [DATABASE ERROR] Parâmetro associado: :produto_id = 5 (tipo: 1)
[2025-10-18 20:13:28] [DATABASE ERROR] Parâmetro associado: :data_fim_a = 2025-10-30 (tipo: 2)
[2025-10-18 20:13:28] [DATABASE ERROR] Parâmetro associado: :data_fim = 2025-10-30 (tipo: 2)
[2025-10-18 20:13:28] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=2
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=2

[2025-10-18 20:13:28] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":5}
[2025-10-18 20:13:28] [DATABASE ERROR] Parâmetro associado: :id = 5 (tipo: 1)
[2025-10-18 20:13:28] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-18 20:13:28] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":2,":data_fim_a":"2025-10-30",":data_fim":"2025-10-30"}
[2025-10-18 20:13:28] [DATABASE ERROR] Parâmetro associado: :produto_id = 2 (tipo: 1)
[2025-10-18 20:13:28] [DATABASE ERROR] Parâmetro associado: :data_fim_a = 2025-10-30 (tipo: 2)
[2025-10-18 20:13:28] [DATABASE ERROR] Parâmetro associado: :data_fim = 2025-10-30 (tipo: 2)
[2025-10-18 20:13:28] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=2
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=2

[2025-10-18 20:13:28] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":2}
[2025-10-18 20:13:28] [DATABASE ERROR] Parâmetro associado: :id = 2 (tipo: 1)
[2025-10-18 20:13:28] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-18 20:14:10] [DATABASE ERROR] Preparando query: SELECT * FROM produtos WHERE ativo = :value com parâmetros: {":value":1}
[2025-10-18 20:14:10] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-10-18 20:14:10] [DATABASE ERROR] Debug PDO após binding: SQL: [43] SELECT * FROM produtos WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-10-18 20:14:24] [DATABASE ERROR] Preparando query: SELECT * FROM fornecedores WHERE ativo = :value com parâmetros: {":value":1}
[2025-10-18 20:14:24] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-10-18 20:14:24] [DATABASE ERROR] Debug PDO após binding: SQL: [47] SELECT * FROM fornecedores WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-10-18 20:14:24] [DATABASE ERROR] Preparando query: SELECT * FROM produtos WHERE ativo = :value com parâmetros: {":value":1}
[2025-10-18 20:14:24] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-10-18 20:14:24] [DATABASE ERROR] Debug PDO após binding: SQL: [43] SELECT * FROM produtos WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-10-18 20:14:29] [DATABASE ERROR] Parâmetro associado: :id = 2 (tipo: 2)
[2025-10-18 20:14:29] [DATABASE ERROR] Parâmetro associado: :id = 5 (tipo: 1)
[2025-10-18 20:14:29] [DATABASE ERROR] Parâmetro associado: :produto_id = 5 (tipo: 1)
[2025-10-18 20:14:29] [DATABASE ERROR] Parâmetro associado: :id = 6 (tipo: 1)
[2025-10-18 20:14:29] [DATABASE ERROR] Parâmetro associado: :produto_id = 6 (tipo: 1)
[2025-10-18 20:14:29] [DATABASE ERROR] Parâmetro associado: :movimentacao_id = 145 (tipo: 2)
[2025-10-18 20:14:29] [DATABASE ERROR] Parâmetro associado: :numero_nota = 111744 (tipo: 2)
[2025-10-18 20:14:29] [DATABASE ERROR] Parâmetro associado: :chave_acesso = 35251050902071001120550010001117441740218690 (tipo: 2)
[2025-10-18 20:14:29] [DATABASE ERROR] Parâmetro associado: :data_emissao = 2025-10-13 (tipo: 2)
[2025-10-18 20:14:29] [DATABASE ERROR] Parâmetro associado: :fornecedor_id = 2 (tipo: 1)
[2025-10-18 20:14:29] [DATABASE ERROR] Parâmetro associado: :valor_total = 448.8 (tipo: 2)
[2025-10-18 20:14:29] [DATABASE ERROR] Parâmetro associado: :processado = 1 (tipo: 5)
[2025-10-18 20:14:29] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-10-18 20:14:30] [DATABASE ERROR] Preparando query: SELECT * FROM produtos WHERE ativo = :value com parâmetros: {":value":1}
[2025-10-18 20:14:30] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-10-18 20:14:30] [DATABASE ERROR] Debug PDO após binding: SQL: [43] SELECT * FROM produtos WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-10-18 20:14:38] [DATABASE ERROR] Preparando query: SELECT * FROM produtos WHERE ativo = :value com parâmetros: {":value":1}
[2025-10-18 20:14:38] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-10-18 20:14:38] [DATABASE ERROR] Debug PDO após binding: SQL: [43] SELECT * FROM produtos WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-10-18 20:14:38] [DATABASE ERROR] Preparando query: SELECT * FROM categorias WHERE ativo = :value com parâmetros: {":value":1}
[2025-10-18 20:14:38] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-10-18 20:14:38] [DATABASE ERROR] Debug PDO após binding: SQL: [45] SELECT * FROM categorias WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-10-18 20:14:38] [DATABASE ERROR] Preparando query: SELECT * FROM categorias WHERE ativo = :value com parâmetros: {":value":1}
[2025-10-18 20:14:38] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-10-18 20:14:38] [DATABASE ERROR] Debug PDO após binding: SQL: [45] SELECT * FROM categorias WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-10-18 20:14:38] [DATABASE ERROR] Preparando query: SELECT * FROM unidades_medida com parâmetros: []
[2025-10-18 20:14:38] [DATABASE ERROR] Debug PDO após binding: SQL: [29] SELECT * FROM unidades_medida
Params:  0

[2025-10-18 20:14:38] [DATABASE ERROR] Preparando query: SELECT * FROM fornecedores WHERE ativo = :value com parâmetros: {":value":1}
[2025-10-18 20:14:38] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-10-18 20:14:38] [DATABASE ERROR] Debug PDO após binding: SQL: [47] SELECT * FROM fornecedores WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-10-18 20:14:38] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-10-18 20:14:38] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-10-18 20:14:38] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-10-18 20:14:38] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-10-18 20:14:38] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-10-18 20:14:49] [DATABASE ERROR] Parâmetro associado: :id = 5 (tipo: 1)
[2025-10-18 20:15:27] [DATABASE ERROR] Parâmetro associado: :id = 5 (tipo: 1)
[2025-10-18 20:15:27] [DATABASE ERROR] Preparando query: 
                SELECT 
                    DATE_FORMAT(m.data_movimentacao, '%Y-%m') as periodo,
                    tm.tipo,
                    SUM(mi.quantidade) as total_quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                WHERE m.status = 'PROCESSADO'
                    AND mi.produto_id = :product_id
                    AND m.data_movimentacao BETWEEN :start_date AND :end_date
                GROUP BY periodo, tm.tipo
                ORDER BY periodo ASC com parâmetros: {":product_id":"5",":start_date":"2025-04-18",":end_date":"2025-10-18"}
[2025-10-18 20:15:27] [DATABASE ERROR] Parâmetro associado: :product_id = 5 (tipo: 2)
[2025-10-18 20:15:27] [DATABASE ERROR] Parâmetro associado: :start_date = 2025-04-18 (tipo: 2)
[2025-10-18 20:15:27] [DATABASE ERROR] Parâmetro associado: :end_date = 2025-10-18 (tipo: 2)
[2025-10-18 20:15:27] [DATABASE ERROR] Debug PDO após binding: SQL: [639] 
                SELECT 
                    DATE_FORMAT(m.data_movimentacao, '%Y-%m') as periodo,
                    tm.tipo,
                    SUM(mi.quantidade) as total_quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                WHERE m.status = 'PROCESSADO'
                    AND mi.produto_id = :product_id
                    AND m.data_movimentacao BETWEEN :start_date AND :end_date
                GROUP BY periodo, tm.tipo
                ORDER BY periodo ASC
Params:  3
Key: Name: [11] :product_id
paramno=0
name=[11] ":product_id"
is_param=1
param_type=2
Key: Name: [11] :start_date
paramno=1
name=[11] ":start_date"
is_param=1
param_type=2
Key: Name: [9] :end_date
paramno=2
name=[9] ":end_date"
is_param=1
param_type=2

[2025-10-18 20:15:27] [DATABASE ERROR] Preparando query: 
                SELECT m.documento_numero, m.data_movimentacao, u.nome_completo as usuario, mi.quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                JOIN usuarios u ON m.usuario_id = u.id
                WHERE tm.tipo = 'ENTRADA' 
                    AND mi.produto_id = :product_id
                    AND m.data_movimentacao BETWEEN :start_date AND :end_date
                ORDER BY m.data_movimentacao DESC com parâmetros: {":product_id":"5",":start_date":"2025-04-18",":end_date":"2025-10-18"}
[2025-10-18 20:15:27] [DATABASE ERROR] Parâmetro associado: :product_id = 5 (tipo: 2)
[2025-10-18 20:15:27] [DATABASE ERROR] Parâmetro associado: :start_date = 2025-04-18 (tipo: 2)
[2025-10-18 20:15:27] [DATABASE ERROR] Parâmetro associado: :end_date = 2025-10-18 (tipo: 2)
[2025-10-18 20:15:27] [DATABASE ERROR] Debug PDO após binding: SQL: [579] 
                SELECT m.documento_numero, m.data_movimentacao, u.nome_completo as usuario, mi.quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                JOIN usuarios u ON m.usuario_id = u.id
                WHERE tm.tipo = 'ENTRADA' 
                    AND mi.produto_id = :product_id
                    AND m.data_movimentacao BETWEEN :start_date AND :end_date
                ORDER BY m.data_movimentacao DESC
Params:  3
Key: Name: [11] :product_id
paramno=0
name=[11] ":product_id"
is_param=1
param_type=2
Key: Name: [11] :start_date
paramno=1
name=[11] ":start_date"
is_param=1
param_type=2
Key: Name: [9] :end_date
paramno=2
name=[9] ":end_date"
is_param=1
param_type=2

[2025-10-18 20:15:27] [DATABASE ERROR] Preparando query: 
                SELECT m.documento_numero, m.data_movimentacao, u.nome_completo as usuario, mi.quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                JOIN usuarios u ON m.usuario_id = u.id
                WHERE tm.tipo = 'SAIDA' 
                    AND mi.produto_id = :product_id
                    AND m.data_movimentacao BETWEEN :start_date AND :end_date
                ORDER BY m.data_movimentacao DESC com parâmetros: {":product_id":"5",":start_date":"2025-04-18",":end_date":"2025-10-18"}
[2025-10-18 20:15:27] [DATABASE ERROR] Parâmetro associado: :product_id = 5 (tipo: 2)
[2025-10-18 20:15:27] [DATABASE ERROR] Parâmetro associado: :start_date = 2025-04-18 (tipo: 2)
[2025-10-18 20:15:27] [DATABASE ERROR] Parâmetro associado: :end_date = 2025-10-18 (tipo: 2)
[2025-10-18 20:15:27] [DATABASE ERROR] Debug PDO após binding: SQL: [577] 
                SELECT m.documento_numero, m.data_movimentacao, u.nome_completo as usuario, mi.quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                JOIN usuarios u ON m.usuario_id = u.id
                WHERE tm.tipo = 'SAIDA' 
                    AND mi.produto_id = :product_id
                    AND m.data_movimentacao BETWEEN :start_date AND :end_date
                ORDER BY m.data_movimentacao DESC
Params:  3
Key: Name: [11] :product_id
paramno=0
name=[11] ":product_id"
is_param=1
param_type=2
Key: Name: [11] :start_date
paramno=1
name=[11] ":start_date"
is_param=1
param_type=2
Key: Name: [9] :end_date
paramno=2
name=[9] ":end_date"
is_param=1
param_type=2

[2025-10-18 20:16:04] [DATABASE ERROR] Preparando query: 
                SELECT 
                    DATE_FORMAT(m.data_movimentacao, '%Y-%m') as periodo,
                    tm.tipo,
                    SUM(mi.quantidade) as total_quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                WHERE m.status = 'PROCESSADO'
                    AND mi.produto_id = :product_id
                    AND m.data_movimentacao BETWEEN :start_date AND :end_date
                GROUP BY periodo, tm.tipo
                ORDER BY periodo ASC com parâmetros: {":product_id":"5",":start_date":"2025-10-01",":end_date":"2025-10-30"}
[2025-10-18 20:16:04] [DATABASE ERROR] Parâmetro associado: :product_id = 5 (tipo: 2)
[2025-10-18 20:16:04] [DATABASE ERROR] Parâmetro associado: :start_date = 2025-10-01 (tipo: 2)
[2025-10-18 20:16:04] [DATABASE ERROR] Parâmetro associado: :end_date = 2025-10-30 (tipo: 2)
[2025-10-18 20:16:04] [DATABASE ERROR] Debug PDO após binding: SQL: [639] 
                SELECT 
                    DATE_FORMAT(m.data_movimentacao, '%Y-%m') as periodo,
                    tm.tipo,
                    SUM(mi.quantidade) as total_quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                WHERE m.status = 'PROCESSADO'
                    AND mi.produto_id = :product_id
                    AND m.data_movimentacao BETWEEN :start_date AND :end_date
                GROUP BY periodo, tm.tipo
                ORDER BY periodo ASC
Params:  3
Key: Name: [11] :product_id
paramno=0
name=[11] ":product_id"
is_param=1
param_type=2
Key: Name: [11] :start_date
paramno=1
name=[11] ":start_date"
is_param=1
param_type=2
Key: Name: [9] :end_date
paramno=2
name=[9] ":end_date"
is_param=1
param_type=2

[2025-10-18 20:16:04] [DATABASE ERROR] Preparando query: 
                SELECT m.documento_numero, m.data_movimentacao, u.nome_completo as usuario, mi.quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                JOIN usuarios u ON m.usuario_id = u.id
                WHERE tm.tipo = 'ENTRADA' 
                    AND mi.produto_id = :product_id
                    AND m.data_movimentacao BETWEEN :start_date AND :end_date
                ORDER BY m.data_movimentacao DESC com parâmetros: {":product_id":"5",":start_date":"2025-10-01",":end_date":"2025-10-30"}
[2025-10-18 20:16:04] [DATABASE ERROR] Parâmetro associado: :product_id = 5 (tipo: 2)
[2025-10-18 20:16:04] [DATABASE ERROR] Parâmetro associado: :start_date = 2025-10-01 (tipo: 2)
[2025-10-18 20:16:04] [DATABASE ERROR] Parâmetro associado: :end_date = 2025-10-30 (tipo: 2)
[2025-10-18 20:16:04] [DATABASE ERROR] Debug PDO após binding: SQL: [579] 
                SELECT m.documento_numero, m.data_movimentacao, u.nome_completo as usuario, mi.quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                JOIN usuarios u ON m.usuario_id = u.id
                WHERE tm.tipo = 'ENTRADA' 
                    AND mi.produto_id = :product_id
                    AND m.data_movimentacao BETWEEN :start_date AND :end_date
                ORDER BY m.data_movimentacao DESC
Params:  3
Key: Name: [11] :product_id
paramno=0
name=[11] ":product_id"
is_param=1
param_type=2
Key: Name: [11] :start_date
paramno=1
name=[11] ":start_date"
is_param=1
param_type=2
Key: Name: [9] :end_date
paramno=2
name=[9] ":end_date"
is_param=1
param_type=2

[2025-10-18 20:16:04] [DATABASE ERROR] Preparando query: 
                SELECT m.documento_numero, m.data_movimentacao, u.nome_completo as usuario, mi.quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                JOIN usuarios u ON m.usuario_id = u.id
                WHERE tm.tipo = 'SAIDA' 
                    AND mi.produto_id = :product_id
                    AND m.data_movimentacao BETWEEN :start_date AND :end_date
                ORDER BY m.data_movimentacao DESC com parâmetros: {":product_id":"5",":start_date":"2025-10-01",":end_date":"2025-10-30"}
[2025-10-18 20:16:04] [DATABASE ERROR] Parâmetro associado: :product_id = 5 (tipo: 2)
[2025-10-18 20:16:04] [DATABASE ERROR] Parâmetro associado: :start_date = 2025-10-01 (tipo: 2)
[2025-10-18 20:16:04] [DATABASE ERROR] Parâmetro associado: :end_date = 2025-10-30 (tipo: 2)
[2025-10-18 20:16:04] [DATABASE ERROR] Debug PDO após binding: SQL: [577] 
                SELECT m.documento_numero, m.data_movimentacao, u.nome_completo as usuario, mi.quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                JOIN usuarios u ON m.usuario_id = u.id
                WHERE tm.tipo = 'SAIDA' 
                    AND mi.produto_id = :product_id
                    AND m.data_movimentacao BETWEEN :start_date AND :end_date
                ORDER BY m.data_movimentacao DESC
Params:  3
Key: Name: [11] :product_id
paramno=0
name=[11] ":product_id"
is_param=1
param_type=2
Key: Name: [11] :start_date
paramno=1
name=[11] ":start_date"
is_param=1
param_type=2
Key: Name: [9] :end_date
paramno=2
name=[9] ":end_date"
is_param=1
param_type=2

[2025-10-18 20:16:11] [DATABASE ERROR] Preparando query: 
                SELECT 
                    DATE_FORMAT(m.data_movimentacao, '%Y-%m') as periodo,
                    tm.tipo,
                    SUM(mi.quantidade) as total_quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                WHERE m.status = 'PROCESSADO'
                    AND mi.produto_id = :product_id
                    AND m.data_movimentacao BETWEEN :start_date AND :end_date
                GROUP BY periodo, tm.tipo
                ORDER BY periodo ASC com parâmetros: {":product_id":"5",":start_date":"2025-09-01",":end_date":"2025-10-30"}
[2025-10-18 20:16:11] [DATABASE ERROR] Parâmetro associado: :product_id = 5 (tipo: 2)
[2025-10-18 20:16:11] [DATABASE ERROR] Parâmetro associado: :start_date = 2025-09-01 (tipo: 2)
[2025-10-18 20:16:11] [DATABASE ERROR] Parâmetro associado: :end_date = 2025-10-30 (tipo: 2)
[2025-10-18 20:16:11] [DATABASE ERROR] Debug PDO após binding: SQL: [639] 
                SELECT 
                    DATE_FORMAT(m.data_movimentacao, '%Y-%m') as periodo,
                    tm.tipo,
                    SUM(mi.quantidade) as total_quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                WHERE m.status = 'PROCESSADO'
                    AND mi.produto_id = :product_id
                    AND m.data_movimentacao BETWEEN :start_date AND :end_date
                GROUP BY periodo, tm.tipo
                ORDER BY periodo ASC
Params:  3
Key: Name: [11] :product_id
paramno=0
name=[11] ":product_id"
is_param=1
param_type=2
Key: Name: [11] :start_date
paramno=1
name=[11] ":start_date"
is_param=1
param_type=2
Key: Name: [9] :end_date
paramno=2
name=[9] ":end_date"
is_param=1
param_type=2

[2025-10-18 20:16:11] [DATABASE ERROR] Preparando query: 
                SELECT m.documento_numero, m.data_movimentacao, u.nome_completo as usuario, mi.quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                JOIN usuarios u ON m.usuario_id = u.id
                WHERE tm.tipo = 'ENTRADA' 
                    AND mi.produto_id = :product_id
                    AND m.data_movimentacao BETWEEN :start_date AND :end_date
                ORDER BY m.data_movimentacao DESC com parâmetros: {":product_id":"5",":start_date":"2025-09-01",":end_date":"2025-10-30"}
[2025-10-18 20:16:11] [DATABASE ERROR] Parâmetro associado: :product_id = 5 (tipo: 2)
[2025-10-18 20:16:11] [DATABASE ERROR] Parâmetro associado: :start_date = 2025-09-01 (tipo: 2)
[2025-10-18 20:16:11] [DATABASE ERROR] Parâmetro associado: :end_date = 2025-10-30 (tipo: 2)
[2025-10-18 20:16:11] [DATABASE ERROR] Debug PDO após binding: SQL: [579] 
                SELECT m.documento_numero, m.data_movimentacao, u.nome_completo as usuario, mi.quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                JOIN usuarios u ON m.usuario_id = u.id
                WHERE tm.tipo = 'ENTRADA' 
                    AND mi.produto_id = :product_id
                    AND m.data_movimentacao BETWEEN :start_date AND :end_date
                ORDER BY m.data_movimentacao DESC
Params:  3
Key: Name: [11] :product_id
paramno=0
name=[11] ":product_id"
is_param=1
param_type=2
Key: Name: [11] :start_date
paramno=1
name=[11] ":start_date"
is_param=1
param_type=2
Key: Name: [9] :end_date
paramno=2
name=[9] ":end_date"
is_param=1
param_type=2

[2025-10-18 20:16:11] [DATABASE ERROR] Preparando query: 
                SELECT m.documento_numero, m.data_movimentacao, u.nome_completo as usuario, mi.quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                JOIN usuarios u ON m.usuario_id = u.id
                WHERE tm.tipo = 'SAIDA' 
                    AND mi.produto_id = :product_id
                    AND m.data_movimentacao BETWEEN :start_date AND :end_date
                ORDER BY m.data_movimentacao DESC com parâmetros: {":product_id":"5",":start_date":"2025-09-01",":end_date":"2025-10-30"}
[2025-10-18 20:16:11] [DATABASE ERROR] Parâmetro associado: :product_id = 5 (tipo: 2)
[2025-10-18 20:16:11] [DATABASE ERROR] Parâmetro associado: :start_date = 2025-09-01 (tipo: 2)
[2025-10-18 20:16:11] [DATABASE ERROR] Parâmetro associado: :end_date = 2025-10-30 (tipo: 2)
[2025-10-18 20:16:11] [DATABASE ERROR] Debug PDO após binding: SQL: [577] 
                SELECT m.documento_numero, m.data_movimentacao, u.nome_completo as usuario, mi.quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                JOIN usuarios u ON m.usuario_id = u.id
                WHERE tm.tipo = 'SAIDA' 
                    AND mi.produto_id = :product_id
                    AND m.data_movimentacao BETWEEN :start_date AND :end_date
                ORDER BY m.data_movimentacao DESC
Params:  3
Key: Name: [11] :product_id
paramno=0
name=[11] ":product_id"
is_param=1
param_type=2
Key: Name: [11] :start_date
paramno=1
name=[11] ":start_date"
is_param=1
param_type=2
Key: Name: [9] :end_date
paramno=2
name=[9] ":end_date"
is_param=1
param_type=2

[2025-10-18 20:16:20] [DATABASE ERROR] Preparando query: 
                SELECT 
                    DATE_FORMAT(m.data_movimentacao, '%Y-%m') as periodo,
                    tm.tipo,
                    SUM(mi.quantidade) as total_quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                WHERE m.status = 'PROCESSADO'
                    AND mi.produto_id = :product_id
                    AND m.data_movimentacao BETWEEN :start_date AND :end_date
                GROUP BY periodo, tm.tipo
                ORDER BY periodo ASC com parâmetros: {":product_id":"5",":start_date":"2025-01-01",":end_date":"2025-10-30"}
[2025-10-18 20:16:20] [DATABASE ERROR] Parâmetro associado: :product_id = 5 (tipo: 2)
[2025-10-18 20:16:20] [DATABASE ERROR] Parâmetro associado: :start_date = 2025-01-01 (tipo: 2)
[2025-10-18 20:16:20] [DATABASE ERROR] Parâmetro associado: :end_date = 2025-10-30 (tipo: 2)
[2025-10-18 20:16:20] [DATABASE ERROR] Debug PDO após binding: SQL: [639] 
                SELECT 
                    DATE_FORMAT(m.data_movimentacao, '%Y-%m') as periodo,
                    tm.tipo,
                    SUM(mi.quantidade) as total_quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                WHERE m.status = 'PROCESSADO'
                    AND mi.produto_id = :product_id
                    AND m.data_movimentacao BETWEEN :start_date AND :end_date
                GROUP BY periodo, tm.tipo
                ORDER BY periodo ASC
Params:  3
Key: Name: [11] :product_id
paramno=0
name=[11] ":product_id"
is_param=1
param_type=2
Key: Name: [11] :start_date
paramno=1
name=[11] ":start_date"
is_param=1
param_type=2
Key: Name: [9] :end_date
paramno=2
name=[9] ":end_date"
is_param=1
param_type=2

[2025-10-18 20:16:20] [DATABASE ERROR] Preparando query: 
                SELECT m.documento_numero, m.data_movimentacao, u.nome_completo as usuario, mi.quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                JOIN usuarios u ON m.usuario_id = u.id
                WHERE tm.tipo = 'ENTRADA' 
                    AND mi.produto_id = :product_id
                    AND m.data_movimentacao BETWEEN :start_date AND :end_date
                ORDER BY m.data_movimentacao DESC com parâmetros: {":product_id":"5",":start_date":"2025-01-01",":end_date":"2025-10-30"}
[2025-10-18 20:16:20] [DATABASE ERROR] Parâmetro associado: :product_id = 5 (tipo: 2)
[2025-10-18 20:16:20] [DATABASE ERROR] Parâmetro associado: :start_date = 2025-01-01 (tipo: 2)
[2025-10-18 20:16:20] [DATABASE ERROR] Parâmetro associado: :end_date = 2025-10-30 (tipo: 2)
[2025-10-18 20:16:20] [DATABASE ERROR] Debug PDO após binding: SQL: [579] 
                SELECT m.documento_numero, m.data_movimentacao, u.nome_completo as usuario, mi.quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                JOIN usuarios u ON m.usuario_id = u.id
                WHERE tm.tipo = 'ENTRADA' 
                    AND mi.produto_id = :product_id
                    AND m.data_movimentacao BETWEEN :start_date AND :end_date
                ORDER BY m.data_movimentacao DESC
Params:  3
Key: Name: [11] :product_id
paramno=0
name=[11] ":product_id"
is_param=1
param_type=2
Key: Name: [11] :start_date
paramno=1
name=[11] ":start_date"
is_param=1
param_type=2
Key: Name: [9] :end_date
paramno=2
name=[9] ":end_date"
is_param=1
param_type=2

[2025-10-18 20:16:20] [DATABASE ERROR] Preparando query: 
                SELECT m.documento_numero, m.data_movimentacao, u.nome_completo as usuario, mi.quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                JOIN usuarios u ON m.usuario_id = u.id
                WHERE tm.tipo = 'SAIDA' 
                    AND mi.produto_id = :product_id
                    AND m.data_movimentacao BETWEEN :start_date AND :end_date
                ORDER BY m.data_movimentacao DESC com parâmetros: {":product_id":"5",":start_date":"2025-01-01",":end_date":"2025-10-30"}
[2025-10-18 20:16:20] [DATABASE ERROR] Parâmetro associado: :product_id = 5 (tipo: 2)
[2025-10-18 20:16:20] [DATABASE ERROR] Parâmetro associado: :start_date = 2025-01-01 (tipo: 2)
[2025-10-18 20:16:20] [DATABASE ERROR] Parâmetro associado: :end_date = 2025-10-30 (tipo: 2)
[2025-10-18 20:16:20] [DATABASE ERROR] Debug PDO após binding: SQL: [577] 
                SELECT m.documento_numero, m.data_movimentacao, u.nome_completo as usuario, mi.quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                JOIN usuarios u ON m.usuario_id = u.id
                WHERE tm.tipo = 'SAIDA' 
                    AND mi.produto_id = :product_id
                    AND m.data_movimentacao BETWEEN :start_date AND :end_date
                ORDER BY m.data_movimentacao DESC
Params:  3
Key: Name: [11] :product_id
paramno=0
name=[11] ":product_id"
is_param=1
param_type=2
Key: Name: [11] :start_date
paramno=1
name=[11] ":start_date"
is_param=1
param_type=2
Key: Name: [9] :end_date
paramno=2
name=[9] ":end_date"
is_param=1
param_type=2

[2025-10-18 20:16:28] [DATABASE ERROR] Preparando query: SELECT * FROM produtos WHERE ativo = :value com parâmetros: {":value":1}
[2025-10-18 20:16:28] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-10-18 20:16:28] [DATABASE ERROR] Debug PDO após binding: SQL: [43] SELECT * FROM produtos WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-10-18 20:16:28] [DATABASE ERROR] Preparando query: SELECT * FROM categorias WHERE ativo = :value com parâmetros: {":value":1}
[2025-10-18 20:16:28] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-10-18 20:16:28] [DATABASE ERROR] Debug PDO após binding: SQL: [45] SELECT * FROM categorias WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-10-18 20:16:28] [DATABASE ERROR] Preparando query: SELECT * FROM categorias WHERE ativo = :value com parâmetros: {":value":1}
[2025-10-18 20:16:28] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-10-18 20:16:28] [DATABASE ERROR] Debug PDO após binding: SQL: [45] SELECT * FROM categorias WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-10-18 20:16:28] [DATABASE ERROR] Preparando query: SELECT * FROM unidades_medida com parâmetros: []
[2025-10-18 20:16:28] [DATABASE ERROR] Debug PDO após binding: SQL: [29] SELECT * FROM unidades_medida
Params:  0

[2025-10-18 20:16:28] [DATABASE ERROR] Preparando query: SELECT * FROM fornecedores WHERE ativo = :value com parâmetros: {":value":1}
[2025-10-18 20:16:28] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-10-18 20:16:28] [DATABASE ERROR] Debug PDO após binding: SQL: [47] SELECT * FROM fornecedores WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-10-18 20:16:28] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-10-18 20:16:28] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-10-18 20:16:28] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-10-18 20:16:28] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-10-18 20:16:28] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-10-18 20:16:30] [DATABASE ERROR] Parâmetro associado: :id = 2 (tipo: 1)
[2025-10-18 20:16:31] [DATABASE ERROR] Preparando query: 
                SELECT 
                    DATE_FORMAT(m.data_movimentacao, '%Y-%m') as periodo,
                    tm.tipo,
                    SUM(mi.quantidade) as total_quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                WHERE m.status = 'PROCESSADO'
                    AND mi.produto_id = :product_id
                    AND m.data_movimentacao BETWEEN :start_date AND :end_date
                GROUP BY periodo, tm.tipo
                ORDER BY periodo ASC com parâmetros: {":product_id":"2",":start_date":"2025-04-18",":end_date":"2025-10-18"}
[2025-10-18 20:16:31] [DATABASE ERROR] Parâmetro associado: :product_id = 2 (tipo: 2)
[2025-10-18 20:16:31] [DATABASE ERROR] Parâmetro associado: :start_date = 2025-04-18 (tipo: 2)
[2025-10-18 20:16:31] [DATABASE ERROR] Parâmetro associado: :end_date = 2025-10-18 (tipo: 2)
[2025-10-18 20:16:31] [DATABASE ERROR] Debug PDO após binding: SQL: [639] 
                SELECT 
                    DATE_FORMAT(m.data_movimentacao, '%Y-%m') as periodo,
                    tm.tipo,
                    SUM(mi.quantidade) as total_quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                WHERE m.status = 'PROCESSADO'
                    AND mi.produto_id = :product_id
                    AND m.data_movimentacao BETWEEN :start_date AND :end_date
                GROUP BY periodo, tm.tipo
                ORDER BY periodo ASC
Params:  3
Key: Name: [11] :product_id
paramno=0
name=[11] ":product_id"
is_param=1
param_type=2
Key: Name: [11] :start_date
paramno=1
name=[11] ":start_date"
is_param=1
param_type=2
Key: Name: [9] :end_date
paramno=2
name=[9] ":end_date"
is_param=1
param_type=2

[2025-10-18 20:16:31] [DATABASE ERROR] Preparando query: 
                SELECT m.documento_numero, m.data_movimentacao, u.nome_completo as usuario, mi.quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                JOIN usuarios u ON m.usuario_id = u.id
                WHERE tm.tipo = 'ENTRADA' 
                    AND mi.produto_id = :product_id
                    AND m.data_movimentacao BETWEEN :start_date AND :end_date
                ORDER BY m.data_movimentacao DESC com parâmetros: {":product_id":"2",":start_date":"2025-04-18",":end_date":"2025-10-18"}
[2025-10-18 20:16:31] [DATABASE ERROR] Parâmetro associado: :product_id = 2 (tipo: 2)
[2025-10-18 20:16:31] [DATABASE ERROR] Parâmetro associado: :start_date = 2025-04-18 (tipo: 2)
[2025-10-18 20:16:31] [DATABASE ERROR] Parâmetro associado: :end_date = 2025-10-18 (tipo: 2)
[2025-10-18 20:16:31] [DATABASE ERROR] Debug PDO após binding: SQL: [579] 
                SELECT m.documento_numero, m.data_movimentacao, u.nome_completo as usuario, mi.quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                JOIN usuarios u ON m.usuario_id = u.id
                WHERE tm.tipo = 'ENTRADA' 
                    AND mi.produto_id = :product_id
                    AND m.data_movimentacao BETWEEN :start_date AND :end_date
                ORDER BY m.data_movimentacao DESC
Params:  3
Key: Name: [11] :product_id
paramno=0
name=[11] ":product_id"
is_param=1
param_type=2
Key: Name: [11] :start_date
paramno=1
name=[11] ":start_date"
is_param=1
param_type=2
Key: Name: [9] :end_date
paramno=2
name=[9] ":end_date"
is_param=1
param_type=2

[2025-10-18 20:16:31] [DATABASE ERROR] Preparando query: 
                SELECT m.documento_numero, m.data_movimentacao, u.nome_completo as usuario, mi.quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                JOIN usuarios u ON m.usuario_id = u.id
                WHERE tm.tipo = 'SAIDA' 
                    AND mi.produto_id = :product_id
                    AND m.data_movimentacao BETWEEN :start_date AND :end_date
                ORDER BY m.data_movimentacao DESC com parâmetros: {":product_id":"2",":start_date":"2025-04-18",":end_date":"2025-10-18"}
[2025-10-18 20:16:31] [DATABASE ERROR] Parâmetro associado: :product_id = 2 (tipo: 2)
[2025-10-18 20:16:31] [DATABASE ERROR] Parâmetro associado: :start_date = 2025-04-18 (tipo: 2)
[2025-10-18 20:16:31] [DATABASE ERROR] Parâmetro associado: :end_date = 2025-10-18 (tipo: 2)
[2025-10-18 20:16:31] [DATABASE ERROR] Debug PDO após binding: SQL: [577] 
                SELECT m.documento_numero, m.data_movimentacao, u.nome_completo as usuario, mi.quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                JOIN usuarios u ON m.usuario_id = u.id
                WHERE tm.tipo = 'SAIDA' 
                    AND mi.produto_id = :product_id
                    AND m.data_movimentacao BETWEEN :start_date AND :end_date
                ORDER BY m.data_movimentacao DESC
Params:  3
Key: Name: [11] :product_id
paramno=0
name=[11] ":product_id"
is_param=1
param_type=2
Key: Name: [11] :start_date
paramno=1
name=[11] ":start_date"
is_param=1
param_type=2
Key: Name: [9] :end_date
paramno=2
name=[9] ":end_date"
is_param=1
param_type=2

[2025-10-18 20:16:48] [DATABASE ERROR] Preparando query: SELECT * FROM produtos WHERE ativo = :value com parâmetros: {":value":1}
[2025-10-18 20:16:48] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-10-18 20:16:48] [DATABASE ERROR] Debug PDO após binding: SQL: [43] SELECT * FROM produtos WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-10-18 20:17:06] [DATABASE ERROR] Parâmetro associado: :tabela = movimentacoes (tipo: 2)
[2025-10-18 20:17:06] [DATABASE ERROR] Parâmetro associado: :registro_id = 146 (tipo: 2)
[2025-10-18 20:17:06] [DATABASE ERROR] Parâmetro associado: :acao = INSERT (tipo: 2)
[2025-10-18 20:17:06] [DATABASE ERROR] Parâmetro associado: :dados_anteriores = NULL (tipo: 0)
[2025-10-18 20:17:06] [DATABASE ERROR] Parâmetro associado: :dados_novos = {"tipo_movimentacao_id":"1","observacao":"","produtos":{"2":"3","3":"0","4":"0","5":"0","6":"0"},"valor_unitario":{"2":"6","3":"0","4":"0","5":"0","6":"0"}} (tipo: 2)
[2025-10-18 20:17:06] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-10-18 20:17:06] [DATABASE ERROR] Parâmetro associado: :ip_address = 192.168.15.8 (tipo: 2)
[2025-10-18 20:17:06] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36 (tipo: 2)
[2025-10-18 20:17:06] [DATABASE ERROR] Parâmetro associado: :id = 2 (tipo: 1)
[2025-10-18 20:17:06] [DATABASE ERROR] Parâmetro associado: :produto_id = 2 (tipo: 1)
[2025-10-18 20:17:06] [DATABASE ERROR] Parâmetro associado: :produto_id = 3 (tipo: 1)
[2025-10-18 20:17:06] [DATABASE ERROR] Parâmetro associado: :produto_id = 3 (tipo: 1)
[2025-10-18 20:17:06] [DATABASE ERROR] Parâmetro associado: :produto_id = 0 (tipo: 1)
[2025-10-18 20:17:06] [DATABASE ERROR] Parâmetro associado: :produto_id = 0 (tipo: 1)
[2025-10-18 20:17:06] [DATABASE ERROR] Parâmetro associado: :produto_id = 0 (tipo: 1)
[2025-10-18 20:17:06] [DATABASE ERROR] Parâmetro associado: :produto_id = 0 (tipo: 1)
[2025-10-18 20:17:25] [DATABASE ERROR] Preparando query: SELECT * FROM produtos WHERE ativo = :value com parâmetros: {":value":1}
[2025-10-18 20:17:25] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-10-18 20:17:25] [DATABASE ERROR] Debug PDO após binding: SQL: [43] SELECT * FROM produtos WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-10-18 20:17:25] [DATABASE ERROR] Preparando query: SELECT * FROM categorias WHERE ativo = :value com parâmetros: {":value":1}
[2025-10-18 20:17:25] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-10-18 20:17:25] [DATABASE ERROR] Debug PDO após binding: SQL: [45] SELECT * FROM categorias WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-10-18 20:17:25] [DATABASE ERROR] Preparando query: SELECT * FROM categorias WHERE ativo = :value com parâmetros: {":value":1}
[2025-10-18 20:17:25] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-10-18 20:17:25] [DATABASE ERROR] Debug PDO após binding: SQL: [45] SELECT * FROM categorias WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-10-18 20:17:25] [DATABASE ERROR] Preparando query: SELECT * FROM unidades_medida com parâmetros: []
[2025-10-18 20:17:25] [DATABASE ERROR] Debug PDO após binding: SQL: [29] SELECT * FROM unidades_medida
Params:  0

[2025-10-18 20:17:25] [DATABASE ERROR] Preparando query: SELECT * FROM fornecedores WHERE ativo = :value com parâmetros: {":value":1}
[2025-10-18 20:17:25] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-10-18 20:17:25] [DATABASE ERROR] Debug PDO após binding: SQL: [47] SELECT * FROM fornecedores WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-10-18 20:17:25] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-10-18 20:17:25] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-10-18 20:17:25] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-10-18 20:17:25] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-10-18 20:17:25] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-10-18 20:18:25] [DATABASE ERROR] Preparando query: SELECT * FROM produtos WHERE ativo = :value com parâmetros: {":value":1}
[2025-10-18 20:18:25] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-10-18 20:18:25] [DATABASE ERROR] Debug PDO após binding: SQL: [43] SELECT * FROM produtos WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-10-18 20:18:51] [DATABASE ERROR] Parâmetro associado: :tabela = movimentacoes (tipo: 2)
[2025-10-18 20:18:51] [DATABASE ERROR] Parâmetro associado: :registro_id = 147 (tipo: 2)
[2025-10-18 20:18:51] [DATABASE ERROR] Parâmetro associado: :acao = INSERT (tipo: 2)
[2025-10-18 20:18:51] [DATABASE ERROR] Parâmetro associado: :dados_anteriores = NULL (tipo: 0)
[2025-10-18 20:18:51] [DATABASE ERROR] Parâmetro associado: :dados_novos = {"tipo_movimentacao_id":"1","observacao":"","produtos":{"2":"6","3":"0","4":"0","5":"0","6":"0"},"valor_unitario":{"2":"1","3":"0","4":"0","5":"0","6":"0"}} (tipo: 2)
[2025-10-18 20:18:51] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-10-18 20:18:51] [DATABASE ERROR] Parâmetro associado: :ip_address = 192.168.15.8 (tipo: 2)
[2025-10-18 20:18:51] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36 (tipo: 2)
[2025-10-18 20:18:51] [DATABASE ERROR] Parâmetro associado: :id = 2 (tipo: 1)
[2025-10-18 20:18:51] [DATABASE ERROR] Parâmetro associado: :produto_id = 2 (tipo: 1)
[2025-10-18 20:18:51] [DATABASE ERROR] Parâmetro associado: :produto_id = 6 (tipo: 1)
[2025-10-18 20:18:51] [DATABASE ERROR] Parâmetro associado: :produto_id = 0 (tipo: 1)
[2025-10-18 20:18:51] [DATABASE ERROR] Parâmetro associado: :produto_id = 0 (tipo: 1)
[2025-10-18 20:18:51] [DATABASE ERROR] Parâmetro associado: :produto_id = 0 (tipo: 1)
[2025-10-18 20:18:51] [DATABASE ERROR] Parâmetro associado: :produto_id = 0 (tipo: 1)
[2025-10-18 20:20:24] [DATABASE ERROR] Preparando query: SELECT * FROM produtos WHERE ativo = :value com parâmetros: {":value":1}
[2025-10-18 20:20:24] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-10-18 20:20:24] [DATABASE ERROR] Debug PDO após binding: SQL: [43] SELECT * FROM produtos WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-10-18 20:20:24] [DATABASE ERROR] Preparando query: SELECT * FROM categorias WHERE ativo = :value com parâmetros: {":value":1}
[2025-10-18 20:20:24] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-10-18 20:20:24] [DATABASE ERROR] Debug PDO após binding: SQL: [45] SELECT * FROM categorias WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-10-18 20:20:24] [DATABASE ERROR] Preparando query: SELECT * FROM categorias WHERE ativo = :value com parâmetros: {":value":1}
[2025-10-18 20:20:24] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-10-18 20:20:24] [DATABASE ERROR] Debug PDO após binding: SQL: [45] SELECT * FROM categorias WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-10-18 20:20:24] [DATABASE ERROR] Preparando query: SELECT * FROM unidades_medida com parâmetros: []
[2025-10-18 20:20:24] [DATABASE ERROR] Debug PDO após binding: SQL: [29] SELECT * FROM unidades_medida
Params:  0

[2025-10-18 20:20:24] [DATABASE ERROR] Preparando query: SELECT * FROM fornecedores WHERE ativo = :value com parâmetros: {":value":1}
[2025-10-18 20:20:24] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-10-18 20:20:24] [DATABASE ERROR] Debug PDO após binding: SQL: [47] SELECT * FROM fornecedores WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-10-18 20:20:24] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-10-18 20:20:24] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-10-18 20:20:24] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-10-18 20:20:24] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-10-18 20:20:24] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-10-18 20:20:33] [DATABASE ERROR] Preparando query: SELECT * FROM produtos WHERE ativo = :value com parâmetros: {":value":1}
[2025-10-18 20:20:33] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-10-18 20:20:33] [DATABASE ERROR] Debug PDO após binding: SQL: [43] SELECT * FROM produtos WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-10-18 20:20:43] [DATABASE ERROR] Parâmetro associado: :tabela = movimentacoes (tipo: 2)
[2025-10-18 20:20:43] [DATABASE ERROR] Parâmetro associado: :registro_id = 148 (tipo: 2)
[2025-10-18 20:20:43] [DATABASE ERROR] Parâmetro associado: :acao = INSERT (tipo: 2)
[2025-10-18 20:20:43] [DATABASE ERROR] Parâmetro associado: :dados_anteriores = NULL (tipo: 0)
[2025-10-18 20:20:43] [DATABASE ERROR] Parâmetro associado: :dados_novos = {"tipo_movimentacao_id":"1","observacao":"","produtos":{"2":"0","3":"1","4":"0","5":"0","6":"0"},"valor_unitario":{"2":"0","3":"1","4":"0","5":"0","6":"0"}} (tipo: 2)
[2025-10-18 20:20:43] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-10-18 20:20:43] [DATABASE ERROR] Parâmetro associado: :ip_address = 192.168.15.8 (tipo: 2)
[2025-10-18 20:20:43] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36 (tipo: 2)
[2025-10-18 20:20:43] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-10-18 20:20:43] [DATABASE ERROR] Parâmetro associado: :produto_id = 3 (tipo: 1)
[2025-10-18 20:20:43] [DATABASE ERROR] Parâmetro associado: :produto_id = 0 (tipo: 1)
[2025-10-18 20:20:43] [DATABASE ERROR] Parâmetro associado: :produto_id = 1 (tipo: 1)
[2025-10-18 20:20:43] [DATABASE ERROR] Parâmetro associado: :produto_id = 0 (tipo: 1)
[2025-10-18 20:20:43] [DATABASE ERROR] Parâmetro associado: :produto_id = 0 (tipo: 1)
[2025-10-18 20:20:43] [DATABASE ERROR] Parâmetro associado: :produto_id = 0 (tipo: 1)
[2025-10-18 20:20:43] [DATABASE ERROR] Preparando query: SELECT * FROM produtos WHERE ativo = :value com parâmetros: {":value":1}
[2025-10-18 20:20:43] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-10-18 20:20:43] [DATABASE ERROR] Debug PDO após binding: SQL: [43] SELECT * FROM produtos WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-10-18 20:20:43] [DATABASE ERROR] Preparando query: SELECT * FROM categorias WHERE ativo = :value com parâmetros: {":value":1}
[2025-10-18 20:20:43] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-10-18 20:20:43] [DATABASE ERROR] Debug PDO após binding: SQL: [45] SELECT * FROM categorias WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-10-18 20:20:43] [DATABASE ERROR] Preparando query: SELECT * FROM categorias WHERE ativo = :value com parâmetros: {":value":1}
[2025-10-18 20:20:43] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-10-18 20:20:43] [DATABASE ERROR] Debug PDO após binding: SQL: [45] SELECT * FROM categorias WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-10-18 20:20:43] [DATABASE ERROR] Preparando query: SELECT * FROM unidades_medida com parâmetros: []
[2025-10-18 20:20:43] [DATABASE ERROR] Debug PDO após binding: SQL: [29] SELECT * FROM unidades_medida
Params:  0

[2025-10-18 20:20:43] [DATABASE ERROR] Preparando query: SELECT * FROM fornecedores WHERE ativo = :value com parâmetros: {":value":1}
[2025-10-18 20:20:43] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-10-18 20:20:43] [DATABASE ERROR] Debug PDO após binding: SQL: [47] SELECT * FROM fornecedores WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-10-18 20:20:43] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-10-18 20:20:43] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-10-18 20:20:43] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-10-18 20:20:43] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-10-18 20:20:43] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-10-18 20:20:50] [DATABASE ERROR] Preparando query: SELECT * FROM categorias WHERE ativo = :value com parâmetros: {":value":1}
[2025-10-18 20:20:50] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-10-18 20:20:50] [DATABASE ERROR] Debug PDO após binding: SQL: [45] SELECT * FROM categorias WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-10-18 20:22:35] [DATABASE ERROR] Preparando query: SELECT * FROM categorias WHERE ativo = :value com parâmetros: {":value":1}
[2025-10-18 20:22:35] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-10-18 20:22:35] [DATABASE ERROR] Debug PDO após binding: SQL: [45] SELECT * FROM categorias WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-10-18 20:24:12] [DATABASE ERROR] Preparando query: SELECT * FROM categorias WHERE ativo = :value com parâmetros: {":value":1}
[2025-10-18 20:24:12] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-10-18 20:24:12] [DATABASE ERROR] Debug PDO após binding: SQL: [45] SELECT * FROM categorias WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-10-18 20:24:16] [DATABASE ERROR] Preparando query: SELECT * FROM categorias WHERE ativo = :value com parâmetros: {":value":1}
[2025-10-18 20:24:16] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-10-18 20:24:16] [DATABASE ERROR] Debug PDO após binding: SQL: [45] SELECT * FROM categorias WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-10-18 20:26:10] [DATABASE ERROR] Preparando query: SELECT * FROM categorias WHERE ativo = :value com parâmetros: {":value":1}
[2025-10-18 20:26:10] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-10-18 20:26:10] [DATABASE ERROR] Debug PDO após binding: SQL: [45] SELECT * FROM categorias WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-10-18 20:26:27] [DATABASE ERROR] Preparando query: SELECT * FROM categorias WHERE ativo = :value com parâmetros: {":value":1}
[2025-10-18 20:26:27] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-10-18 20:26:27] [DATABASE ERROR] Debug PDO após binding: SQL: [45] SELECT * FROM categorias WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-10-18 20:28:10] [DATABASE ERROR] Preparando query: SELECT * FROM categorias WHERE ativo = :value com parâmetros: {":value":1}
[2025-10-18 20:28:10] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-10-18 20:28:10] [DATABASE ERROR] Debug PDO após binding: SQL: [45] SELECT * FROM categorias WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-10-18 20:28:45] [DATABASE ERROR] Parâmetro associado: :value = Prateleira (tipo: 2)
[2025-10-18 20:28:45] [DATABASE ERROR] Parâmetro associado: :nome = Prateleira (tipo: 2)
[2025-10-18 20:28:45] [DATABASE ERROR] Parâmetro associado: :descricao =  (tipo: 2)
[2025-10-18 20:28:45] [DATABASE ERROR] Parâmetro associado: :ativo = 1 (tipo: 1)
[2025-10-18 20:28:45] [DATABASE ERROR] Parâmetro associado: :criado_por = 1 (tipo: 1)
[2025-10-18 20:28:45] [DATABASE ERROR] Parâmetro associado: :criado_em = 2025-10-18 20:28:45 (tipo: 2)
[2025-10-18 20:28:45] [DATABASE ERROR] Parâmetro associado: :atualizado_em = 2025-10-18 20:28:45 (tipo: 2)
[2025-10-18 20:28:45] [DATABASE ERROR] Parâmetro associado: :tabela = categorias (tipo: 2)
[2025-10-18 20:28:45] [DATABASE ERROR] Parâmetro associado: :registro_id = 4 (tipo: 2)
[2025-10-18 20:28:45] [DATABASE ERROR] Parâmetro associado: :acao = INSERT (tipo: 2)
[2025-10-18 20:28:45] [DATABASE ERROR] Parâmetro associado: :dados_anteriores = NULL (tipo: 0)
[2025-10-18 20:28:45] [DATABASE ERROR] Parâmetro associado: :dados_novos = {"nome":"Prateleira","descricao":"","ativo":1,"criado_por":1,"criado_em":"2025-10-18 20:28:45","atualizado_em":"2025-10-18 20:28:45"} (tipo: 2)
[2025-10-18 20:28:45] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-10-18 20:28:45] [DATABASE ERROR] Parâmetro associado: :ip_address = 192.168.15.8 (tipo: 2)
[2025-10-18 20:28:45] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36 (tipo: 2)
[2025-10-18 20:28:45] [DATABASE ERROR] Preparando query: SELECT * FROM categorias WHERE ativo = :value com parâmetros: {":value":1}
[2025-10-18 20:28:45] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-10-18 20:28:45] [DATABASE ERROR] Debug PDO após binding: SQL: [45] SELECT * FROM categorias WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-10-18 20:28:55] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-10-18 20:28:55] [DATABASE ERROR] Preparando query: SELECT SUM(estoque_atual) as total_estoque FROM produtos WHERE ativo = TRUE com parâmetros: []
[2025-10-18 20:28:55] [DATABASE ERROR] Debug PDO após binding: SQL: [75] SELECT SUM(estoque_atual) as total_estoque FROM produtos WHERE ativo = TRUE
Params:  0

[2025-10-18 20:28:55] [DATABASE ERROR] Preparando query: SELECT id FROM produtos WHERE ativo = TRUE com parâmetros: []
[2025-10-18 20:28:55] [DATABASE ERROR] Debug PDO após binding: SQL: [42] SELECT id FROM produtos WHERE ativo = TRUE
Params:  0

[2025-10-18 20:28:55] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":2,":data_fim_a":null,":data_fim":null}
[2025-10-18 20:28:55] [DATABASE ERROR] Parâmetro associado: :produto_id = 2 (tipo: 1)
[2025-10-18 20:28:55] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-10-18 20:28:55] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-10-18 20:28:55] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-10-18 20:28:55] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":2}
[2025-10-18 20:28:55] [DATABASE ERROR] Parâmetro associado: :id = 2 (tipo: 1)
[2025-10-18 20:28:55] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-18 20:28:55] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":3,":data_fim_a":null,":data_fim":null}
[2025-10-18 20:28:55] [DATABASE ERROR] Parâmetro associado: :produto_id = 3 (tipo: 1)
[2025-10-18 20:28:55] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-10-18 20:28:55] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-10-18 20:28:55] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-10-18 20:28:55] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":3}
[2025-10-18 20:28:55] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-10-18 20:28:55] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-18 20:28:55] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":4,":data_fim_a":null,":data_fim":null}
[2025-10-18 20:28:55] [DATABASE ERROR] Parâmetro associado: :produto_id = 4 (tipo: 1)
[2025-10-18 20:28:55] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-10-18 20:28:55] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-10-18 20:28:55] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-10-18 20:28:55] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":4}
[2025-10-18 20:28:55] [DATABASE ERROR] Parâmetro associado: :id = 4 (tipo: 1)
[2025-10-18 20:28:55] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-18 20:28:55] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":5,":data_fim_a":null,":data_fim":null}
[2025-10-18 20:28:55] [DATABASE ERROR] Parâmetro associado: :produto_id = 5 (tipo: 1)
[2025-10-18 20:28:55] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-10-18 20:28:55] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-10-18 20:28:55] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-10-18 20:28:55] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":5}
[2025-10-18 20:28:55] [DATABASE ERROR] Parâmetro associado: :id = 5 (tipo: 1)
[2025-10-18 20:28:55] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-18 20:28:55] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":6,":data_fim_a":null,":data_fim":null}
[2025-10-18 20:28:55] [DATABASE ERROR] Parâmetro associado: :produto_id = 6 (tipo: 1)
[2025-10-18 20:28:55] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-10-18 20:28:55] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-10-18 20:28:55] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-10-18 20:28:55] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":6}
[2025-10-18 20:28:55] [DATABASE ERROR] Parâmetro associado: :id = 6 (tipo: 1)
[2025-10-18 20:28:55] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-18 20:28:55] [DATABASE ERROR] Preparando query: SELECT id, tipo, categoria, documento_numero, data_movimentacao, valor_total, fornecedor, usuario 
                    FROM vw_movimentacoes_recentes 
                    ORDER BY data_movimentacao DESC 
                    LIMIT 10 com parâmetros: []
[2025-10-18 20:28:55] [DATABASE ERROR] Debug PDO após binding: SQL: [235] SELECT id, tipo, categoria, documento_numero, data_movimentacao, valor_total, fornecedor, usuario 
                    FROM vw_movimentacoes_recentes 
                    ORDER BY data_movimentacao DESC 
                    LIMIT 10
Params:  0

[2025-10-18 20:28:55] [DATABASE ERROR] Preparando query: SELECT id, codigo, nome, estoque_atual, estoque_minimo, categoria, fornecedor 
                    FROM vw_produtos_estoque_critico 
                    ORDER BY estoque_atual ASC 
                    LIMIT 10 com parâmetros: []
[2025-10-18 20:28:55] [DATABASE ERROR] Debug PDO após binding: SQL: [212] SELECT id, codigo, nome, estoque_atual, estoque_minimo, categoria, fornecedor 
                    FROM vw_produtos_estoque_critico 
                    ORDER BY estoque_atual ASC 
                    LIMIT 10
Params:  0

[2025-10-18 20:28:55] [DATABASE ERROR] Preparando query: 
                SELECT 
                    DATE_FORMAT(m.data_movimentacao, '%Y-%m') as periodo,
                    tm.tipo,
                    SUM(mi.quantidade) as total_quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                WHERE m.status = 'PROCESSADO'
                    AND m.data_movimentacao >= DATE_SUB(CURDATE(), INTERVAL 6 MONTH)
                GROUP BY periodo, tm.tipo
                ORDER BY periodo ASC com parâmetros: []
[2025-10-18 20:28:55] [DATABASE ERROR] Debug PDO após binding: SQL: [593] 
                SELECT 
                    DATE_FORMAT(m.data_movimentacao, '%Y-%m') as periodo,
                    tm.tipo,
                    SUM(mi.quantidade) as total_quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                WHERE m.status = 'PROCESSADO'
                    AND m.data_movimentacao >= DATE_SUB(CURDATE(), INTERVAL 6 MONTH)
                GROUP BY periodo, tm.tipo
                ORDER BY periodo ASC
Params:  0

[2025-10-18 21:06:48] [DATABASE ERROR] Preparando query: SELECT * FROM produtos WHERE ativo = :value com parâmetros: {":value":1}
[2025-10-18 21:06:48] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-10-18 21:06:48] [DATABASE ERROR] Debug PDO após binding: SQL: [43] SELECT * FROM produtos WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-10-18 21:06:48] [DATABASE ERROR] Preparando query: SELECT * FROM categorias WHERE ativo = :value com parâmetros: {":value":1}
[2025-10-18 21:06:48] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-10-18 21:06:48] [DATABASE ERROR] Debug PDO após binding: SQL: [45] SELECT * FROM categorias WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-10-18 21:06:48] [DATABASE ERROR] Preparando query: SELECT * FROM categorias WHERE ativo = :value com parâmetros: {":value":1}
[2025-10-18 21:06:48] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-10-18 21:06:48] [DATABASE ERROR] Debug PDO após binding: SQL: [45] SELECT * FROM categorias WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-10-18 21:06:48] [DATABASE ERROR] Preparando query: SELECT * FROM unidades_medida com parâmetros: []
[2025-10-18 21:06:48] [DATABASE ERROR] Debug PDO após binding: SQL: [29] SELECT * FROM unidades_medida
Params:  0

[2025-10-18 21:06:48] [DATABASE ERROR] Preparando query: SELECT * FROM fornecedores WHERE ativo = :value com parâmetros: {":value":1}
[2025-10-18 21:06:48] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-10-18 21:06:48] [DATABASE ERROR] Debug PDO após binding: SQL: [47] SELECT * FROM fornecedores WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-10-18 21:06:48] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-10-18 21:06:48] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-10-18 21:06:48] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-10-18 21:06:48] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-10-18 21:06:48] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-10-18 21:08:03] [DATABASE ERROR] Preparando query: SELECT * FROM produtos WHERE ativo = :value com parâmetros: {":value":1}
[2025-10-18 21:08:03] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-10-18 21:08:03] [DATABASE ERROR] Debug PDO após binding: SQL: [43] SELECT * FROM produtos WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-10-18 21:08:03] [DATABASE ERROR] Preparando query: SELECT * FROM categorias WHERE ativo = :value com parâmetros: {":value":1}
[2025-10-18 21:08:03] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-10-18 21:08:03] [DATABASE ERROR] Debug PDO após binding: SQL: [45] SELECT * FROM categorias WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-10-18 21:08:03] [DATABASE ERROR] Preparando query: SELECT * FROM categorias WHERE ativo = :value com parâmetros: {":value":1}
[2025-10-18 21:08:03] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-10-18 21:08:03] [DATABASE ERROR] Debug PDO após binding: SQL: [45] SELECT * FROM categorias WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-10-18 21:08:03] [DATABASE ERROR] Preparando query: SELECT * FROM unidades_medida com parâmetros: []
[2025-10-18 21:08:03] [DATABASE ERROR] Debug PDO após binding: SQL: [29] SELECT * FROM unidades_medida
Params:  0

[2025-10-18 21:08:03] [DATABASE ERROR] Preparando query: SELECT * FROM fornecedores WHERE ativo = :value com parâmetros: {":value":1}
[2025-10-18 21:08:03] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-10-18 21:08:03] [DATABASE ERROR] Debug PDO após binding: SQL: [47] SELECT * FROM fornecedores WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-10-18 21:08:03] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-10-18 21:08:03] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-10-18 21:08:03] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-10-18 21:08:03] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-10-18 21:08:03] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-10-18 21:20:17] [DATABASE ERROR] Parâmetro associado: :user_id = 1 (tipo: 1)
[2025-10-18 21:24:48] [DATABASE ERROR] Parâmetro associado: :username = flavi (tipo: 2)
[2025-10-18 21:24:48] [DATABASE ERROR] Parâmetro associado: :email = flavi (tipo: 2)
[2025-10-18 21:33:15] [DATABASE ERROR] Parâmetro associado: :username = flavio (tipo: 2)
[2025-10-18 21:33:15] [DATABASE ERROR] Parâmetro associado: :email = flavio (tipo: 2)
[2025-10-18 21:33:15] [DATABASE ERROR] Preparando query: UPDATE usuarios SET ultimo_acesso = NOW() WHERE id = :id com parâmetros: {":id":2}
[2025-10-18 21:33:15] [DATABASE ERROR] Parâmetro associado: :id = 2 (tipo: 1)
[2025-10-18 21:33:15] [DATABASE ERROR] Debug PDO após binding: SQL: [56] UPDATE usuarios SET ultimo_acesso = NOW() WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-18 21:33:15] [DATABASE ERROR] Parâmetro associado: :tabela = usuarios (tipo: 2)
[2025-10-18 21:33:15] [DATABASE ERROR] Parâmetro associado: :registro_id = 2 (tipo: 1)
[2025-10-18 21:33:15] [DATABASE ERROR] Parâmetro associado: :acao = LOGIN (tipo: 2)
[2025-10-18 21:33:15] [DATABASE ERROR] Parâmetro associado: :dados_anteriores = NULL (tipo: 0)
[2025-10-18 21:33:15] [DATABASE ERROR] Parâmetro associado: :dados_novos = NULL (tipo: 0)
[2025-10-18 21:33:15] [DATABASE ERROR] Parâmetro associado: :usuario_id = NULL (tipo: 0)
[2025-10-18 21:33:15] [DATABASE ERROR] Parâmetro associado: :ip_address = 192.168.15.8 (tipo: 2)
[2025-10-18 21:33:15] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36 (tipo: 2)
[2025-10-18 21:33:15] [DATABASE ERROR] Erro ao executar query: SQLSTATE[01000]: Warning: 1265 Data truncated for column 'acao' at row 1
[2025-10-18 21:33:15] [DATABASE ERROR] Parâmetro associado: :id = 46n7ud8f95rmem26kt6ilp6bqm (tipo: 2)
[2025-10-18 21:33:15] [DATABASE ERROR] Parâmetro associado: :id = 46n7ud8f95rmem26kt6ilp6bqm (tipo: 2)
[2025-10-18 21:33:15] [DATABASE ERROR] Parâmetro associado: :usuario_id = 2 (tipo: 1)
[2025-10-18 21:33:15] [DATABASE ERROR] Parâmetro associado: :ip_address = 192.168.15.8 (tipo: 2)
[2025-10-18 21:33:15] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36 (tipo: 2)
[2025-10-18 21:33:15] [DATABASE ERROR] Parâmetro associado: :dados = {"user_id":2,"user_name":"Fl\u00e1vio Alves","user_email":"flavioafj@yahoo.com.br","user_profile":2,"user_profile_name":"Operador","logged_in":true,"login_time":1760833995} (tipo: 2)
[2025-10-18 21:33:15] [DATABASE ERROR] Parâmetro associado: :usuario_id = 2 (tipo: 1)
[2025-10-18 21:42:02] [DATABASE ERROR] Preparando query: SELECT * FROM produtos WHERE ativo = :value com parâmetros: {":value":1}
[2025-10-18 21:42:02] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-10-18 21:42:02] [DATABASE ERROR] Debug PDO após binding: SQL: [43] SELECT * FROM produtos WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-10-18 21:53:39] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-10-18 21:53:39] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-10-18 21:53:39] [DATABASE ERROR] Parâmetro associado: :produto_id = 3 (tipo: 1)
[2025-10-18 21:53:39] [DATABASE ERROR] Parâmetro associado: :produto_id = 3 (tipo: 1)
[2025-10-18 21:53:51] [DATABASE ERROR] Parâmetro associado: :id = 2 (tipo: 1)
[2025-10-18 21:53:55] [DATABASE ERROR] Parâmetro associado: :id = 4 (tipo: 1)
[2025-10-18 21:53:59] [DATABASE ERROR] Parâmetro associado: :id = 2 (tipo: 1)
[2025-10-18 21:53:59] [DATABASE ERROR] Parâmetro associado: :id = 4 (tipo: 1)
[2025-10-18 21:54:07] [DATABASE ERROR] Parâmetro associado: :id = 2 (tipo: 1)
[2025-10-18 21:54:07] [DATABASE ERROR] Parâmetro associado: :id = 4 (tipo: 1)
[2025-10-18 21:54:07] [DATABASE ERROR] Parâmetro associado: :id = 2 (tipo: 1)
[2025-10-18 21:54:07] [DATABASE ERROR] Parâmetro associado: :produto_id = 2 (tipo: 1)
[2025-10-18 21:54:07] [DATABASE ERROR] Parâmetro associado: :id = 4 (tipo: 1)
[2025-10-18 21:54:07] [DATABASE ERROR] Parâmetro associado: :produto_id = 4 (tipo: 1)
[2025-10-18 21:54:07] [DATABASE ERROR] Parâmetro associado: :produto_id = 4 (tipo: 1)
[2025-10-18 21:54:07] [DATABASE ERROR] Parâmetro associado: :produto_id = 4 (tipo: 1)
[2025-10-18 21:54:07] [DATABASE ERROR] Parâmetro associado: :mensagem = Produto ggg1 com estoque baixo: 0.000 <= 1.000. (tipo: 2)
[2025-10-18 21:54:07] [DATABASE ERROR] Parâmetro associado: :admin_id = 1 (tipo: 1)
[2025-10-18 21:54:07] [DATABASE ERROR] Parâmetro associado: :produto_id = 4 (tipo: 1)
[2025-10-18 21:54:07] [DATABASE ERROR] Parâmetro associado: :mensagem = Produto ggg1 com estoque baixo: 0.000 <= 1.000. (tipo: 2)
[2025-10-18 21:54:07] [DATABASE ERROR] Parâmetro associado: :admin_id = 3 (tipo: 1)
[2025-10-18 21:54:07] [DATABASE ERROR] Parâmetro associado: :tabela = alertas_estoque (tipo: 2)
[2025-10-18 21:54:07] [DATABASE ERROR] Parâmetro associado: :registro_id = 13 (tipo: 2)
[2025-10-18 21:54:07] [DATABASE ERROR] Parâmetro associado: :acao = alertas_estoque (tipo: 2)
[2025-10-18 21:54:07] [DATABASE ERROR] Parâmetro associado: :dados_anteriores = "INSERT" (tipo: 2)
[2025-10-18 21:54:07] [DATABASE ERROR] Parâmetro associado: :dados_novos = NULL (tipo: 0)
[2025-10-18 21:54:07] [DATABASE ERROR] Parâmetro associado: :usuario_id = 2 (tipo: 1)
[2025-10-18 21:54:07] [DATABASE ERROR] Parâmetro associado: :ip_address = 192.168.15.8 (tipo: 2)
[2025-10-18 21:54:07] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36 (tipo: 2)
[2025-10-18 21:54:07] [DATABASE ERROR] Erro ao executar query: SQLSTATE[01000]: Warning: 1265 Data truncated for column 'acao' at row 1
[2025-10-18 21:54:07] [DATABASE ERROR] Parâmetro associado: :alert_id = 13 (tipo: 1)
[2025-10-18 21:54:07] [DATABASE ERROR] Parâmetro associado: :usuario_id = 2 (tipo: 1)
[2025-10-18 21:56:30] [DATABASE ERROR] Parâmetro associado: :usuario_id = 2 (tipo: 1)
[2025-10-18 22:02:24] [DATABASE ERROR] Parâmetro associado: :user_id = 2 (tipo: 1)
[2025-10-18 22:02:24] [DATABASE ERROR] Parâmetro associado: :tabela = usuarios (tipo: 2)
[2025-10-18 22:02:24] [DATABASE ERROR] Parâmetro associado: :registro_id = NULL (tipo: 0)
[2025-10-18 22:02:24] [DATABASE ERROR] Parâmetro associado: :acao = LOGOUT (tipo: 2)
[2025-10-18 22:02:24] [DATABASE ERROR] Parâmetro associado: :dados_anteriores = NULL (tipo: 0)
[2025-10-18 22:02:24] [DATABASE ERROR] Parâmetro associado: :dados_novos = NULL (tipo: 0)
[2025-10-18 22:02:24] [DATABASE ERROR] Parâmetro associado: :usuario_id = NULL (tipo: 0)
[2025-10-18 22:02:24] [DATABASE ERROR] Parâmetro associado: :ip_address = 192.168.15.8 (tipo: 2)
[2025-10-18 22:02:24] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36 (tipo: 2)
[2025-10-18 22:02:24] [DATABASE ERROR] Erro ao executar query: SQLSTATE[23000]: Integrity constraint violation: 1048 Column 'registro_id' cannot be null
[2025-10-18 22:02:34] [DATABASE ERROR] Parâmetro associado: :username = admin (tipo: 2)
[2025-10-18 22:02:34] [DATABASE ERROR] Parâmetro associado: :email = admin (tipo: 2)
[2025-10-18 22:02:34] [DATABASE ERROR] Preparando query: UPDATE usuarios SET ultimo_acesso = NOW() WHERE id = :id com parâmetros: {":id":1}
[2025-10-18 22:02:34] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-10-18 22:02:34] [DATABASE ERROR] Debug PDO após binding: SQL: [56] UPDATE usuarios SET ultimo_acesso = NOW() WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-18 22:02:34] [DATABASE ERROR] Parâmetro associado: :tabela = usuarios (tipo: 2)
[2025-10-18 22:02:34] [DATABASE ERROR] Parâmetro associado: :registro_id = 1 (tipo: 1)
[2025-10-18 22:02:34] [DATABASE ERROR] Parâmetro associado: :acao = LOGIN (tipo: 2)
[2025-10-18 22:02:34] [DATABASE ERROR] Parâmetro associado: :dados_anteriores = NULL (tipo: 0)
[2025-10-18 22:02:34] [DATABASE ERROR] Parâmetro associado: :dados_novos = NULL (tipo: 0)
[2025-10-18 22:02:34] [DATABASE ERROR] Parâmetro associado: :usuario_id = NULL (tipo: 0)
[2025-10-18 22:02:34] [DATABASE ERROR] Parâmetro associado: :ip_address = 192.168.15.8 (tipo: 2)
[2025-10-18 22:02:34] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36 (tipo: 2)
[2025-10-18 22:02:34] [DATABASE ERROR] Erro ao executar query: SQLSTATE[01000]: Warning: 1265 Data truncated for column 'acao' at row 1
[2025-10-18 22:02:34] [DATABASE ERROR] Parâmetro associado: :id = rle19dj19kg1jd96nqp9b2iusd (tipo: 2)
[2025-10-18 22:02:34] [DATABASE ERROR] Parâmetro associado: :id = rle19dj19kg1jd96nqp9b2iusd (tipo: 2)
[2025-10-18 22:02:34] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-10-18 22:02:34] [DATABASE ERROR] Parâmetro associado: :ip_address = 192.168.15.8 (tipo: 2)
[2025-10-18 22:02:34] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36 (tipo: 2)
[2025-10-18 22:02:34] [DATABASE ERROR] Parâmetro associado: :dados = {"user_id":1,"user_name":"Administrador do Sistema","user_email":"admin@sorveteria.com","user_profile":1,"user_profile_name":"Administrador","logged_in":true,"login_time":1760835754} (tipo: 2)
[2025-10-18 22:02:34] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-10-18 22:02:35] [DATABASE ERROR] Preparando query: SELECT SUM(estoque_atual) as total_estoque FROM produtos WHERE ativo = TRUE com parâmetros: []
[2025-10-18 22:02:35] [DATABASE ERROR] Debug PDO após binding: SQL: [75] SELECT SUM(estoque_atual) as total_estoque FROM produtos WHERE ativo = TRUE
Params:  0

[2025-10-18 22:02:35] [DATABASE ERROR] Preparando query: SELECT id FROM produtos WHERE ativo = TRUE com parâmetros: []
[2025-10-18 22:02:35] [DATABASE ERROR] Debug PDO após binding: SQL: [42] SELECT id FROM produtos WHERE ativo = TRUE
Params:  0

[2025-10-18 22:02:35] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":2,":data_fim_a":null,":data_fim":null}
[2025-10-18 22:02:35] [DATABASE ERROR] Parâmetro associado: :produto_id = 2 (tipo: 1)
[2025-10-18 22:02:35] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-10-18 22:02:35] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-10-18 22:02:35] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-10-18 22:02:35] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":2}
[2025-10-18 22:02:35] [DATABASE ERROR] Parâmetro associado: :id = 2 (tipo: 1)
[2025-10-18 22:02:35] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-18 22:02:35] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":3,":data_fim_a":null,":data_fim":null}
[2025-10-18 22:02:35] [DATABASE ERROR] Parâmetro associado: :produto_id = 3 (tipo: 1)
[2025-10-18 22:02:35] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-10-18 22:02:35] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-10-18 22:02:35] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-10-18 22:02:35] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":3}
[2025-10-18 22:02:35] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-10-18 22:02:35] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-18 22:02:35] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":4,":data_fim_a":null,":data_fim":null}
[2025-10-18 22:02:35] [DATABASE ERROR] Parâmetro associado: :produto_id = 4 (tipo: 1)
[2025-10-18 22:02:35] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-10-18 22:02:35] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-10-18 22:02:35] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-10-18 22:02:35] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":4}
[2025-10-18 22:02:35] [DATABASE ERROR] Parâmetro associado: :id = 4 (tipo: 1)
[2025-10-18 22:02:35] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-18 22:02:35] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":5,":data_fim_a":null,":data_fim":null}
[2025-10-18 22:02:35] [DATABASE ERROR] Parâmetro associado: :produto_id = 5 (tipo: 1)
[2025-10-18 22:02:35] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-10-18 22:02:35] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-10-18 22:02:35] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-10-18 22:02:35] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":5}
[2025-10-18 22:02:35] [DATABASE ERROR] Parâmetro associado: :id = 5 (tipo: 1)
[2025-10-18 22:02:35] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-18 22:02:35] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":6,":data_fim_a":null,":data_fim":null}
[2025-10-18 22:02:35] [DATABASE ERROR] Parâmetro associado: :produto_id = 6 (tipo: 1)
[2025-10-18 22:02:35] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-10-18 22:02:35] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-10-18 22:02:35] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-10-18 22:02:35] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":6}
[2025-10-18 22:02:35] [DATABASE ERROR] Parâmetro associado: :id = 6 (tipo: 1)
[2025-10-18 22:02:35] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-18 22:02:35] [DATABASE ERROR] Preparando query: SELECT id, codigo, nome, estoque_atual, estoque_minimo, categoria, fornecedor 
                    FROM vw_produtos_estoque_critico 
                    ORDER BY estoque_atual ASC 
                    LIMIT 10 com parâmetros: []
[2025-10-18 22:02:35] [DATABASE ERROR] Debug PDO após binding: SQL: [212] SELECT id, codigo, nome, estoque_atual, estoque_minimo, categoria, fornecedor 
                    FROM vw_produtos_estoque_critico 
                    ORDER BY estoque_atual ASC 
                    LIMIT 10
Params:  0

[2025-10-18 22:02:35] [DATABASE ERROR] Preparando query: 
                SELECT 
                    DATE_FORMAT(m.data_movimentacao, '%Y-%m') as periodo,
                    tm.tipo,
                    SUM(mi.quantidade) as total_quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                WHERE m.status = 'PROCESSADO'
                    AND m.data_movimentacao >= DATE_SUB(CURDATE(), INTERVAL 6 MONTH)
                GROUP BY periodo, tm.tipo
                ORDER BY periodo ASC com parâmetros: []
[2025-10-18 22:02:35] [DATABASE ERROR] Debug PDO após binding: SQL: [593] 
                SELECT 
                    DATE_FORMAT(m.data_movimentacao, '%Y-%m') as periodo,
                    tm.tipo,
                    SUM(mi.quantidade) as total_quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                WHERE m.status = 'PROCESSADO'
                    AND m.data_movimentacao >= DATE_SUB(CURDATE(), INTERVAL 6 MONTH)
                GROUP BY periodo, tm.tipo
                ORDER BY periodo ASC
Params:  0

[2025-10-18 22:02:35] [DATABASE ERROR] Preparando query: SELECT id, tipo, categoria, documento_numero, data_movimentacao, valor_total, fornecedor, usuario 
                    FROM vw_movimentacoes_recentes 
                    ORDER BY data_movimentacao DESC 
                    LIMIT 10 com parâmetros: []
[2025-10-18 22:02:35] [DATABASE ERROR] Debug PDO após binding: SQL: [235] SELECT id, tipo, categoria, documento_numero, data_movimentacao, valor_total, fornecedor, usuario 
                    FROM vw_movimentacoes_recentes 
                    ORDER BY data_movimentacao DESC 
                    LIMIT 10
Params:  0

[2025-10-18 22:02:42] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-10-18 22:02:42] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-10-18 22:02:46] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-10-18 22:02:46] [DATABASE ERROR] Preparando query: SELECT SUM(estoque_atual) as total_estoque FROM produtos WHERE ativo = TRUE com parâmetros: []
[2025-10-18 22:02:46] [DATABASE ERROR] Debug PDO após binding: SQL: [75] SELECT SUM(estoque_atual) as total_estoque FROM produtos WHERE ativo = TRUE
Params:  0

[2025-10-18 22:02:46] [DATABASE ERROR] Preparando query: SELECT id FROM produtos WHERE ativo = TRUE com parâmetros: []
[2025-10-18 22:02:46] [DATABASE ERROR] Debug PDO após binding: SQL: [42] SELECT id FROM produtos WHERE ativo = TRUE
Params:  0

[2025-10-18 22:02:46] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":2,":data_fim_a":null,":data_fim":null}
[2025-10-18 22:02:46] [DATABASE ERROR] Parâmetro associado: :produto_id = 2 (tipo: 1)
[2025-10-18 22:02:46] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-10-18 22:02:46] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-10-18 22:02:46] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-10-18 22:02:46] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":2}
[2025-10-18 22:02:46] [DATABASE ERROR] Parâmetro associado: :id = 2 (tipo: 1)
[2025-10-18 22:02:46] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-18 22:02:46] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":3,":data_fim_a":null,":data_fim":null}
[2025-10-18 22:02:46] [DATABASE ERROR] Parâmetro associado: :produto_id = 3 (tipo: 1)
[2025-10-18 22:02:46] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-10-18 22:02:46] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-10-18 22:02:46] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-10-18 22:02:46] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":3}
[2025-10-18 22:02:46] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-10-18 22:02:46] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-18 22:02:46] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":4,":data_fim_a":null,":data_fim":null}
[2025-10-18 22:02:46] [DATABASE ERROR] Parâmetro associado: :produto_id = 4 (tipo: 1)
[2025-10-18 22:02:46] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-10-18 22:02:46] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-10-18 22:02:46] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-10-18 22:02:46] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":4}
[2025-10-18 22:02:46] [DATABASE ERROR] Parâmetro associado: :id = 4 (tipo: 1)
[2025-10-18 22:02:46] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-18 22:02:46] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":5,":data_fim_a":null,":data_fim":null}
[2025-10-18 22:02:46] [DATABASE ERROR] Parâmetro associado: :produto_id = 5 (tipo: 1)
[2025-10-18 22:02:46] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-10-18 22:02:46] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-10-18 22:02:46] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-10-18 22:02:46] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":5}
[2025-10-18 22:02:46] [DATABASE ERROR] Parâmetro associado: :id = 5 (tipo: 1)
[2025-10-18 22:02:46] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-18 22:02:46] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":6,":data_fim_a":null,":data_fim":null}
[2025-10-18 22:02:46] [DATABASE ERROR] Parâmetro associado: :produto_id = 6 (tipo: 1)
[2025-10-18 22:02:46] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-10-18 22:02:46] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-10-18 22:02:46] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-10-18 22:02:46] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":6}
[2025-10-18 22:02:46] [DATABASE ERROR] Parâmetro associado: :id = 6 (tipo: 1)
[2025-10-18 22:02:46] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-18 22:02:46] [DATABASE ERROR] Preparando query: SELECT id, codigo, nome, estoque_atual, estoque_minimo, categoria, fornecedor 
                    FROM vw_produtos_estoque_critico 
                    ORDER BY estoque_atual ASC 
                    LIMIT 10 com parâmetros: []
[2025-10-18 22:02:46] [DATABASE ERROR] Debug PDO após binding: SQL: [212] SELECT id, codigo, nome, estoque_atual, estoque_minimo, categoria, fornecedor 
                    FROM vw_produtos_estoque_critico 
                    ORDER BY estoque_atual ASC 
                    LIMIT 10
Params:  0

[2025-10-18 22:02:46] [DATABASE ERROR] Preparando query: SELECT id, tipo, categoria, documento_numero, data_movimentacao, valor_total, fornecedor, usuario 
                    FROM vw_movimentacoes_recentes 
                    ORDER BY data_movimentacao DESC 
                    LIMIT 10 com parâmetros: []
[2025-10-18 22:02:46] [DATABASE ERROR] Debug PDO após binding: SQL: [235] SELECT id, tipo, categoria, documento_numero, data_movimentacao, valor_total, fornecedor, usuario 
                    FROM vw_movimentacoes_recentes 
                    ORDER BY data_movimentacao DESC 
                    LIMIT 10
Params:  0

[2025-10-18 22:02:46] [DATABASE ERROR] Preparando query: 
                SELECT 
                    DATE_FORMAT(m.data_movimentacao, '%Y-%m') as periodo,
                    tm.tipo,
                    SUM(mi.quantidade) as total_quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                WHERE m.status = 'PROCESSADO'
                    AND m.data_movimentacao >= DATE_SUB(CURDATE(), INTERVAL 6 MONTH)
                GROUP BY periodo, tm.tipo
                ORDER BY periodo ASC com parâmetros: []
[2025-10-18 22:02:46] [DATABASE ERROR] Debug PDO após binding: SQL: [593] 
                SELECT 
                    DATE_FORMAT(m.data_movimentacao, '%Y-%m') as periodo,
                    tm.tipo,
                    SUM(mi.quantidade) as total_quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                WHERE m.status = 'PROCESSADO'
                    AND m.data_movimentacao >= DATE_SUB(CURDATE(), INTERVAL 6 MONTH)
                GROUP BY periodo, tm.tipo
                ORDER BY periodo ASC
Params:  0

[2025-10-18 22:02:51] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-10-18 22:02:51] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-10-18 22:02:53] [DATABASE ERROR] Parâmetro associado: :alert_id = 12 (tipo: 1)
[2025-10-18 22:02:53] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-10-18 22:02:53] [DATABASE ERROR] Parâmetro associado: :tabela = alertas_estoque (tipo: 2)
[2025-10-18 22:02:53] [DATABASE ERROR] Parâmetro associado: :registro_id = 12 (tipo: 1)
[2025-10-18 22:02:53] [DATABASE ERROR] Parâmetro associado: :acao = alertas_estoque (tipo: 2)
[2025-10-18 22:02:53] [DATABASE ERROR] Parâmetro associado: :dados_anteriores = "UPDATE" (tipo: 2)
[2025-10-18 22:02:53] [DATABASE ERROR] Parâmetro associado: :dados_novos = {"lido":false} (tipo: 2)
[2025-10-18 22:02:53] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-10-18 22:02:53] [DATABASE ERROR] Parâmetro associado: :ip_address = 192.168.15.8 (tipo: 2)
[2025-10-18 22:02:53] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36 (tipo: 2)
[2025-10-18 22:02:53] [DATABASE ERROR] Erro ao executar query: SQLSTATE[01000]: Warning: 1265 Data truncated for column 'acao' at row 1
[2025-10-18 22:02:55] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-10-18 22:02:56] [DATABASE ERROR] Preparando query: SELECT SUM(estoque_atual) as total_estoque FROM produtos WHERE ativo = TRUE com parâmetros: []
[2025-10-18 22:02:56] [DATABASE ERROR] Debug PDO após binding: SQL: [75] SELECT SUM(estoque_atual) as total_estoque FROM produtos WHERE ativo = TRUE
Params:  0

[2025-10-18 22:02:56] [DATABASE ERROR] Preparando query: SELECT id FROM produtos WHERE ativo = TRUE com parâmetros: []
[2025-10-18 22:02:56] [DATABASE ERROR] Debug PDO após binding: SQL: [42] SELECT id FROM produtos WHERE ativo = TRUE
Params:  0

[2025-10-18 22:02:56] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":2,":data_fim_a":null,":data_fim":null}
[2025-10-18 22:02:56] [DATABASE ERROR] Parâmetro associado: :produto_id = 2 (tipo: 1)
[2025-10-18 22:02:56] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-10-18 22:02:56] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-10-18 22:02:56] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-10-18 22:02:56] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":2}
[2025-10-18 22:02:56] [DATABASE ERROR] Parâmetro associado: :id = 2 (tipo: 1)
[2025-10-18 22:02:56] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-18 22:02:56] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":3,":data_fim_a":null,":data_fim":null}
[2025-10-18 22:02:56] [DATABASE ERROR] Parâmetro associado: :produto_id = 3 (tipo: 1)
[2025-10-18 22:02:56] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-10-18 22:02:56] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-10-18 22:02:56] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-10-18 22:02:56] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":3}
[2025-10-18 22:02:56] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-10-18 22:02:56] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-18 22:02:56] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":4,":data_fim_a":null,":data_fim":null}
[2025-10-18 22:02:56] [DATABASE ERROR] Parâmetro associado: :produto_id = 4 (tipo: 1)
[2025-10-18 22:02:56] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-10-18 22:02:56] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-10-18 22:02:56] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-10-18 22:02:56] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":4}
[2025-10-18 22:02:56] [DATABASE ERROR] Parâmetro associado: :id = 4 (tipo: 1)
[2025-10-18 22:02:56] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-18 22:02:56] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":5,":data_fim_a":null,":data_fim":null}
[2025-10-18 22:02:56] [DATABASE ERROR] Parâmetro associado: :produto_id = 5 (tipo: 1)
[2025-10-18 22:02:56] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-10-18 22:02:56] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-10-18 22:02:56] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-10-18 22:02:56] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":5}
[2025-10-18 22:02:56] [DATABASE ERROR] Parâmetro associado: :id = 5 (tipo: 1)
[2025-10-18 22:02:56] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-18 22:02:56] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":6,":data_fim_a":null,":data_fim":null}
[2025-10-18 22:02:56] [DATABASE ERROR] Parâmetro associado: :produto_id = 6 (tipo: 1)
[2025-10-18 22:02:56] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-10-18 22:02:56] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-10-18 22:02:56] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-10-18 22:02:56] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":6}
[2025-10-18 22:02:56] [DATABASE ERROR] Parâmetro associado: :id = 6 (tipo: 1)
[2025-10-18 22:02:56] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-18 22:02:56] [DATABASE ERROR] Preparando query: SELECT id, codigo, nome, estoque_atual, estoque_minimo, categoria, fornecedor 
                    FROM vw_produtos_estoque_critico 
                    ORDER BY estoque_atual ASC 
                    LIMIT 10 com parâmetros: []
[2025-10-18 22:02:56] [DATABASE ERROR] Debug PDO após binding: SQL: [212] SELECT id, codigo, nome, estoque_atual, estoque_minimo, categoria, fornecedor 
                    FROM vw_produtos_estoque_critico 
                    ORDER BY estoque_atual ASC 
                    LIMIT 10
Params:  0

[2025-10-18 22:02:56] [DATABASE ERROR] Preparando query: 
                SELECT 
                    DATE_FORMAT(m.data_movimentacao, '%Y-%m') as periodo,
                    tm.tipo,
                    SUM(mi.quantidade) as total_quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                WHERE m.status = 'PROCESSADO'
                    AND m.data_movimentacao >= DATE_SUB(CURDATE(), INTERVAL 6 MONTH)
                GROUP BY periodo, tm.tipo
                ORDER BY periodo ASC com parâmetros: []
[2025-10-18 22:02:56] [DATABASE ERROR] Debug PDO após binding: SQL: [593] 
                SELECT 
                    DATE_FORMAT(m.data_movimentacao, '%Y-%m') as periodo,
                    tm.tipo,
                    SUM(mi.quantidade) as total_quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                WHERE m.status = 'PROCESSADO'
                    AND m.data_movimentacao >= DATE_SUB(CURDATE(), INTERVAL 6 MONTH)
                GROUP BY periodo, tm.tipo
                ORDER BY periodo ASC
Params:  0

[2025-10-18 22:02:56] [DATABASE ERROR] Preparando query: SELECT id, tipo, categoria, documento_numero, data_movimentacao, valor_total, fornecedor, usuario 
                    FROM vw_movimentacoes_recentes 
                    ORDER BY data_movimentacao DESC 
                    LIMIT 10 com parâmetros: []
[2025-10-18 22:02:56] [DATABASE ERROR] Debug PDO após binding: SQL: [235] SELECT id, tipo, categoria, documento_numero, data_movimentacao, valor_total, fornecedor, usuario 
                    FROM vw_movimentacoes_recentes 
                    ORDER BY data_movimentacao DESC 
                    LIMIT 10
Params:  0

[2025-10-18 22:03:00] [DATABASE ERROR] Parâmetro associado: :user_id = 1 (tipo: 1)
[2025-10-18 22:03:00] [DATABASE ERROR] Parâmetro associado: :tabela = usuarios (tipo: 2)
[2025-10-18 22:03:00] [DATABASE ERROR] Parâmetro associado: :registro_id = NULL (tipo: 0)
[2025-10-18 22:03:00] [DATABASE ERROR] Parâmetro associado: :acao = LOGOUT (tipo: 2)
[2025-10-18 22:03:00] [DATABASE ERROR] Parâmetro associado: :dados_anteriores = NULL (tipo: 0)
[2025-10-18 22:03:00] [DATABASE ERROR] Parâmetro associado: :dados_novos = NULL (tipo: 0)
[2025-10-18 22:03:00] [DATABASE ERROR] Parâmetro associado: :usuario_id = NULL (tipo: 0)
[2025-10-18 22:03:00] [DATABASE ERROR] Parâmetro associado: :ip_address = 192.168.15.8 (tipo: 2)
[2025-10-18 22:03:00] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36 (tipo: 2)
[2025-10-18 22:03:00] [DATABASE ERROR] Erro ao executar query: SQLSTATE[23000]: Integrity constraint violation: 1048 Column 'registro_id' cannot be null
[2025-10-18 22:03:08] [DATABASE ERROR] Parâmetro associado: :username = adm2 (tipo: 2)
[2025-10-18 22:03:08] [DATABASE ERROR] Parâmetro associado: :email = adm2 (tipo: 2)
[2025-10-18 22:03:08] [DATABASE ERROR] Preparando query: UPDATE usuarios SET ultimo_acesso = NOW() WHERE id = :id com parâmetros: {":id":3}
[2025-10-18 22:03:08] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-10-18 22:03:08] [DATABASE ERROR] Debug PDO após binding: SQL: [56] UPDATE usuarios SET ultimo_acesso = NOW() WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-18 22:03:08] [DATABASE ERROR] Parâmetro associado: :tabela = usuarios (tipo: 2)
[2025-10-18 22:03:08] [DATABASE ERROR] Parâmetro associado: :registro_id = 3 (tipo: 1)
[2025-10-18 22:03:08] [DATABASE ERROR] Parâmetro associado: :acao = LOGIN (tipo: 2)
[2025-10-18 22:03:08] [DATABASE ERROR] Parâmetro associado: :dados_anteriores = NULL (tipo: 0)
[2025-10-18 22:03:08] [DATABASE ERROR] Parâmetro associado: :dados_novos = NULL (tipo: 0)
[2025-10-18 22:03:08] [DATABASE ERROR] Parâmetro associado: :usuario_id = NULL (tipo: 0)
[2025-10-18 22:03:08] [DATABASE ERROR] Parâmetro associado: :ip_address = 192.168.15.8 (tipo: 2)
[2025-10-18 22:03:08] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36 (tipo: 2)
[2025-10-18 22:03:08] [DATABASE ERROR] Erro ao executar query: SQLSTATE[01000]: Warning: 1265 Data truncated for column 'acao' at row 1
[2025-10-18 22:03:08] [DATABASE ERROR] Parâmetro associado: :id = qu4mkgjracl36o7i1b6g0tkurt (tipo: 2)
[2025-10-18 22:03:08] [DATABASE ERROR] Parâmetro associado: :id = qu4mkgjracl36o7i1b6g0tkurt (tipo: 2)
[2025-10-18 22:03:08] [DATABASE ERROR] Parâmetro associado: :usuario_id = 3 (tipo: 1)
[2025-10-18 22:03:08] [DATABASE ERROR] Parâmetro associado: :ip_address = 192.168.15.8 (tipo: 2)
[2025-10-18 22:03:08] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36 (tipo: 2)
[2025-10-18 22:03:08] [DATABASE ERROR] Parâmetro associado: :dados = {"user_id":3,"user_name":"Adm2","user_email":"adm2@borela.com","user_profile":1,"user_profile_name":"Administrador","logged_in":true,"login_time":1760835788} (tipo: 2)
[2025-10-18 22:03:09] [DATABASE ERROR] Parâmetro associado: :usuario_id = 3 (tipo: 1)
[2025-10-18 22:03:09] [DATABASE ERROR] Preparando query: SELECT id, codigo, nome, estoque_atual, estoque_minimo, categoria, fornecedor 
                    FROM vw_produtos_estoque_critico 
                    ORDER BY estoque_atual ASC 
                    LIMIT 10 com parâmetros: []
[2025-10-18 22:03:09] [DATABASE ERROR] Debug PDO após binding: SQL: [212] SELECT id, codigo, nome, estoque_atual, estoque_minimo, categoria, fornecedor 
                    FROM vw_produtos_estoque_critico 
                    ORDER BY estoque_atual ASC 
                    LIMIT 10
Params:  0

[2025-10-18 22:03:09] [DATABASE ERROR] Preparando query: SELECT SUM(estoque_atual) as total_estoque FROM produtos WHERE ativo = TRUE com parâmetros: []
[2025-10-18 22:03:09] [DATABASE ERROR] Debug PDO após binding: SQL: [75] SELECT SUM(estoque_atual) as total_estoque FROM produtos WHERE ativo = TRUE
Params:  0

[2025-10-18 22:03:09] [DATABASE ERROR] Preparando query: SELECT id FROM produtos WHERE ativo = TRUE com parâmetros: []
[2025-10-18 22:03:09] [DATABASE ERROR] Debug PDO após binding: SQL: [42] SELECT id FROM produtos WHERE ativo = TRUE
Params:  0

[2025-10-18 22:03:09] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":2,":data_fim_a":null,":data_fim":null}
[2025-10-18 22:03:09] [DATABASE ERROR] Parâmetro associado: :produto_id = 2 (tipo: 1)
[2025-10-18 22:03:09] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-10-18 22:03:09] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-10-18 22:03:09] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-10-18 22:03:09] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":2}
[2025-10-18 22:03:09] [DATABASE ERROR] Parâmetro associado: :id = 2 (tipo: 1)
[2025-10-18 22:03:09] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-18 22:03:09] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":3,":data_fim_a":null,":data_fim":null}
[2025-10-18 22:03:09] [DATABASE ERROR] Parâmetro associado: :produto_id = 3 (tipo: 1)
[2025-10-18 22:03:09] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-10-18 22:03:09] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-10-18 22:03:09] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-10-18 22:03:09] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":3}
[2025-10-18 22:03:09] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-10-18 22:03:09] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-18 22:03:09] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":4,":data_fim_a":null,":data_fim":null}
[2025-10-18 22:03:09] [DATABASE ERROR] Parâmetro associado: :produto_id = 4 (tipo: 1)
[2025-10-18 22:03:09] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-10-18 22:03:09] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-10-18 22:03:09] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-10-18 22:03:09] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":4}
[2025-10-18 22:03:09] [DATABASE ERROR] Parâmetro associado: :id = 4 (tipo: 1)
[2025-10-18 22:03:09] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-18 22:03:09] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":5,":data_fim_a":null,":data_fim":null}
[2025-10-18 22:03:09] [DATABASE ERROR] Parâmetro associado: :produto_id = 5 (tipo: 1)
[2025-10-18 22:03:09] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-10-18 22:03:09] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-10-18 22:03:09] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-10-18 22:03:09] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":5}
[2025-10-18 22:03:09] [DATABASE ERROR] Parâmetro associado: :id = 5 (tipo: 1)
[2025-10-18 22:03:09] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-18 22:03:09] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":6,":data_fim_a":null,":data_fim":null}
[2025-10-18 22:03:09] [DATABASE ERROR] Parâmetro associado: :produto_id = 6 (tipo: 1)
[2025-10-18 22:03:09] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-10-18 22:03:09] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-10-18 22:03:09] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-10-18 22:03:09] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":6}
[2025-10-18 22:03:09] [DATABASE ERROR] Parâmetro associado: :id = 6 (tipo: 1)
[2025-10-18 22:03:09] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-18 22:03:09] [DATABASE ERROR] Preparando query: SELECT id, tipo, categoria, documento_numero, data_movimentacao, valor_total, fornecedor, usuario 
                    FROM vw_movimentacoes_recentes 
                    ORDER BY data_movimentacao DESC 
                    LIMIT 10 com parâmetros: []
[2025-10-18 22:03:09] [DATABASE ERROR] Debug PDO após binding: SQL: [235] SELECT id, tipo, categoria, documento_numero, data_movimentacao, valor_total, fornecedor, usuario 
                    FROM vw_movimentacoes_recentes 
                    ORDER BY data_movimentacao DESC 
                    LIMIT 10
Params:  0

[2025-10-18 22:03:09] [DATABASE ERROR] Preparando query: 
                SELECT 
                    DATE_FORMAT(m.data_movimentacao, '%Y-%m') as periodo,
                    tm.tipo,
                    SUM(mi.quantidade) as total_quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                WHERE m.status = 'PROCESSADO'
                    AND m.data_movimentacao >= DATE_SUB(CURDATE(), INTERVAL 6 MONTH)
                GROUP BY periodo, tm.tipo
                ORDER BY periodo ASC com parâmetros: []
[2025-10-18 22:03:09] [DATABASE ERROR] Debug PDO após binding: SQL: [593] 
                SELECT 
                    DATE_FORMAT(m.data_movimentacao, '%Y-%m') as periodo,
                    tm.tipo,
                    SUM(mi.quantidade) as total_quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                WHERE m.status = 'PROCESSADO'
                    AND m.data_movimentacao >= DATE_SUB(CURDATE(), INTERVAL 6 MONTH)
                GROUP BY periodo, tm.tipo
                ORDER BY periodo ASC
Params:  0

[2025-10-18 22:03:15] [DATABASE ERROR] Parâmetro associado: :usuario_id = 3 (tipo: 1)
[2025-10-18 22:03:16] [DATABASE ERROR] Parâmetro associado: :usuario_id = 3 (tipo: 1)
[2025-10-18 22:03:17] [DATABASE ERROR] Parâmetro associado: :alert_id = 13 (tipo: 1)
[2025-10-18 22:03:17] [DATABASE ERROR] Parâmetro associado: :usuario_id = 3 (tipo: 1)
[2025-10-18 22:03:17] [DATABASE ERROR] Parâmetro associado: :tabela = alertas_estoque (tipo: 2)
[2025-10-18 22:03:17] [DATABASE ERROR] Parâmetro associado: :registro_id = 13 (tipo: 1)
[2025-10-18 22:03:17] [DATABASE ERROR] Parâmetro associado: :acao = alertas_estoque (tipo: 2)
[2025-10-18 22:03:17] [DATABASE ERROR] Parâmetro associado: :dados_anteriores = "UPDATE" (tipo: 2)
[2025-10-18 22:03:17] [DATABASE ERROR] Parâmetro associado: :dados_novos = {"lido":false} (tipo: 2)
[2025-10-18 22:03:17] [DATABASE ERROR] Parâmetro associado: :usuario_id = 3 (tipo: 1)
[2025-10-18 22:03:17] [DATABASE ERROR] Parâmetro associado: :ip_address = 192.168.15.8 (tipo: 2)
[2025-10-18 22:03:17] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36 (tipo: 2)
[2025-10-18 22:03:17] [DATABASE ERROR] Erro ao executar query: SQLSTATE[01000]: Warning: 1265 Data truncated for column 'acao' at row 1
[2025-10-18 22:04:16] [DATABASE ERROR] Parâmetro associado: :usuario_id = 3 (tipo: 1)
[2025-10-18 22:05:16] [DATABASE ERROR] Parâmetro associado: :usuario_id = 3 (tipo: 1)
[2025-10-18 22:06:16] [DATABASE ERROR] Parâmetro associado: :usuario_id = 3 (tipo: 1)
[2025-10-18 22:07:16] [DATABASE ERROR] Parâmetro associado: :usuario_id = 3 (tipo: 1)
[2025-10-18 22:08:16] [DATABASE ERROR] Parâmetro associado: :usuario_id = 3 (tipo: 1)
[2025-10-18 22:09:16] [DATABASE ERROR] Parâmetro associado: :usuario_id = 3 (tipo: 1)
[2025-10-18 22:11:13] [DATABASE ERROR] Parâmetro associado: :usuario_id = 3 (tipo: 1)
[2025-10-18 22:13:13] [DATABASE ERROR] Parâmetro associado: :usuario_id = 3 (tipo: 1)
[2025-10-18 22:15:13] [DATABASE ERROR] Parâmetro associado: :usuario_id = 3 (tipo: 1)
[2025-10-18 22:17:13] [DATABASE ERROR] Parâmetro associado: :usuario_id = 3 (tipo: 1)
[2025-10-18 22:19:13] [DATABASE ERROR] Parâmetro associado: :usuario_id = 3 (tipo: 1)
[2025-10-18 22:21:13] [DATABASE ERROR] Parâmetro associado: :usuario_id = 3 (tipo: 1)
[2025-10-18 22:23:13] [DATABASE ERROR] Parâmetro associado: :usuario_id = 3 (tipo: 1)
[2025-10-18 22:25:13] [DATABASE ERROR] Parâmetro associado: :usuario_id = 3 (tipo: 1)
[2025-10-18 22:27:13] [DATABASE ERROR] Parâmetro associado: :usuario_id = 3 (tipo: 1)
[2025-10-18 22:29:13] [DATABASE ERROR] Parâmetro associado: :usuario_id = 3 (tipo: 1)
[2025-10-18 22:31:13] [DATABASE ERROR] Parâmetro associado: :usuario_id = 3 (tipo: 1)
[2025-10-18 22:33:13] [DATABASE ERROR] Parâmetro associado: :usuario_id = 3 (tipo: 1)
[2025-10-18 22:35:13] [DATABASE ERROR] Parâmetro associado: :usuario_id = 3 (tipo: 1)
[2025-10-18 22:37:13] [DATABASE ERROR] Parâmetro associado: :usuario_id = 3 (tipo: 1)
[2025-10-18 22:39:13] [DATABASE ERROR] Parâmetro associado: :usuario_id = 3 (tipo: 1)
[2025-10-18 22:40:17] [DATABASE ERROR] Parâmetro associado: :usuario_id = 3 (tipo: 1)
[2025-10-18 22:40:19] [DATABASE ERROR] Preparando query: SELECT * FROM produtos WHERE ativo = :value com parâmetros: {":value":1}
[2025-10-18 22:40:19] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-10-18 22:40:19] [DATABASE ERROR] Debug PDO após binding: SQL: [43] SELECT * FROM produtos WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-10-18 22:40:19] [DATABASE ERROR] Preparando query: SELECT * FROM categorias WHERE ativo = :value com parâmetros: {":value":1}
[2025-10-18 22:40:19] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-10-18 22:40:19] [DATABASE ERROR] Debug PDO após binding: SQL: [45] SELECT * FROM categorias WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-10-18 22:40:19] [DATABASE ERROR] Preparando query: SELECT * FROM categorias WHERE ativo = :value com parâmetros: {":value":1}
[2025-10-18 22:40:19] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-10-18 22:40:19] [DATABASE ERROR] Debug PDO após binding: SQL: [45] SELECT * FROM categorias WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-10-18 22:40:19] [DATABASE ERROR] Preparando query: SELECT * FROM unidades_medida com parâmetros: []
[2025-10-18 22:40:19] [DATABASE ERROR] Debug PDO após binding: SQL: [29] SELECT * FROM unidades_medida
Params:  0

[2025-10-18 22:40:19] [DATABASE ERROR] Preparando query: SELECT * FROM fornecedores WHERE ativo = :value com parâmetros: {":value":1}
[2025-10-18 22:40:19] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-10-18 22:40:19] [DATABASE ERROR] Debug PDO após binding: SQL: [47] SELECT * FROM fornecedores WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-10-18 22:40:19] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-10-18 22:40:19] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-10-18 22:40:19] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-10-18 22:40:19] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-10-18 22:40:19] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-10-18 22:40:43] [DATABASE ERROR] Parâmetro associado: :usuario_id = 3 (tipo: 1)
[2025-10-18 22:40:43] [DATABASE ERROR] Preparando query: SELECT SUM(estoque_atual) as total_estoque FROM produtos WHERE ativo = TRUE com parâmetros: []
[2025-10-18 22:40:43] [DATABASE ERROR] Debug PDO após binding: SQL: [75] SELECT SUM(estoque_atual) as total_estoque FROM produtos WHERE ativo = TRUE
Params:  0

[2025-10-18 22:40:43] [DATABASE ERROR] Preparando query: SELECT id FROM produtos WHERE ativo = TRUE com parâmetros: []
[2025-10-18 22:40:43] [DATABASE ERROR] Debug PDO após binding: SQL: [42] SELECT id FROM produtos WHERE ativo = TRUE
Params:  0

[2025-10-18 22:40:43] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":2,":data_fim_a":null,":data_fim":null}
[2025-10-18 22:40:43] [DATABASE ERROR] Parâmetro associado: :produto_id = 2 (tipo: 1)
[2025-10-18 22:40:43] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-10-18 22:40:43] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-10-18 22:40:43] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-10-18 22:40:43] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":2}
[2025-10-18 22:40:43] [DATABASE ERROR] Parâmetro associado: :id = 2 (tipo: 1)
[2025-10-18 22:40:43] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-18 22:40:43] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":3,":data_fim_a":null,":data_fim":null}
[2025-10-18 22:40:43] [DATABASE ERROR] Parâmetro associado: :produto_id = 3 (tipo: 1)
[2025-10-18 22:40:43] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-10-18 22:40:43] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-10-18 22:40:43] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-10-18 22:40:43] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":3}
[2025-10-18 22:40:43] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-10-18 22:40:43] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-18 22:40:43] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":4,":data_fim_a":null,":data_fim":null}
[2025-10-18 22:40:43] [DATABASE ERROR] Parâmetro associado: :produto_id = 4 (tipo: 1)
[2025-10-18 22:40:43] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-10-18 22:40:43] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-10-18 22:40:43] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-10-18 22:40:43] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":4}
[2025-10-18 22:40:43] [DATABASE ERROR] Parâmetro associado: :id = 4 (tipo: 1)
[2025-10-18 22:40:43] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-18 22:40:43] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":5,":data_fim_a":null,":data_fim":null}
[2025-10-18 22:40:43] [DATABASE ERROR] Parâmetro associado: :produto_id = 5 (tipo: 1)
[2025-10-18 22:40:43] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-10-18 22:40:43] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-10-18 22:40:43] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-10-18 22:40:43] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":5}
[2025-10-18 22:40:43] [DATABASE ERROR] Parâmetro associado: :id = 5 (tipo: 1)
[2025-10-18 22:40:43] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-18 22:40:43] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":6,":data_fim_a":null,":data_fim":null}
[2025-10-18 22:40:43] [DATABASE ERROR] Parâmetro associado: :produto_id = 6 (tipo: 1)
[2025-10-18 22:40:43] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-10-18 22:40:43] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-10-18 22:40:43] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-10-18 22:40:43] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":6}
[2025-10-18 22:40:43] [DATABASE ERROR] Parâmetro associado: :id = 6 (tipo: 1)
[2025-10-18 22:40:43] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-18 22:40:43] [DATABASE ERROR] Preparando query: SELECT id, codigo, nome, estoque_atual, estoque_minimo, categoria, fornecedor 
                    FROM vw_produtos_estoque_critico 
                    ORDER BY estoque_atual ASC 
                    LIMIT 10 com parâmetros: []
[2025-10-18 22:40:43] [DATABASE ERROR] Debug PDO após binding: SQL: [212] SELECT id, codigo, nome, estoque_atual, estoque_minimo, categoria, fornecedor 
                    FROM vw_produtos_estoque_critico 
                    ORDER BY estoque_atual ASC 
                    LIMIT 10
Params:  0

[2025-10-18 22:40:43] [DATABASE ERROR] Preparando query: 
                SELECT 
                    DATE_FORMAT(m.data_movimentacao, '%Y-%m') as periodo,
                    tm.tipo,
                    SUM(mi.quantidade) as total_quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                WHERE m.status = 'PROCESSADO'
                    AND m.data_movimentacao >= DATE_SUB(CURDATE(), INTERVAL 6 MONTH)
                GROUP BY periodo, tm.tipo
                ORDER BY periodo ASC com parâmetros: []
[2025-10-18 22:40:43] [DATABASE ERROR] Debug PDO após binding: SQL: [593] 
                SELECT 
                    DATE_FORMAT(m.data_movimentacao, '%Y-%m') as periodo,
                    tm.tipo,
                    SUM(mi.quantidade) as total_quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                WHERE m.status = 'PROCESSADO'
                    AND m.data_movimentacao >= DATE_SUB(CURDATE(), INTERVAL 6 MONTH)
                GROUP BY periodo, tm.tipo
                ORDER BY periodo ASC
Params:  0

[2025-10-18 22:40:43] [DATABASE ERROR] Preparando query: SELECT id, tipo, categoria, documento_numero, data_movimentacao, valor_total, fornecedor, usuario 
                    FROM vw_movimentacoes_recentes 
                    ORDER BY data_movimentacao DESC 
                    LIMIT 10 com parâmetros: []
[2025-10-18 22:40:43] [DATABASE ERROR] Debug PDO após binding: SQL: [235] SELECT id, tipo, categoria, documento_numero, data_movimentacao, valor_total, fornecedor, usuario 
                    FROM vw_movimentacoes_recentes 
                    ORDER BY data_movimentacao DESC 
                    LIMIT 10
Params:  0

[2025-10-18 22:40:47] [DATABASE ERROR] Parâmetro associado: :user_id = 3 (tipo: 1)
[2025-10-18 22:40:47] [DATABASE ERROR] Parâmetro associado: :tabela = usuarios (tipo: 2)
[2025-10-18 22:40:47] [DATABASE ERROR] Parâmetro associado: :registro_id = NULL (tipo: 0)
[2025-10-18 22:40:47] [DATABASE ERROR] Parâmetro associado: :acao = LOGOUT (tipo: 2)
[2025-10-18 22:40:47] [DATABASE ERROR] Parâmetro associado: :dados_anteriores = NULL (tipo: 0)
[2025-10-18 22:40:47] [DATABASE ERROR] Parâmetro associado: :dados_novos = NULL (tipo: 0)
[2025-10-18 22:40:47] [DATABASE ERROR] Parâmetro associado: :usuario_id = NULL (tipo: 0)
[2025-10-18 22:40:47] [DATABASE ERROR] Parâmetro associado: :ip_address = 192.168.15.8 (tipo: 2)
[2025-10-18 22:40:47] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36 (tipo: 2)
[2025-10-18 22:40:47] [DATABASE ERROR] Erro ao executar query: SQLSTATE[23000]: Integrity constraint violation: 1048 Column 'registro_id' cannot be null
[2025-10-18 22:40:54] [DATABASE ERROR] Parâmetro associado: :username = flavio (tipo: 2)
[2025-10-18 22:40:54] [DATABASE ERROR] Parâmetro associado: :email = flavio (tipo: 2)
[2025-10-18 22:40:54] [DATABASE ERROR] Preparando query: UPDATE usuarios SET ultimo_acesso = NOW() WHERE id = :id com parâmetros: {":id":2}
[2025-10-18 22:40:54] [DATABASE ERROR] Parâmetro associado: :id = 2 (tipo: 1)
[2025-10-18 22:40:54] [DATABASE ERROR] Debug PDO após binding: SQL: [56] UPDATE usuarios SET ultimo_acesso = NOW() WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-18 22:40:54] [DATABASE ERROR] Parâmetro associado: :tabela = usuarios (tipo: 2)
[2025-10-18 22:40:54] [DATABASE ERROR] Parâmetro associado: :registro_id = 2 (tipo: 1)
[2025-10-18 22:40:54] [DATABASE ERROR] Parâmetro associado: :acao = LOGIN (tipo: 2)
[2025-10-18 22:40:54] [DATABASE ERROR] Parâmetro associado: :dados_anteriores = NULL (tipo: 0)
[2025-10-18 22:40:54] [DATABASE ERROR] Parâmetro associado: :dados_novos = NULL (tipo: 0)
[2025-10-18 22:40:54] [DATABASE ERROR] Parâmetro associado: :usuario_id = NULL (tipo: 0)
[2025-10-18 22:40:54] [DATABASE ERROR] Parâmetro associado: :ip_address = 192.168.15.8 (tipo: 2)
[2025-10-18 22:40:54] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36 (tipo: 2)
[2025-10-18 22:40:54] [DATABASE ERROR] Erro ao executar query: SQLSTATE[01000]: Warning: 1265 Data truncated for column 'acao' at row 1
[2025-10-18 22:40:54] [DATABASE ERROR] Parâmetro associado: :id = 20vla2ao9r41mhukft8340lmlu (tipo: 2)
[2025-10-18 22:40:54] [DATABASE ERROR] Parâmetro associado: :id = 20vla2ao9r41mhukft8340lmlu (tipo: 2)
[2025-10-18 22:40:54] [DATABASE ERROR] Parâmetro associado: :usuario_id = 2 (tipo: 1)
[2025-10-18 22:40:54] [DATABASE ERROR] Parâmetro associado: :ip_address = 192.168.15.8 (tipo: 2)
[2025-10-18 22:40:54] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36 (tipo: 2)
[2025-10-18 22:40:54] [DATABASE ERROR] Parâmetro associado: :dados = {"user_id":2,"user_name":"Fl\u00e1vio Alves","user_email":"flavioafj@yahoo.com.br","user_profile":2,"user_profile_name":"Operador","logged_in":true,"login_time":1760838054} (tipo: 2)
[2025-10-18 22:40:54] [DATABASE ERROR] Parâmetro associado: :usuario_id = 2 (tipo: 1)
[2025-10-18 22:41:03] [DATABASE ERROR] Parâmetro associado: :id = 2 (tipo: 1)
[2025-10-18 22:41:03] [DATABASE ERROR] Parâmetro associado: :id = 2 (tipo: 1)
[2025-10-18 22:41:03] [DATABASE ERROR] Parâmetro associado: :produto_id = 2 (tipo: 1)
[2025-10-18 22:41:03] [DATABASE ERROR] Parâmetro associado: :produto_id = 2 (tipo: 1)
[2025-10-18 22:41:03] [DATABASE ERROR] Parâmetro associado: :produto_id = 2 (tipo: 1)
[2025-10-18 22:41:03] [DATABASE ERROR] Parâmetro associado: :mensagem = Produto teste com estoque baixo: 1.000 <= 1.000. (tipo: 2)
[2025-10-18 22:41:03] [DATABASE ERROR] Parâmetro associado: :admin_id = 1 (tipo: 1)
[2025-10-18 22:41:03] [DATABASE ERROR] Parâmetro associado: :produto_id = 2 (tipo: 1)
[2025-10-18 22:41:03] [DATABASE ERROR] Parâmetro associado: :mensagem = Produto teste com estoque baixo: 1.000 <= 1.000. (tipo: 2)
[2025-10-18 22:41:03] [DATABASE ERROR] Parâmetro associado: :admin_id = 3 (tipo: 1)
[2025-10-18 22:41:03] [DATABASE ERROR] Parâmetro associado: :tabela = alertas_estoque (tipo: 2)
[2025-10-18 22:41:03] [DATABASE ERROR] Parâmetro associado: :registro_id = 15 (tipo: 2)
[2025-10-18 22:41:03] [DATABASE ERROR] Parâmetro associado: :acao = alertas_estoque (tipo: 2)
[2025-10-18 22:41:03] [DATABASE ERROR] Parâmetro associado: :dados_anteriores = "INSERT" (tipo: 2)
[2025-10-18 22:41:03] [DATABASE ERROR] Parâmetro associado: :dados_novos = NULL (tipo: 0)
[2025-10-18 22:41:03] [DATABASE ERROR] Parâmetro associado: :usuario_id = 2 (tipo: 1)
[2025-10-18 22:41:03] [DATABASE ERROR] Parâmetro associado: :ip_address = 192.168.15.8 (tipo: 2)
[2025-10-18 22:41:03] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36 (tipo: 2)
[2025-10-18 22:41:03] [DATABASE ERROR] Erro ao executar query: SQLSTATE[01000]: Warning: 1265 Data truncated for column 'acao' at row 1
[2025-10-18 22:41:03] [DATABASE ERROR] Parâmetro associado: :alert_id = 15 (tipo: 1)
[2025-10-18 22:41:03] [DATABASE ERROR] Parâmetro associado: :usuario_id = 2 (tipo: 1)
[2025-10-18 22:43:41] [DATABASE ERROR] Parâmetro associado: :id = 5 (tipo: 1)
[2025-10-18 22:43:41] [DATABASE ERROR] Parâmetro associado: :id = 5 (tipo: 1)
[2025-10-18 22:43:41] [DATABASE ERROR] Parâmetro associado: :produto_id = 5 (tipo: 1)
[2025-10-18 22:43:41] [DATABASE ERROR] Parâmetro associado: :produto_id = 5 (tipo: 1)
[2025-10-18 22:43:41] [DATABASE ERROR] Parâmetro associado: :produto_id = 5 (tipo: 1)
[2025-10-18 22:43:41] [DATABASE ERROR] Parâmetro associado: :mensagem = Produto Leite A integral bag com estoque baixo: 1.000 <= 1.000. (tipo: 2)
[2025-10-18 22:43:41] [DATABASE ERROR] Parâmetro associado: :admin_id = 1 (tipo: 1)
[2025-10-18 22:43:41] [DATABASE ERROR] Parâmetro associado: :produto_id = 5 (tipo: 1)
[2025-10-18 22:43:41] [DATABASE ERROR] Parâmetro associado: :mensagem = Produto Leite A integral bag com estoque baixo: 1.000 <= 1.000. (tipo: 2)
[2025-10-18 22:43:41] [DATABASE ERROR] Parâmetro associado: :admin_id = 3 (tipo: 1)
[2025-10-18 22:43:41] [DATABASE ERROR] Parâmetro associado: :tabela = alertas_estoque (tipo: 2)
[2025-10-18 22:43:41] [DATABASE ERROR] Parâmetro associado: :registro_id = 17 (tipo: 2)
[2025-10-18 22:43:41] [DATABASE ERROR] Parâmetro associado: :acao = alertas_estoque (tipo: 2)
[2025-10-18 22:43:41] [DATABASE ERROR] Parâmetro associado: :dados_anteriores = "INSERT" (tipo: 2)
[2025-10-18 22:43:41] [DATABASE ERROR] Parâmetro associado: :dados_novos = NULL (tipo: 0)
[2025-10-18 22:43:41] [DATABASE ERROR] Parâmetro associado: :usuario_id = 2 (tipo: 1)
[2025-10-18 22:43:41] [DATABASE ERROR] Parâmetro associado: :ip_address = 192.168.15.8 (tipo: 2)
[2025-10-18 22:43:41] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36 (tipo: 2)
[2025-10-18 22:43:41] [DATABASE ERROR] Erro ao executar query: SQLSTATE[01000]: Warning: 1265 Data truncated for column 'acao' at row 1
[2025-10-18 22:43:41] [DATABASE ERROR] Parâmetro associado: :alert_id = 17 (tipo: 1)
[2025-10-18 22:43:41] [DATABASE ERROR] Parâmetro associado: :usuario_id = 2 (tipo: 1)
[2025-10-18 22:44:52] [DATABASE ERROR] Parâmetro associado: :id = 6 (tipo: 1)
[2025-10-18 22:44:52] [DATABASE ERROR] Parâmetro associado: :id = 6 (tipo: 1)
[2025-10-18 22:44:52] [DATABASE ERROR] Parâmetro associado: :produto_id = 6 (tipo: 1)
[2025-10-18 22:44:52] [DATABASE ERROR] Parâmetro associado: :produto_id = 6 (tipo: 1)
[2025-10-18 22:44:52] [DATABASE ERROR] Parâmetro associado: :produto_id = 6 (tipo: 1)
[2025-10-18 22:44:52] [DATABASE ERROR] Parâmetro associado: :mensagem = Produto CREME DE LEITE PASTEUR com estoque baixo: 1.000 <= 2.000. (tipo: 2)
[2025-10-18 22:44:52] [DATABASE ERROR] Parâmetro associado: :admin_id = 1 (tipo: 1)
[2025-10-18 22:44:52] [DATABASE ERROR] Parâmetro associado: :produto_id = 6 (tipo: 1)
[2025-10-18 22:44:52] [DATABASE ERROR] Parâmetro associado: :mensagem = Produto CREME DE LEITE PASTEUR com estoque baixo: 1.000 <= 2.000. (tipo: 2)
[2025-10-18 22:44:52] [DATABASE ERROR] Parâmetro associado: :admin_id = 3 (tipo: 1)
[2025-10-18 22:44:52] [DATABASE ERROR] Parâmetro associado: :tabela = alertas_estoque (tipo: 2)
[2025-10-18 22:44:52] [DATABASE ERROR] Parâmetro associado: :registro_id = 19 (tipo: 2)
[2025-10-18 22:44:52] [DATABASE ERROR] Parâmetro associado: :acao = alertas_estoque (tipo: 2)
[2025-10-18 22:44:52] [DATABASE ERROR] Parâmetro associado: :dados_anteriores = "INSERT" (tipo: 2)
[2025-10-18 22:44:52] [DATABASE ERROR] Parâmetro associado: :dados_novos = NULL (tipo: 0)
[2025-10-18 22:44:52] [DATABASE ERROR] Parâmetro associado: :usuario_id = 2 (tipo: 1)
[2025-10-18 22:44:52] [DATABASE ERROR] Parâmetro associado: :ip_address = 192.168.15.8 (tipo: 2)
[2025-10-18 22:44:52] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36 (tipo: 2)
[2025-10-18 22:44:52] [DATABASE ERROR] Erro ao executar query: SQLSTATE[01000]: Warning: 1265 Data truncated for column 'acao' at row 1
[2025-10-18 22:44:52] [DATABASE ERROR] Parâmetro associado: :alert_id = 19 (tipo: 1)
[2025-10-18 22:44:52] [DATABASE ERROR] Parâmetro associado: :usuario_id = 2 (tipo: 1)
[2025-10-18 23:14:09] [DATABASE ERROR] Parâmetro associado: :usuario_id = 2 (tipo: 1)
[2025-10-18 23:14:16] [DATABASE ERROR] Parâmetro associado: :user_id = 2 (tipo: 1)
[2025-10-18 23:14:16] [DATABASE ERROR] Parâmetro associado: :tabela = usuarios (tipo: 2)
[2025-10-18 23:14:16] [DATABASE ERROR] Parâmetro associado: :registro_id = NULL (tipo: 0)
[2025-10-18 23:14:16] [DATABASE ERROR] Parâmetro associado: :acao = LOGOUT (tipo: 2)
[2025-10-18 23:14:16] [DATABASE ERROR] Parâmetro associado: :dados_anteriores = NULL (tipo: 0)
[2025-10-18 23:14:16] [DATABASE ERROR] Parâmetro associado: :dados_novos = NULL (tipo: 0)
[2025-10-18 23:14:16] [DATABASE ERROR] Parâmetro associado: :usuario_id = NULL (tipo: 0)
[2025-10-18 23:14:16] [DATABASE ERROR] Parâmetro associado: :ip_address = 192.168.15.8 (tipo: 2)
[2025-10-18 23:14:16] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36 (tipo: 2)
[2025-10-18 23:14:16] [DATABASE ERROR] Erro ao executar query: SQLSTATE[23000]: Integrity constraint violation: 1048 Column 'registro_id' cannot be null
[2025-10-18 23:14:23] [DATABASE ERROR] Parâmetro associado: :username = admin (tipo: 2)
[2025-10-18 23:14:23] [DATABASE ERROR] Parâmetro associado: :email = admin (tipo: 2)
[2025-10-18 23:14:24] [DATABASE ERROR] Preparando query: UPDATE usuarios SET ultimo_acesso = NOW() WHERE id = :id com parâmetros: {":id":1}
[2025-10-18 23:14:24] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-10-18 23:14:24] [DATABASE ERROR] Debug PDO após binding: SQL: [56] UPDATE usuarios SET ultimo_acesso = NOW() WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-18 23:14:24] [DATABASE ERROR] Parâmetro associado: :tabela = usuarios (tipo: 2)
[2025-10-18 23:14:24] [DATABASE ERROR] Parâmetro associado: :registro_id = 1 (tipo: 1)
[2025-10-18 23:14:24] [DATABASE ERROR] Parâmetro associado: :acao = LOGIN (tipo: 2)
[2025-10-18 23:14:24] [DATABASE ERROR] Parâmetro associado: :dados_anteriores = NULL (tipo: 0)
[2025-10-18 23:14:24] [DATABASE ERROR] Parâmetro associado: :dados_novos = NULL (tipo: 0)
[2025-10-18 23:14:24] [DATABASE ERROR] Parâmetro associado: :usuario_id = NULL (tipo: 0)
[2025-10-18 23:14:24] [DATABASE ERROR] Parâmetro associado: :ip_address = 192.168.15.8 (tipo: 2)
[2025-10-18 23:14:24] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36 (tipo: 2)
[2025-10-18 23:14:24] [DATABASE ERROR] Erro ao executar query: SQLSTATE[01000]: Warning: 1265 Data truncated for column 'acao' at row 1
[2025-10-18 23:14:24] [DATABASE ERROR] Parâmetro associado: :id = ubi1c2i2ngefkn77qqm4hvb1qg (tipo: 2)
[2025-10-18 23:14:24] [DATABASE ERROR] Parâmetro associado: :id = ubi1c2i2ngefkn77qqm4hvb1qg (tipo: 2)
[2025-10-18 23:14:24] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-10-18 23:14:24] [DATABASE ERROR] Parâmetro associado: :ip_address = 192.168.15.8 (tipo: 2)
[2025-10-18 23:14:24] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36 (tipo: 2)
[2025-10-18 23:14:24] [DATABASE ERROR] Parâmetro associado: :dados = {"user_id":1,"user_name":"Administrador do Sistema","user_email":"admin@sorveteria.com","user_profile":1,"user_profile_name":"Administrador","logged_in":true,"login_time":1760840064} (tipo: 2)
[2025-10-18 23:14:24] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-10-18 23:14:24] [DATABASE ERROR] Preparando query: SELECT id, codigo, nome, estoque_atual, estoque_minimo, categoria, fornecedor 
                    FROM vw_produtos_estoque_critico 
                    ORDER BY estoque_atual ASC 
                    LIMIT 10 com parâmetros: []
[2025-10-18 23:14:24] [DATABASE ERROR] Debug PDO após binding: SQL: [212] SELECT id, codigo, nome, estoque_atual, estoque_minimo, categoria, fornecedor 
                    FROM vw_produtos_estoque_critico 
                    ORDER BY estoque_atual ASC 
                    LIMIT 10
Params:  0

[2025-10-18 23:14:24] [DATABASE ERROR] Preparando query: SELECT SUM(estoque_atual) as total_estoque FROM produtos WHERE ativo = TRUE com parâmetros: []
[2025-10-18 23:14:24] [DATABASE ERROR] Debug PDO após binding: SQL: [75] SELECT SUM(estoque_atual) as total_estoque FROM produtos WHERE ativo = TRUE
Params:  0

[2025-10-18 23:14:24] [DATABASE ERROR] Preparando query: SELECT id FROM produtos WHERE ativo = TRUE com parâmetros: []
[2025-10-18 23:14:24] [DATABASE ERROR] Debug PDO após binding: SQL: [42] SELECT id FROM produtos WHERE ativo = TRUE
Params:  0

[2025-10-18 23:14:24] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":2,":data_fim_a":null,":data_fim":null}
[2025-10-18 23:14:24] [DATABASE ERROR] Parâmetro associado: :produto_id = 2 (tipo: 1)
[2025-10-18 23:14:24] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-10-18 23:14:24] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-10-18 23:14:24] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-10-18 23:14:24] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":2}
[2025-10-18 23:14:24] [DATABASE ERROR] Parâmetro associado: :id = 2 (tipo: 1)
[2025-10-18 23:14:24] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-18 23:14:24] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":3,":data_fim_a":null,":data_fim":null}
[2025-10-18 23:14:24] [DATABASE ERROR] Parâmetro associado: :produto_id = 3 (tipo: 1)
[2025-10-18 23:14:24] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-10-18 23:14:24] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-10-18 23:14:24] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-10-18 23:14:24] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":3}
[2025-10-18 23:14:24] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-10-18 23:14:24] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-18 23:14:24] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":4,":data_fim_a":null,":data_fim":null}
[2025-10-18 23:14:24] [DATABASE ERROR] Parâmetro associado: :produto_id = 4 (tipo: 1)
[2025-10-18 23:14:24] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-10-18 23:14:24] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-10-18 23:14:24] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-10-18 23:14:24] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":4}
[2025-10-18 23:14:24] [DATABASE ERROR] Parâmetro associado: :id = 4 (tipo: 1)
[2025-10-18 23:14:24] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-18 23:14:24] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":5,":data_fim_a":null,":data_fim":null}
[2025-10-18 23:14:24] [DATABASE ERROR] Parâmetro associado: :produto_id = 5 (tipo: 1)
[2025-10-18 23:14:24] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-10-18 23:14:24] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-10-18 23:14:24] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-10-18 23:14:24] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":5}
[2025-10-18 23:14:24] [DATABASE ERROR] Parâmetro associado: :id = 5 (tipo: 1)
[2025-10-18 23:14:24] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-18 23:14:24] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":6,":data_fim_a":null,":data_fim":null}
[2025-10-18 23:14:24] [DATABASE ERROR] Parâmetro associado: :produto_id = 6 (tipo: 1)
[2025-10-18 23:14:24] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-10-18 23:14:24] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-10-18 23:14:24] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-10-18 23:14:24] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":6}
[2025-10-18 23:14:24] [DATABASE ERROR] Parâmetro associado: :id = 6 (tipo: 1)
[2025-10-18 23:14:24] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-18 23:14:24] [DATABASE ERROR] Preparando query: SELECT id, tipo, categoria, documento_numero, data_movimentacao, valor_total, fornecedor, usuario 
                    FROM vw_movimentacoes_recentes 
                    ORDER BY data_movimentacao DESC 
                    LIMIT 10 com parâmetros: []
[2025-10-18 23:14:24] [DATABASE ERROR] Debug PDO após binding: SQL: [235] SELECT id, tipo, categoria, documento_numero, data_movimentacao, valor_total, fornecedor, usuario 
                    FROM vw_movimentacoes_recentes 
                    ORDER BY data_movimentacao DESC 
                    LIMIT 10
Params:  0

[2025-10-18 23:14:24] [DATABASE ERROR] Preparando query: 
                SELECT 
                    DATE_FORMAT(m.data_movimentacao, '%Y-%m') as periodo,
                    tm.tipo,
                    SUM(mi.quantidade) as total_quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                WHERE m.status = 'PROCESSADO'
                    AND m.data_movimentacao >= DATE_SUB(CURDATE(), INTERVAL 6 MONTH)
                GROUP BY periodo, tm.tipo
                ORDER BY periodo ASC com parâmetros: []
[2025-10-18 23:14:24] [DATABASE ERROR] Debug PDO após binding: SQL: [593] 
                SELECT 
                    DATE_FORMAT(m.data_movimentacao, '%Y-%m') as periodo,
                    tm.tipo,
                    SUM(mi.quantidade) as total_quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                WHERE m.status = 'PROCESSADO'
                    AND m.data_movimentacao >= DATE_SUB(CURDATE(), INTERVAL 6 MONTH)
                GROUP BY periodo, tm.tipo
                ORDER BY periodo ASC
Params:  0

[2025-10-18 23:14:30] [DATABASE ERROR] Preparando query: SELECT * FROM produtos WHERE ativo = :value com parâmetros: {":value":1}
[2025-10-18 23:14:30] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-10-18 23:14:30] [DATABASE ERROR] Debug PDO após binding: SQL: [43] SELECT * FROM produtos WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-10-18 23:14:56] [DATABASE ERROR] Parâmetro associado: :tabela = movimentacoes (tipo: 2)
[2025-10-18 23:14:56] [DATABASE ERROR] Parâmetro associado: :registro_id = 154 (tipo: 2)
[2025-10-18 23:14:56] [DATABASE ERROR] Parâmetro associado: :acao = INSERT (tipo: 2)
[2025-10-18 23:14:56] [DATABASE ERROR] Parâmetro associado: :dados_anteriores = NULL (tipo: 0)
[2025-10-18 23:14:56] [DATABASE ERROR] Parâmetro associado: :dados_novos = {"tipo_movimentacao_id":"1","observacao":"","produtos":{"2":"2","3":"6","4":"1","5":"10","6":"2"},"valor_unitario":{"2":"2","3":"6","4":"1","5":"10","6":"5"}} (tipo: 2)
[2025-10-18 23:14:56] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-10-18 23:14:56] [DATABASE ERROR] Parâmetro associado: :ip_address = 192.168.15.8 (tipo: 2)
[2025-10-18 23:14:56] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36 (tipo: 2)
[2025-10-18 23:14:56] [DATABASE ERROR] Parâmetro associado: :id = 2 (tipo: 1)
[2025-10-18 23:14:56] [DATABASE ERROR] Parâmetro associado: :produto_id = 2 (tipo: 1)
[2025-10-18 23:14:56] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-10-18 23:14:56] [DATABASE ERROR] Parâmetro associado: :produto_id = 3 (tipo: 1)
[2025-10-18 23:14:56] [DATABASE ERROR] Parâmetro associado: :id = 4 (tipo: 1)
[2025-10-18 23:14:56] [DATABASE ERROR] Parâmetro associado: :produto_id = 4 (tipo: 1)
[2025-10-18 23:14:56] [DATABASE ERROR] Parâmetro associado: :produto_id = 4 (tipo: 1)
[2025-10-18 23:14:56] [DATABASE ERROR] Parâmetro associado: :produto_id = 4 (tipo: 1)
[2025-10-18 23:14:56] [DATABASE ERROR] Parâmetro associado: :mensagem = Produto ggg1 com estoque baixo: 1.000 <= 1.000. (tipo: 2)
[2025-10-18 23:14:56] [DATABASE ERROR] Parâmetro associado: :admin_id = 1 (tipo: 1)
[2025-10-18 23:15:21] [DATABASE ERROR] Parâmetro associado: :produto_id = 4 (tipo: 1)
[2025-10-18 23:15:21] [DATABASE ERROR] Parâmetro associado: :mensagem = Produto ggg1 com estoque baixo: 1.000 <= 1.000. (tipo: 2)
[2025-10-18 23:15:21] [DATABASE ERROR] Parâmetro associado: :admin_id = 3 (tipo: 1)
[2025-10-18 23:15:22] [DATABASE ERROR] Parâmetro associado: :tabela = alertas_estoque (tipo: 2)
[2025-10-18 23:15:22] [DATABASE ERROR] Parâmetro associado: :registro_id = 21 (tipo: 2)
[2025-10-18 23:15:22] [DATABASE ERROR] Parâmetro associado: :acao = alertas_estoque (tipo: 2)
[2025-10-18 23:15:22] [DATABASE ERROR] Parâmetro associado: :dados_anteriores = "INSERT" (tipo: 2)
[2025-10-18 23:15:22] [DATABASE ERROR] Parâmetro associado: :dados_novos = NULL (tipo: 0)
[2025-10-18 23:15:22] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-10-18 23:15:22] [DATABASE ERROR] Parâmetro associado: :ip_address = 192.168.15.8 (tipo: 2)
[2025-10-18 23:15:22] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36 (tipo: 2)
[2025-10-18 23:15:22] [DATABASE ERROR] Erro ao executar query: SQLSTATE[01000]: Warning: 1265 Data truncated for column 'acao' at row 1
[2025-10-18 23:15:22] [DATABASE ERROR] Parâmetro associado: :alert_id = 21 (tipo: 1)
[2025-10-18 23:15:22] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-10-18 23:15:38] [DATABASE ERROR] Parâmetro associado: :id = 5 (tipo: 1)
[2025-10-18 23:15:38] [DATABASE ERROR] Parâmetro associado: :produto_id = 5 (tipo: 1)
[2025-10-18 23:15:38] [DATABASE ERROR] Parâmetro associado: :id = 6 (tipo: 1)
[2025-10-18 23:15:38] [DATABASE ERROR] Parâmetro associado: :produto_id = 6 (tipo: 1)
[2025-10-18 23:15:38] [DATABASE ERROR] Parâmetro associado: :produto_id = 2 (tipo: 1)
[2025-10-18 23:15:38] [DATABASE ERROR] Parâmetro associado: :produto_id = 6 (tipo: 1)
[2025-10-18 23:15:38] [DATABASE ERROR] Parâmetro associado: :produto_id = 1 (tipo: 1)
[2025-10-18 23:15:38] [DATABASE ERROR] Parâmetro associado: :produto_id = 10 (tipo: 1)
[2025-10-18 23:15:38] [DATABASE ERROR] Parâmetro associado: :produto_id = 2 (tipo: 1)
[2025-10-18 23:15:38] [DATABASE ERROR] Preparando query: SELECT * FROM produtos WHERE ativo = :value com parâmetros: {":value":1}
[2025-10-18 23:15:38] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-10-18 23:15:38] [DATABASE ERROR] Debug PDO após binding: SQL: [43] SELECT * FROM produtos WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-10-18 23:15:38] [DATABASE ERROR] Preparando query: SELECT * FROM categorias WHERE ativo = :value com parâmetros: {":value":1}
[2025-10-18 23:15:38] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-10-18 23:15:38] [DATABASE ERROR] Debug PDO após binding: SQL: [45] SELECT * FROM categorias WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-10-18 23:15:38] [DATABASE ERROR] Preparando query: SELECT * FROM categorias WHERE ativo = :value com parâmetros: {":value":1}
[2025-10-18 23:15:38] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-10-18 23:15:38] [DATABASE ERROR] Debug PDO após binding: SQL: [45] SELECT * FROM categorias WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-10-18 23:15:38] [DATABASE ERROR] Preparando query: SELECT * FROM unidades_medida com parâmetros: []
[2025-10-18 23:15:38] [DATABASE ERROR] Debug PDO após binding: SQL: [29] SELECT * FROM unidades_medida
Params:  0

[2025-10-18 23:15:38] [DATABASE ERROR] Preparando query: SELECT * FROM fornecedores WHERE ativo = :value com parâmetros: {":value":1}
[2025-10-18 23:15:38] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-10-18 23:15:38] [DATABASE ERROR] Debug PDO após binding: SQL: [47] SELECT * FROM fornecedores WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-10-18 23:15:38] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-10-18 23:15:38] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-10-18 23:15:38] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-10-18 23:15:38] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-10-18 23:15:38] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-10-18 23:17:46] [DATABASE ERROR] Parâmetro associado: :user_id = 1 (tipo: 1)
[2025-10-18 23:17:47] [DATABASE ERROR] Parâmetro associado: :tabela = usuarios (tipo: 2)
[2025-10-18 23:17:47] [DATABASE ERROR] Parâmetro associado: :registro_id = NULL (tipo: 0)
[2025-10-18 23:17:47] [DATABASE ERROR] Parâmetro associado: :acao = LOGOUT (tipo: 2)
[2025-10-18 23:17:47] [DATABASE ERROR] Parâmetro associado: :dados_anteriores = NULL (tipo: 0)
[2025-10-18 23:17:47] [DATABASE ERROR] Parâmetro associado: :dados_novos = NULL (tipo: 0)
[2025-10-18 23:17:47] [DATABASE ERROR] Parâmetro associado: :usuario_id = NULL (tipo: 0)
[2025-10-18 23:17:47] [DATABASE ERROR] Parâmetro associado: :ip_address = 192.168.15.8 (tipo: 2)
[2025-10-18 23:17:47] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36 (tipo: 2)
[2025-10-18 23:17:47] [DATABASE ERROR] Erro ao executar query: SQLSTATE[23000]: Integrity constraint violation: 1048 Column 'registro_id' cannot be null
[2025-10-18 23:17:53] [DATABASE ERROR] Parâmetro associado: :username = flavio (tipo: 2)
[2025-10-18 23:17:53] [DATABASE ERROR] Parâmetro associado: :email = flavio (tipo: 2)
[2025-10-18 23:17:54] [DATABASE ERROR] Preparando query: UPDATE usuarios SET ultimo_acesso = NOW() WHERE id = :id com parâmetros: {":id":2}
[2025-10-18 23:17:54] [DATABASE ERROR] Parâmetro associado: :id = 2 (tipo: 1)
[2025-10-18 23:17:54] [DATABASE ERROR] Debug PDO após binding: SQL: [56] UPDATE usuarios SET ultimo_acesso = NOW() WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-18 23:17:54] [DATABASE ERROR] Parâmetro associado: :tabela = usuarios (tipo: 2)
[2025-10-18 23:17:54] [DATABASE ERROR] Parâmetro associado: :registro_id = 2 (tipo: 1)
[2025-10-18 23:17:54] [DATABASE ERROR] Parâmetro associado: :acao = LOGIN (tipo: 2)
[2025-10-18 23:17:54] [DATABASE ERROR] Parâmetro associado: :dados_anteriores = NULL (tipo: 0)
[2025-10-18 23:17:54] [DATABASE ERROR] Parâmetro associado: :dados_novos = NULL (tipo: 0)
[2025-10-18 23:17:54] [DATABASE ERROR] Parâmetro associado: :usuario_id = NULL (tipo: 0)
[2025-10-18 23:17:54] [DATABASE ERROR] Parâmetro associado: :ip_address = 192.168.15.8 (tipo: 2)
[2025-10-18 23:17:54] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36 (tipo: 2)
[2025-10-18 23:17:54] [DATABASE ERROR] Erro ao executar query: SQLSTATE[01000]: Warning: 1265 Data truncated for column 'acao' at row 1
[2025-10-18 23:17:54] [DATABASE ERROR] Parâmetro associado: :id = iuc0n8868ufamiod7hfs8bndj8 (tipo: 2)
[2025-10-18 23:17:54] [DATABASE ERROR] Parâmetro associado: :id = iuc0n8868ufamiod7hfs8bndj8 (tipo: 2)
[2025-10-18 23:17:54] [DATABASE ERROR] Parâmetro associado: :usuario_id = 2 (tipo: 1)
[2025-10-18 23:17:54] [DATABASE ERROR] Parâmetro associado: :ip_address = 192.168.15.8 (tipo: 2)
[2025-10-18 23:17:54] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36 (tipo: 2)
[2025-10-18 23:17:54] [DATABASE ERROR] Parâmetro associado: :dados = {"user_id":2,"user_name":"Fl\u00e1vio Alves","user_email":"flavioafj@yahoo.com.br","user_profile":2,"user_profile_name":"Operador","logged_in":true,"login_time":1760840274} (tipo: 2)
[2025-10-18 23:17:54] [DATABASE ERROR] Parâmetro associado: :usuario_id = 2 (tipo: 1)
[2025-10-18 23:18:06] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-10-18 23:18:06] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-10-18 23:18:06] [DATABASE ERROR] Parâmetro associado: :produto_id = 3 (tipo: 1)
[2025-10-18 23:18:06] [DATABASE ERROR] Parâmetro associado: :produto_id = 3 (tipo: 1)
[2025-10-18 23:20:29] [DATABASE ERROR] Parâmetro associado: :id = 2 (tipo: 1)
[2025-10-18 23:20:29] [DATABASE ERROR] Parâmetro associado: :id = 2 (tipo: 1)
[2025-10-18 23:20:29] [DATABASE ERROR] Parâmetro associado: :produto_id = 2 (tipo: 1)
[2025-10-18 23:20:29] [DATABASE ERROR] Parâmetro associado: :produto_id = 2 (tipo: 1)
[2025-10-18 23:20:50] [DATABASE ERROR] Parâmetro associado: :id = 6 (tipo: 1)
[2025-10-18 23:20:50] [DATABASE ERROR] Parâmetro associado: :id = 6 (tipo: 1)
[2025-10-18 23:20:50] [DATABASE ERROR] Parâmetro associado: :produto_id = 6 (tipo: 1)
[2025-10-18 23:20:50] [DATABASE ERROR] Parâmetro associado: :produto_id = 6 (tipo: 1)
[2025-10-18 23:23:20] [DATABASE ERROR] Parâmetro associado: :user_id = 2 (tipo: 1)
[2025-10-18 23:23:20] [DATABASE ERROR] Parâmetro associado: :tabela = usuarios (tipo: 2)
[2025-10-18 23:23:20] [DATABASE ERROR] Parâmetro associado: :registro_id = NULL (tipo: 0)
[2025-10-18 23:23:20] [DATABASE ERROR] Parâmetro associado: :acao = LOGOUT (tipo: 2)
[2025-10-18 23:23:20] [DATABASE ERROR] Parâmetro associado: :dados_anteriores = NULL (tipo: 0)
[2025-10-18 23:23:20] [DATABASE ERROR] Parâmetro associado: :dados_novos = NULL (tipo: 0)
[2025-10-18 23:23:20] [DATABASE ERROR] Parâmetro associado: :usuario_id = NULL (tipo: 0)
[2025-10-18 23:23:20] [DATABASE ERROR] Parâmetro associado: :ip_address = 192.168.15.8 (tipo: 2)
[2025-10-18 23:23:20] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36 (tipo: 2)
[2025-10-18 23:23:20] [DATABASE ERROR] Erro ao executar query: SQLSTATE[23000]: Integrity constraint violation: 1048 Column 'registro_id' cannot be null
[2025-10-18 23:23:28] [DATABASE ERROR] Parâmetro associado: :username = admin (tipo: 2)
[2025-10-18 23:23:28] [DATABASE ERROR] Parâmetro associado: :email = admin (tipo: 2)
[2025-10-18 23:23:28] [DATABASE ERROR] Preparando query: UPDATE usuarios SET ultimo_acesso = NOW() WHERE id = :id com parâmetros: {":id":1}
[2025-10-18 23:23:28] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-10-18 23:23:28] [DATABASE ERROR] Debug PDO após binding: SQL: [56] UPDATE usuarios SET ultimo_acesso = NOW() WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-18 23:23:28] [DATABASE ERROR] Parâmetro associado: :tabela = usuarios (tipo: 2)
[2025-10-18 23:23:28] [DATABASE ERROR] Parâmetro associado: :registro_id = 1 (tipo: 1)
[2025-10-18 23:23:28] [DATABASE ERROR] Parâmetro associado: :acao = LOGIN (tipo: 2)
[2025-10-18 23:23:28] [DATABASE ERROR] Parâmetro associado: :dados_anteriores = NULL (tipo: 0)
[2025-10-18 23:23:28] [DATABASE ERROR] Parâmetro associado: :dados_novos = NULL (tipo: 0)
[2025-10-18 23:23:28] [DATABASE ERROR] Parâmetro associado: :usuario_id = NULL (tipo: 0)
[2025-10-18 23:23:28] [DATABASE ERROR] Parâmetro associado: :ip_address = 192.168.15.8 (tipo: 2)
[2025-10-18 23:23:28] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36 (tipo: 2)
[2025-10-18 23:23:28] [DATABASE ERROR] Erro ao executar query: SQLSTATE[01000]: Warning: 1265 Data truncated for column 'acao' at row 1
[2025-10-18 23:23:28] [DATABASE ERROR] Parâmetro associado: :id = shhthijmhuij5hpnt0mtpf86rs (tipo: 2)
[2025-10-18 23:23:28] [DATABASE ERROR] Parâmetro associado: :id = shhthijmhuij5hpnt0mtpf86rs (tipo: 2)
[2025-10-18 23:23:28] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-10-18 23:23:28] [DATABASE ERROR] Parâmetro associado: :ip_address = 192.168.15.8 (tipo: 2)
[2025-10-18 23:23:28] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36 (tipo: 2)
[2025-10-18 23:23:28] [DATABASE ERROR] Parâmetro associado: :dados = {"user_id":1,"user_name":"Administrador do Sistema","user_email":"admin@sorveteria.com","user_profile":1,"user_profile_name":"Administrador","logged_in":true,"login_time":1760840608} (tipo: 2)
[2025-10-18 23:23:28] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-10-18 23:23:29] [DATABASE ERROR] Preparando query: SELECT SUM(estoque_atual) as total_estoque FROM produtos WHERE ativo = TRUE com parâmetros: []
[2025-10-18 23:23:29] [DATABASE ERROR] Debug PDO após binding: SQL: [75] SELECT SUM(estoque_atual) as total_estoque FROM produtos WHERE ativo = TRUE
Params:  0

[2025-10-18 23:23:29] [DATABASE ERROR] Preparando query: SELECT id FROM produtos WHERE ativo = TRUE com parâmetros: []
[2025-10-18 23:23:29] [DATABASE ERROR] Debug PDO após binding: SQL: [42] SELECT id FROM produtos WHERE ativo = TRUE
Params:  0

[2025-10-18 23:23:29] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":2,":data_fim_a":null,":data_fim":null}
[2025-10-18 23:23:29] [DATABASE ERROR] Parâmetro associado: :produto_id = 2 (tipo: 1)
[2025-10-18 23:23:29] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-10-18 23:23:29] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-10-18 23:23:29] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-10-18 23:23:29] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":2}
[2025-10-18 23:23:29] [DATABASE ERROR] Parâmetro associado: :id = 2 (tipo: 1)
[2025-10-18 23:23:29] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-18 23:23:29] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":3,":data_fim_a":null,":data_fim":null}
[2025-10-18 23:23:29] [DATABASE ERROR] Parâmetro associado: :produto_id = 3 (tipo: 1)
[2025-10-18 23:23:29] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-10-18 23:23:29] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-10-18 23:23:29] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-10-18 23:23:29] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":3}
[2025-10-18 23:23:29] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-10-18 23:23:29] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-18 23:23:29] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":4,":data_fim_a":null,":data_fim":null}
[2025-10-18 23:23:29] [DATABASE ERROR] Parâmetro associado: :produto_id = 4 (tipo: 1)
[2025-10-18 23:23:29] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-10-18 23:23:29] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-10-18 23:23:29] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-10-18 23:23:29] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":4}
[2025-10-18 23:23:29] [DATABASE ERROR] Parâmetro associado: :id = 4 (tipo: 1)
[2025-10-18 23:23:29] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-18 23:23:29] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":5,":data_fim_a":null,":data_fim":null}
[2025-10-18 23:23:29] [DATABASE ERROR] Parâmetro associado: :produto_id = 5 (tipo: 1)
[2025-10-18 23:23:29] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-10-18 23:23:29] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-10-18 23:23:29] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-10-18 23:23:29] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":5}
[2025-10-18 23:23:29] [DATABASE ERROR] Parâmetro associado: :id = 5 (tipo: 1)
[2025-10-18 23:23:29] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-18 23:23:29] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":6,":data_fim_a":null,":data_fim":null}
[2025-10-18 23:23:29] [DATABASE ERROR] Parâmetro associado: :produto_id = 6 (tipo: 1)
[2025-10-18 23:23:29] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-10-18 23:23:29] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-10-18 23:23:29] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-10-18 23:23:29] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":6}
[2025-10-18 23:23:29] [DATABASE ERROR] Parâmetro associado: :id = 6 (tipo: 1)
[2025-10-18 23:23:29] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-18 23:23:29] [DATABASE ERROR] Preparando query: SELECT id, tipo, categoria, documento_numero, data_movimentacao, valor_total, fornecedor, usuario 
                    FROM vw_movimentacoes_recentes 
                    ORDER BY data_movimentacao DESC 
                    LIMIT 10 com parâmetros: []
[2025-10-18 23:23:29] [DATABASE ERROR] Debug PDO após binding: SQL: [235] SELECT id, tipo, categoria, documento_numero, data_movimentacao, valor_total, fornecedor, usuario 
                    FROM vw_movimentacoes_recentes 
                    ORDER BY data_movimentacao DESC 
                    LIMIT 10
Params:  0

[2025-10-18 23:23:29] [DATABASE ERROR] Preparando query: SELECT id, codigo, nome, estoque_atual, estoque_minimo, categoria, fornecedor 
                    FROM vw_produtos_estoque_critico 
                    ORDER BY estoque_atual ASC 
                    LIMIT 10 com parâmetros: []
[2025-10-18 23:23:29] [DATABASE ERROR] Debug PDO após binding: SQL: [212] SELECT id, codigo, nome, estoque_atual, estoque_minimo, categoria, fornecedor 
                    FROM vw_produtos_estoque_critico 
                    ORDER BY estoque_atual ASC 
                    LIMIT 10
Params:  0

[2025-10-18 23:23:29] [DATABASE ERROR] Preparando query: 
                SELECT 
                    DATE_FORMAT(m.data_movimentacao, '%Y-%m') as periodo,
                    tm.tipo,
                    SUM(mi.quantidade) as total_quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                WHERE m.status = 'PROCESSADO'
                    AND m.data_movimentacao >= DATE_SUB(CURDATE(), INTERVAL 6 MONTH)
                GROUP BY periodo, tm.tipo
                ORDER BY periodo ASC com parâmetros: []
[2025-10-18 23:23:29] [DATABASE ERROR] Debug PDO após binding: SQL: [593] 
                SELECT 
                    DATE_FORMAT(m.data_movimentacao, '%Y-%m') as periodo,
                    tm.tipo,
                    SUM(mi.quantidade) as total_quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                WHERE m.status = 'PROCESSADO'
                    AND m.data_movimentacao >= DATE_SUB(CURDATE(), INTERVAL 6 MONTH)
                GROUP BY periodo, tm.tipo
                ORDER BY periodo ASC
Params:  0

[2025-10-18 23:23:33] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-10-18 23:23:33] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-10-18 23:23:36] [DATABASE ERROR] Parâmetro associado: :alert_id = 14 (tipo: 1)
[2025-10-18 23:23:36] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-10-18 23:23:36] [DATABASE ERROR] Parâmetro associado: :tabela = alertas_estoque (tipo: 2)
[2025-10-18 23:23:36] [DATABASE ERROR] Parâmetro associado: :registro_id = 14 (tipo: 1)
[2025-10-18 23:23:36] [DATABASE ERROR] Parâmetro associado: :acao = alertas_estoque (tipo: 2)
[2025-10-18 23:23:36] [DATABASE ERROR] Parâmetro associado: :dados_anteriores = "UPDATE" (tipo: 2)
[2025-10-18 23:23:36] [DATABASE ERROR] Parâmetro associado: :dados_novos = {"lido":false} (tipo: 2)
[2025-10-18 23:23:36] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-10-18 23:23:36] [DATABASE ERROR] Parâmetro associado: :ip_address = 192.168.15.8 (tipo: 2)
[2025-10-18 23:23:36] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36 (tipo: 2)
[2025-10-18 23:23:36] [DATABASE ERROR] Erro ao executar query: SQLSTATE[01000]: Warning: 1265 Data truncated for column 'acao' at row 1
[2025-10-18 23:23:38] [DATABASE ERROR] Parâmetro associado: :alert_id = 16 (tipo: 1)
[2025-10-18 23:23:38] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-10-18 23:23:38] [DATABASE ERROR] Parâmetro associado: :tabela = alertas_estoque (tipo: 2)
[2025-10-18 23:23:38] [DATABASE ERROR] Parâmetro associado: :registro_id = 16 (tipo: 1)
[2025-10-18 23:23:38] [DATABASE ERROR] Parâmetro associado: :acao = alertas_estoque (tipo: 2)
[2025-10-18 23:23:38] [DATABASE ERROR] Parâmetro associado: :dados_anteriores = "UPDATE" (tipo: 2)
[2025-10-18 23:23:38] [DATABASE ERROR] Parâmetro associado: :dados_novos = {"lido":false} (tipo: 2)
[2025-10-18 23:23:38] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-10-18 23:23:38] [DATABASE ERROR] Parâmetro associado: :ip_address = 192.168.15.8 (tipo: 2)
[2025-10-18 23:23:38] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36 (tipo: 2)
[2025-10-18 23:23:38] [DATABASE ERROR] Erro ao executar query: SQLSTATE[01000]: Warning: 1265 Data truncated for column 'acao' at row 1
[2025-10-18 23:23:39] [DATABASE ERROR] Parâmetro associado: :alert_id = 20 (tipo: 1)
[2025-10-18 23:23:39] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-10-18 23:23:39] [DATABASE ERROR] Parâmetro associado: :tabela = alertas_estoque (tipo: 2)
[2025-10-18 23:23:39] [DATABASE ERROR] Parâmetro associado: :registro_id = 20 (tipo: 1)
[2025-10-18 23:23:39] [DATABASE ERROR] Parâmetro associado: :acao = alertas_estoque (tipo: 2)
[2025-10-18 23:23:39] [DATABASE ERROR] Parâmetro associado: :dados_anteriores = "UPDATE" (tipo: 2)
[2025-10-18 23:23:39] [DATABASE ERROR] Parâmetro associado: :dados_novos = {"lido":false} (tipo: 2)
[2025-10-18 23:23:39] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-10-18 23:23:39] [DATABASE ERROR] Parâmetro associado: :ip_address = 192.168.15.8 (tipo: 2)
[2025-10-18 23:23:39] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36 (tipo: 2)
[2025-10-18 23:23:39] [DATABASE ERROR] Erro ao executar query: SQLSTATE[01000]: Warning: 1265 Data truncated for column 'acao' at row 1
[2025-10-18 23:23:41] [DATABASE ERROR] Parâmetro associado: :alert_id = 18 (tipo: 1)
[2025-10-18 23:23:41] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-10-18 23:23:41] [DATABASE ERROR] Parâmetro associado: :tabela = alertas_estoque (tipo: 2)
[2025-10-18 23:23:41] [DATABASE ERROR] Parâmetro associado: :registro_id = 18 (tipo: 1)
[2025-10-18 23:23:41] [DATABASE ERROR] Parâmetro associado: :acao = alertas_estoque (tipo: 2)
[2025-10-18 23:23:41] [DATABASE ERROR] Parâmetro associado: :dados_anteriores = "UPDATE" (tipo: 2)
[2025-10-18 23:23:41] [DATABASE ERROR] Parâmetro associado: :dados_novos = {"lido":false} (tipo: 2)
[2025-10-18 23:23:41] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-10-18 23:23:41] [DATABASE ERROR] Parâmetro associado: :ip_address = 192.168.15.8 (tipo: 2)
[2025-10-18 23:23:41] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36 (tipo: 2)
[2025-10-18 23:23:41] [DATABASE ERROR] Erro ao executar query: SQLSTATE[01000]: Warning: 1265 Data truncated for column 'acao' at row 1
[2025-10-18 23:23:43] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-10-18 23:23:44] [DATABASE ERROR] Preparando query: SELECT SUM(estoque_atual) as total_estoque FROM produtos WHERE ativo = TRUE com parâmetros: []
[2025-10-18 23:23:44] [DATABASE ERROR] Debug PDO após binding: SQL: [75] SELECT SUM(estoque_atual) as total_estoque FROM produtos WHERE ativo = TRUE
Params:  0

[2025-10-18 23:23:44] [DATABASE ERROR] Preparando query: SELECT id FROM produtos WHERE ativo = TRUE com parâmetros: []
[2025-10-18 23:23:44] [DATABASE ERROR] Debug PDO após binding: SQL: [42] SELECT id FROM produtos WHERE ativo = TRUE
Params:  0

[2025-10-18 23:23:44] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":2,":data_fim_a":null,":data_fim":null}
[2025-10-18 23:23:44] [DATABASE ERROR] Parâmetro associado: :produto_id = 2 (tipo: 1)
[2025-10-18 23:23:44] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-10-18 23:23:44] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-10-18 23:23:44] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-10-18 23:23:44] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":2}
[2025-10-18 23:23:44] [DATABASE ERROR] Parâmetro associado: :id = 2 (tipo: 1)
[2025-10-18 23:23:44] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-18 23:23:44] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":3,":data_fim_a":null,":data_fim":null}
[2025-10-18 23:23:44] [DATABASE ERROR] Parâmetro associado: :produto_id = 3 (tipo: 1)
[2025-10-18 23:23:44] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-10-18 23:23:44] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-10-18 23:23:44] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-10-18 23:23:44] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":3}
[2025-10-18 23:23:44] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-10-18 23:23:44] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-18 23:23:44] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":4,":data_fim_a":null,":data_fim":null}
[2025-10-18 23:23:44] [DATABASE ERROR] Parâmetro associado: :produto_id = 4 (tipo: 1)
[2025-10-18 23:23:44] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-10-18 23:23:44] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-10-18 23:23:44] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-10-18 23:23:44] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":4}
[2025-10-18 23:23:44] [DATABASE ERROR] Parâmetro associado: :id = 4 (tipo: 1)
[2025-10-18 23:23:44] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-18 23:23:44] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":5,":data_fim_a":null,":data_fim":null}
[2025-10-18 23:23:44] [DATABASE ERROR] Parâmetro associado: :produto_id = 5 (tipo: 1)
[2025-10-18 23:23:44] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-10-18 23:23:44] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-10-18 23:23:44] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-10-18 23:23:44] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":5}
[2025-10-18 23:23:44] [DATABASE ERROR] Parâmetro associado: :id = 5 (tipo: 1)
[2025-10-18 23:23:44] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-18 23:23:44] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":6,":data_fim_a":null,":data_fim":null}
[2025-10-18 23:23:44] [DATABASE ERROR] Parâmetro associado: :produto_id = 6 (tipo: 1)
[2025-10-18 23:23:44] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-10-18 23:23:44] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-10-18 23:23:44] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-10-18 23:23:44] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":6}
[2025-10-18 23:23:44] [DATABASE ERROR] Parâmetro associado: :id = 6 (tipo: 1)
[2025-10-18 23:23:44] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-18 23:23:44] [DATABASE ERROR] Preparando query: SELECT id, codigo, nome, estoque_atual, estoque_minimo, categoria, fornecedor 
                    FROM vw_produtos_estoque_critico 
                    ORDER BY estoque_atual ASC 
                    LIMIT 10 com parâmetros: []
[2025-10-18 23:23:44] [DATABASE ERROR] Debug PDO após binding: SQL: [212] SELECT id, codigo, nome, estoque_atual, estoque_minimo, categoria, fornecedor 
                    FROM vw_produtos_estoque_critico 
                    ORDER BY estoque_atual ASC 
                    LIMIT 10
Params:  0

[2025-10-18 23:23:44] [DATABASE ERROR] Preparando query: SELECT id, tipo, categoria, documento_numero, data_movimentacao, valor_total, fornecedor, usuario 
                    FROM vw_movimentacoes_recentes 
                    ORDER BY data_movimentacao DESC 
                    LIMIT 10 com parâmetros: []
[2025-10-18 23:23:44] [DATABASE ERROR] Debug PDO após binding: SQL: [235] SELECT id, tipo, categoria, documento_numero, data_movimentacao, valor_total, fornecedor, usuario 
                    FROM vw_movimentacoes_recentes 
                    ORDER BY data_movimentacao DESC 
                    LIMIT 10
Params:  0

[2025-10-18 23:23:44] [DATABASE ERROR] Preparando query: 
                SELECT 
                    DATE_FORMAT(m.data_movimentacao, '%Y-%m') as periodo,
                    tm.tipo,
                    SUM(mi.quantidade) as total_quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                WHERE m.status = 'PROCESSADO'
                    AND m.data_movimentacao >= DATE_SUB(CURDATE(), INTERVAL 6 MONTH)
                GROUP BY periodo, tm.tipo
                ORDER BY periodo ASC com parâmetros: []
[2025-10-18 23:23:44] [DATABASE ERROR] Debug PDO após binding: SQL: [593] 
                SELECT 
                    DATE_FORMAT(m.data_movimentacao, '%Y-%m') as periodo,
                    tm.tipo,
                    SUM(mi.quantidade) as total_quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                WHERE m.status = 'PROCESSADO'
                    AND m.data_movimentacao >= DATE_SUB(CURDATE(), INTERVAL 6 MONTH)
                GROUP BY periodo, tm.tipo
                ORDER BY periodo ASC
Params:  0

[2025-10-18 23:24:41] [DATABASE ERROR] Parâmetro associado: :user_id = 1 (tipo: 1)
[2025-10-18 23:24:41] [DATABASE ERROR] Parâmetro associado: :tabela = usuarios (tipo: 2)
[2025-10-18 23:24:41] [DATABASE ERROR] Parâmetro associado: :registro_id = NULL (tipo: 0)
[2025-10-18 23:24:41] [DATABASE ERROR] Parâmetro associado: :acao = LOGOUT (tipo: 2)
[2025-10-18 23:24:41] [DATABASE ERROR] Parâmetro associado: :dados_anteriores = NULL (tipo: 0)
[2025-10-18 23:24:41] [DATABASE ERROR] Parâmetro associado: :dados_novos = NULL (tipo: 0)
[2025-10-18 23:24:41] [DATABASE ERROR] Parâmetro associado: :usuario_id = NULL (tipo: 0)
[2025-10-18 23:24:41] [DATABASE ERROR] Parâmetro associado: :ip_address = 192.168.15.8 (tipo: 2)
[2025-10-18 23:24:41] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36 (tipo: 2)
[2025-10-18 23:24:41] [DATABASE ERROR] Erro ao executar query: SQLSTATE[23000]: Integrity constraint violation: 1048 Column 'registro_id' cannot be null
[2025-10-18 23:24:48] [DATABASE ERROR] Parâmetro associado: :username = flavio (tipo: 2)
[2025-10-18 23:24:48] [DATABASE ERROR] Parâmetro associado: :email = flavio (tipo: 2)
[2025-10-18 23:24:48] [DATABASE ERROR] Preparando query: UPDATE usuarios SET ultimo_acesso = NOW() WHERE id = :id com parâmetros: {":id":2}
[2025-10-18 23:24:48] [DATABASE ERROR] Parâmetro associado: :id = 2 (tipo: 1)
[2025-10-18 23:24:48] [DATABASE ERROR] Debug PDO após binding: SQL: [56] UPDATE usuarios SET ultimo_acesso = NOW() WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-18 23:24:48] [DATABASE ERROR] Parâmetro associado: :tabela = usuarios (tipo: 2)
[2025-10-18 23:24:48] [DATABASE ERROR] Parâmetro associado: :registro_id = 2 (tipo: 1)
[2025-10-18 23:24:48] [DATABASE ERROR] Parâmetro associado: :acao = LOGIN (tipo: 2)
[2025-10-18 23:24:48] [DATABASE ERROR] Parâmetro associado: :dados_anteriores = NULL (tipo: 0)
[2025-10-18 23:24:48] [DATABASE ERROR] Parâmetro associado: :dados_novos = NULL (tipo: 0)
[2025-10-18 23:24:48] [DATABASE ERROR] Parâmetro associado: :usuario_id = NULL (tipo: 0)
[2025-10-18 23:24:48] [DATABASE ERROR] Parâmetro associado: :ip_address = 192.168.15.8 (tipo: 2)
[2025-10-18 23:24:48] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36 (tipo: 2)
[2025-10-18 23:24:48] [DATABASE ERROR] Erro ao executar query: SQLSTATE[01000]: Warning: 1265 Data truncated for column 'acao' at row 1
[2025-10-18 23:24:48] [DATABASE ERROR] Parâmetro associado: :id = dvbs4ktv2li7deied8pe17c5c7 (tipo: 2)
[2025-10-18 23:24:48] [DATABASE ERROR] Parâmetro associado: :id = dvbs4ktv2li7deied8pe17c5c7 (tipo: 2)
[2025-10-18 23:24:48] [DATABASE ERROR] Parâmetro associado: :usuario_id = 2 (tipo: 1)
[2025-10-18 23:24:48] [DATABASE ERROR] Parâmetro associado: :ip_address = 192.168.15.8 (tipo: 2)
[2025-10-18 23:24:48] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36 (tipo: 2)
[2025-10-18 23:24:48] [DATABASE ERROR] Parâmetro associado: :dados = {"user_id":2,"user_name":"Fl\u00e1vio Alves","user_email":"flavioafj@yahoo.com.br","user_profile":2,"user_profile_name":"Operador","logged_in":true,"login_time":1760840688} (tipo: 2)
[2025-10-18 23:24:48] [DATABASE ERROR] Parâmetro associado: :usuario_id = 2 (tipo: 1)
[2025-10-18 23:25:08] [DATABASE ERROR] Parâmetro associado: :id = 5 (tipo: 1)
[2025-10-18 23:25:08] [DATABASE ERROR] Parâmetro associado: :id = 5 (tipo: 1)
[2025-10-18 23:25:08] [DATABASE ERROR] Parâmetro associado: :produto_id = 5 (tipo: 1)
[2025-10-18 23:25:08] [DATABASE ERROR] Parâmetro associado: :produto_id = 5 (tipo: 1)
[2025-10-18 23:26:08] [DATABASE ERROR] Parâmetro associado: :user_id = 2 (tipo: 1)
[2025-10-18 23:26:08] [DATABASE ERROR] Parâmetro associado: :tabela = usuarios (tipo: 2)
[2025-10-18 23:26:08] [DATABASE ERROR] Parâmetro associado: :registro_id = NULL (tipo: 0)
[2025-10-18 23:26:08] [DATABASE ERROR] Parâmetro associado: :acao = LOGOUT (tipo: 2)
[2025-10-18 23:26:08] [DATABASE ERROR] Parâmetro associado: :dados_anteriores = NULL (tipo: 0)
[2025-10-18 23:26:08] [DATABASE ERROR] Parâmetro associado: :dados_novos = NULL (tipo: 0)
[2025-10-18 23:26:08] [DATABASE ERROR] Parâmetro associado: :usuario_id = NULL (tipo: 0)
[2025-10-18 23:26:08] [DATABASE ERROR] Parâmetro associado: :ip_address = 192.168.15.8 (tipo: 2)
[2025-10-18 23:26:08] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36 (tipo: 2)
[2025-10-18 23:26:08] [DATABASE ERROR] Erro ao executar query: SQLSTATE[23000]: Integrity constraint violation: 1048 Column 'registro_id' cannot be null
[2025-10-18 23:26:16] [DATABASE ERROR] Parâmetro associado: :username = adm2 (tipo: 2)
[2025-10-18 23:26:16] [DATABASE ERROR] Parâmetro associado: :email = adm2 (tipo: 2)
[2025-10-18 23:26:16] [DATABASE ERROR] Preparando query: UPDATE usuarios SET ultimo_acesso = NOW() WHERE id = :id com parâmetros: {":id":3}
[2025-10-18 23:26:16] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-10-18 23:26:16] [DATABASE ERROR] Debug PDO após binding: SQL: [56] UPDATE usuarios SET ultimo_acesso = NOW() WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-18 23:26:16] [DATABASE ERROR] Parâmetro associado: :tabela = usuarios (tipo: 2)
[2025-10-18 23:26:16] [DATABASE ERROR] Parâmetro associado: :registro_id = 3 (tipo: 1)
[2025-10-18 23:26:16] [DATABASE ERROR] Parâmetro associado: :acao = LOGIN (tipo: 2)
[2025-10-18 23:26:16] [DATABASE ERROR] Parâmetro associado: :dados_anteriores = NULL (tipo: 0)
[2025-10-18 23:26:16] [DATABASE ERROR] Parâmetro associado: :dados_novos = NULL (tipo: 0)
[2025-10-18 23:26:16] [DATABASE ERROR] Parâmetro associado: :usuario_id = NULL (tipo: 0)
[2025-10-18 23:26:16] [DATABASE ERROR] Parâmetro associado: :ip_address = 192.168.15.8 (tipo: 2)
[2025-10-18 23:26:16] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36 (tipo: 2)
[2025-10-18 23:26:16] [DATABASE ERROR] Erro ao executar query: SQLSTATE[01000]: Warning: 1265 Data truncated for column 'acao' at row 1
[2025-10-18 23:26:16] [DATABASE ERROR] Parâmetro associado: :id = pu31u9gk9n9v24v1trijd2o8b8 (tipo: 2)
[2025-10-18 23:26:16] [DATABASE ERROR] Parâmetro associado: :id = pu31u9gk9n9v24v1trijd2o8b8 (tipo: 2)
[2025-10-18 23:26:16] [DATABASE ERROR] Parâmetro associado: :usuario_id = 3 (tipo: 1)
[2025-10-18 23:26:16] [DATABASE ERROR] Parâmetro associado: :ip_address = 192.168.15.8 (tipo: 2)
[2025-10-18 23:26:16] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36 (tipo: 2)
[2025-10-18 23:26:16] [DATABASE ERROR] Parâmetro associado: :dados = {"user_id":3,"user_name":"Adm2","user_email":"adm2@borela.com","user_profile":1,"user_profile_name":"Administrador","logged_in":true,"login_time":1760840776} (tipo: 2)
[2025-10-18 23:26:16] [DATABASE ERROR] Parâmetro associado: :usuario_id = 3 (tipo: 1)
[2025-10-18 23:26:17] [DATABASE ERROR] Preparando query: SELECT id, tipo, categoria, documento_numero, data_movimentacao, valor_total, fornecedor, usuario 
                    FROM vw_movimentacoes_recentes 
                    ORDER BY data_movimentacao DESC 
                    LIMIT 10 com parâmetros: []
[2025-10-18 23:26:17] [DATABASE ERROR] Debug PDO após binding: SQL: [235] SELECT id, tipo, categoria, documento_numero, data_movimentacao, valor_total, fornecedor, usuario 
                    FROM vw_movimentacoes_recentes 
                    ORDER BY data_movimentacao DESC 
                    LIMIT 10
Params:  0

[2025-10-18 23:26:17] [DATABASE ERROR] Preparando query: SELECT SUM(estoque_atual) as total_estoque FROM produtos WHERE ativo = TRUE com parâmetros: []
[2025-10-18 23:26:17] [DATABASE ERROR] Debug PDO após binding: SQL: [75] SELECT SUM(estoque_atual) as total_estoque FROM produtos WHERE ativo = TRUE
Params:  0

[2025-10-18 23:26:17] [DATABASE ERROR] Preparando query: SELECT id FROM produtos WHERE ativo = TRUE com parâmetros: []
[2025-10-18 23:26:17] [DATABASE ERROR] Debug PDO após binding: SQL: [42] SELECT id FROM produtos WHERE ativo = TRUE
Params:  0

[2025-10-18 23:26:17] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":2,":data_fim_a":null,":data_fim":null}
[2025-10-18 23:26:17] [DATABASE ERROR] Parâmetro associado: :produto_id = 2 (tipo: 1)
[2025-10-18 23:26:17] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-10-18 23:26:17] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-10-18 23:26:17] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-10-18 23:26:17] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":2}
[2025-10-18 23:26:17] [DATABASE ERROR] Parâmetro associado: :id = 2 (tipo: 1)
[2025-10-18 23:26:17] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-18 23:26:17] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":3,":data_fim_a":null,":data_fim":null}
[2025-10-18 23:26:17] [DATABASE ERROR] Parâmetro associado: :produto_id = 3 (tipo: 1)
[2025-10-18 23:26:17] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-10-18 23:26:17] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-10-18 23:26:17] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-10-18 23:26:17] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":3}
[2025-10-18 23:26:17] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-10-18 23:26:17] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-18 23:26:17] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":4,":data_fim_a":null,":data_fim":null}
[2025-10-18 23:26:17] [DATABASE ERROR] Parâmetro associado: :produto_id = 4 (tipo: 1)
[2025-10-18 23:26:17] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-10-18 23:26:17] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-10-18 23:26:17] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-10-18 23:26:17] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":4}
[2025-10-18 23:26:17] [DATABASE ERROR] Parâmetro associado: :id = 4 (tipo: 1)
[2025-10-18 23:26:17] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-18 23:26:17] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":5,":data_fim_a":null,":data_fim":null}
[2025-10-18 23:26:17] [DATABASE ERROR] Parâmetro associado: :produto_id = 5 (tipo: 1)
[2025-10-18 23:26:17] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-10-18 23:26:17] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-10-18 23:26:17] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-10-18 23:26:17] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":5}
[2025-10-18 23:26:17] [DATABASE ERROR] Parâmetro associado: :id = 5 (tipo: 1)
[2025-10-18 23:26:17] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-18 23:26:17] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":6,":data_fim_a":null,":data_fim":null}
[2025-10-18 23:26:17] [DATABASE ERROR] Parâmetro associado: :produto_id = 6 (tipo: 1)
[2025-10-18 23:26:17] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-10-18 23:26:17] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-10-18 23:26:17] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-10-18 23:26:17] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":6}
[2025-10-18 23:26:17] [DATABASE ERROR] Parâmetro associado: :id = 6 (tipo: 1)
[2025-10-18 23:26:17] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-18 23:26:17] [DATABASE ERROR] Preparando query: 
                SELECT 
                    DATE_FORMAT(m.data_movimentacao, '%Y-%m') as periodo,
                    tm.tipo,
                    SUM(mi.quantidade) as total_quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                WHERE m.status = 'PROCESSADO'
                    AND m.data_movimentacao >= DATE_SUB(CURDATE(), INTERVAL 6 MONTH)
                GROUP BY periodo, tm.tipo
                ORDER BY periodo ASC com parâmetros: []
[2025-10-18 23:26:17] [DATABASE ERROR] Debug PDO após binding: SQL: [593] 
                SELECT 
                    DATE_FORMAT(m.data_movimentacao, '%Y-%m') as periodo,
                    tm.tipo,
                    SUM(mi.quantidade) as total_quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                WHERE m.status = 'PROCESSADO'
                    AND m.data_movimentacao >= DATE_SUB(CURDATE(), INTERVAL 6 MONTH)
                GROUP BY periodo, tm.tipo
                ORDER BY periodo ASC
Params:  0

[2025-10-18 23:26:17] [DATABASE ERROR] Preparando query: SELECT id, codigo, nome, estoque_atual, estoque_minimo, categoria, fornecedor 
                    FROM vw_produtos_estoque_critico 
                    ORDER BY estoque_atual ASC 
                    LIMIT 10 com parâmetros: []
[2025-10-18 23:26:17] [DATABASE ERROR] Debug PDO após binding: SQL: [212] SELECT id, codigo, nome, estoque_atual, estoque_minimo, categoria, fornecedor 
                    FROM vw_produtos_estoque_critico 
                    ORDER BY estoque_atual ASC 
                    LIMIT 10
Params:  0

[2025-10-18 23:26:23] [DATABASE ERROR] Parâmetro associado: :usuario_id = 3 (tipo: 1)
[2025-10-18 23:26:24] [DATABASE ERROR] Parâmetro associado: :usuario_id = 3 (tipo: 1)
[2025-10-18 23:26:27] [DATABASE ERROR] Parâmetro associado: :alert_id = 19 (tipo: 1)
[2025-10-18 23:26:27] [DATABASE ERROR] Parâmetro associado: :usuario_id = 3 (tipo: 1)
[2025-10-18 23:26:27] [DATABASE ERROR] Parâmetro associado: :tabela = alertas_estoque (tipo: 2)
[2025-10-18 23:26:27] [DATABASE ERROR] Parâmetro associado: :registro_id = 19 (tipo: 1)
[2025-10-18 23:26:27] [DATABASE ERROR] Parâmetro associado: :acao = alertas_estoque (tipo: 2)
[2025-10-18 23:26:27] [DATABASE ERROR] Parâmetro associado: :dados_anteriores = "UPDATE" (tipo: 2)
[2025-10-18 23:26:27] [DATABASE ERROR] Parâmetro associado: :dados_novos = {"lido":false} (tipo: 2)
[2025-10-18 23:26:27] [DATABASE ERROR] Parâmetro associado: :usuario_id = 3 (tipo: 1)
[2025-10-18 23:26:27] [DATABASE ERROR] Parâmetro associado: :ip_address = 192.168.15.8 (tipo: 2)
[2025-10-18 23:26:27] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36 (tipo: 2)
[2025-10-18 23:26:27] [DATABASE ERROR] Erro ao executar query: SQLSTATE[01000]: Warning: 1265 Data truncated for column 'acao' at row 1
[2025-10-18 23:26:29] [DATABASE ERROR] Parâmetro associado: :alert_id = 17 (tipo: 1)
[2025-10-18 23:26:29] [DATABASE ERROR] Parâmetro associado: :usuario_id = 3 (tipo: 1)
[2025-10-18 23:26:29] [DATABASE ERROR] Parâmetro associado: :tabela = alertas_estoque (tipo: 2)
[2025-10-18 23:26:29] [DATABASE ERROR] Parâmetro associado: :registro_id = 17 (tipo: 1)
[2025-10-18 23:26:29] [DATABASE ERROR] Parâmetro associado: :acao = alertas_estoque (tipo: 2)
[2025-10-18 23:26:29] [DATABASE ERROR] Parâmetro associado: :dados_anteriores = "UPDATE" (tipo: 2)
[2025-10-18 23:26:29] [DATABASE ERROR] Parâmetro associado: :dados_novos = {"lido":false} (tipo: 2)
[2025-10-18 23:26:29] [DATABASE ERROR] Parâmetro associado: :usuario_id = 3 (tipo: 1)
[2025-10-18 23:26:29] [DATABASE ERROR] Parâmetro associado: :ip_address = 192.168.15.8 (tipo: 2)
[2025-10-18 23:26:29] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36 (tipo: 2)
[2025-10-18 23:26:29] [DATABASE ERROR] Erro ao executar query: SQLSTATE[01000]: Warning: 1265 Data truncated for column 'acao' at row 1
[2025-10-18 23:26:31] [DATABASE ERROR] Parâmetro associado: :alert_id = 21 (tipo: 1)
[2025-10-18 23:26:31] [DATABASE ERROR] Parâmetro associado: :usuario_id = 3 (tipo: 1)
[2025-10-18 23:26:31] [DATABASE ERROR] Parâmetro associado: :tabela = alertas_estoque (tipo: 2)
[2025-10-18 23:26:31] [DATABASE ERROR] Parâmetro associado: :registro_id = 21 (tipo: 1)
[2025-10-18 23:26:31] [DATABASE ERROR] Parâmetro associado: :acao = alertas_estoque (tipo: 2)
[2025-10-18 23:26:31] [DATABASE ERROR] Parâmetro associado: :dados_anteriores = "UPDATE" (tipo: 2)
[2025-10-18 23:26:31] [DATABASE ERROR] Parâmetro associado: :dados_novos = {"lido":false} (tipo: 2)
[2025-10-18 23:26:31] [DATABASE ERROR] Parâmetro associado: :usuario_id = 3 (tipo: 1)
[2025-10-18 23:26:31] [DATABASE ERROR] Parâmetro associado: :ip_address = 192.168.15.8 (tipo: 2)
[2025-10-18 23:26:31] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36 (tipo: 2)
[2025-10-18 23:26:31] [DATABASE ERROR] Erro ao executar query: SQLSTATE[01000]: Warning: 1265 Data truncated for column 'acao' at row 1
[2025-10-18 23:26:32] [DATABASE ERROR] Parâmetro associado: :alert_id = 15 (tipo: 1)
[2025-10-18 23:26:32] [DATABASE ERROR] Parâmetro associado: :usuario_id = 3 (tipo: 1)
[2025-10-18 23:26:32] [DATABASE ERROR] Parâmetro associado: :tabela = alertas_estoque (tipo: 2)
[2025-10-18 23:26:32] [DATABASE ERROR] Parâmetro associado: :registro_id = 15 (tipo: 1)
[2025-10-18 23:26:32] [DATABASE ERROR] Parâmetro associado: :acao = alertas_estoque (tipo: 2)
[2025-10-18 23:26:32] [DATABASE ERROR] Parâmetro associado: :dados_anteriores = "UPDATE" (tipo: 2)
[2025-10-18 23:26:32] [DATABASE ERROR] Parâmetro associado: :dados_novos = {"lido":false} (tipo: 2)
[2025-10-18 23:26:32] [DATABASE ERROR] Parâmetro associado: :usuario_id = 3 (tipo: 1)
[2025-10-18 23:26:32] [DATABASE ERROR] Parâmetro associado: :ip_address = 192.168.15.8 (tipo: 2)
[2025-10-18 23:26:32] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36 (tipo: 2)
[2025-10-18 23:26:32] [DATABASE ERROR] Erro ao executar query: SQLSTATE[01000]: Warning: 1265 Data truncated for column 'acao' at row 1
[2025-10-18 23:26:34] [DATABASE ERROR] Parâmetro associado: :user_id = 3 (tipo: 1)
[2025-10-18 23:26:34] [DATABASE ERROR] Parâmetro associado: :tabela = usuarios (tipo: 2)
[2025-10-18 23:26:34] [DATABASE ERROR] Parâmetro associado: :registro_id = NULL (tipo: 0)
[2025-10-18 23:26:34] [DATABASE ERROR] Parâmetro associado: :acao = LOGOUT (tipo: 2)
[2025-10-18 23:26:34] [DATABASE ERROR] Parâmetro associado: :dados_anteriores = NULL (tipo: 0)
[2025-10-18 23:26:34] [DATABASE ERROR] Parâmetro associado: :dados_novos = NULL (tipo: 0)
[2025-10-18 23:26:34] [DATABASE ERROR] Parâmetro associado: :usuario_id = NULL (tipo: 0)
[2025-10-18 23:26:34] [DATABASE ERROR] Parâmetro associado: :ip_address = 192.168.15.8 (tipo: 2)
[2025-10-18 23:26:34] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36 (tipo: 2)
[2025-10-18 23:26:34] [DATABASE ERROR] Erro ao executar query: SQLSTATE[23000]: Integrity constraint violation: 1048 Column 'registro_id' cannot be null
[2025-10-18 23:28:24] [DATABASE ERROR] Parâmetro associado: :username = flavio (tipo: 2)
[2025-10-18 23:28:24] [DATABASE ERROR] Parâmetro associado: :email = flavio (tipo: 2)
[2025-10-18 23:28:24] [DATABASE ERROR] Preparando query: UPDATE usuarios SET ultimo_acesso = NOW() WHERE id = :id com parâmetros: {":id":2}
[2025-10-18 23:28:24] [DATABASE ERROR] Parâmetro associado: :id = 2 (tipo: 1)
[2025-10-18 23:28:24] [DATABASE ERROR] Debug PDO após binding: SQL: [56] UPDATE usuarios SET ultimo_acesso = NOW() WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-18 23:28:24] [DATABASE ERROR] Parâmetro associado: :tabela = usuarios (tipo: 2)
[2025-10-18 23:28:24] [DATABASE ERROR] Parâmetro associado: :registro_id = 2 (tipo: 1)
[2025-10-18 23:28:24] [DATABASE ERROR] Parâmetro associado: :acao = LOGIN (tipo: 2)
[2025-10-18 23:28:24] [DATABASE ERROR] Parâmetro associado: :dados_anteriores = NULL (tipo: 0)
[2025-10-18 23:28:24] [DATABASE ERROR] Parâmetro associado: :dados_novos = NULL (tipo: 0)
[2025-10-18 23:28:24] [DATABASE ERROR] Parâmetro associado: :usuario_id = NULL (tipo: 0)
[2025-10-18 23:28:24] [DATABASE ERROR] Parâmetro associado: :ip_address = 192.168.15.8 (tipo: 2)
[2025-10-18 23:28:24] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36 (tipo: 2)
[2025-10-18 23:28:24] [DATABASE ERROR] Erro ao executar query: SQLSTATE[01000]: Warning: 1265 Data truncated for column 'acao' at row 1
[2025-10-18 23:28:24] [DATABASE ERROR] Parâmetro associado: :id = uu8l3bvpsok977solig4scfga2 (tipo: 2)
[2025-10-18 23:28:24] [DATABASE ERROR] Parâmetro associado: :id = uu8l3bvpsok977solig4scfga2 (tipo: 2)
[2025-10-18 23:28:24] [DATABASE ERROR] Parâmetro associado: :usuario_id = 2 (tipo: 1)
[2025-10-18 23:28:24] [DATABASE ERROR] Parâmetro associado: :ip_address = 192.168.15.8 (tipo: 2)
[2025-10-18 23:28:24] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36 (tipo: 2)
[2025-10-18 23:28:24] [DATABASE ERROR] Parâmetro associado: :dados = {"user_id":2,"user_name":"Fl\u00e1vio Alves","user_email":"flavioafj@yahoo.com.br","user_profile":2,"user_profile_name":"Operador","logged_in":true,"login_time":1760840904} (tipo: 2)
[2025-10-18 23:28:24] [DATABASE ERROR] Parâmetro associado: :usuario_id = 2 (tipo: 1)
[2025-10-18 23:28:29] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-10-18 23:29:44] [DATABASE ERROR] Preparando query: SELECT * FROM produtos WHERE ativo = :value com parâmetros: {":value":1}
[2025-10-18 23:29:44] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-10-18 23:29:44] [DATABASE ERROR] Debug PDO após binding: SQL: [43] SELECT * FROM produtos WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-10-18 23:30:04] [DATABASE ERROR] Preparando query: SELECT * FROM produtos WHERE ativo = :value com parâmetros: {":value":1}
[2025-10-18 23:30:04] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-10-18 23:30:04] [DATABASE ERROR] Debug PDO após binding: SQL: [43] SELECT * FROM produtos WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-10-18 23:30:16] [DATABASE ERROR] Parâmetro associado: :tabela = movimentacoes (tipo: 2)
[2025-10-18 23:30:16] [DATABASE ERROR] Parâmetro associado: :registro_id = 159 (tipo: 2)
[2025-10-18 23:30:16] [DATABASE ERROR] Parâmetro associado: :acao = INSERT (tipo: 2)
[2025-10-18 23:30:16] [DATABASE ERROR] Parâmetro associado: :dados_anteriores = NULL (tipo: 0)
[2025-10-18 23:30:16] [DATABASE ERROR] Parâmetro associado: :dados_novos = {"tipo_movimentacao_id":"5","produtos":{"2":"0","3":"1.0","4":"0","5":"0","6":"0"},"observacao":""} (tipo: 2)
[2025-10-18 23:30:16] [DATABASE ERROR] Parâmetro associado: :usuario_id = 2 (tipo: 1)
[2025-10-18 23:30:16] [DATABASE ERROR] Parâmetro associado: :ip_address = 192.168.15.8 (tipo: 2)
[2025-10-18 23:30:16] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36 (tipo: 2)
[2025-10-18 23:30:16] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-10-18 23:30:43] [DATABASE ERROR] Parâmetro associado: :produto_id = 3 (tipo: 1)
[2025-10-18 23:31:14] [DATABASE ERROR] Parâmetro associado: :produto_id = 3 (tipo: 1)
[2025-10-18 23:31:36] [DATABASE ERROR] Parâmetro associado: :produto_id = 2 (tipo: 1)
[2025-10-18 23:31:36] [DATABASE ERROR] Parâmetro associado: :produto_id = 2 (tipo: 1)
[2025-10-18 23:31:36] [DATABASE ERROR] Parâmetro associado: :produto_id = 2 (tipo: 1)
[2025-10-18 23:31:36] [DATABASE ERROR] Parâmetro associado: :mensagem = Produto teste com estoque baixo: 1.000 <= 1.000. (tipo: 2)
[2025-10-18 23:31:36] [DATABASE ERROR] Parâmetro associado: :admin_id = 1 (tipo: 1)
[2025-10-18 23:32:09] [DATABASE ERROR] Parâmetro associado: :produto_id = 2 (tipo: 1)
[2025-10-18 23:32:10] [DATABASE ERROR] Parâmetro associado: :mensagem = Produto teste com estoque baixo: 1.000 <= 1.000. (tipo: 2)
[2025-10-18 23:32:10] [DATABASE ERROR] Parâmetro associado: :admin_id = 3 (tipo: 1)
[2025-10-18 23:32:20] [DATABASE ERROR] Parâmetro associado: :tabela = alertas_estoque (tipo: 2)
[2025-10-18 23:32:20] [DATABASE ERROR] Parâmetro associado: :registro_id = 23 (tipo: 2)
[2025-10-18 23:32:20] [DATABASE ERROR] Parâmetro associado: :acao = alertas_estoque (tipo: 2)
[2025-10-18 23:32:20] [DATABASE ERROR] Parâmetro associado: :dados_anteriores = "INSERT" (tipo: 2)
[2025-10-18 23:32:20] [DATABASE ERROR] Parâmetro associado: :dados_novos = NULL (tipo: 0)
[2025-10-18 23:32:20] [DATABASE ERROR] Parâmetro associado: :usuario_id = 2 (tipo: 1)
[2025-10-18 23:32:20] [DATABASE ERROR] Parâmetro associado: :ip_address = 192.168.15.8 (tipo: 2)
[2025-10-18 23:32:20] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36 (tipo: 2)
[2025-10-18 23:32:20] [DATABASE ERROR] Erro ao executar query: SQLSTATE[01000]: Warning: 1265 Data truncated for column 'acao' at row 1
[2025-10-18 23:32:36] [DATABASE ERROR] Parâmetro associado: :alert_id = 23 (tipo: 1)
[2025-10-18 23:32:40] [DATABASE ERROR] Parâmetro associado: :usuario_id = 2 (tipo: 1)
[2025-10-18 23:39:01] [DATABASE ERROR] Parâmetro associado: :produto_id = 3 (tipo: 1)
[2025-10-18 23:39:01] [DATABASE ERROR] Parâmetro associado: :produto_id = 3 (tipo: 1)
[2025-10-18 23:39:01] [DATABASE ERROR] Parâmetro associado: :produto_id = 4 (tipo: 1)
[2025-10-18 23:39:01] [DATABASE ERROR] Parâmetro associado: :produto_id = 4 (tipo: 1)
[2025-10-18 23:39:01] [DATABASE ERROR] Parâmetro associado: :produto_id = 4 (tipo: 1)
[2025-10-18 23:39:01] [DATABASE ERROR] Parâmetro associado: :mensagem = Produto ggg1 com estoque baixo: 1.000 <= 1.000. (tipo: 2)
[2025-10-18 23:39:01] [DATABASE ERROR] Parâmetro associado: :admin_id = 1 (tipo: 1)
[2025-10-18 23:39:03] [DATABASE ERROR] Parâmetro associado: :produto_id = 4 (tipo: 1)
[2025-10-18 23:39:03] [DATABASE ERROR] Parâmetro associado: :mensagem = Produto ggg1 com estoque baixo: 1.000 <= 1.000. (tipo: 2)
[2025-10-18 23:39:03] [DATABASE ERROR] Parâmetro associado: :admin_id = 3 (tipo: 1)
[2025-10-18 23:39:04] [DATABASE ERROR] Parâmetro associado: :tabela = alertas_estoque (tipo: 2)
[2025-10-18 23:39:04] [DATABASE ERROR] Parâmetro associado: :registro_id = 25 (tipo: 2)
[2025-10-18 23:39:04] [DATABASE ERROR] Parâmetro associado: :acao = alertas_estoque (tipo: 2)
[2025-10-18 23:39:04] [DATABASE ERROR] Parâmetro associado: :dados_anteriores = "INSERT" (tipo: 2)
[2025-10-18 23:39:04] [DATABASE ERROR] Parâmetro associado: :dados_novos = NULL (tipo: 0)
[2025-10-18 23:39:04] [DATABASE ERROR] Parâmetro associado: :usuario_id = 2 (tipo: 1)
[2025-10-18 23:39:04] [DATABASE ERROR] Parâmetro associado: :ip_address = 192.168.15.8 (tipo: 2)
[2025-10-18 23:39:04] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36 (tipo: 2)
[2025-10-18 23:39:04] [DATABASE ERROR] Erro ao executar query: SQLSTATE[01000]: Warning: 1265 Data truncated for column 'acao' at row 1
[2025-10-18 23:39:04] [DATABASE ERROR] Parâmetro associado: :alert_id = 25 (tipo: 1)
[2025-10-18 23:39:04] [DATABASE ERROR] Parâmetro associado: :usuario_id = 2 (tipo: 1)
[2025-10-18 23:39:08] [DATABASE ERROR] Parâmetro associado: :produto_id = 5 (tipo: 1)
[2025-10-18 23:39:08] [DATABASE ERROR] Parâmetro associado: :produto_id = 5 (tipo: 1)
[2025-10-18 23:39:08] [DATABASE ERROR] Parâmetro associado: :produto_id = 5 (tipo: 1)
[2025-10-18 23:39:08] [DATABASE ERROR] Parâmetro associado: :mensagem = Produto Leite A integral bag com estoque baixo: 1.000 <= 1.000. (tipo: 2)
[2025-10-18 23:39:08] [DATABASE ERROR] Parâmetro associado: :admin_id = 1 (tipo: 1)
[2025-10-18 23:39:09] [DATABASE ERROR] Parâmetro associado: :produto_id = 5 (tipo: 1)
[2025-10-18 23:39:09] [DATABASE ERROR] Parâmetro associado: :mensagem = Produto Leite A integral bag com estoque baixo: 1.000 <= 1.000. (tipo: 2)
[2025-10-18 23:39:09] [DATABASE ERROR] Parâmetro associado: :admin_id = 3 (tipo: 1)
[2025-10-18 23:39:13] [DATABASE ERROR] Parâmetro associado: :tabela = alertas_estoque (tipo: 2)
[2025-10-18 23:39:13] [DATABASE ERROR] Parâmetro associado: :registro_id = 27 (tipo: 2)
[2025-10-18 23:39:13] [DATABASE ERROR] Parâmetro associado: :acao = alertas_estoque (tipo: 2)
[2025-10-18 23:39:13] [DATABASE ERROR] Parâmetro associado: :dados_anteriores = "INSERT" (tipo: 2)
[2025-10-18 23:39:13] [DATABASE ERROR] Parâmetro associado: :dados_novos = NULL (tipo: 0)
[2025-10-18 23:39:13] [DATABASE ERROR] Parâmetro associado: :usuario_id = 2 (tipo: 1)
[2025-10-18 23:39:13] [DATABASE ERROR] Parâmetro associado: :ip_address = 192.168.15.8 (tipo: 2)
[2025-10-18 23:39:13] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36 (tipo: 2)
[2025-10-18 23:39:13] [DATABASE ERROR] Erro ao executar query: SQLSTATE[01000]: Warning: 1265 Data truncated for column 'acao' at row 1
[2025-10-18 23:39:13] [DATABASE ERROR] Parâmetro associado: :alert_id = 27 (tipo: 1)
[2025-10-18 23:39:13] [DATABASE ERROR] Parâmetro associado: :usuario_id = 2 (tipo: 1)
[2025-10-18 23:39:32] [DATABASE ERROR] Parâmetro associado: :produto_id = 6 (tipo: 1)
[2025-10-18 23:39:32] [DATABASE ERROR] Parâmetro associado: :produto_id = 6 (tipo: 1)
[2025-10-18 23:39:32] [DATABASE ERROR] Parâmetro associado: :produto_id = 6 (tipo: 1)
[2025-10-18 23:39:32] [DATABASE ERROR] Parâmetro associado: :mensagem = Produto CREME DE LEITE PASTEUR com estoque baixo: 1.000 <= 2.000. (tipo: 2)
[2025-10-18 23:39:32] [DATABASE ERROR] Parâmetro associado: :admin_id = 1 (tipo: 1)
[2025-10-18 23:39:36] [DATABASE ERROR] Parâmetro associado: :produto_id = 6 (tipo: 1)
[2025-10-18 23:39:36] [DATABASE ERROR] Parâmetro associado: :mensagem = Produto CREME DE LEITE PASTEUR com estoque baixo: 1.000 <= 2.000. (tipo: 2)
[2025-10-18 23:39:36] [DATABASE ERROR] Parâmetro associado: :admin_id = 3 (tipo: 1)
[2025-10-18 23:40:02] [DATABASE ERROR] Parâmetro associado: :tabela = alertas_estoque (tipo: 2)
[2025-10-18 23:40:02] [DATABASE ERROR] Parâmetro associado: :registro_id = 29 (tipo: 2)
[2025-10-18 23:40:02] [DATABASE ERROR] Parâmetro associado: :acao = alertas_estoque (tipo: 2)
[2025-10-18 23:40:02] [DATABASE ERROR] Parâmetro associado: :dados_anteriores = "INSERT" (tipo: 2)
[2025-10-18 23:40:02] [DATABASE ERROR] Parâmetro associado: :dados_novos = NULL (tipo: 0)
[2025-10-18 23:40:02] [DATABASE ERROR] Parâmetro associado: :usuario_id = 2 (tipo: 1)
[2025-10-18 23:40:02] [DATABASE ERROR] Parâmetro associado: :ip_address = 192.168.15.8 (tipo: 2)
[2025-10-18 23:40:02] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36 (tipo: 2)
[2025-10-18 23:40:02] [DATABASE ERROR] Erro ao executar query: SQLSTATE[01000]: Warning: 1265 Data truncated for column 'acao' at row 1
[2025-10-18 23:40:15] [DATABASE ERROR] Parâmetro associado: :alert_id = 29 (tipo: 1)
[2025-10-18 23:40:15] [DATABASE ERROR] Parâmetro associado: :usuario_id = 2 (tipo: 1)
[2025-10-18 23:40:21] [DATABASE ERROR] Parâmetro associado: :usuario_id = 2 (tipo: 1)
[2025-10-18 23:41:33] [DATABASE ERROR] Parâmetro associado: :user_id = 2 (tipo: 1)
[2025-10-18 23:41:33] [DATABASE ERROR] Parâmetro associado: :tabela = usuarios (tipo: 2)
[2025-10-18 23:41:33] [DATABASE ERROR] Parâmetro associado: :registro_id = NULL (tipo: 0)
[2025-10-18 23:41:33] [DATABASE ERROR] Parâmetro associado: :acao = LOGOUT (tipo: 2)
[2025-10-18 23:41:33] [DATABASE ERROR] Parâmetro associado: :dados_anteriores = NULL (tipo: 0)
[2025-10-18 23:41:33] [DATABASE ERROR] Parâmetro associado: :dados_novos = NULL (tipo: 0)
[2025-10-18 23:41:33] [DATABASE ERROR] Parâmetro associado: :usuario_id = NULL (tipo: 0)
[2025-10-18 23:41:33] [DATABASE ERROR] Parâmetro associado: :ip_address = 192.168.15.8 (tipo: 2)
[2025-10-18 23:41:33] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36 (tipo: 2)
[2025-10-18 23:41:33] [DATABASE ERROR] Erro ao executar query: SQLSTATE[23000]: Integrity constraint violation: 1048 Column 'registro_id' cannot be null
[2025-10-18 23:41:39] [DATABASE ERROR] Parâmetro associado: :username = admin (tipo: 2)
[2025-10-18 23:41:39] [DATABASE ERROR] Parâmetro associado: :email = admin (tipo: 2)
[2025-10-18 23:41:47] [DATABASE ERROR] Parâmetro associado: :username = admin (tipo: 2)
[2025-10-18 23:41:47] [DATABASE ERROR] Parâmetro associado: :email = admin (tipo: 2)
[2025-10-18 23:41:47] [DATABASE ERROR] Preparando query: UPDATE usuarios SET ultimo_acesso = NOW() WHERE id = :id com parâmetros: {":id":1}
[2025-10-18 23:41:47] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-10-18 23:41:47] [DATABASE ERROR] Debug PDO após binding: SQL: [56] UPDATE usuarios SET ultimo_acesso = NOW() WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-18 23:41:47] [DATABASE ERROR] Parâmetro associado: :tabela = usuarios (tipo: 2)
[2025-10-18 23:41:47] [DATABASE ERROR] Parâmetro associado: :registro_id = 1 (tipo: 1)
[2025-10-18 23:41:47] [DATABASE ERROR] Parâmetro associado: :acao = LOGIN (tipo: 2)
[2025-10-18 23:41:47] [DATABASE ERROR] Parâmetro associado: :dados_anteriores = NULL (tipo: 0)
[2025-10-18 23:41:47] [DATABASE ERROR] Parâmetro associado: :dados_novos = NULL (tipo: 0)
[2025-10-18 23:41:47] [DATABASE ERROR] Parâmetro associado: :usuario_id = NULL (tipo: 0)
[2025-10-18 23:41:47] [DATABASE ERROR] Parâmetro associado: :ip_address = 192.168.15.8 (tipo: 2)
[2025-10-18 23:41:47] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36 (tipo: 2)
[2025-10-18 23:41:47] [DATABASE ERROR] Erro ao executar query: SQLSTATE[01000]: Warning: 1265 Data truncated for column 'acao' at row 1
[2025-10-18 23:41:47] [DATABASE ERROR] Parâmetro associado: :id = mittmnj52ruhrc8f3hr3t903cd (tipo: 2)
[2025-10-18 23:41:47] [DATABASE ERROR] Parâmetro associado: :id = mittmnj52ruhrc8f3hr3t903cd (tipo: 2)
[2025-10-18 23:41:47] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-10-18 23:41:47] [DATABASE ERROR] Parâmetro associado: :ip_address = 192.168.15.8 (tipo: 2)
[2025-10-18 23:41:47] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36 (tipo: 2)
[2025-10-18 23:41:47] [DATABASE ERROR] Parâmetro associado: :dados = {"user_id":1,"user_name":"Administrador do Sistema","user_email":"admin@sorveteria.com","user_profile":1,"user_profile_name":"Administrador","logged_in":true,"login_time":1760841707} (tipo: 2)
[2025-10-18 23:41:47] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-10-18 23:41:48] [DATABASE ERROR] Preparando query: SELECT id, tipo, categoria, documento_numero, data_movimentacao, valor_total, fornecedor, usuario 
                    FROM vw_movimentacoes_recentes 
                    ORDER BY data_movimentacao DESC 
                    LIMIT 10 com parâmetros: []
[2025-10-18 23:41:48] [DATABASE ERROR] Debug PDO após binding: SQL: [235] SELECT id, tipo, categoria, documento_numero, data_movimentacao, valor_total, fornecedor, usuario 
                    FROM vw_movimentacoes_recentes 
                    ORDER BY data_movimentacao DESC 
                    LIMIT 10
Params:  0

[2025-10-18 23:41:48] [DATABASE ERROR] Preparando query: SELECT SUM(estoque_atual) as total_estoque FROM produtos WHERE ativo = TRUE com parâmetros: []
[2025-10-18 23:41:48] [DATABASE ERROR] Debug PDO após binding: SQL: [75] SELECT SUM(estoque_atual) as total_estoque FROM produtos WHERE ativo = TRUE
Params:  0

[2025-10-18 23:41:48] [DATABASE ERROR] Preparando query: SELECT id FROM produtos WHERE ativo = TRUE com parâmetros: []
[2025-10-18 23:41:48] [DATABASE ERROR] Debug PDO após binding: SQL: [42] SELECT id FROM produtos WHERE ativo = TRUE
Params:  0

[2025-10-18 23:41:48] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":2,":data_fim_a":null,":data_fim":null}
[2025-10-18 23:41:48] [DATABASE ERROR] Parâmetro associado: :produto_id = 2 (tipo: 1)
[2025-10-18 23:41:48] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-10-18 23:41:48] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-10-18 23:41:48] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-10-18 23:41:48] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":2}
[2025-10-18 23:41:48] [DATABASE ERROR] Parâmetro associado: :id = 2 (tipo: 1)
[2025-10-18 23:41:48] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-18 23:41:48] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":3,":data_fim_a":null,":data_fim":null}
[2025-10-18 23:41:48] [DATABASE ERROR] Parâmetro associado: :produto_id = 3 (tipo: 1)
[2025-10-18 23:41:48] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-10-18 23:41:48] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-10-18 23:41:48] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-10-18 23:41:48] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":3}
[2025-10-18 23:41:48] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-10-18 23:41:48] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-18 23:41:48] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":4,":data_fim_a":null,":data_fim":null}
[2025-10-18 23:41:48] [DATABASE ERROR] Parâmetro associado: :produto_id = 4 (tipo: 1)
[2025-10-18 23:41:48] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-10-18 23:41:48] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-10-18 23:41:48] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-10-18 23:41:48] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":4}
[2025-10-18 23:41:48] [DATABASE ERROR] Parâmetro associado: :id = 4 (tipo: 1)
[2025-10-18 23:41:48] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-18 23:41:48] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":5,":data_fim_a":null,":data_fim":null}
[2025-10-18 23:41:48] [DATABASE ERROR] Parâmetro associado: :produto_id = 5 (tipo: 1)
[2025-10-18 23:41:48] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-10-18 23:41:48] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-10-18 23:41:48] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-10-18 23:41:48] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":5}
[2025-10-18 23:41:48] [DATABASE ERROR] Parâmetro associado: :id = 5 (tipo: 1)
[2025-10-18 23:41:48] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-18 23:41:48] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":6,":data_fim_a":null,":data_fim":null}
[2025-10-18 23:41:48] [DATABASE ERROR] Parâmetro associado: :produto_id = 6 (tipo: 1)
[2025-10-18 23:41:48] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-10-18 23:41:48] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-10-18 23:41:48] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-10-18 23:41:48] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":6}
[2025-10-18 23:41:48] [DATABASE ERROR] Parâmetro associado: :id = 6 (tipo: 1)
[2025-10-18 23:41:48] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-18 23:41:48] [DATABASE ERROR] Preparando query: SELECT id, codigo, nome, estoque_atual, estoque_minimo, categoria, fornecedor 
                    FROM vw_produtos_estoque_critico 
                    ORDER BY estoque_atual ASC 
                    LIMIT 10 com parâmetros: []
[2025-10-18 23:41:48] [DATABASE ERROR] Debug PDO após binding: SQL: [212] SELECT id, codigo, nome, estoque_atual, estoque_minimo, categoria, fornecedor 
                    FROM vw_produtos_estoque_critico 
                    ORDER BY estoque_atual ASC 
                    LIMIT 10
Params:  0

[2025-10-18 23:41:48] [DATABASE ERROR] Preparando query: 
                SELECT 
                    DATE_FORMAT(m.data_movimentacao, '%Y-%m') as periodo,
                    tm.tipo,
                    SUM(mi.quantidade) as total_quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                WHERE m.status = 'PROCESSADO'
                    AND m.data_movimentacao >= DATE_SUB(CURDATE(), INTERVAL 6 MONTH)
                GROUP BY periodo, tm.tipo
                ORDER BY periodo ASC com parâmetros: []
[2025-10-18 23:41:48] [DATABASE ERROR] Debug PDO após binding: SQL: [593] 
                SELECT 
                    DATE_FORMAT(m.data_movimentacao, '%Y-%m') as periodo,
                    tm.tipo,
                    SUM(mi.quantidade) as total_quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                WHERE m.status = 'PROCESSADO'
                    AND m.data_movimentacao >= DATE_SUB(CURDATE(), INTERVAL 6 MONTH)
                GROUP BY periodo, tm.tipo
                ORDER BY periodo ASC
Params:  0

[2025-10-18 23:41:52] [DATABASE ERROR] Preparando query: SELECT * FROM produtos WHERE ativo = :value com parâmetros: {":value":1}
[2025-10-18 23:41:52] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-10-18 23:41:53] [DATABASE ERROR] Debug PDO após binding: SQL: [43] SELECT * FROM produtos WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-10-18 23:41:57] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-10-18 23:41:58] [DATABASE ERROR] Preparando query: SELECT id, codigo, nome, estoque_atual, estoque_minimo, categoria, fornecedor 
                    FROM vw_produtos_estoque_critico 
                    ORDER BY estoque_atual ASC 
                    LIMIT 10 com parâmetros: []
[2025-10-18 23:41:58] [DATABASE ERROR] Debug PDO após binding: SQL: [212] SELECT id, codigo, nome, estoque_atual, estoque_minimo, categoria, fornecedor 
                    FROM vw_produtos_estoque_critico 
                    ORDER BY estoque_atual ASC 
                    LIMIT 10
Params:  0

[2025-10-18 23:41:58] [DATABASE ERROR] Preparando query: SELECT id, tipo, categoria, documento_numero, data_movimentacao, valor_total, fornecedor, usuario 
                    FROM vw_movimentacoes_recentes 
                    ORDER BY data_movimentacao DESC 
                    LIMIT 10 com parâmetros: []
[2025-10-18 23:41:58] [DATABASE ERROR] Debug PDO após binding: SQL: [235] SELECT id, tipo, categoria, documento_numero, data_movimentacao, valor_total, fornecedor, usuario 
                    FROM vw_movimentacoes_recentes 
                    ORDER BY data_movimentacao DESC 
                    LIMIT 10
Params:  0

[2025-10-18 23:41:58] [DATABASE ERROR] Preparando query: 
                SELECT 
                    DATE_FORMAT(m.data_movimentacao, '%Y-%m') as periodo,
                    tm.tipo,
                    SUM(mi.quantidade) as total_quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                WHERE m.status = 'PROCESSADO'
                    AND m.data_movimentacao >= DATE_SUB(CURDATE(), INTERVAL 6 MONTH)
                GROUP BY periodo, tm.tipo
                ORDER BY periodo ASC com parâmetros: []
[2025-10-18 23:41:58] [DATABASE ERROR] Debug PDO após binding: SQL: [593] 
                SELECT 
                    DATE_FORMAT(m.data_movimentacao, '%Y-%m') as periodo,
                    tm.tipo,
                    SUM(mi.quantidade) as total_quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                WHERE m.status = 'PROCESSADO'
                    AND m.data_movimentacao >= DATE_SUB(CURDATE(), INTERVAL 6 MONTH)
                GROUP BY periodo, tm.tipo
                ORDER BY periodo ASC
Params:  0

[2025-10-18 23:41:58] [DATABASE ERROR] Preparando query: SELECT SUM(estoque_atual) as total_estoque FROM produtos WHERE ativo = TRUE com parâmetros: []
[2025-10-18 23:41:58] [DATABASE ERROR] Debug PDO após binding: SQL: [75] SELECT SUM(estoque_atual) as total_estoque FROM produtos WHERE ativo = TRUE
Params:  0

[2025-10-18 23:41:58] [DATABASE ERROR] Preparando query: SELECT id FROM produtos WHERE ativo = TRUE com parâmetros: []
[2025-10-18 23:41:58] [DATABASE ERROR] Debug PDO após binding: SQL: [42] SELECT id FROM produtos WHERE ativo = TRUE
Params:  0

[2025-10-18 23:41:58] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":2,":data_fim_a":null,":data_fim":null}
[2025-10-18 23:41:58] [DATABASE ERROR] Parâmetro associado: :produto_id = 2 (tipo: 1)
[2025-10-18 23:41:58] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-10-18 23:41:58] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-10-18 23:41:58] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-10-18 23:41:58] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":2}
[2025-10-18 23:41:58] [DATABASE ERROR] Parâmetro associado: :id = 2 (tipo: 1)
[2025-10-18 23:41:58] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-18 23:41:58] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":3,":data_fim_a":null,":data_fim":null}
[2025-10-18 23:41:58] [DATABASE ERROR] Parâmetro associado: :produto_id = 3 (tipo: 1)
[2025-10-18 23:41:58] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-10-18 23:41:58] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-10-18 23:41:58] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-10-18 23:41:58] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":3}
[2025-10-18 23:41:58] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-10-18 23:41:58] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-18 23:41:58] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":4,":data_fim_a":null,":data_fim":null}
[2025-10-18 23:41:58] [DATABASE ERROR] Parâmetro associado: :produto_id = 4 (tipo: 1)
[2025-10-18 23:41:58] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-10-18 23:41:58] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-10-18 23:41:58] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-10-18 23:41:58] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":4}
[2025-10-18 23:41:58] [DATABASE ERROR] Parâmetro associado: :id = 4 (tipo: 1)
[2025-10-18 23:41:58] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-18 23:41:58] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":5,":data_fim_a":null,":data_fim":null}
[2025-10-18 23:41:58] [DATABASE ERROR] Parâmetro associado: :produto_id = 5 (tipo: 1)
[2025-10-18 23:41:58] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-10-18 23:41:58] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-10-18 23:41:58] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-10-18 23:41:58] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":5}
[2025-10-18 23:41:58] [DATABASE ERROR] Parâmetro associado: :id = 5 (tipo: 1)
[2025-10-18 23:41:58] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-18 23:41:58] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":6,":data_fim_a":null,":data_fim":null}
[2025-10-18 23:41:58] [DATABASE ERROR] Parâmetro associado: :produto_id = 6 (tipo: 1)
[2025-10-18 23:41:58] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-10-18 23:41:58] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-10-18 23:41:58] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-10-18 23:41:58] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":6}
[2025-10-18 23:41:58] [DATABASE ERROR] Parâmetro associado: :id = 6 (tipo: 1)
[2025-10-18 23:41:58] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-18 23:42:12] [DATABASE ERROR] Preparando query: SELECT * FROM produtos WHERE ativo = :value com parâmetros: {":value":1}
[2025-10-18 23:42:12] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-10-18 23:42:12] [DATABASE ERROR] Debug PDO após binding: SQL: [43] SELECT * FROM produtos WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-10-18 23:42:33] [DATABASE ERROR] Parâmetro associado: :tabela = movimentacoes (tipo: 2)
[2025-10-18 23:42:33] [DATABASE ERROR] Parâmetro associado: :registro_id = 160 (tipo: 2)
[2025-10-18 23:42:33] [DATABASE ERROR] Parâmetro associado: :acao = INSERT (tipo: 2)
[2025-10-18 23:42:33] [DATABASE ERROR] Parâmetro associado: :dados_anteriores = NULL (tipo: 0)
[2025-10-18 23:42:33] [DATABASE ERROR] Parâmetro associado: :dados_novos = {"tipo_movimentacao_id":"3","observacao":"","produtos":{"2":"2","3":"2","4":"2","5":"2","6":"2"},"valor_unitario":{"2":"3","3":"3","4":"3","5":"3","6":"3"}} (tipo: 2)
[2025-10-18 23:42:33] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-10-18 23:42:33] [DATABASE ERROR] Parâmetro associado: :ip_address = 192.168.15.8 (tipo: 2)
[2025-10-18 23:42:33] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36 (tipo: 2)
[2025-10-18 23:42:33] [DATABASE ERROR] Parâmetro associado: :id = 2 (tipo: 1)
[2025-10-18 23:42:38] [DATABASE ERROR] Parâmetro associado: :produto_id = 2 (tipo: 1)
[2025-10-18 23:42:38] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-10-18 23:42:38] [DATABASE ERROR] Parâmetro associado: :produto_id = 3 (tipo: 1)
[2025-10-18 23:42:38] [DATABASE ERROR] Parâmetro associado: :id = 4 (tipo: 1)
[2025-10-18 23:42:39] [DATABASE ERROR] Parâmetro associado: :produto_id = 4 (tipo: 1)
[2025-10-18 23:42:39] [DATABASE ERROR] Parâmetro associado: :id = 5 (tipo: 1)
[2025-10-18 23:42:40] [DATABASE ERROR] Parâmetro associado: :produto_id = 5 (tipo: 1)
[2025-10-18 23:42:40] [DATABASE ERROR] Parâmetro associado: :id = 6 (tipo: 1)
[2025-10-18 23:42:40] [DATABASE ERROR] Parâmetro associado: :produto_id = 6 (tipo: 1)
[2025-10-18 23:42:40] [DATABASE ERROR] Parâmetro associado: :produto_id = 2 (tipo: 1)
[2025-10-18 23:42:40] [DATABASE ERROR] Parâmetro associado: :produto_id = 2 (tipo: 1)
[2025-10-18 23:42:40] [DATABASE ERROR] Parâmetro associado: :produto_id = 2 (tipo: 1)
[2025-10-18 23:42:40] [DATABASE ERROR] Parâmetro associado: :produto_id = 2 (tipo: 1)
[2025-10-18 23:42:40] [DATABASE ERROR] Parâmetro associado: :produto_id = 2 (tipo: 1)
[2025-10-18 23:42:41] [DATABASE ERROR] Preparando query: SELECT * FROM produtos WHERE ativo = :value com parâmetros: {":value":1}
[2025-10-18 23:42:41] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-10-18 23:42:41] [DATABASE ERROR] Debug PDO após binding: SQL: [43] SELECT * FROM produtos WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-10-18 23:42:41] [DATABASE ERROR] Preparando query: SELECT * FROM categorias WHERE ativo = :value com parâmetros: {":value":1}
[2025-10-18 23:42:41] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-10-18 23:42:41] [DATABASE ERROR] Debug PDO após binding: SQL: [45] SELECT * FROM categorias WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-10-18 23:42:41] [DATABASE ERROR] Preparando query: SELECT * FROM categorias WHERE ativo = :value com parâmetros: {":value":1}
[2025-10-18 23:42:41] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-10-18 23:42:41] [DATABASE ERROR] Debug PDO após binding: SQL: [45] SELECT * FROM categorias WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-10-18 23:42:41] [DATABASE ERROR] Preparando query: SELECT * FROM unidades_medida com parâmetros: []
[2025-10-18 23:42:41] [DATABASE ERROR] Debug PDO após binding: SQL: [29] SELECT * FROM unidades_medida
Params:  0

[2025-10-18 23:42:41] [DATABASE ERROR] Preparando query: SELECT * FROM fornecedores WHERE ativo = :value com parâmetros: {":value":1}
[2025-10-18 23:42:41] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-10-18 23:42:41] [DATABASE ERROR] Debug PDO após binding: SQL: [47] SELECT * FROM fornecedores WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-10-18 23:42:41] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-10-18 23:42:41] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-10-18 23:42:41] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-10-18 23:42:41] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-10-18 23:42:41] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-10-18 23:42:44] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-10-18 23:42:45] [DATABASE ERROR] Preparando query: SELECT id, codigo, nome, estoque_atual, estoque_minimo, categoria, fornecedor 
                    FROM vw_produtos_estoque_critico 
                    ORDER BY estoque_atual ASC 
                    LIMIT 10 com parâmetros: []
[2025-10-18 23:42:45] [DATABASE ERROR] Debug PDO após binding: SQL: [212] SELECT id, codigo, nome, estoque_atual, estoque_minimo, categoria, fornecedor 
                    FROM vw_produtos_estoque_critico 
                    ORDER BY estoque_atual ASC 
                    LIMIT 10
Params:  0

[2025-10-18 23:42:45] [DATABASE ERROR] Preparando query: SELECT SUM(estoque_atual) as total_estoque FROM produtos WHERE ativo = TRUE com parâmetros: []
[2025-10-18 23:42:45] [DATABASE ERROR] Debug PDO após binding: SQL: [75] SELECT SUM(estoque_atual) as total_estoque FROM produtos WHERE ativo = TRUE
Params:  0

[2025-10-18 23:42:45] [DATABASE ERROR] Preparando query: SELECT id FROM produtos WHERE ativo = TRUE com parâmetros: []
[2025-10-18 23:42:45] [DATABASE ERROR] Debug PDO após binding: SQL: [42] SELECT id FROM produtos WHERE ativo = TRUE
Params:  0

[2025-10-18 23:42:45] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":2,":data_fim_a":null,":data_fim":null}
[2025-10-18 23:42:45] [DATABASE ERROR] Parâmetro associado: :produto_id = 2 (tipo: 1)
[2025-10-18 23:42:45] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-10-18 23:42:45] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-10-18 23:42:45] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-10-18 23:42:45] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":2}
[2025-10-18 23:42:45] [DATABASE ERROR] Parâmetro associado: :id = 2 (tipo: 1)
[2025-10-18 23:42:45] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-18 23:42:45] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":3,":data_fim_a":null,":data_fim":null}
[2025-10-18 23:42:45] [DATABASE ERROR] Parâmetro associado: :produto_id = 3 (tipo: 1)
[2025-10-18 23:42:45] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-10-18 23:42:45] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-10-18 23:42:45] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-10-18 23:42:45] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":3}
[2025-10-18 23:42:45] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-10-18 23:42:45] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-18 23:42:45] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":4,":data_fim_a":null,":data_fim":null}
[2025-10-18 23:42:45] [DATABASE ERROR] Parâmetro associado: :produto_id = 4 (tipo: 1)
[2025-10-18 23:42:45] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-10-18 23:42:45] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-10-18 23:42:45] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-10-18 23:42:45] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":4}
[2025-10-18 23:42:45] [DATABASE ERROR] Parâmetro associado: :id = 4 (tipo: 1)
[2025-10-18 23:42:45] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-18 23:42:45] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":5,":data_fim_a":null,":data_fim":null}
[2025-10-18 23:42:45] [DATABASE ERROR] Parâmetro associado: :produto_id = 5 (tipo: 1)
[2025-10-18 23:42:45] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-10-18 23:42:45] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-10-18 23:42:45] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-10-18 23:42:45] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":5}
[2025-10-18 23:42:45] [DATABASE ERROR] Parâmetro associado: :id = 5 (tipo: 1)
[2025-10-18 23:42:45] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-18 23:42:45] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":6,":data_fim_a":null,":data_fim":null}
[2025-10-18 23:42:45] [DATABASE ERROR] Parâmetro associado: :produto_id = 6 (tipo: 1)
[2025-10-18 23:42:45] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-10-18 23:42:45] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-10-18 23:42:45] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-10-18 23:42:45] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":6}
[2025-10-18 23:42:45] [DATABASE ERROR] Parâmetro associado: :id = 6 (tipo: 1)
[2025-10-18 23:42:45] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-18 23:42:45] [DATABASE ERROR] Preparando query: 
                SELECT 
                    DATE_FORMAT(m.data_movimentacao, '%Y-%m') as periodo,
                    tm.tipo,
                    SUM(mi.quantidade) as total_quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                WHERE m.status = 'PROCESSADO'
                    AND m.data_movimentacao >= DATE_SUB(CURDATE(), INTERVAL 6 MONTH)
                GROUP BY periodo, tm.tipo
                ORDER BY periodo ASC com parâmetros: []
[2025-10-18 23:42:45] [DATABASE ERROR] Debug PDO após binding: SQL: [593] 
                SELECT 
                    DATE_FORMAT(m.data_movimentacao, '%Y-%m') as periodo,
                    tm.tipo,
                    SUM(mi.quantidade) as total_quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                WHERE m.status = 'PROCESSADO'
                    AND m.data_movimentacao >= DATE_SUB(CURDATE(), INTERVAL 6 MONTH)
                GROUP BY periodo, tm.tipo
                ORDER BY periodo ASC
Params:  0

[2025-10-18 23:42:45] [DATABASE ERROR] Preparando query: SELECT id, tipo, categoria, documento_numero, data_movimentacao, valor_total, fornecedor, usuario 
                    FROM vw_movimentacoes_recentes 
                    ORDER BY data_movimentacao DESC 
                    LIMIT 10 com parâmetros: []
[2025-10-18 23:42:45] [DATABASE ERROR] Debug PDO após binding: SQL: [235] SELECT id, tipo, categoria, documento_numero, data_movimentacao, valor_total, fornecedor, usuario 
                    FROM vw_movimentacoes_recentes 
                    ORDER BY data_movimentacao DESC 
                    LIMIT 10
Params:  0

[2025-10-18 23:43:32] [DATABASE ERROR] Parâmetro associado: :user_id = 1 (tipo: 1)
[2025-10-18 23:43:32] [DATABASE ERROR] Parâmetro associado: :tabela = usuarios (tipo: 2)
[2025-10-18 23:43:32] [DATABASE ERROR] Parâmetro associado: :registro_id = NULL (tipo: 0)
[2025-10-18 23:43:32] [DATABASE ERROR] Parâmetro associado: :acao = LOGOUT (tipo: 2)
[2025-10-18 23:43:32] [DATABASE ERROR] Parâmetro associado: :dados_anteriores = NULL (tipo: 0)
[2025-10-18 23:43:32] [DATABASE ERROR] Parâmetro associado: :dados_novos = NULL (tipo: 0)
[2025-10-18 23:43:32] [DATABASE ERROR] Parâmetro associado: :usuario_id = NULL (tipo: 0)
[2025-10-18 23:43:32] [DATABASE ERROR] Parâmetro associado: :ip_address = 192.168.15.8 (tipo: 2)
[2025-10-18 23:43:32] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36 (tipo: 2)
[2025-10-18 23:43:32] [DATABASE ERROR] Erro ao executar query: SQLSTATE[23000]: Integrity constraint violation: 1048 Column 'registro_id' cannot be null
[2025-10-18 23:43:41] [DATABASE ERROR] Parâmetro associado: :username = flavio (tipo: 2)
[2025-10-18 23:43:41] [DATABASE ERROR] Parâmetro associado: :email = flavio (tipo: 2)
[2025-10-18 23:43:47] [DATABASE ERROR] Parâmetro associado: :username = flavio (tipo: 2)
[2025-10-18 23:43:47] [DATABASE ERROR] Parâmetro associado: :email = flavio (tipo: 2)
[2025-10-18 23:43:57] [DATABASE ERROR] Parâmetro associado: :username = flavio (tipo: 2)
[2025-10-18 23:43:57] [DATABASE ERROR] Parâmetro associado: :email = flavio (tipo: 2)
[2025-10-18 23:44:15] [DATABASE ERROR] Parâmetro associado: :username = flavio (tipo: 2)
[2025-10-18 23:44:15] [DATABASE ERROR] Parâmetro associado: :email = flavio (tipo: 2)
[2025-10-18 23:44:15] [DATABASE ERROR] Preparando query: UPDATE usuarios SET ultimo_acesso = NOW() WHERE id = :id com parâmetros: {":id":2}
[2025-10-18 23:44:15] [DATABASE ERROR] Parâmetro associado: :id = 2 (tipo: 1)
[2025-10-18 23:44:15] [DATABASE ERROR] Debug PDO após binding: SQL: [56] UPDATE usuarios SET ultimo_acesso = NOW() WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-18 23:44:15] [DATABASE ERROR] Parâmetro associado: :tabela = usuarios (tipo: 2)
[2025-10-18 23:44:15] [DATABASE ERROR] Parâmetro associado: :registro_id = 2 (tipo: 1)
[2025-10-18 23:44:15] [DATABASE ERROR] Parâmetro associado: :acao = LOGIN (tipo: 2)
[2025-10-18 23:44:15] [DATABASE ERROR] Parâmetro associado: :dados_anteriores = NULL (tipo: 0)
[2025-10-18 23:44:15] [DATABASE ERROR] Parâmetro associado: :dados_novos = NULL (tipo: 0)
[2025-10-18 23:44:15] [DATABASE ERROR] Parâmetro associado: :usuario_id = NULL (tipo: 0)
[2025-10-18 23:44:15] [DATABASE ERROR] Parâmetro associado: :ip_address = 192.168.15.8 (tipo: 2)
[2025-10-18 23:44:15] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36 (tipo: 2)
[2025-10-18 23:44:15] [DATABASE ERROR] Erro ao executar query: SQLSTATE[01000]: Warning: 1265 Data truncated for column 'acao' at row 1
[2025-10-18 23:44:15] [DATABASE ERROR] Parâmetro associado: :id = ah8h6n0jv2e9e5bb6i3pbjtal1 (tipo: 2)
[2025-10-18 23:44:15] [DATABASE ERROR] Parâmetro associado: :id = ah8h6n0jv2e9e5bb6i3pbjtal1 (tipo: 2)
[2025-10-18 23:44:15] [DATABASE ERROR] Parâmetro associado: :usuario_id = 2 (tipo: 1)
[2025-10-18 23:44:15] [DATABASE ERROR] Parâmetro associado: :ip_address = 192.168.15.8 (tipo: 2)
[2025-10-18 23:44:15] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36 (tipo: 2)
[2025-10-18 23:44:15] [DATABASE ERROR] Parâmetro associado: :dados = {"user_id":2,"user_name":"Fl\u00e1vio Alves","user_email":"flavioafj@yahoo.com.br","user_profile":2,"user_profile_name":"Operador","logged_in":true,"login_time":1760841855} (tipo: 2)
[2025-10-18 23:44:15] [DATABASE ERROR] Parâmetro associado: :usuario_id = 2 (tipo: 1)
[2025-10-18 23:45:01] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-10-18 23:45:01] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-10-18 23:45:37] [DATABASE ERROR] Parâmetro associado: :produto_id = 3 (tipo: 1)
[2025-10-18 23:45:53] [DATABASE ERROR] Parâmetro associado: :produto_id = 3 (tipo: 1)
[2025-10-18 23:46:33] [DATABASE ERROR] Parâmetro associado: :user_id = 2 (tipo: 1)
[2025-10-18 23:46:33] [DATABASE ERROR] Parâmetro associado: :tabela = usuarios (tipo: 2)
[2025-10-18 23:46:33] [DATABASE ERROR] Parâmetro associado: :registro_id = NULL (tipo: 0)
[2025-10-18 23:46:33] [DATABASE ERROR] Parâmetro associado: :acao = LOGOUT (tipo: 2)
[2025-10-18 23:46:33] [DATABASE ERROR] Parâmetro associado: :dados_anteriores = NULL (tipo: 0)
[2025-10-18 23:46:33] [DATABASE ERROR] Parâmetro associado: :dados_novos = NULL (tipo: 0)
[2025-10-18 23:46:33] [DATABASE ERROR] Parâmetro associado: :usuario_id = NULL (tipo: 0)
[2025-10-18 23:46:33] [DATABASE ERROR] Parâmetro associado: :ip_address = 192.168.15.8 (tipo: 2)
[2025-10-18 23:46:33] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36 (tipo: 2)
[2025-10-18 23:46:33] [DATABASE ERROR] Erro ao executar query: SQLSTATE[23000]: Integrity constraint violation: 1048 Column 'registro_id' cannot be null
[2025-10-18 23:47:27] [DATABASE ERROR] Parâmetro associado: :username = admin (tipo: 2)
[2025-10-18 23:47:27] [DATABASE ERROR] Parâmetro associado: :email = admin (tipo: 2)
[2025-10-18 23:47:41] [DATABASE ERROR] Parâmetro associado: :username = admin (tipo: 2)
[2025-10-18 23:47:41] [DATABASE ERROR] Parâmetro associado: :email = admin (tipo: 2)
[2025-10-18 23:47:41] [DATABASE ERROR] Preparando query: UPDATE usuarios SET ultimo_acesso = NOW() WHERE id = :id com parâmetros: {":id":1}
[2025-10-18 23:47:41] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-10-18 23:47:41] [DATABASE ERROR] Debug PDO após binding: SQL: [56] UPDATE usuarios SET ultimo_acesso = NOW() WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-18 23:47:41] [DATABASE ERROR] Parâmetro associado: :tabela = usuarios (tipo: 2)
[2025-10-18 23:47:41] [DATABASE ERROR] Parâmetro associado: :registro_id = 1 (tipo: 1)
[2025-10-18 23:47:41] [DATABASE ERROR] Parâmetro associado: :acao = LOGIN (tipo: 2)
[2025-10-18 23:47:41] [DATABASE ERROR] Parâmetro associado: :dados_anteriores = NULL (tipo: 0)
[2025-10-18 23:47:41] [DATABASE ERROR] Parâmetro associado: :dados_novos = NULL (tipo: 0)
[2025-10-18 23:47:41] [DATABASE ERROR] Parâmetro associado: :usuario_id = NULL (tipo: 0)
[2025-10-18 23:47:41] [DATABASE ERROR] Parâmetro associado: :ip_address = 192.168.15.8 (tipo: 2)
[2025-10-18 23:47:41] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36 (tipo: 2)
[2025-10-18 23:47:41] [DATABASE ERROR] Erro ao executar query: SQLSTATE[01000]: Warning: 1265 Data truncated for column 'acao' at row 1
[2025-10-18 23:47:41] [DATABASE ERROR] Parâmetro associado: :id = 22ut2ms7ks8jmrm52bneuon5ho (tipo: 2)
[2025-10-18 23:47:41] [DATABASE ERROR] Parâmetro associado: :id = 22ut2ms7ks8jmrm52bneuon5ho (tipo: 2)
[2025-10-18 23:47:41] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-10-18 23:47:41] [DATABASE ERROR] Parâmetro associado: :ip_address = 192.168.15.8 (tipo: 2)
[2025-10-18 23:47:41] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36 (tipo: 2)
[2025-10-18 23:47:41] [DATABASE ERROR] Parâmetro associado: :dados = {"user_id":1,"user_name":"Administrador do Sistema","user_email":"admin@sorveteria.com","user_profile":1,"user_profile_name":"Administrador","logged_in":true,"login_time":1760842061} (tipo: 2)
[2025-10-18 23:47:41] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-10-18 23:47:42] [DATABASE ERROR] Preparando query: SELECT SUM(estoque_atual) as total_estoque FROM produtos WHERE ativo = TRUE com parâmetros: []
[2025-10-18 23:47:42] [DATABASE ERROR] Debug PDO após binding: SQL: [75] SELECT SUM(estoque_atual) as total_estoque FROM produtos WHERE ativo = TRUE
Params:  0

[2025-10-18 23:47:42] [DATABASE ERROR] Preparando query: SELECT id FROM produtos WHERE ativo = TRUE com parâmetros: []
[2025-10-18 23:47:42] [DATABASE ERROR] Debug PDO após binding: SQL: [42] SELECT id FROM produtos WHERE ativo = TRUE
Params:  0

[2025-10-18 23:47:42] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":2,":data_fim_a":null,":data_fim":null}
[2025-10-18 23:47:42] [DATABASE ERROR] Parâmetro associado: :produto_id = 2 (tipo: 1)
[2025-10-18 23:47:42] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-10-18 23:47:42] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-10-18 23:47:42] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-10-18 23:47:42] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":2}
[2025-10-18 23:47:42] [DATABASE ERROR] Parâmetro associado: :id = 2 (tipo: 1)
[2025-10-18 23:47:42] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-18 23:47:42] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":3,":data_fim_a":null,":data_fim":null}
[2025-10-18 23:47:42] [DATABASE ERROR] Parâmetro associado: :produto_id = 3 (tipo: 1)
[2025-10-18 23:47:42] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-10-18 23:47:42] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-10-18 23:47:42] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-10-18 23:47:42] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":3}
[2025-10-18 23:47:42] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-10-18 23:47:42] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-18 23:47:42] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":4,":data_fim_a":null,":data_fim":null}
[2025-10-18 23:47:42] [DATABASE ERROR] Parâmetro associado: :produto_id = 4 (tipo: 1)
[2025-10-18 23:47:42] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-10-18 23:47:42] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-10-18 23:47:42] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-10-18 23:47:42] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":4}
[2025-10-18 23:47:42] [DATABASE ERROR] Parâmetro associado: :id = 4 (tipo: 1)
[2025-10-18 23:47:42] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-18 23:47:42] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":5,":data_fim_a":null,":data_fim":null}
[2025-10-18 23:47:42] [DATABASE ERROR] Parâmetro associado: :produto_id = 5 (tipo: 1)
[2025-10-18 23:47:42] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-10-18 23:47:42] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-10-18 23:47:42] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-10-18 23:47:42] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":5}
[2025-10-18 23:47:42] [DATABASE ERROR] Parâmetro associado: :id = 5 (tipo: 1)
[2025-10-18 23:47:42] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-18 23:47:42] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":6,":data_fim_a":null,":data_fim":null}
[2025-10-18 23:47:42] [DATABASE ERROR] Parâmetro associado: :produto_id = 6 (tipo: 1)
[2025-10-18 23:47:42] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-10-18 23:47:42] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-10-18 23:47:42] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-10-18 23:47:42] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":6}
[2025-10-18 23:47:42] [DATABASE ERROR] Parâmetro associado: :id = 6 (tipo: 1)
[2025-10-18 23:47:42] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-18 23:47:42] [DATABASE ERROR] Preparando query: SELECT id, codigo, nome, estoque_atual, estoque_minimo, categoria, fornecedor 
                    FROM vw_produtos_estoque_critico 
                    ORDER BY estoque_atual ASC 
                    LIMIT 10 com parâmetros: []
[2025-10-18 23:47:42] [DATABASE ERROR] Debug PDO após binding: SQL: [212] SELECT id, codigo, nome, estoque_atual, estoque_minimo, categoria, fornecedor 
                    FROM vw_produtos_estoque_critico 
                    ORDER BY estoque_atual ASC 
                    LIMIT 10
Params:  0

[2025-10-18 23:47:42] [DATABASE ERROR] Preparando query: 
                SELECT 
                    DATE_FORMAT(m.data_movimentacao, '%Y-%m') as periodo,
                    tm.tipo,
                    SUM(mi.quantidade) as total_quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                WHERE m.status = 'PROCESSADO'
                    AND m.data_movimentacao >= DATE_SUB(CURDATE(), INTERVAL 6 MONTH)
                GROUP BY periodo, tm.tipo
                ORDER BY periodo ASC com parâmetros: []
[2025-10-18 23:47:42] [DATABASE ERROR] Debug PDO após binding: SQL: [593] 
                SELECT 
                    DATE_FORMAT(m.data_movimentacao, '%Y-%m') as periodo,
                    tm.tipo,
                    SUM(mi.quantidade) as total_quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                WHERE m.status = 'PROCESSADO'
                    AND m.data_movimentacao >= DATE_SUB(CURDATE(), INTERVAL 6 MONTH)
                GROUP BY periodo, tm.tipo
                ORDER BY periodo ASC
Params:  0

[2025-10-18 23:47:42] [DATABASE ERROR] Preparando query: SELECT id, tipo, categoria, documento_numero, data_movimentacao, valor_total, fornecedor, usuario 
                    FROM vw_movimentacoes_recentes 
                    ORDER BY data_movimentacao DESC 
                    LIMIT 10 com parâmetros: []
[2025-10-18 23:47:42] [DATABASE ERROR] Debug PDO após binding: SQL: [235] SELECT id, tipo, categoria, documento_numero, data_movimentacao, valor_total, fornecedor, usuario 
                    FROM vw_movimentacoes_recentes 
                    ORDER BY data_movimentacao DESC 
                    LIMIT 10
Params:  0

[2025-10-18 23:47:47] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-10-18 23:47:48] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-10-18 23:47:49] [DATABASE ERROR] Parâmetro associado: :alert_id = 28 (tipo: 1)
[2025-10-18 23:47:49] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-10-18 23:47:49] [DATABASE ERROR] Parâmetro associado: :tabela = alertas_estoque (tipo: 2)
[2025-10-18 23:47:49] [DATABASE ERROR] Parâmetro associado: :registro_id = 28 (tipo: 1)
[2025-10-18 23:47:49] [DATABASE ERROR] Parâmetro associado: :acao = alertas_estoque (tipo: 2)
[2025-10-18 23:47:49] [DATABASE ERROR] Parâmetro associado: :dados_anteriores = "UPDATE" (tipo: 2)
[2025-10-18 23:47:49] [DATABASE ERROR] Parâmetro associado: :dados_novos = {"lido":false} (tipo: 2)
[2025-10-18 23:47:49] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-10-18 23:47:49] [DATABASE ERROR] Parâmetro associado: :ip_address = 192.168.15.8 (tipo: 2)
[2025-10-18 23:47:49] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36 (tipo: 2)
[2025-10-18 23:47:49] [DATABASE ERROR] Erro ao executar query: SQLSTATE[01000]: Warning: 1265 Data truncated for column 'acao' at row 1
[2025-10-18 23:47:49] [DATABASE ERROR] Parâmetro associado: :alert_id = 24 (tipo: 1)
[2025-10-18 23:47:49] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-10-18 23:47:49] [DATABASE ERROR] Parâmetro associado: :tabela = alertas_estoque (tipo: 2)
[2025-10-18 23:47:49] [DATABASE ERROR] Parâmetro associado: :registro_id = 24 (tipo: 1)
[2025-10-18 23:47:49] [DATABASE ERROR] Parâmetro associado: :acao = alertas_estoque (tipo: 2)
[2025-10-18 23:47:49] [DATABASE ERROR] Parâmetro associado: :dados_anteriores = "UPDATE" (tipo: 2)
[2025-10-18 23:47:49] [DATABASE ERROR] Parâmetro associado: :dados_novos = {"lido":false} (tipo: 2)
[2025-10-18 23:47:49] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-10-18 23:47:49] [DATABASE ERROR] Parâmetro associado: :ip_address = 192.168.15.8 (tipo: 2)
[2025-10-18 23:47:49] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36 (tipo: 2)
[2025-10-18 23:47:49] [DATABASE ERROR] Erro ao executar query: SQLSTATE[01000]: Warning: 1265 Data truncated for column 'acao' at row 1
[2025-10-18 23:47:51] [DATABASE ERROR] Parâmetro associado: :alert_id = 22 (tipo: 1)
[2025-10-18 23:47:51] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-10-18 23:47:51] [DATABASE ERROR] Parâmetro associado: :tabela = alertas_estoque (tipo: 2)
[2025-10-18 23:47:51] [DATABASE ERROR] Parâmetro associado: :registro_id = 22 (tipo: 1)
[2025-10-18 23:47:51] [DATABASE ERROR] Parâmetro associado: :acao = alertas_estoque (tipo: 2)
[2025-10-18 23:47:51] [DATABASE ERROR] Parâmetro associado: :dados_anteriores = "UPDATE" (tipo: 2)
[2025-10-18 23:47:51] [DATABASE ERROR] Parâmetro associado: :dados_novos = {"lido":false} (tipo: 2)
[2025-10-18 23:47:51] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-10-18 23:47:51] [DATABASE ERROR] Parâmetro associado: :ip_address = 192.168.15.8 (tipo: 2)
[2025-10-18 23:47:51] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36 (tipo: 2)
[2025-10-18 23:47:51] [DATABASE ERROR] Erro ao executar query: SQLSTATE[01000]: Warning: 1265 Data truncated for column 'acao' at row 1
[2025-10-18 23:47:51] [DATABASE ERROR] Parâmetro associado: :alert_id = 26 (tipo: 1)
[2025-10-18 23:47:51] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-10-18 23:47:51] [DATABASE ERROR] Parâmetro associado: :tabela = alertas_estoque (tipo: 2)
[2025-10-18 23:47:51] [DATABASE ERROR] Parâmetro associado: :registro_id = 26 (tipo: 1)
[2025-10-18 23:47:51] [DATABASE ERROR] Parâmetro associado: :acao = alertas_estoque (tipo: 2)
[2025-10-18 23:47:51] [DATABASE ERROR] Parâmetro associado: :dados_anteriores = "UPDATE" (tipo: 2)
[2025-10-18 23:47:51] [DATABASE ERROR] Parâmetro associado: :dados_novos = {"lido":false} (tipo: 2)
[2025-10-18 23:47:51] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-10-18 23:47:51] [DATABASE ERROR] Parâmetro associado: :ip_address = 192.168.15.8 (tipo: 2)
[2025-10-18 23:47:51] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36 (tipo: 2)
[2025-10-18 23:47:51] [DATABASE ERROR] Erro ao executar query: SQLSTATE[01000]: Warning: 1265 Data truncated for column 'acao' at row 1
[2025-10-18 23:47:53] [DATABASE ERROR] Parâmetro associado: :user_id = 1 (tipo: 1)
[2025-10-18 23:47:53] [DATABASE ERROR] Parâmetro associado: :tabela = usuarios (tipo: 2)
[2025-10-18 23:47:53] [DATABASE ERROR] Parâmetro associado: :registro_id = NULL (tipo: 0)
[2025-10-18 23:47:53] [DATABASE ERROR] Parâmetro associado: :acao = LOGOUT (tipo: 2)
[2025-10-18 23:47:53] [DATABASE ERROR] Parâmetro associado: :dados_anteriores = NULL (tipo: 0)
[2025-10-18 23:47:53] [DATABASE ERROR] Parâmetro associado: :dados_novos = NULL (tipo: 0)
[2025-10-18 23:47:53] [DATABASE ERROR] Parâmetro associado: :usuario_id = NULL (tipo: 0)
[2025-10-18 23:47:53] [DATABASE ERROR] Parâmetro associado: :ip_address = 192.168.15.8 (tipo: 2)
[2025-10-18 23:47:53] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36 (tipo: 2)
[2025-10-18 23:47:53] [DATABASE ERROR] Erro ao executar query: SQLSTATE[23000]: Integrity constraint violation: 1048 Column 'registro_id' cannot be null
[2025-10-18 23:48:00] [DATABASE ERROR] Parâmetro associado: :username = adm2 (tipo: 2)
[2025-10-18 23:48:00] [DATABASE ERROR] Parâmetro associado: :email = adm2 (tipo: 2)
[2025-10-18 23:48:00] [DATABASE ERROR] Preparando query: UPDATE usuarios SET ultimo_acesso = NOW() WHERE id = :id com parâmetros: {":id":3}
[2025-10-18 23:48:00] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-10-18 23:48:00] [DATABASE ERROR] Debug PDO após binding: SQL: [56] UPDATE usuarios SET ultimo_acesso = NOW() WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-18 23:48:00] [DATABASE ERROR] Parâmetro associado: :tabela = usuarios (tipo: 2)
[2025-10-18 23:48:00] [DATABASE ERROR] Parâmetro associado: :registro_id = 3 (tipo: 1)
[2025-10-18 23:48:00] [DATABASE ERROR] Parâmetro associado: :acao = LOGIN (tipo: 2)
[2025-10-18 23:48:00] [DATABASE ERROR] Parâmetro associado: :dados_anteriores = NULL (tipo: 0)
[2025-10-18 23:48:00] [DATABASE ERROR] Parâmetro associado: :dados_novos = NULL (tipo: 0)
[2025-10-18 23:48:00] [DATABASE ERROR] Parâmetro associado: :usuario_id = NULL (tipo: 0)
[2025-10-18 23:48:00] [DATABASE ERROR] Parâmetro associado: :ip_address = 192.168.15.8 (tipo: 2)
[2025-10-18 23:48:00] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36 (tipo: 2)
[2025-10-18 23:48:00] [DATABASE ERROR] Erro ao executar query: SQLSTATE[01000]: Warning: 1265 Data truncated for column 'acao' at row 1
[2025-10-18 23:48:00] [DATABASE ERROR] Parâmetro associado: :id = 3eecsji36gver55rficfuihode (tipo: 2)
[2025-10-18 23:48:00] [DATABASE ERROR] Parâmetro associado: :id = 3eecsji36gver55rficfuihode (tipo: 2)
[2025-10-18 23:48:00] [DATABASE ERROR] Parâmetro associado: :usuario_id = 3 (tipo: 1)
[2025-10-18 23:48:00] [DATABASE ERROR] Parâmetro associado: :ip_address = 192.168.15.8 (tipo: 2)
[2025-10-18 23:48:00] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36 (tipo: 2)
[2025-10-18 23:48:00] [DATABASE ERROR] Parâmetro associado: :dados = {"user_id":3,"user_name":"Adm2","user_email":"adm2@borela.com","user_profile":1,"user_profile_name":"Administrador","logged_in":true,"login_time":1760842080} (tipo: 2)
[2025-10-18 23:48:00] [DATABASE ERROR] Parâmetro associado: :usuario_id = 3 (tipo: 1)
[2025-10-18 23:48:01] [DATABASE ERROR] Preparando query: SELECT id, tipo, categoria, documento_numero, data_movimentacao, valor_total, fornecedor, usuario 
                    FROM vw_movimentacoes_recentes 
                    ORDER BY data_movimentacao DESC 
                    LIMIT 10 com parâmetros: []
[2025-10-18 23:48:01] [DATABASE ERROR] Debug PDO após binding: SQL: [235] SELECT id, tipo, categoria, documento_numero, data_movimentacao, valor_total, fornecedor, usuario 
                    FROM vw_movimentacoes_recentes 
                    ORDER BY data_movimentacao DESC 
                    LIMIT 10
Params:  0

[2025-10-18 23:48:01] [DATABASE ERROR] Preparando query: 
                SELECT 
                    DATE_FORMAT(m.data_movimentacao, '%Y-%m') as periodo,
                    tm.tipo,
                    SUM(mi.quantidade) as total_quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                WHERE m.status = 'PROCESSADO'
                    AND m.data_movimentacao >= DATE_SUB(CURDATE(), INTERVAL 6 MONTH)
                GROUP BY periodo, tm.tipo
                ORDER BY periodo ASC com parâmetros: []
[2025-10-18 23:48:01] [DATABASE ERROR] Debug PDO após binding: SQL: [593] 
                SELECT 
                    DATE_FORMAT(m.data_movimentacao, '%Y-%m') as periodo,
                    tm.tipo,
                    SUM(mi.quantidade) as total_quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                WHERE m.status = 'PROCESSADO'
                    AND m.data_movimentacao >= DATE_SUB(CURDATE(), INTERVAL 6 MONTH)
                GROUP BY periodo, tm.tipo
                ORDER BY periodo ASC
Params:  0

[2025-10-18 23:48:01] [DATABASE ERROR] Preparando query: SELECT SUM(estoque_atual) as total_estoque FROM produtos WHERE ativo = TRUE com parâmetros: []
[2025-10-18 23:48:01] [DATABASE ERROR] Debug PDO após binding: SQL: [75] SELECT SUM(estoque_atual) as total_estoque FROM produtos WHERE ativo = TRUE
Params:  0

[2025-10-18 23:48:01] [DATABASE ERROR] Preparando query: SELECT id FROM produtos WHERE ativo = TRUE com parâmetros: []
[2025-10-18 23:48:01] [DATABASE ERROR] Debug PDO após binding: SQL: [42] SELECT id FROM produtos WHERE ativo = TRUE
Params:  0

[2025-10-18 23:48:01] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":2,":data_fim_a":null,":data_fim":null}
[2025-10-18 23:48:01] [DATABASE ERROR] Parâmetro associado: :produto_id = 2 (tipo: 1)
[2025-10-18 23:48:01] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-10-18 23:48:01] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-10-18 23:48:01] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-10-18 23:48:01] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":2}
[2025-10-18 23:48:01] [DATABASE ERROR] Parâmetro associado: :id = 2 (tipo: 1)
[2025-10-18 23:48:01] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-18 23:48:01] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":3,":data_fim_a":null,":data_fim":null}
[2025-10-18 23:48:01] [DATABASE ERROR] Parâmetro associado: :produto_id = 3 (tipo: 1)
[2025-10-18 23:48:01] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-10-18 23:48:01] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-10-18 23:48:01] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-10-18 23:48:01] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":3}
[2025-10-18 23:48:01] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-10-18 23:48:01] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-18 23:48:01] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":4,":data_fim_a":null,":data_fim":null}
[2025-10-18 23:48:01] [DATABASE ERROR] Parâmetro associado: :produto_id = 4 (tipo: 1)
[2025-10-18 23:48:01] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-10-18 23:48:01] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-10-18 23:48:01] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-10-18 23:48:01] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":4}
[2025-10-18 23:48:01] [DATABASE ERROR] Parâmetro associado: :id = 4 (tipo: 1)
[2025-10-18 23:48:01] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-18 23:48:01] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":5,":data_fim_a":null,":data_fim":null}
[2025-10-18 23:48:01] [DATABASE ERROR] Parâmetro associado: :produto_id = 5 (tipo: 1)
[2025-10-18 23:48:01] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-10-18 23:48:01] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-10-18 23:48:01] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-10-18 23:48:01] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":5}
[2025-10-18 23:48:01] [DATABASE ERROR] Parâmetro associado: :id = 5 (tipo: 1)
[2025-10-18 23:48:01] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-18 23:48:01] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":6,":data_fim_a":null,":data_fim":null}
[2025-10-18 23:48:01] [DATABASE ERROR] Parâmetro associado: :produto_id = 6 (tipo: 1)
[2025-10-18 23:48:01] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-10-18 23:48:01] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-10-18 23:48:01] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-10-18 23:48:01] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":6}
[2025-10-18 23:48:01] [DATABASE ERROR] Parâmetro associado: :id = 6 (tipo: 1)
[2025-10-18 23:48:01] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-18 23:48:01] [DATABASE ERROR] Preparando query: SELECT id, codigo, nome, estoque_atual, estoque_minimo, categoria, fornecedor 
                    FROM vw_produtos_estoque_critico 
                    ORDER BY estoque_atual ASC 
                    LIMIT 10 com parâmetros: []
[2025-10-18 23:48:01] [DATABASE ERROR] Debug PDO após binding: SQL: [212] SELECT id, codigo, nome, estoque_atual, estoque_minimo, categoria, fornecedor 
                    FROM vw_produtos_estoque_critico 
                    ORDER BY estoque_atual ASC 
                    LIMIT 10
Params:  0

[2025-10-18 23:48:13] [DATABASE ERROR] Parâmetro associado: :usuario_id = 3 (tipo: 1)
[2025-10-18 23:48:14] [DATABASE ERROR] Parâmetro associado: :usuario_id = 3 (tipo: 1)
[2025-10-18 23:48:15] [DATABASE ERROR] Parâmetro associado: :alert_id = 29 (tipo: 1)
[2025-10-18 23:48:15] [DATABASE ERROR] Parâmetro associado: :usuario_id = 3 (tipo: 1)
[2025-10-18 23:48:15] [DATABASE ERROR] Parâmetro associado: :tabela = alertas_estoque (tipo: 2)
[2025-10-18 23:48:15] [DATABASE ERROR] Parâmetro associado: :registro_id = 29 (tipo: 1)
[2025-10-18 23:48:15] [DATABASE ERROR] Parâmetro associado: :acao = alertas_estoque (tipo: 2)
[2025-10-18 23:48:15] [DATABASE ERROR] Parâmetro associado: :dados_anteriores = "UPDATE" (tipo: 2)
[2025-10-18 23:48:15] [DATABASE ERROR] Parâmetro associado: :dados_novos = {"lido":false} (tipo: 2)
[2025-10-18 23:48:15] [DATABASE ERROR] Parâmetro associado: :usuario_id = 3 (tipo: 1)
[2025-10-18 23:48:15] [DATABASE ERROR] Parâmetro associado: :ip_address = 192.168.15.8 (tipo: 2)
[2025-10-18 23:48:15] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36 (tipo: 2)
[2025-10-18 23:48:15] [DATABASE ERROR] Erro ao executar query: SQLSTATE[01000]: Warning: 1265 Data truncated for column 'acao' at row 1
[2025-10-18 23:48:16] [DATABASE ERROR] Parâmetro associado: :alert_id = 27 (tipo: 1)
[2025-10-18 23:48:16] [DATABASE ERROR] Parâmetro associado: :usuario_id = 3 (tipo: 1)
[2025-10-18 23:48:16] [DATABASE ERROR] Parâmetro associado: :tabela = alertas_estoque (tipo: 2)
[2025-10-18 23:48:16] [DATABASE ERROR] Parâmetro associado: :registro_id = 27 (tipo: 1)
[2025-10-18 23:48:16] [DATABASE ERROR] Parâmetro associado: :acao = alertas_estoque (tipo: 2)
[2025-10-18 23:48:16] [DATABASE ERROR] Parâmetro associado: :dados_anteriores = "UPDATE" (tipo: 2)
[2025-10-18 23:48:16] [DATABASE ERROR] Parâmetro associado: :dados_novos = {"lido":false} (tipo: 2)
[2025-10-18 23:48:16] [DATABASE ERROR] Parâmetro associado: :usuario_id = 3 (tipo: 1)
[2025-10-18 23:48:16] [DATABASE ERROR] Parâmetro associado: :ip_address = 192.168.15.8 (tipo: 2)
[2025-10-18 23:48:16] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36 (tipo: 2)
[2025-10-18 23:48:16] [DATABASE ERROR] Erro ao executar query: SQLSTATE[01000]: Warning: 1265 Data truncated for column 'acao' at row 1
[2025-10-18 23:48:16] [DATABASE ERROR] Parâmetro associado: :alert_id = 25 (tipo: 1)
[2025-10-18 23:48:16] [DATABASE ERROR] Parâmetro associado: :usuario_id = 3 (tipo: 1)
[2025-10-18 23:48:16] [DATABASE ERROR] Parâmetro associado: :tabela = alertas_estoque (tipo: 2)
[2025-10-18 23:48:16] [DATABASE ERROR] Parâmetro associado: :registro_id = 25 (tipo: 1)
[2025-10-18 23:48:16] [DATABASE ERROR] Parâmetro associado: :acao = alertas_estoque (tipo: 2)
[2025-10-18 23:48:16] [DATABASE ERROR] Parâmetro associado: :dados_anteriores = "UPDATE" (tipo: 2)
[2025-10-18 23:48:16] [DATABASE ERROR] Parâmetro associado: :dados_novos = {"lido":false} (tipo: 2)
[2025-10-18 23:48:16] [DATABASE ERROR] Parâmetro associado: :usuario_id = 3 (tipo: 1)
[2025-10-18 23:48:16] [DATABASE ERROR] Parâmetro associado: :ip_address = 192.168.15.8 (tipo: 2)
[2025-10-18 23:48:16] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36 (tipo: 2)
[2025-10-18 23:48:16] [DATABASE ERROR] Erro ao executar query: SQLSTATE[01000]: Warning: 1265 Data truncated for column 'acao' at row 1
[2025-10-18 23:48:17] [DATABASE ERROR] Parâmetro associado: :alert_id = 23 (tipo: 1)
[2025-10-18 23:48:17] [DATABASE ERROR] Parâmetro associado: :usuario_id = 3 (tipo: 1)
[2025-10-18 23:48:17] [DATABASE ERROR] Parâmetro associado: :tabela = alertas_estoque (tipo: 2)
[2025-10-18 23:48:17] [DATABASE ERROR] Parâmetro associado: :registro_id = 23 (tipo: 1)
[2025-10-18 23:48:17] [DATABASE ERROR] Parâmetro associado: :acao = alertas_estoque (tipo: 2)
[2025-10-18 23:48:17] [DATABASE ERROR] Parâmetro associado: :dados_anteriores = "UPDATE" (tipo: 2)
[2025-10-18 23:48:17] [DATABASE ERROR] Parâmetro associado: :dados_novos = {"lido":false} (tipo: 2)
[2025-10-18 23:48:17] [DATABASE ERROR] Parâmetro associado: :usuario_id = 3 (tipo: 1)
[2025-10-18 23:48:17] [DATABASE ERROR] Parâmetro associado: :ip_address = 192.168.15.8 (tipo: 2)
[2025-10-18 23:48:17] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36 (tipo: 2)
[2025-10-18 23:48:17] [DATABASE ERROR] Erro ao executar query: SQLSTATE[01000]: Warning: 1265 Data truncated for column 'acao' at row 1
[2025-10-18 23:48:19] [DATABASE ERROR] Parâmetro associado: :user_id = 3 (tipo: 1)
[2025-10-18 23:48:19] [DATABASE ERROR] Parâmetro associado: :tabela = usuarios (tipo: 2)
[2025-10-18 23:48:19] [DATABASE ERROR] Parâmetro associado: :registro_id = NULL (tipo: 0)
[2025-10-18 23:48:19] [DATABASE ERROR] Parâmetro associado: :acao = LOGOUT (tipo: 2)
[2025-10-18 23:48:19] [DATABASE ERROR] Parâmetro associado: :dados_anteriores = NULL (tipo: 0)
[2025-10-18 23:48:19] [DATABASE ERROR] Parâmetro associado: :dados_novos = NULL (tipo: 0)
[2025-10-18 23:48:19] [DATABASE ERROR] Parâmetro associado: :usuario_id = NULL (tipo: 0)
[2025-10-18 23:48:19] [DATABASE ERROR] Parâmetro associado: :ip_address = 192.168.15.8 (tipo: 2)
[2025-10-18 23:48:19] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36 (tipo: 2)
[2025-10-18 23:48:19] [DATABASE ERROR] Erro ao executar query: SQLSTATE[23000]: Integrity constraint violation: 1048 Column 'registro_id' cannot be null
[2025-10-18 23:48:58] [DATABASE ERROR] Parâmetro associado: :username = flavio (tipo: 2)
[2025-10-18 23:48:58] [DATABASE ERROR] Parâmetro associado: :email = flavio (tipo: 2)
[2025-10-18 23:48:58] [DATABASE ERROR] Preparando query: UPDATE usuarios SET ultimo_acesso = NOW() WHERE id = :id com parâmetros: {":id":2}
[2025-10-18 23:48:58] [DATABASE ERROR] Parâmetro associado: :id = 2 (tipo: 1)
[2025-10-18 23:48:58] [DATABASE ERROR] Debug PDO após binding: SQL: [56] UPDATE usuarios SET ultimo_acesso = NOW() WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-18 23:48:58] [DATABASE ERROR] Parâmetro associado: :tabela = usuarios (tipo: 2)
[2025-10-18 23:48:58] [DATABASE ERROR] Parâmetro associado: :registro_id = 2 (tipo: 1)
[2025-10-18 23:48:58] [DATABASE ERROR] Parâmetro associado: :acao = LOGIN (tipo: 2)
[2025-10-18 23:48:58] [DATABASE ERROR] Parâmetro associado: :dados_anteriores = NULL (tipo: 0)
[2025-10-18 23:48:58] [DATABASE ERROR] Parâmetro associado: :dados_novos = NULL (tipo: 0)
[2025-10-18 23:48:58] [DATABASE ERROR] Parâmetro associado: :usuario_id = NULL (tipo: 0)
[2025-10-18 23:48:58] [DATABASE ERROR] Parâmetro associado: :ip_address = 192.168.15.8 (tipo: 2)
[2025-10-18 23:48:58] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36 (tipo: 2)
[2025-10-18 23:48:58] [DATABASE ERROR] Erro ao executar query: SQLSTATE[01000]: Warning: 1265 Data truncated for column 'acao' at row 1
[2025-10-18 23:48:58] [DATABASE ERROR] Parâmetro associado: :id = 6mbtdv7jmttd7h7n1gqj6em6fn (tipo: 2)
[2025-10-18 23:48:58] [DATABASE ERROR] Parâmetro associado: :id = 6mbtdv7jmttd7h7n1gqj6em6fn (tipo: 2)
[2025-10-18 23:48:58] [DATABASE ERROR] Parâmetro associado: :usuario_id = 2 (tipo: 1)
[2025-10-18 23:48:58] [DATABASE ERROR] Parâmetro associado: :ip_address = 192.168.15.8 (tipo: 2)
[2025-10-18 23:48:58] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36 (tipo: 2)
[2025-10-18 23:48:58] [DATABASE ERROR] Parâmetro associado: :dados = {"user_id":2,"user_name":"Fl\u00e1vio Alves","user_email":"flavioafj@yahoo.com.br","user_profile":2,"user_profile_name":"Operador","logged_in":true,"login_time":1760842138} (tipo: 2)
[2025-10-18 23:48:58] [DATABASE ERROR] Parâmetro associado: :usuario_id = 2 (tipo: 1)
[2025-10-18 23:49:06] [DATABASE ERROR] Parâmetro associado: :id = 2 (tipo: 1)
[2025-10-18 23:49:06] [DATABASE ERROR] Parâmetro associado: :id = 2 (tipo: 1)
[2025-10-18 23:49:15] [DATABASE ERROR] Parâmetro associado: :produto_id = 2 (tipo: 1)
[2025-10-18 23:49:22] [DATABASE ERROR] Parâmetro associado: :produto_id = 2 (tipo: 1)
[2025-10-18 23:49:54] [DATABASE ERROR] Parâmetro associado: :produto_id = 2 (tipo: 1)
[2025-10-18 23:49:54] [DATABASE ERROR] Parâmetro associado: :mensagem = Produto teste com estoque baixo: 1.000 <= 1.000. (tipo: 2)
[2025-10-18 23:49:55] [DATABASE ERROR] Parâmetro associado: :admin_id = 1 (tipo: 1)
[2025-10-18 23:50:20] [DATABASE ERROR] Parâmetro associado: :produto_id = 2 (tipo: 1)
[2025-10-18 23:50:20] [DATABASE ERROR] Parâmetro associado: :mensagem = Produto teste com estoque baixo: 1.000 <= 1.000. (tipo: 2)
[2025-10-18 23:50:21] [DATABASE ERROR] Parâmetro associado: :admin_id = 3 (tipo: 1)
[2025-10-18 23:52:27] [DATABASE ERROR] Parâmetro associado: :tabela = alertas_estoque (tipo: 2)
[2025-10-18 23:52:27] [DATABASE ERROR] Parâmetro associado: :registro_id = 31 (tipo: 2)
[2025-10-18 23:52:27] [DATABASE ERROR] Parâmetro associado: :acao = alertas_estoque (tipo: 2)
[2025-10-18 23:52:27] [DATABASE ERROR] Parâmetro associado: :dados_anteriores = "INSERT" (tipo: 2)
[2025-10-18 23:52:27] [DATABASE ERROR] Parâmetro associado: :dados_novos = NULL (tipo: 0)
[2025-10-18 23:52:27] [DATABASE ERROR] Parâmetro associado: :usuario_id = 2 (tipo: 1)
[2025-10-18 23:52:27] [DATABASE ERROR] Parâmetro associado: :ip_address = 192.168.15.8 (tipo: 2)
[2025-10-18 23:52:27] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36 (tipo: 2)
[2025-10-18 23:52:27] [DATABASE ERROR] Erro ao executar query: SQLSTATE[01000]: Warning: 1265 Data truncated for column 'acao' at row 1
[2025-10-18 23:52:42] [DATABASE ERROR] Parâmetro associado: :alert_id = 31 (tipo: 1)
[2025-10-18 23:55:02] [DATABASE ERROR] Parâmetro associado: :id = 5 (tipo: 1)
[2025-10-18 23:55:02] [DATABASE ERROR] Parâmetro associado: :id = 5 (tipo: 1)
[2025-10-18 23:55:02] [DATABASE ERROR] Parâmetro associado: :produto_id = 5 (tipo: 1)
[2025-10-18 23:55:02] [DATABASE ERROR] Parâmetro associado: :produto_id = 5 (tipo: 1)
[2025-10-18 23:55:02] [DATABASE ERROR] Parâmetro associado: :produto_id = 5 (tipo: 1)
[2025-10-18 23:55:02] [DATABASE ERROR] Parâmetro associado: :mensagem = Produto Leite A integral bag com estoque baixo: 1.000 <= 1.000. (tipo: 2)
[2025-10-18 23:55:02] [DATABASE ERROR] Parâmetro associado: :admin_id = 1 (tipo: 1)
[2025-10-18 23:55:02] [DATABASE ERROR] Parâmetro associado: :produto_id = 5 (tipo: 1)
[2025-10-18 23:55:02] [DATABASE ERROR] Parâmetro associado: :mensagem = Produto Leite A integral bag com estoque baixo: 1.000 <= 1.000. (tipo: 2)
[2025-10-18 23:55:02] [DATABASE ERROR] Parâmetro associado: :admin_id = 3 (tipo: 1)
[2025-10-18 23:55:02] [DATABASE ERROR] Parâmetro associado: :tabela = alertas_estoque (tipo: 2)
[2025-10-18 23:55:02] [DATABASE ERROR] Parâmetro associado: :registro_id = 33 (tipo: 2)
[2025-10-18 23:55:02] [DATABASE ERROR] Parâmetro associado: :acao = alertas_estoque (tipo: 2)
[2025-10-18 23:55:02] [DATABASE ERROR] Parâmetro associado: :dados_anteriores = "INSERT" (tipo: 2)
[2025-10-18 23:55:02] [DATABASE ERROR] Parâmetro associado: :dados_novos = NULL (tipo: 0)
[2025-10-18 23:55:02] [DATABASE ERROR] Parâmetro associado: :usuario_id = 2 (tipo: 1)
[2025-10-18 23:55:02] [DATABASE ERROR] Parâmetro associado: :ip_address = 192.168.15.8 (tipo: 2)
[2025-10-18 23:55:02] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36 (tipo: 2)
[2025-10-18 23:55:02] [DATABASE ERROR] Erro ao executar query: SQLSTATE[01000]: Warning: 1265 Data truncated for column 'acao' at row 1
[2025-10-18 23:55:02] [DATABASE ERROR] Parâmetro associado: :alert_id = 33 (tipo: 1)
[2025-10-18 23:55:34] [DATABASE ERROR] Parâmetro associado: :id = 4 (tipo: 1)
[2025-10-18 23:55:34] [DATABASE ERROR] Parâmetro associado: :id = 4 (tipo: 1)
[2025-10-18 23:55:34] [DATABASE ERROR] Parâmetro associado: :produto_id = 4 (tipo: 1)
[2025-10-18 23:55:34] [DATABASE ERROR] Parâmetro associado: :produto_id = 4 (tipo: 1)
[2025-10-18 23:55:34] [DATABASE ERROR] Parâmetro associado: :produto_id = 4 (tipo: 1)
[2025-10-18 23:55:34] [DATABASE ERROR] Parâmetro associado: :mensagem = Produto ggg1 com estoque baixo: 1.000 <= 1.000. (tipo: 2)
[2025-10-18 23:55:34] [DATABASE ERROR] Parâmetro associado: :admin_id = 1 (tipo: 1)
[2025-10-18 23:55:34] [DATABASE ERROR] Parâmetro associado: :produto_id = 4 (tipo: 1)
[2025-10-18 23:55:34] [DATABASE ERROR] Parâmetro associado: :mensagem = Produto ggg1 com estoque baixo: 1.000 <= 1.000. (tipo: 2)
[2025-10-18 23:55:34] [DATABASE ERROR] Parâmetro associado: :admin_id = 3 (tipo: 1)
[2025-10-18 23:55:34] [DATABASE ERROR] Parâmetro associado: :tabela = alertas_estoque (tipo: 2)
[2025-10-18 23:55:34] [DATABASE ERROR] Parâmetro associado: :registro_id = 35 (tipo: 2)
[2025-10-18 23:55:34] [DATABASE ERROR] Parâmetro associado: :acao = alertas_estoque (tipo: 2)
[2025-10-18 23:55:34] [DATABASE ERROR] Parâmetro associado: :dados_anteriores = "INSERT" (tipo: 2)
[2025-10-18 23:55:34] [DATABASE ERROR] Parâmetro associado: :dados_novos = NULL (tipo: 0)
[2025-10-18 23:55:34] [DATABASE ERROR] Parâmetro associado: :usuario_id = 2 (tipo: 1)
[2025-10-18 23:55:34] [DATABASE ERROR] Parâmetro associado: :ip_address = 192.168.15.8 (tipo: 2)
[2025-10-18 23:55:34] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36 (tipo: 2)
[2025-10-18 23:55:34] [DATABASE ERROR] Erro ao executar query: SQLSTATE[01000]: Warning: 1265 Data truncated for column 'acao' at row 1
[2025-10-18 23:55:34] [DATABASE ERROR] Parâmetro associado: :alert_id = 35 (tipo: 1)
[2025-10-18 23:56:36] [DATABASE ERROR] Parâmetro associado: :id = 6 (tipo: 1)
[2025-10-18 23:56:36] [DATABASE ERROR] Parâmetro associado: :id = 6 (tipo: 1)
[2025-10-18 23:56:36] [DATABASE ERROR] Parâmetro associado: :produto_id = 6 (tipo: 1)
[2025-10-18 23:56:36] [DATABASE ERROR] Parâmetro associado: :produto_id = 6 (tipo: 1)
[2025-10-18 23:56:36] [DATABASE ERROR] Parâmetro associado: :produto_id = 6 (tipo: 1)
[2025-10-18 23:56:36] [DATABASE ERROR] Parâmetro associado: :mensagem = Produto CREME DE LEITE PASTEUR com estoque baixo: 2.000 <= 2.000. (tipo: 2)
[2025-10-18 23:56:36] [DATABASE ERROR] Parâmetro associado: :admin_id = 1 (tipo: 1)
[2025-10-18 23:56:36] [DATABASE ERROR] Parâmetro associado: :produto_id = 6 (tipo: 1)
[2025-10-18 23:56:36] [DATABASE ERROR] Parâmetro associado: :mensagem = Produto CREME DE LEITE PASTEUR com estoque baixo: 2.000 <= 2.000. (tipo: 2)
[2025-10-18 23:56:36] [DATABASE ERROR] Parâmetro associado: :admin_id = 3 (tipo: 1)
[2025-10-18 23:56:36] [DATABASE ERROR] Parâmetro associado: :tabela = alertas_estoque (tipo: 2)
[2025-10-18 23:56:36] [DATABASE ERROR] Parâmetro associado: :registro_id = 37 (tipo: 2)
[2025-10-18 23:56:36] [DATABASE ERROR] Parâmetro associado: :acao = alertas_estoque (tipo: 2)
[2025-10-18 23:56:36] [DATABASE ERROR] Parâmetro associado: :dados_anteriores = "INSERT" (tipo: 2)
[2025-10-18 23:56:36] [DATABASE ERROR] Parâmetro associado: :dados_novos = NULL (tipo: 0)
[2025-10-18 23:56:36] [DATABASE ERROR] Parâmetro associado: :usuario_id = 2 (tipo: 1)
[2025-10-18 23:56:36] [DATABASE ERROR] Parâmetro associado: :ip_address = 192.168.15.8 (tipo: 2)
[2025-10-18 23:56:36] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36 (tipo: 2)
[2025-10-18 23:56:36] [DATABASE ERROR] Erro ao executar query: SQLSTATE[01000]: Warning: 1265 Data truncated for column 'acao' at row 1
[2025-10-18 23:56:36] [DATABASE ERROR] Parâmetro associado: :alert_id = 37 (tipo: 1)
[2025-10-18 23:58:15] [DATABASE ERROR] Parâmetro associado: :user_id = 2 (tipo: 1)
[2025-10-18 23:58:15] [DATABASE ERROR] Parâmetro associado: :tabela = usuarios (tipo: 2)
[2025-10-18 23:58:15] [DATABASE ERROR] Parâmetro associado: :registro_id = NULL (tipo: 0)
[2025-10-18 23:58:15] [DATABASE ERROR] Parâmetro associado: :acao = LOGOUT (tipo: 2)
[2025-10-18 23:58:15] [DATABASE ERROR] Parâmetro associado: :dados_anteriores = NULL (tipo: 0)
[2025-10-18 23:58:15] [DATABASE ERROR] Parâmetro associado: :dados_novos = NULL (tipo: 0)
[2025-10-18 23:58:15] [DATABASE ERROR] Parâmetro associado: :usuario_id = NULL (tipo: 0)
[2025-10-18 23:58:15] [DATABASE ERROR] Parâmetro associado: :ip_address = 192.168.15.8 (tipo: 2)
[2025-10-18 23:58:15] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36 (tipo: 2)
[2025-10-18 23:58:15] [DATABASE ERROR] Erro ao executar query: SQLSTATE[23000]: Integrity constraint violation: 1048 Column 'registro_id' cannot be null
[2025-10-18 23:58:22] [DATABASE ERROR] Parâmetro associado: :username = admin (tipo: 2)
[2025-10-18 23:58:22] [DATABASE ERROR] Parâmetro associado: :email = admin (tipo: 2)
[2025-10-18 23:58:23] [DATABASE ERROR] Preparando query: UPDATE usuarios SET ultimo_acesso = NOW() WHERE id = :id com parâmetros: {":id":1}
[2025-10-18 23:58:23] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-10-18 23:58:23] [DATABASE ERROR] Debug PDO após binding: SQL: [56] UPDATE usuarios SET ultimo_acesso = NOW() WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-18 23:58:23] [DATABASE ERROR] Parâmetro associado: :tabela = usuarios (tipo: 2)
[2025-10-18 23:58:23] [DATABASE ERROR] Parâmetro associado: :registro_id = 1 (tipo: 1)
[2025-10-18 23:58:23] [DATABASE ERROR] Parâmetro associado: :acao = LOGIN (tipo: 2)
[2025-10-18 23:58:23] [DATABASE ERROR] Parâmetro associado: :dados_anteriores = NULL (tipo: 0)
[2025-10-18 23:58:23] [DATABASE ERROR] Parâmetro associado: :dados_novos = NULL (tipo: 0)
[2025-10-18 23:58:23] [DATABASE ERROR] Parâmetro associado: :usuario_id = NULL (tipo: 0)
[2025-10-18 23:58:23] [DATABASE ERROR] Parâmetro associado: :ip_address = 192.168.15.8 (tipo: 2)
[2025-10-18 23:58:23] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36 (tipo: 2)
[2025-10-18 23:58:23] [DATABASE ERROR] Erro ao executar query: SQLSTATE[01000]: Warning: 1265 Data truncated for column 'acao' at row 1
[2025-10-18 23:58:23] [DATABASE ERROR] Parâmetro associado: :id = oi9cgnbuqq0f7ci6ou4u7g17a0 (tipo: 2)
[2025-10-18 23:58:23] [DATABASE ERROR] Parâmetro associado: :id = oi9cgnbuqq0f7ci6ou4u7g17a0 (tipo: 2)
[2025-10-18 23:58:23] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-10-18 23:58:23] [DATABASE ERROR] Parâmetro associado: :ip_address = 192.168.15.8 (tipo: 2)
[2025-10-18 23:58:23] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36 (tipo: 2)
[2025-10-18 23:58:23] [DATABASE ERROR] Parâmetro associado: :dados = {"user_id":1,"user_name":"Administrador do Sistema","user_email":"admin@sorveteria.com","user_profile":1,"user_profile_name":"Administrador","logged_in":true,"login_time":1760842703} (tipo: 2)
[2025-10-18 23:58:23] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-10-18 23:58:23] [DATABASE ERROR] Preparando query: SELECT SUM(estoque_atual) as total_estoque FROM produtos WHERE ativo = TRUE com parâmetros: []
[2025-10-18 23:58:23] [DATABASE ERROR] Debug PDO após binding: SQL: [75] SELECT SUM(estoque_atual) as total_estoque FROM produtos WHERE ativo = TRUE
Params:  0

[2025-10-18 23:58:23] [DATABASE ERROR] Preparando query: SELECT id FROM produtos WHERE ativo = TRUE com parâmetros: []
[2025-10-18 23:58:23] [DATABASE ERROR] Debug PDO após binding: SQL: [42] SELECT id FROM produtos WHERE ativo = TRUE
Params:  0

[2025-10-18 23:58:23] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":2,":data_fim_a":null,":data_fim":null}
[2025-10-18 23:58:23] [DATABASE ERROR] Parâmetro associado: :produto_id = 2 (tipo: 1)
[2025-10-18 23:58:23] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-10-18 23:58:23] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-10-18 23:58:23] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-10-18 23:58:23] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":2}
[2025-10-18 23:58:23] [DATABASE ERROR] Parâmetro associado: :id = 2 (tipo: 1)
[2025-10-18 23:58:23] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-18 23:58:23] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":3,":data_fim_a":null,":data_fim":null}
[2025-10-18 23:58:23] [DATABASE ERROR] Parâmetro associado: :produto_id = 3 (tipo: 1)
[2025-10-18 23:58:23] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-10-18 23:58:23] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-10-18 23:58:23] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-10-18 23:58:23] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":3}
[2025-10-18 23:58:23] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-10-18 23:58:23] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-18 23:58:23] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":4,":data_fim_a":null,":data_fim":null}
[2025-10-18 23:58:23] [DATABASE ERROR] Parâmetro associado: :produto_id = 4 (tipo: 1)
[2025-10-18 23:58:23] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-10-18 23:58:23] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-10-18 23:58:23] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-10-18 23:58:23] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":4}
[2025-10-18 23:58:23] [DATABASE ERROR] Parâmetro associado: :id = 4 (tipo: 1)
[2025-10-18 23:58:23] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-18 23:58:23] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":5,":data_fim_a":null,":data_fim":null}
[2025-10-18 23:58:23] [DATABASE ERROR] Parâmetro associado: :produto_id = 5 (tipo: 1)
[2025-10-18 23:58:23] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-10-18 23:58:23] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-10-18 23:58:23] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-10-18 23:58:24] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":5}
[2025-10-18 23:58:24] [DATABASE ERROR] Parâmetro associado: :id = 5 (tipo: 1)
[2025-10-18 23:58:24] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-18 23:58:24] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":6,":data_fim_a":null,":data_fim":null}
[2025-10-18 23:58:24] [DATABASE ERROR] Parâmetro associado: :produto_id = 6 (tipo: 1)
[2025-10-18 23:58:24] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-10-18 23:58:24] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-10-18 23:58:24] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-10-18 23:58:24] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":6}
[2025-10-18 23:58:24] [DATABASE ERROR] Parâmetro associado: :id = 6 (tipo: 1)
[2025-10-18 23:58:24] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-18 23:58:24] [DATABASE ERROR] Preparando query: SELECT id, codigo, nome, estoque_atual, estoque_minimo, categoria, fornecedor 
                    FROM vw_produtos_estoque_critico 
                    ORDER BY estoque_atual ASC 
                    LIMIT 10 com parâmetros: []
[2025-10-18 23:58:24] [DATABASE ERROR] Debug PDO após binding: SQL: [212] SELECT id, codigo, nome, estoque_atual, estoque_minimo, categoria, fornecedor 
                    FROM vw_produtos_estoque_critico 
                    ORDER BY estoque_atual ASC 
                    LIMIT 10
Params:  0

[2025-10-18 23:58:24] [DATABASE ERROR] Preparando query: 
                SELECT 
                    DATE_FORMAT(m.data_movimentacao, '%Y-%m') as periodo,
                    tm.tipo,
                    SUM(mi.quantidade) as total_quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                WHERE m.status = 'PROCESSADO'
                    AND m.data_movimentacao >= DATE_SUB(CURDATE(), INTERVAL 6 MONTH)
                GROUP BY periodo, tm.tipo
                ORDER BY periodo ASC com parâmetros: []
[2025-10-18 23:58:24] [DATABASE ERROR] Debug PDO após binding: SQL: [593] 
                SELECT 
                    DATE_FORMAT(m.data_movimentacao, '%Y-%m') as periodo,
                    tm.tipo,
                    SUM(mi.quantidade) as total_quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                WHERE m.status = 'PROCESSADO'
                    AND m.data_movimentacao >= DATE_SUB(CURDATE(), INTERVAL 6 MONTH)
                GROUP BY periodo, tm.tipo
                ORDER BY periodo ASC
Params:  0

[2025-10-18 23:58:24] [DATABASE ERROR] Preparando query: SELECT id, tipo, categoria, documento_numero, data_movimentacao, valor_total, fornecedor, usuario 
                    FROM vw_movimentacoes_recentes 
                    ORDER BY data_movimentacao DESC 
                    LIMIT 10 com parâmetros: []
[2025-10-18 23:58:24] [DATABASE ERROR] Debug PDO após binding: SQL: [235] SELECT id, tipo, categoria, documento_numero, data_movimentacao, valor_total, fornecedor, usuario 
                    FROM vw_movimentacoes_recentes 
                    ORDER BY data_movimentacao DESC 
                    LIMIT 10
Params:  0

[2025-10-18 23:59:11] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-10-18 23:59:12] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-10-18 23:59:14] [DATABASE ERROR] Parâmetro associado: :alert_id = 36 (tipo: 1)
[2025-10-18 23:59:14] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-10-18 23:59:14] [DATABASE ERROR] Parâmetro associado: :tabela = alertas_estoque (tipo: 2)
[2025-10-18 23:59:14] [DATABASE ERROR] Parâmetro associado: :registro_id = 36 (tipo: 1)
[2025-10-18 23:59:14] [DATABASE ERROR] Parâmetro associado: :acao = alertas_estoque (tipo: 2)
[2025-10-18 23:59:14] [DATABASE ERROR] Parâmetro associado: :dados_anteriores = "UPDATE" (tipo: 2)
[2025-10-18 23:59:14] [DATABASE ERROR] Parâmetro associado: :dados_novos = {"lido":false} (tipo: 2)
[2025-10-18 23:59:14] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-10-18 23:59:14] [DATABASE ERROR] Parâmetro associado: :ip_address = 192.168.15.8 (tipo: 2)
[2025-10-18 23:59:14] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36 (tipo: 2)
[2025-10-18 23:59:14] [DATABASE ERROR] Erro ao executar query: SQLSTATE[01000]: Warning: 1265 Data truncated for column 'acao' at row 1
[2025-10-18 23:59:15] [DATABASE ERROR] Parâmetro associado: :alert_id = 32 (tipo: 1)
[2025-10-18 23:59:15] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-10-18 23:59:15] [DATABASE ERROR] Parâmetro associado: :tabela = alertas_estoque (tipo: 2)
[2025-10-18 23:59:15] [DATABASE ERROR] Parâmetro associado: :registro_id = 32 (tipo: 1)
[2025-10-18 23:59:15] [DATABASE ERROR] Parâmetro associado: :acao = alertas_estoque (tipo: 2)
[2025-10-18 23:59:15] [DATABASE ERROR] Parâmetro associado: :dados_anteriores = "UPDATE" (tipo: 2)
[2025-10-18 23:59:15] [DATABASE ERROR] Parâmetro associado: :dados_novos = {"lido":false} (tipo: 2)
[2025-10-18 23:59:15] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-10-18 23:59:15] [DATABASE ERROR] Parâmetro associado: :ip_address = 192.168.15.8 (tipo: 2)
[2025-10-18 23:59:15] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36 (tipo: 2)
[2025-10-18 23:59:15] [DATABASE ERROR] Erro ao executar query: SQLSTATE[01000]: Warning: 1265 Data truncated for column 'acao' at row 1
[2025-10-18 23:59:16] [DATABASE ERROR] Parâmetro associado: :alert_id = 34 (tipo: 1)
[2025-10-18 23:59:16] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-10-18 23:59:16] [DATABASE ERROR] Parâmetro associado: :tabela = alertas_estoque (tipo: 2)
[2025-10-18 23:59:16] [DATABASE ERROR] Parâmetro associado: :registro_id = 34 (tipo: 1)
[2025-10-18 23:59:16] [DATABASE ERROR] Parâmetro associado: :acao = alertas_estoque (tipo: 2)
[2025-10-18 23:59:16] [DATABASE ERROR] Parâmetro associado: :dados_anteriores = "UPDATE" (tipo: 2)
[2025-10-18 23:59:16] [DATABASE ERROR] Parâmetro associado: :dados_novos = {"lido":false} (tipo: 2)
[2025-10-18 23:59:16] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-10-18 23:59:16] [DATABASE ERROR] Parâmetro associado: :ip_address = 192.168.15.8 (tipo: 2)
[2025-10-18 23:59:16] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36 (tipo: 2)
[2025-10-18 23:59:16] [DATABASE ERROR] Erro ao executar query: SQLSTATE[01000]: Warning: 1265 Data truncated for column 'acao' at row 1
[2025-10-18 23:59:17] [DATABASE ERROR] Parâmetro associado: :alert_id = 30 (tipo: 1)
[2025-10-18 23:59:17] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-10-18 23:59:17] [DATABASE ERROR] Parâmetro associado: :tabela = alertas_estoque (tipo: 2)
[2025-10-18 23:59:17] [DATABASE ERROR] Parâmetro associado: :registro_id = 30 (tipo: 1)
[2025-10-18 23:59:17] [DATABASE ERROR] Parâmetro associado: :acao = alertas_estoque (tipo: 2)
[2025-10-18 23:59:17] [DATABASE ERROR] Parâmetro associado: :dados_anteriores = "UPDATE" (tipo: 2)
[2025-10-18 23:59:17] [DATABASE ERROR] Parâmetro associado: :dados_novos = {"lido":false} (tipo: 2)
[2025-10-18 23:59:17] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-10-18 23:59:17] [DATABASE ERROR] Parâmetro associado: :ip_address = 192.168.15.8 (tipo: 2)
[2025-10-18 23:59:17] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36 (tipo: 2)
[2025-10-18 23:59:17] [DATABASE ERROR] Erro ao executar query: SQLSTATE[01000]: Warning: 1265 Data truncated for column 'acao' at row 1
[2025-10-18 23:59:20] [DATABASE ERROR] Preparando query: SELECT * FROM produtos WHERE ativo = :value com parâmetros: {":value":1}
[2025-10-18 23:59:20] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-10-18 23:59:20] [DATABASE ERROR] Debug PDO após binding: SQL: [43] SELECT * FROM produtos WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-10-18 23:59:20] [DATABASE ERROR] Preparando query: SELECT * FROM categorias WHERE ativo = :value com parâmetros: {":value":1}
[2025-10-18 23:59:20] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-10-18 23:59:20] [DATABASE ERROR] Debug PDO após binding: SQL: [45] SELECT * FROM categorias WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-10-18 23:59:20] [DATABASE ERROR] Preparando query: SELECT * FROM categorias WHERE ativo = :value com parâmetros: {":value":1}
[2025-10-18 23:59:20] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-10-18 23:59:20] [DATABASE ERROR] Debug PDO após binding: SQL: [45] SELECT * FROM categorias WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-10-18 23:59:20] [DATABASE ERROR] Preparando query: SELECT * FROM unidades_medida com parâmetros: []
[2025-10-18 23:59:20] [DATABASE ERROR] Debug PDO após binding: SQL: [29] SELECT * FROM unidades_medida
Params:  0

[2025-10-18 23:59:20] [DATABASE ERROR] Preparando query: SELECT * FROM fornecedores WHERE ativo = :value com parâmetros: {":value":1}
[2025-10-18 23:59:20] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-10-18 23:59:20] [DATABASE ERROR] Debug PDO após binding: SQL: [47] SELECT * FROM fornecedores WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-10-18 23:59:20] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-10-18 23:59:20] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-10-18 23:59:20] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-10-18 23:59:20] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-10-18 23:59:20] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-10-18 23:59:25] [DATABASE ERROR] Parâmetro associado: :id = 4 (tipo: 1)
[2025-10-18 23:59:25] [DATABASE ERROR] Preparando query: 
                SELECT 
                    DATE_FORMAT(m.data_movimentacao, '%Y-%m') as periodo,
                    tm.tipo,
                    SUM(mi.quantidade) as total_quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                WHERE m.status = 'PROCESSADO'
                    AND mi.produto_id = :product_id
                    AND m.data_movimentacao BETWEEN :start_date AND :end_date
                GROUP BY periodo, tm.tipo
                ORDER BY periodo ASC com parâmetros: {":product_id":"4",":start_date":"2025-04-18",":end_date":"2025-10-18"}
[2025-10-18 23:59:25] [DATABASE ERROR] Parâmetro associado: :product_id = 4 (tipo: 2)
[2025-10-18 23:59:25] [DATABASE ERROR] Parâmetro associado: :start_date = 2025-04-18 (tipo: 2)
[2025-10-18 23:59:25] [DATABASE ERROR] Parâmetro associado: :end_date = 2025-10-18 (tipo: 2)
[2025-10-18 23:59:25] [DATABASE ERROR] Debug PDO após binding: SQL: [639] 
                SELECT 
                    DATE_FORMAT(m.data_movimentacao, '%Y-%m') as periodo,
                    tm.tipo,
                    SUM(mi.quantidade) as total_quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                WHERE m.status = 'PROCESSADO'
                    AND mi.produto_id = :product_id
                    AND m.data_movimentacao BETWEEN :start_date AND :end_date
                GROUP BY periodo, tm.tipo
                ORDER BY periodo ASC
Params:  3
Key: Name: [11] :product_id
paramno=0
name=[11] ":product_id"
is_param=1
param_type=2
Key: Name: [11] :start_date
paramno=1
name=[11] ":start_date"
is_param=1
param_type=2
Key: Name: [9] :end_date
paramno=2
name=[9] ":end_date"
is_param=1
param_type=2

[2025-10-18 23:59:25] [DATABASE ERROR] Preparando query: 
                SELECT m.documento_numero, m.data_movimentacao, u.nome_completo as usuario, mi.quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                JOIN usuarios u ON m.usuario_id = u.id
                WHERE tm.tipo = 'ENTRADA' 
                    AND mi.produto_id = :product_id
                    AND m.data_movimentacao BETWEEN :start_date AND :end_date
                ORDER BY m.data_movimentacao DESC com parâmetros: {":product_id":"4",":start_date":"2025-04-18",":end_date":"2025-10-18"}
[2025-10-18 23:59:25] [DATABASE ERROR] Parâmetro associado: :product_id = 4 (tipo: 2)
[2025-10-18 23:59:25] [DATABASE ERROR] Parâmetro associado: :start_date = 2025-04-18 (tipo: 2)
[2025-10-18 23:59:25] [DATABASE ERROR] Parâmetro associado: :end_date = 2025-10-18 (tipo: 2)
[2025-10-18 23:59:25] [DATABASE ERROR] Debug PDO após binding: SQL: [579] 
                SELECT m.documento_numero, m.data_movimentacao, u.nome_completo as usuario, mi.quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                JOIN usuarios u ON m.usuario_id = u.id
                WHERE tm.tipo = 'ENTRADA' 
                    AND mi.produto_id = :product_id
                    AND m.data_movimentacao BETWEEN :start_date AND :end_date
                ORDER BY m.data_movimentacao DESC
Params:  3
Key: Name: [11] :product_id
paramno=0
name=[11] ":product_id"
is_param=1
param_type=2
Key: Name: [11] :start_date
paramno=1
name=[11] ":start_date"
is_param=1
param_type=2
Key: Name: [9] :end_date
paramno=2
name=[9] ":end_date"
is_param=1
param_type=2

[2025-10-18 23:59:25] [DATABASE ERROR] Preparando query: 
                SELECT m.documento_numero, m.data_movimentacao, u.nome_completo as usuario, mi.quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                JOIN usuarios u ON m.usuario_id = u.id
                WHERE tm.tipo = 'SAIDA' 
                    AND mi.produto_id = :product_id
                    AND m.data_movimentacao BETWEEN :start_date AND :end_date
                ORDER BY m.data_movimentacao DESC com parâmetros: {":product_id":"4",":start_date":"2025-04-18",":end_date":"2025-10-18"}
[2025-10-18 23:59:25] [DATABASE ERROR] Parâmetro associado: :product_id = 4 (tipo: 2)
[2025-10-18 23:59:25] [DATABASE ERROR] Parâmetro associado: :start_date = 2025-04-18 (tipo: 2)
[2025-10-18 23:59:25] [DATABASE ERROR] Parâmetro associado: :end_date = 2025-10-18 (tipo: 2)
[2025-10-18 23:59:25] [DATABASE ERROR] Debug PDO após binding: SQL: [577] 
                SELECT m.documento_numero, m.data_movimentacao, u.nome_completo as usuario, mi.quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                JOIN usuarios u ON m.usuario_id = u.id
                WHERE tm.tipo = 'SAIDA' 
                    AND mi.produto_id = :product_id
                    AND m.data_movimentacao BETWEEN :start_date AND :end_date
                ORDER BY m.data_movimentacao DESC
Params:  3
Key: Name: [11] :product_id
paramno=0
name=[11] ":product_id"
is_param=1
param_type=2
Key: Name: [11] :start_date
paramno=1
name=[11] ":start_date"
is_param=1
param_type=2
Key: Name: [9] :end_date
paramno=2
name=[9] ":end_date"
is_param=1
param_type=2

[2025-10-19 00:00:04] [DATABASE ERROR] Preparando query: SELECT * FROM produtos WHERE ativo = :value com parâmetros: {":value":1}
[2025-10-19 00:00:04] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-10-19 00:00:04] [DATABASE ERROR] Debug PDO após binding: SQL: [43] SELECT * FROM produtos WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-10-19 00:00:23] [DATABASE ERROR] Parâmetro associado: :tabela = movimentacoes (tipo: 2)
[2025-10-19 00:00:23] [DATABASE ERROR] Parâmetro associado: :registro_id = 166 (tipo: 2)
[2025-10-19 00:00:23] [DATABASE ERROR] Parâmetro associado: :acao = INSERT (tipo: 2)
[2025-10-19 00:00:23] [DATABASE ERROR] Parâmetro associado: :dados_anteriores = NULL (tipo: 0)
[2025-10-19 00:00:23] [DATABASE ERROR] Parâmetro associado: :dados_novos = {"tipo_movimentacao_id":"1","observacao":"","produtos":{"2":"0","3":"30","4":"0","5":"0","6":"0"},"valor_unitario":{"2":"0","3":"2","4":"0","5":"0","6":"0"}} (tipo: 2)
[2025-10-19 00:00:23] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-10-19 00:00:23] [DATABASE ERROR] Parâmetro associado: :ip_address = 192.168.15.8 (tipo: 2)
[2025-10-19 00:00:23] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36 (tipo: 2)
[2025-10-19 00:00:24] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-10-19 00:00:24] [DATABASE ERROR] Parâmetro associado: :produto_id = 3 (tipo: 1)
[2025-10-19 00:00:24] [DATABASE ERROR] Parâmetro associado: :produto_id = 0 (tipo: 1)
[2025-10-19 00:00:24] [DATABASE ERROR] Parâmetro associado: :produto_id = 30 (tipo: 1)
[2025-10-19 00:00:24] [DATABASE ERROR] Parâmetro associado: :produto_id = 0 (tipo: 1)
[2025-10-19 00:00:24] [DATABASE ERROR] Parâmetro associado: :produto_id = 0 (tipo: 1)
[2025-10-19 00:00:24] [DATABASE ERROR] Parâmetro associado: :produto_id = 0 (tipo: 1)
[2025-10-19 00:00:24] [DATABASE ERROR] Preparando query: SELECT * FROM produtos WHERE ativo = :value com parâmetros: {":value":1}
[2025-10-19 00:00:24] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-10-19 00:00:24] [DATABASE ERROR] Debug PDO após binding: SQL: [43] SELECT * FROM produtos WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-10-19 00:00:24] [DATABASE ERROR] Preparando query: SELECT * FROM categorias WHERE ativo = :value com parâmetros: {":value":1}
[2025-10-19 00:00:24] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-10-19 00:00:24] [DATABASE ERROR] Debug PDO após binding: SQL: [45] SELECT * FROM categorias WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-10-19 00:00:24] [DATABASE ERROR] Preparando query: SELECT * FROM categorias WHERE ativo = :value com parâmetros: {":value":1}
[2025-10-19 00:00:24] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-10-19 00:00:24] [DATABASE ERROR] Debug PDO após binding: SQL: [45] SELECT * FROM categorias WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-10-19 00:00:24] [DATABASE ERROR] Preparando query: SELECT * FROM unidades_medida com parâmetros: []
[2025-10-19 00:00:24] [DATABASE ERROR] Debug PDO após binding: SQL: [29] SELECT * FROM unidades_medida
Params:  0

[2025-10-19 00:00:24] [DATABASE ERROR] Preparando query: SELECT * FROM fornecedores WHERE ativo = :value com parâmetros: {":value":1}
[2025-10-19 00:00:24] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-10-19 00:00:24] [DATABASE ERROR] Debug PDO após binding: SQL: [47] SELECT * FROM fornecedores WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-10-19 00:00:24] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-10-19 00:00:24] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-10-19 00:00:24] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-10-19 00:00:24] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-10-19 00:00:24] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-10-19 00:00:31] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-10-19 00:00:32] [DATABASE ERROR] Preparando query: SELECT SUM(estoque_atual) as total_estoque FROM produtos WHERE ativo = TRUE com parâmetros: []
[2025-10-19 00:00:32] [DATABASE ERROR] Debug PDO após binding: SQL: [75] SELECT SUM(estoque_atual) as total_estoque FROM produtos WHERE ativo = TRUE
Params:  0

[2025-10-19 00:00:32] [DATABASE ERROR] Preparando query: SELECT id FROM produtos WHERE ativo = TRUE com parâmetros: []
[2025-10-19 00:00:32] [DATABASE ERROR] Debug PDO após binding: SQL: [42] SELECT id FROM produtos WHERE ativo = TRUE
Params:  0

[2025-10-19 00:00:32] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":2,":data_fim_a":null,":data_fim":null}
[2025-10-19 00:00:32] [DATABASE ERROR] Parâmetro associado: :produto_id = 2 (tipo: 1)
[2025-10-19 00:00:32] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-10-19 00:00:32] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-10-19 00:00:32] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-10-19 00:00:32] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":2}
[2025-10-19 00:00:32] [DATABASE ERROR] Parâmetro associado: :id = 2 (tipo: 1)
[2025-10-19 00:00:32] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-19 00:00:32] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":3,":data_fim_a":null,":data_fim":null}
[2025-10-19 00:00:32] [DATABASE ERROR] Parâmetro associado: :produto_id = 3 (tipo: 1)
[2025-10-19 00:00:32] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-10-19 00:00:32] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-10-19 00:00:32] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-10-19 00:00:32] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":3}
[2025-10-19 00:00:32] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-10-19 00:00:32] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-19 00:00:32] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":4,":data_fim_a":null,":data_fim":null}
[2025-10-19 00:00:32] [DATABASE ERROR] Parâmetro associado: :produto_id = 4 (tipo: 1)
[2025-10-19 00:00:32] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-10-19 00:00:32] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-10-19 00:00:32] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-10-19 00:00:32] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":4}
[2025-10-19 00:00:32] [DATABASE ERROR] Parâmetro associado: :id = 4 (tipo: 1)
[2025-10-19 00:00:32] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-19 00:00:32] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":5,":data_fim_a":null,":data_fim":null}
[2025-10-19 00:00:32] [DATABASE ERROR] Parâmetro associado: :produto_id = 5 (tipo: 1)
[2025-10-19 00:00:32] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-10-19 00:00:32] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-10-19 00:00:32] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-10-19 00:00:32] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":5}
[2025-10-19 00:00:32] [DATABASE ERROR] Parâmetro associado: :id = 5 (tipo: 1)
[2025-10-19 00:00:32] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-19 00:00:32] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":6,":data_fim_a":null,":data_fim":null}
[2025-10-19 00:00:32] [DATABASE ERROR] Parâmetro associado: :produto_id = 6 (tipo: 1)
[2025-10-19 00:00:32] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-10-19 00:00:32] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-10-19 00:00:32] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-10-19 00:00:32] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":6}
[2025-10-19 00:00:32] [DATABASE ERROR] Parâmetro associado: :id = 6 (tipo: 1)
[2025-10-19 00:00:32] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-19 00:00:32] [DATABASE ERROR] Preparando query: SELECT id, codigo, nome, estoque_atual, estoque_minimo, categoria, fornecedor 
                    FROM vw_produtos_estoque_critico 
                    ORDER BY estoque_atual ASC 
                    LIMIT 10 com parâmetros: []
[2025-10-19 00:00:32] [DATABASE ERROR] Debug PDO após binding: SQL: [212] SELECT id, codigo, nome, estoque_atual, estoque_minimo, categoria, fornecedor 
                    FROM vw_produtos_estoque_critico 
                    ORDER BY estoque_atual ASC 
                    LIMIT 10
Params:  0

[2025-10-19 00:00:32] [DATABASE ERROR] Preparando query: SELECT id, tipo, categoria, documento_numero, data_movimentacao, valor_total, fornecedor, usuario 
                    FROM vw_movimentacoes_recentes 
                    ORDER BY data_movimentacao DESC 
                    LIMIT 10 com parâmetros: []
[2025-10-19 00:00:32] [DATABASE ERROR] Debug PDO após binding: SQL: [235] SELECT id, tipo, categoria, documento_numero, data_movimentacao, valor_total, fornecedor, usuario 
                    FROM vw_movimentacoes_recentes 
                    ORDER BY data_movimentacao DESC 
                    LIMIT 10
Params:  0

[2025-10-19 00:00:32] [DATABASE ERROR] Preparando query: 
                SELECT 
                    DATE_FORMAT(m.data_movimentacao, '%Y-%m') as periodo,
                    tm.tipo,
                    SUM(mi.quantidade) as total_quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                WHERE m.status = 'PROCESSADO'
                    AND m.data_movimentacao >= DATE_SUB(CURDATE(), INTERVAL 6 MONTH)
                GROUP BY periodo, tm.tipo
                ORDER BY periodo ASC com parâmetros: []
[2025-10-19 00:00:32] [DATABASE ERROR] Debug PDO após binding: SQL: [593] 
                SELECT 
                    DATE_FORMAT(m.data_movimentacao, '%Y-%m') as periodo,
                    tm.tipo,
                    SUM(mi.quantidade) as total_quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                WHERE m.status = 'PROCESSADO'
                    AND m.data_movimentacao >= DATE_SUB(CURDATE(), INTERVAL 6 MONTH)
                GROUP BY periodo, tm.tipo
                ORDER BY periodo ASC
Params:  0

[2025-10-19 00:00:52] [DATABASE ERROR] Preparando query: SELECT * FROM produtos WHERE ativo = :value com parâmetros: {":value":1}
[2025-10-19 00:00:52] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-10-19 00:00:52] [DATABASE ERROR] Debug PDO após binding: SQL: [43] SELECT * FROM produtos WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-10-19 00:00:52] [DATABASE ERROR] Preparando query: SELECT * FROM categorias WHERE ativo = :value com parâmetros: {":value":1}
[2025-10-19 00:00:52] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-10-19 00:00:52] [DATABASE ERROR] Debug PDO após binding: SQL: [45] SELECT * FROM categorias WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-10-19 00:00:52] [DATABASE ERROR] Preparando query: SELECT * FROM categorias WHERE ativo = :value com parâmetros: {":value":1}
[2025-10-19 00:00:52] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-10-19 00:00:52] [DATABASE ERROR] Debug PDO após binding: SQL: [45] SELECT * FROM categorias WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-10-19 00:00:52] [DATABASE ERROR] Preparando query: SELECT * FROM unidades_medida com parâmetros: []
[2025-10-19 00:00:52] [DATABASE ERROR] Debug PDO após binding: SQL: [29] SELECT * FROM unidades_medida
Params:  0

[2025-10-19 00:00:52] [DATABASE ERROR] Preparando query: SELECT * FROM fornecedores WHERE ativo = :value com parâmetros: {":value":1}
[2025-10-19 00:00:52] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-10-19 00:00:52] [DATABASE ERROR] Debug PDO após binding: SQL: [47] SELECT * FROM fornecedores WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-10-19 00:00:52] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-10-19 00:00:52] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-10-19 00:00:52] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-10-19 00:00:52] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-10-19 00:00:52] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-10-19 00:01:08] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-10-19 00:01:09] [DATABASE ERROR] Preparando query: 
                SELECT 
                    DATE_FORMAT(m.data_movimentacao, '%Y-%m') as periodo,
                    tm.tipo,
                    SUM(mi.quantidade) as total_quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                WHERE m.status = 'PROCESSADO'
                    AND mi.produto_id = :product_id
                    AND m.data_movimentacao BETWEEN :start_date AND :end_date
                GROUP BY periodo, tm.tipo
                ORDER BY periodo ASC com parâmetros: {":product_id":"3",":start_date":"2025-04-19",":end_date":"2025-10-19"}
[2025-10-19 00:01:09] [DATABASE ERROR] Parâmetro associado: :product_id = 3 (tipo: 2)
[2025-10-19 00:01:09] [DATABASE ERROR] Parâmetro associado: :start_date = 2025-04-19 (tipo: 2)
[2025-10-19 00:01:09] [DATABASE ERROR] Parâmetro associado: :end_date = 2025-10-19 (tipo: 2)
[2025-10-19 00:01:09] [DATABASE ERROR] Debug PDO após binding: SQL: [639] 
                SELECT 
                    DATE_FORMAT(m.data_movimentacao, '%Y-%m') as periodo,
                    tm.tipo,
                    SUM(mi.quantidade) as total_quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                WHERE m.status = 'PROCESSADO'
                    AND mi.produto_id = :product_id
                    AND m.data_movimentacao BETWEEN :start_date AND :end_date
                GROUP BY periodo, tm.tipo
                ORDER BY periodo ASC
Params:  3
Key: Name: [11] :product_id
paramno=0
name=[11] ":product_id"
is_param=1
param_type=2
Key: Name: [11] :start_date
paramno=1
name=[11] ":start_date"
is_param=1
param_type=2
Key: Name: [9] :end_date
paramno=2
name=[9] ":end_date"
is_param=1
param_type=2

[2025-10-19 00:01:09] [DATABASE ERROR] Preparando query: 
                SELECT m.documento_numero, m.data_movimentacao, u.nome_completo as usuario, mi.quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                JOIN usuarios u ON m.usuario_id = u.id
                WHERE tm.tipo = 'ENTRADA' 
                    AND mi.produto_id = :product_id
                    AND m.data_movimentacao BETWEEN :start_date AND :end_date
                ORDER BY m.data_movimentacao DESC com parâmetros: {":product_id":"3",":start_date":"2025-04-19",":end_date":"2025-10-19"}
[2025-10-19 00:01:09] [DATABASE ERROR] Parâmetro associado: :product_id = 3 (tipo: 2)
[2025-10-19 00:01:09] [DATABASE ERROR] Parâmetro associado: :start_date = 2025-04-19 (tipo: 2)
[2025-10-19 00:01:09] [DATABASE ERROR] Parâmetro associado: :end_date = 2025-10-19 (tipo: 2)
[2025-10-19 00:01:09] [DATABASE ERROR] Debug PDO após binding: SQL: [579] 
                SELECT m.documento_numero, m.data_movimentacao, u.nome_completo as usuario, mi.quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                JOIN usuarios u ON m.usuario_id = u.id
                WHERE tm.tipo = 'ENTRADA' 
                    AND mi.produto_id = :product_id
                    AND m.data_movimentacao BETWEEN :start_date AND :end_date
                ORDER BY m.data_movimentacao DESC
Params:  3
Key: Name: [11] :product_id
paramno=0
name=[11] ":product_id"
is_param=1
param_type=2
Key: Name: [11] :start_date
paramno=1
name=[11] ":start_date"
is_param=1
param_type=2
Key: Name: [9] :end_date
paramno=2
name=[9] ":end_date"
is_param=1
param_type=2

[2025-10-19 00:01:09] [DATABASE ERROR] Preparando query: 
                SELECT m.documento_numero, m.data_movimentacao, u.nome_completo as usuario, mi.quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                JOIN usuarios u ON m.usuario_id = u.id
                WHERE tm.tipo = 'SAIDA' 
                    AND mi.produto_id = :product_id
                    AND m.data_movimentacao BETWEEN :start_date AND :end_date
                ORDER BY m.data_movimentacao DESC com parâmetros: {":product_id":"3",":start_date":"2025-04-19",":end_date":"2025-10-19"}
[2025-10-19 00:01:09] [DATABASE ERROR] Parâmetro associado: :product_id = 3 (tipo: 2)
[2025-10-19 00:01:09] [DATABASE ERROR] Parâmetro associado: :start_date = 2025-04-19 (tipo: 2)
[2025-10-19 00:01:09] [DATABASE ERROR] Parâmetro associado: :end_date = 2025-10-19 (tipo: 2)
[2025-10-19 00:01:09] [DATABASE ERROR] Debug PDO após binding: SQL: [577] 
                SELECT m.documento_numero, m.data_movimentacao, u.nome_completo as usuario, mi.quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                JOIN usuarios u ON m.usuario_id = u.id
                WHERE tm.tipo = 'SAIDA' 
                    AND mi.produto_id = :product_id
                    AND m.data_movimentacao BETWEEN :start_date AND :end_date
                ORDER BY m.data_movimentacao DESC
Params:  3
Key: Name: [11] :product_id
paramno=0
name=[11] ":product_id"
is_param=1
param_type=2
Key: Name: [11] :start_date
paramno=1
name=[11] ":start_date"
is_param=1
param_type=2
Key: Name: [9] :end_date
paramno=2
name=[9] ":end_date"
is_param=1
param_type=2

[2025-10-19 00:03:18] [DATABASE ERROR] Preparando query: SELECT * FROM produtos WHERE ativo = :value com parâmetros: {":value":1}
[2025-10-19 00:03:18] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-10-19 00:03:18] [DATABASE ERROR] Debug PDO após binding: SQL: [43] SELECT * FROM produtos WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-10-19 00:03:42] [DATABASE ERROR] Parâmetro associado: :tabela = movimentacoes (tipo: 2)
[2025-10-19 00:03:42] [DATABASE ERROR] Parâmetro associado: :registro_id = 167 (tipo: 2)
[2025-10-19 00:03:42] [DATABASE ERROR] Parâmetro associado: :acao = INSERT (tipo: 2)
[2025-10-19 00:03:42] [DATABASE ERROR] Parâmetro associado: :dados_anteriores = NULL (tipo: 0)
[2025-10-19 00:03:42] [DATABASE ERROR] Parâmetro associado: :dados_novos = {"tipo_movimentacao_id":"1","observacao":"","produtos":{"2":"0","3":"2","4":"0","5":"0","6":"0"},"valor_unitario":{"2":"0","3":"3","4":"0","5":"0","6":"0"}} (tipo: 2)
[2025-10-19 00:03:42] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-10-19 00:03:42] [DATABASE ERROR] Parâmetro associado: :ip_address = 192.168.15.8 (tipo: 2)
[2025-10-19 00:03:42] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36 (tipo: 2)
[2025-10-19 00:03:42] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-10-19 00:03:42] [DATABASE ERROR] Parâmetro associado: :produto_id = 3 (tipo: 1)
[2025-10-19 00:03:42] [DATABASE ERROR] Parâmetro associado: :produto_id = 0 (tipo: 1)
[2025-10-19 00:03:42] [DATABASE ERROR] Parâmetro associado: :produto_id = 2 (tipo: 1)
[2025-10-19 00:03:42] [DATABASE ERROR] Parâmetro associado: :produto_id = 2 (tipo: 1)
[2025-10-19 00:03:42] [DATABASE ERROR] Parâmetro associado: :produto_id = 0 (tipo: 1)
[2025-10-19 00:03:42] [DATABASE ERROR] Parâmetro associado: :produto_id = 0 (tipo: 1)
[2025-10-19 00:03:42] [DATABASE ERROR] Parâmetro associado: :produto_id = 0 (tipo: 1)
[2025-10-19 00:03:43] [DATABASE ERROR] Preparando query: SELECT * FROM produtos WHERE ativo = :value com parâmetros: {":value":1}
[2025-10-19 00:03:43] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-10-19 00:03:43] [DATABASE ERROR] Debug PDO após binding: SQL: [43] SELECT * FROM produtos WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-10-19 00:03:43] [DATABASE ERROR] Preparando query: SELECT * FROM categorias WHERE ativo = :value com parâmetros: {":value":1}
[2025-10-19 00:03:43] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-10-19 00:03:43] [DATABASE ERROR] Debug PDO após binding: SQL: [45] SELECT * FROM categorias WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-10-19 00:03:43] [DATABASE ERROR] Preparando query: SELECT * FROM categorias WHERE ativo = :value com parâmetros: {":value":1}
[2025-10-19 00:03:43] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-10-19 00:03:43] [DATABASE ERROR] Debug PDO após binding: SQL: [45] SELECT * FROM categorias WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-10-19 00:03:43] [DATABASE ERROR] Preparando query: SELECT * FROM unidades_medida com parâmetros: []
[2025-10-19 00:03:43] [DATABASE ERROR] Debug PDO após binding: SQL: [29] SELECT * FROM unidades_medida
Params:  0

[2025-10-19 00:03:43] [DATABASE ERROR] Preparando query: SELECT * FROM fornecedores WHERE ativo = :value com parâmetros: {":value":1}
[2025-10-19 00:03:43] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-10-19 00:03:43] [DATABASE ERROR] Debug PDO após binding: SQL: [47] SELECT * FROM fornecedores WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-10-19 00:03:43] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-10-19 00:03:43] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-10-19 00:03:43] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-10-19 00:03:43] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-10-19 00:03:43] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-10-19 00:03:46] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-10-19 00:03:46] [DATABASE ERROR] Preparando query: SELECT SUM(estoque_atual) as total_estoque FROM produtos WHERE ativo = TRUE com parâmetros: []
[2025-10-19 00:03:46] [DATABASE ERROR] Debug PDO após binding: SQL: [75] SELECT SUM(estoque_atual) as total_estoque FROM produtos WHERE ativo = TRUE
Params:  0

[2025-10-19 00:03:46] [DATABASE ERROR] Preparando query: SELECT id FROM produtos WHERE ativo = TRUE com parâmetros: []
[2025-10-19 00:03:46] [DATABASE ERROR] Debug PDO após binding: SQL: [42] SELECT id FROM produtos WHERE ativo = TRUE
Params:  0

[2025-10-19 00:03:46] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":2,":data_fim_a":null,":data_fim":null}
[2025-10-19 00:03:46] [DATABASE ERROR] Parâmetro associado: :produto_id = 2 (tipo: 1)
[2025-10-19 00:03:46] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-10-19 00:03:46] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-10-19 00:03:46] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-10-19 00:03:46] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":2}
[2025-10-19 00:03:46] [DATABASE ERROR] Parâmetro associado: :id = 2 (tipo: 1)
[2025-10-19 00:03:46] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-19 00:03:46] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":3,":data_fim_a":null,":data_fim":null}
[2025-10-19 00:03:46] [DATABASE ERROR] Parâmetro associado: :produto_id = 3 (tipo: 1)
[2025-10-19 00:03:46] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-10-19 00:03:46] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-10-19 00:03:46] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-10-19 00:03:46] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":3}
[2025-10-19 00:03:46] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-10-19 00:03:46] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-19 00:03:46] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":4,":data_fim_a":null,":data_fim":null}
[2025-10-19 00:03:46] [DATABASE ERROR] Parâmetro associado: :produto_id = 4 (tipo: 1)
[2025-10-19 00:03:46] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-10-19 00:03:46] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-10-19 00:03:46] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-10-19 00:03:46] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":4}
[2025-10-19 00:03:46] [DATABASE ERROR] Parâmetro associado: :id = 4 (tipo: 1)
[2025-10-19 00:03:46] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-19 00:03:46] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":5,":data_fim_a":null,":data_fim":null}
[2025-10-19 00:03:46] [DATABASE ERROR] Parâmetro associado: :produto_id = 5 (tipo: 1)
[2025-10-19 00:03:46] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-10-19 00:03:46] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-10-19 00:03:46] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-10-19 00:03:46] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":5}
[2025-10-19 00:03:46] [DATABASE ERROR] Parâmetro associado: :id = 5 (tipo: 1)
[2025-10-19 00:03:46] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-19 00:03:46] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":6,":data_fim_a":null,":data_fim":null}
[2025-10-19 00:03:46] [DATABASE ERROR] Parâmetro associado: :produto_id = 6 (tipo: 1)
[2025-10-19 00:03:46] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-10-19 00:03:46] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-10-19 00:03:46] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-10-19 00:03:46] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":6}
[2025-10-19 00:03:46] [DATABASE ERROR] Parâmetro associado: :id = 6 (tipo: 1)
[2025-10-19 00:03:46] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-19 00:03:46] [DATABASE ERROR] Preparando query: SELECT id, codigo, nome, estoque_atual, estoque_minimo, categoria, fornecedor 
                    FROM vw_produtos_estoque_critico 
                    ORDER BY estoque_atual ASC 
                    LIMIT 10 com parâmetros: []
[2025-10-19 00:03:46] [DATABASE ERROR] Debug PDO após binding: SQL: [212] SELECT id, codigo, nome, estoque_atual, estoque_minimo, categoria, fornecedor 
                    FROM vw_produtos_estoque_critico 
                    ORDER BY estoque_atual ASC 
                    LIMIT 10
Params:  0

[2025-10-19 00:03:46] [DATABASE ERROR] Preparando query: SELECT id, tipo, categoria, documento_numero, data_movimentacao, valor_total, fornecedor, usuario 
                    FROM vw_movimentacoes_recentes 
                    ORDER BY data_movimentacao DESC 
                    LIMIT 10 com parâmetros: []
[2025-10-19 00:03:46] [DATABASE ERROR] Debug PDO após binding: SQL: [235] SELECT id, tipo, categoria, documento_numero, data_movimentacao, valor_total, fornecedor, usuario 
                    FROM vw_movimentacoes_recentes 
                    ORDER BY data_movimentacao DESC 
                    LIMIT 10
Params:  0

[2025-10-19 00:03:47] [DATABASE ERROR] Preparando query: 
                SELECT 
                    DATE_FORMAT(m.data_movimentacao, '%Y-%m') as periodo,
                    tm.tipo,
                    SUM(mi.quantidade) as total_quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                WHERE m.status = 'PROCESSADO'
                    AND m.data_movimentacao >= DATE_SUB(CURDATE(), INTERVAL 6 MONTH)
                GROUP BY periodo, tm.tipo
                ORDER BY periodo ASC com parâmetros: []
[2025-10-19 00:03:47] [DATABASE ERROR] Debug PDO após binding: SQL: [593] 
                SELECT 
                    DATE_FORMAT(m.data_movimentacao, '%Y-%m') as periodo,
                    tm.tipo,
                    SUM(mi.quantidade) as total_quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                WHERE m.status = 'PROCESSADO'
                    AND m.data_movimentacao >= DATE_SUB(CURDATE(), INTERVAL 6 MONTH)
                GROUP BY periodo, tm.tipo
                ORDER BY periodo ASC
Params:  0

[2025-10-19 00:03:58] [DATABASE ERROR] Preparando query: SELECT * FROM produtos WHERE ativo = :value com parâmetros: {":value":1}
[2025-10-19 00:03:58] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-10-19 00:03:58] [DATABASE ERROR] Debug PDO após binding: SQL: [43] SELECT * FROM produtos WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-10-19 00:04:09] [DATABASE ERROR] Preparando query: SELECT * FROM categorias WHERE ativo = :value com parâmetros: {":value":1}
[2025-10-19 00:04:09] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-10-19 00:04:09] [DATABASE ERROR] Debug PDO após binding: SQL: [45] SELECT * FROM categorias WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-10-19 00:04:11] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-10-19 00:04:12] [DATABASE ERROR] Preparando query: SELECT SUM(estoque_atual) as total_estoque FROM produtos WHERE ativo = TRUE com parâmetros: []
[2025-10-19 00:04:12] [DATABASE ERROR] Debug PDO após binding: SQL: [75] SELECT SUM(estoque_atual) as total_estoque FROM produtos WHERE ativo = TRUE
Params:  0

[2025-10-19 00:04:12] [DATABASE ERROR] Preparando query: SELECT id FROM produtos WHERE ativo = TRUE com parâmetros: []
[2025-10-19 00:04:12] [DATABASE ERROR] Debug PDO após binding: SQL: [42] SELECT id FROM produtos WHERE ativo = TRUE
Params:  0

[2025-10-19 00:04:12] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":2,":data_fim_a":null,":data_fim":null}
[2025-10-19 00:04:12] [DATABASE ERROR] Parâmetro associado: :produto_id = 2 (tipo: 1)
[2025-10-19 00:04:12] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-10-19 00:04:12] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-10-19 00:04:12] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-10-19 00:04:12] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":2}
[2025-10-19 00:04:12] [DATABASE ERROR] Parâmetro associado: :id = 2 (tipo: 1)
[2025-10-19 00:04:12] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-19 00:04:12] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":3,":data_fim_a":null,":data_fim":null}
[2025-10-19 00:04:12] [DATABASE ERROR] Parâmetro associado: :produto_id = 3 (tipo: 1)
[2025-10-19 00:04:12] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-10-19 00:04:12] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-10-19 00:04:12] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-10-19 00:04:12] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":3}
[2025-10-19 00:04:12] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-10-19 00:04:12] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-19 00:04:12] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":4,":data_fim_a":null,":data_fim":null}
[2025-10-19 00:04:12] [DATABASE ERROR] Parâmetro associado: :produto_id = 4 (tipo: 1)
[2025-10-19 00:04:12] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-10-19 00:04:12] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-10-19 00:04:12] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-10-19 00:04:12] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":4}
[2025-10-19 00:04:12] [DATABASE ERROR] Parâmetro associado: :id = 4 (tipo: 1)
[2025-10-19 00:04:12] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-19 00:04:12] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":5,":data_fim_a":null,":data_fim":null}
[2025-10-19 00:04:12] [DATABASE ERROR] Parâmetro associado: :produto_id = 5 (tipo: 1)
[2025-10-19 00:04:12] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-10-19 00:04:12] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-10-19 00:04:12] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-10-19 00:04:12] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":5}
[2025-10-19 00:04:12] [DATABASE ERROR] Parâmetro associado: :id = 5 (tipo: 1)
[2025-10-19 00:04:12] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-19 00:04:12] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":6,":data_fim_a":null,":data_fim":null}
[2025-10-19 00:04:12] [DATABASE ERROR] Parâmetro associado: :produto_id = 6 (tipo: 1)
[2025-10-19 00:04:12] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-10-19 00:04:12] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-10-19 00:04:12] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-10-19 00:04:12] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":6}
[2025-10-19 00:04:12] [DATABASE ERROR] Parâmetro associado: :id = 6 (tipo: 1)
[2025-10-19 00:04:12] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-19 00:04:12] [DATABASE ERROR] Preparando query: SELECT id, codigo, nome, estoque_atual, estoque_minimo, categoria, fornecedor 
                    FROM vw_produtos_estoque_critico 
                    ORDER BY estoque_atual ASC 
                    LIMIT 10 com parâmetros: []
[2025-10-19 00:04:12] [DATABASE ERROR] Debug PDO após binding: SQL: [212] SELECT id, codigo, nome, estoque_atual, estoque_minimo, categoria, fornecedor 
                    FROM vw_produtos_estoque_critico 
                    ORDER BY estoque_atual ASC 
                    LIMIT 10
Params:  0

[2025-10-19 00:04:12] [DATABASE ERROR] Preparando query: 
                SELECT 
                    DATE_FORMAT(m.data_movimentacao, '%Y-%m') as periodo,
                    tm.tipo,
                    SUM(mi.quantidade) as total_quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                WHERE m.status = 'PROCESSADO'
                    AND m.data_movimentacao >= DATE_SUB(CURDATE(), INTERVAL 6 MONTH)
                GROUP BY periodo, tm.tipo
                ORDER BY periodo ASC com parâmetros: []
[2025-10-19 00:04:12] [DATABASE ERROR] Debug PDO após binding: SQL: [593] 
                SELECT 
                    DATE_FORMAT(m.data_movimentacao, '%Y-%m') as periodo,
                    tm.tipo,
                    SUM(mi.quantidade) as total_quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                WHERE m.status = 'PROCESSADO'
                    AND m.data_movimentacao >= DATE_SUB(CURDATE(), INTERVAL 6 MONTH)
                GROUP BY periodo, tm.tipo
                ORDER BY periodo ASC
Params:  0

[2025-10-19 00:04:13] [DATABASE ERROR] Preparando query: SELECT id, tipo, categoria, documento_numero, data_movimentacao, valor_total, fornecedor, usuario 
                    FROM vw_movimentacoes_recentes 
                    ORDER BY data_movimentacao DESC 
                    LIMIT 10 com parâmetros: []
[2025-10-19 00:04:13] [DATABASE ERROR] Debug PDO após binding: SQL: [235] SELECT id, tipo, categoria, documento_numero, data_movimentacao, valor_total, fornecedor, usuario 
                    FROM vw_movimentacoes_recentes 
                    ORDER BY data_movimentacao DESC 
                    LIMIT 10
Params:  0

[2025-10-19 00:04:27] [DATABASE ERROR] Preparando query: SELECT * FROM produtos WHERE ativo = :value com parâmetros: {":value":1}
[2025-10-19 00:04:27] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-10-19 00:04:27] [DATABASE ERROR] Debug PDO após binding: SQL: [43] SELECT * FROM produtos WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-10-19 00:04:27] [DATABASE ERROR] Preparando query: SELECT * FROM categorias WHERE ativo = :value com parâmetros: {":value":1}
[2025-10-19 00:04:27] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-10-19 00:04:27] [DATABASE ERROR] Debug PDO após binding: SQL: [45] SELECT * FROM categorias WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-10-19 00:04:27] [DATABASE ERROR] Preparando query: SELECT * FROM categorias WHERE ativo = :value com parâmetros: {":value":1}
[2025-10-19 00:04:27] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-10-19 00:04:27] [DATABASE ERROR] Debug PDO após binding: SQL: [45] SELECT * FROM categorias WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-10-19 00:04:27] [DATABASE ERROR] Preparando query: SELECT * FROM unidades_medida com parâmetros: []
[2025-10-19 00:04:27] [DATABASE ERROR] Debug PDO após binding: SQL: [29] SELECT * FROM unidades_medida
Params:  0

[2025-10-19 00:04:27] [DATABASE ERROR] Preparando query: SELECT * FROM fornecedores WHERE ativo = :value com parâmetros: {":value":1}
[2025-10-19 00:04:27] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-10-19 00:04:27] [DATABASE ERROR] Debug PDO após binding: SQL: [47] SELECT * FROM fornecedores WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-10-19 00:04:27] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-10-19 00:04:27] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-10-19 00:04:27] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-10-19 00:04:27] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-10-19 00:04:27] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-10-19 00:04:54] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-10-19 00:04:55] [DATABASE ERROR] Preparando query: 
                SELECT 
                    DATE_FORMAT(m.data_movimentacao, '%Y-%m') as periodo,
                    tm.tipo,
                    SUM(mi.quantidade) as total_quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                WHERE m.status = 'PROCESSADO'
                    AND mi.produto_id = :product_id
                    AND m.data_movimentacao BETWEEN :start_date AND :end_date
                GROUP BY periodo, tm.tipo
                ORDER BY periodo ASC com parâmetros: {":product_id":"3",":start_date":"2025-04-19",":end_date":"2025-10-19"}
[2025-10-19 00:04:55] [DATABASE ERROR] Parâmetro associado: :product_id = 3 (tipo: 2)
[2025-10-19 00:04:55] [DATABASE ERROR] Parâmetro associado: :start_date = 2025-04-19 (tipo: 2)
[2025-10-19 00:04:55] [DATABASE ERROR] Parâmetro associado: :end_date = 2025-10-19 (tipo: 2)
[2025-10-19 00:04:55] [DATABASE ERROR] Debug PDO após binding: SQL: [639] 
                SELECT 
                    DATE_FORMAT(m.data_movimentacao, '%Y-%m') as periodo,
                    tm.tipo,
                    SUM(mi.quantidade) as total_quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                WHERE m.status = 'PROCESSADO'
                    AND mi.produto_id = :product_id
                    AND m.data_movimentacao BETWEEN :start_date AND :end_date
                GROUP BY periodo, tm.tipo
                ORDER BY periodo ASC
Params:  3
Key: Name: [11] :product_id
paramno=0
name=[11] ":product_id"
is_param=1
param_type=2
Key: Name: [11] :start_date
paramno=1
name=[11] ":start_date"
is_param=1
param_type=2
Key: Name: [9] :end_date
paramno=2
name=[9] ":end_date"
is_param=1
param_type=2

[2025-10-19 00:04:55] [DATABASE ERROR] Preparando query: 
                SELECT m.documento_numero, m.data_movimentacao, u.nome_completo as usuario, mi.quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                JOIN usuarios u ON m.usuario_id = u.id
                WHERE tm.tipo = 'ENTRADA' 
                    AND mi.produto_id = :product_id
                    AND m.data_movimentacao BETWEEN :start_date AND :end_date
                ORDER BY m.data_movimentacao DESC com parâmetros: {":product_id":"3",":start_date":"2025-04-19",":end_date":"2025-10-19"}
[2025-10-19 00:04:55] [DATABASE ERROR] Parâmetro associado: :product_id = 3 (tipo: 2)
[2025-10-19 00:04:55] [DATABASE ERROR] Parâmetro associado: :start_date = 2025-04-19 (tipo: 2)
[2025-10-19 00:04:55] [DATABASE ERROR] Parâmetro associado: :end_date = 2025-10-19 (tipo: 2)
[2025-10-19 00:04:55] [DATABASE ERROR] Debug PDO após binding: SQL: [579] 
                SELECT m.documento_numero, m.data_movimentacao, u.nome_completo as usuario, mi.quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                JOIN usuarios u ON m.usuario_id = u.id
                WHERE tm.tipo = 'ENTRADA' 
                    AND mi.produto_id = :product_id
                    AND m.data_movimentacao BETWEEN :start_date AND :end_date
                ORDER BY m.data_movimentacao DESC
Params:  3
Key: Name: [11] :product_id
paramno=0
name=[11] ":product_id"
is_param=1
param_type=2
Key: Name: [11] :start_date
paramno=1
name=[11] ":start_date"
is_param=1
param_type=2
Key: Name: [9] :end_date
paramno=2
name=[9] ":end_date"
is_param=1
param_type=2

[2025-10-19 00:04:55] [DATABASE ERROR] Preparando query: 
                SELECT m.documento_numero, m.data_movimentacao, u.nome_completo as usuario, mi.quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                JOIN usuarios u ON m.usuario_id = u.id
                WHERE tm.tipo = 'SAIDA' 
                    AND mi.produto_id = :product_id
                    AND m.data_movimentacao BETWEEN :start_date AND :end_date
                ORDER BY m.data_movimentacao DESC com parâmetros: {":product_id":"3",":start_date":"2025-04-19",":end_date":"2025-10-19"}
[2025-10-19 00:04:55] [DATABASE ERROR] Parâmetro associado: :product_id = 3 (tipo: 2)
[2025-10-19 00:04:55] [DATABASE ERROR] Parâmetro associado: :start_date = 2025-04-19 (tipo: 2)
[2025-10-19 00:04:55] [DATABASE ERROR] Parâmetro associado: :end_date = 2025-10-19 (tipo: 2)
[2025-10-19 00:04:55] [DATABASE ERROR] Debug PDO após binding: SQL: [577] 
                SELECT m.documento_numero, m.data_movimentacao, u.nome_completo as usuario, mi.quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                JOIN usuarios u ON m.usuario_id = u.id
                WHERE tm.tipo = 'SAIDA' 
                    AND mi.produto_id = :product_id
                    AND m.data_movimentacao BETWEEN :start_date AND :end_date
                ORDER BY m.data_movimentacao DESC
Params:  3
Key: Name: [11] :product_id
paramno=0
name=[11] ":product_id"
is_param=1
param_type=2
Key: Name: [11] :start_date
paramno=1
name=[11] ":start_date"
is_param=1
param_type=2
Key: Name: [9] :end_date
paramno=2
name=[9] ":end_date"
is_param=1
param_type=2

[2025-10-19 00:05:21] [DATABASE ERROR] Preparando query: SELECT * FROM produtos WHERE ativo = :value com parâmetros: {":value":1}
[2025-10-19 00:05:21] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-10-19 00:05:21] [DATABASE ERROR] Debug PDO após binding: SQL: [43] SELECT * FROM produtos WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-10-19 00:05:34] [DATABASE ERROR] Parâmetro associado: :tabela = movimentacoes (tipo: 2)
[2025-10-19 00:05:34] [DATABASE ERROR] Parâmetro associado: :registro_id = 168 (tipo: 2)
[2025-10-19 00:05:34] [DATABASE ERROR] Parâmetro associado: :acao = INSERT (tipo: 2)
[2025-10-19 00:05:34] [DATABASE ERROR] Parâmetro associado: :dados_anteriores = NULL (tipo: 0)
[2025-10-19 00:05:34] [DATABASE ERROR] Parâmetro associado: :dados_novos = {"tipo_movimentacao_id":"1","observacao":"","produtos":{"2":"0","3":"2","4":"0","5":"0","6":"0"},"valor_unitario":{"2":"0","3":"1","4":"0","5":"0","6":"0"}} (tipo: 2)
[2025-10-19 00:05:34] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-10-19 00:05:34] [DATABASE ERROR] Parâmetro associado: :ip_address = 192.168.15.8 (tipo: 2)
[2025-10-19 00:05:34] [DATABASE ERROR] Parâmetro associado: :user_agent = Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36 (tipo: 2)
[2025-10-19 00:05:34] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-10-19 00:05:34] [DATABASE ERROR] Parâmetro associado: :produto_id = 3 (tipo: 1)
[2025-10-19 00:05:34] [DATABASE ERROR] Parâmetro associado: :produto_id = 0 (tipo: 1)
[2025-10-19 00:05:34] [DATABASE ERROR] Parâmetro associado: :produto_id = 2 (tipo: 1)
[2025-10-19 00:05:34] [DATABASE ERROR] Parâmetro associado: :produto_id = 2 (tipo: 1)
[2025-10-19 00:05:34] [DATABASE ERROR] Parâmetro associado: :produto_id = 0 (tipo: 1)
[2025-10-19 00:05:34] [DATABASE ERROR] Parâmetro associado: :produto_id = 0 (tipo: 1)
[2025-10-19 00:05:34] [DATABASE ERROR] Parâmetro associado: :produto_id = 0 (tipo: 1)
[2025-10-19 00:05:35] [DATABASE ERROR] Preparando query: SELECT * FROM produtos WHERE ativo = :value com parâmetros: {":value":1}
[2025-10-19 00:05:35] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-10-19 00:05:35] [DATABASE ERROR] Debug PDO após binding: SQL: [43] SELECT * FROM produtos WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-10-19 00:05:35] [DATABASE ERROR] Preparando query: SELECT * FROM categorias WHERE ativo = :value com parâmetros: {":value":1}
[2025-10-19 00:05:35] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-10-19 00:05:35] [DATABASE ERROR] Debug PDO após binding: SQL: [45] SELECT * FROM categorias WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-10-19 00:05:35] [DATABASE ERROR] Preparando query: SELECT * FROM categorias WHERE ativo = :value com parâmetros: {":value":1}
[2025-10-19 00:05:35] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-10-19 00:05:35] [DATABASE ERROR] Debug PDO após binding: SQL: [45] SELECT * FROM categorias WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-10-19 00:05:35] [DATABASE ERROR] Preparando query: SELECT * FROM unidades_medida com parâmetros: []
[2025-10-19 00:05:35] [DATABASE ERROR] Debug PDO após binding: SQL: [29] SELECT * FROM unidades_medida
Params:  0

[2025-10-19 00:05:35] [DATABASE ERROR] Preparando query: SELECT * FROM fornecedores WHERE ativo = :value com parâmetros: {":value":1}
[2025-10-19 00:05:35] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-10-19 00:05:35] [DATABASE ERROR] Debug PDO após binding: SQL: [47] SELECT * FROM fornecedores WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-10-19 00:05:35] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-10-19 00:05:35] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-10-19 00:05:35] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-10-19 00:05:35] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-10-19 00:05:35] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-10-19 00:05:43] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-10-19 00:05:43] [DATABASE ERROR] Preparando query: SELECT id, codigo, nome, estoque_atual, estoque_minimo, categoria, fornecedor 
                    FROM vw_produtos_estoque_critico 
                    ORDER BY estoque_atual ASC 
                    LIMIT 10 com parâmetros: []
[2025-10-19 00:05:43] [DATABASE ERROR] Debug PDO após binding: SQL: [212] SELECT id, codigo, nome, estoque_atual, estoque_minimo, categoria, fornecedor 
                    FROM vw_produtos_estoque_critico 
                    ORDER BY estoque_atual ASC 
                    LIMIT 10
Params:  0

[2025-10-19 00:05:43] [DATABASE ERROR] Preparando query: SELECT SUM(estoque_atual) as total_estoque FROM produtos WHERE ativo = TRUE com parâmetros: []
[2025-10-19 00:05:43] [DATABASE ERROR] Debug PDO após binding: SQL: [75] SELECT SUM(estoque_atual) as total_estoque FROM produtos WHERE ativo = TRUE
Params:  0

[2025-10-19 00:05:43] [DATABASE ERROR] Preparando query: SELECT id FROM produtos WHERE ativo = TRUE com parâmetros: []
[2025-10-19 00:05:43] [DATABASE ERROR] Debug PDO após binding: SQL: [42] SELECT id FROM produtos WHERE ativo = TRUE
Params:  0

[2025-10-19 00:05:43] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":2,":data_fim_a":null,":data_fim":null}
[2025-10-19 00:05:43] [DATABASE ERROR] Parâmetro associado: :produto_id = 2 (tipo: 1)
[2025-10-19 00:05:43] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-10-19 00:05:43] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-10-19 00:05:44] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-10-19 00:05:44] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":2}
[2025-10-19 00:05:44] [DATABASE ERROR] Parâmetro associado: :id = 2 (tipo: 1)
[2025-10-19 00:05:44] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-19 00:05:44] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":3,":data_fim_a":null,":data_fim":null}
[2025-10-19 00:05:44] [DATABASE ERROR] Parâmetro associado: :produto_id = 3 (tipo: 1)
[2025-10-19 00:05:44] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-10-19 00:05:44] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-10-19 00:05:44] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-10-19 00:05:44] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":3}
[2025-10-19 00:05:44] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-10-19 00:05:44] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-19 00:05:44] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":4,":data_fim_a":null,":data_fim":null}
[2025-10-19 00:05:44] [DATABASE ERROR] Parâmetro associado: :produto_id = 4 (tipo: 1)
[2025-10-19 00:05:44] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-10-19 00:05:44] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-10-19 00:05:44] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-10-19 00:05:44] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":4}
[2025-10-19 00:05:44] [DATABASE ERROR] Parâmetro associado: :id = 4 (tipo: 1)
[2025-10-19 00:05:44] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-19 00:05:44] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":5,":data_fim_a":null,":data_fim":null}
[2025-10-19 00:05:44] [DATABASE ERROR] Parâmetro associado: :produto_id = 5 (tipo: 1)
[2025-10-19 00:05:44] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-10-19 00:05:44] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-10-19 00:05:44] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-10-19 00:05:44] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":5}
[2025-10-19 00:05:44] [DATABASE ERROR] Parâmetro associado: :id = 5 (tipo: 1)
[2025-10-19 00:05:44] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-19 00:05:44] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":6,":data_fim_a":null,":data_fim":null}
[2025-10-19 00:05:44] [DATABASE ERROR] Parâmetro associado: :produto_id = 6 (tipo: 1)
[2025-10-19 00:05:44] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-10-19 00:05:44] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-10-19 00:05:44] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-10-19 00:05:44] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":6}
[2025-10-19 00:05:44] [DATABASE ERROR] Parâmetro associado: :id = 6 (tipo: 1)
[2025-10-19 00:05:44] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-19 00:05:44] [DATABASE ERROR] Preparando query: 
                SELECT 
                    DATE_FORMAT(m.data_movimentacao, '%Y-%m') as periodo,
                    tm.tipo,
                    SUM(mi.quantidade) as total_quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                WHERE m.status = 'PROCESSADO'
                    AND m.data_movimentacao >= DATE_SUB(CURDATE(), INTERVAL 6 MONTH)
                GROUP BY periodo, tm.tipo
                ORDER BY periodo ASC com parâmetros: []
[2025-10-19 00:05:44] [DATABASE ERROR] Debug PDO após binding: SQL: [593] 
                SELECT 
                    DATE_FORMAT(m.data_movimentacao, '%Y-%m') as periodo,
                    tm.tipo,
                    SUM(mi.quantidade) as total_quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                WHERE m.status = 'PROCESSADO'
                    AND m.data_movimentacao >= DATE_SUB(CURDATE(), INTERVAL 6 MONTH)
                GROUP BY periodo, tm.tipo
                ORDER BY periodo ASC
Params:  0

[2025-10-19 00:05:44] [DATABASE ERROR] Preparando query: SELECT id, tipo, categoria, documento_numero, data_movimentacao, valor_total, fornecedor, usuario 
                    FROM vw_movimentacoes_recentes 
                    ORDER BY data_movimentacao DESC 
                    LIMIT 10 com parâmetros: []
[2025-10-19 00:05:44] [DATABASE ERROR] Debug PDO após binding: SQL: [235] SELECT id, tipo, categoria, documento_numero, data_movimentacao, valor_total, fornecedor, usuario 
                    FROM vw_movimentacoes_recentes 
                    ORDER BY data_movimentacao DESC 
                    LIMIT 10
Params:  0

[2025-10-19 00:05:53] [DATABASE ERROR] Preparando query: SELECT * FROM produtos WHERE ativo = :value com parâmetros: {":value":1}
[2025-10-19 00:05:53] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-10-19 00:05:53] [DATABASE ERROR] Debug PDO após binding: SQL: [43] SELECT * FROM produtos WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-10-19 00:05:53] [DATABASE ERROR] Preparando query: SELECT * FROM categorias WHERE ativo = :value com parâmetros: {":value":1}
[2025-10-19 00:05:53] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-10-19 00:05:53] [DATABASE ERROR] Debug PDO após binding: SQL: [45] SELECT * FROM categorias WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-10-19 00:05:53] [DATABASE ERROR] Preparando query: SELECT * FROM categorias WHERE ativo = :value com parâmetros: {":value":1}
[2025-10-19 00:05:53] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-10-19 00:05:53] [DATABASE ERROR] Debug PDO após binding: SQL: [45] SELECT * FROM categorias WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-10-19 00:05:53] [DATABASE ERROR] Preparando query: SELECT * FROM unidades_medida com parâmetros: []
[2025-10-19 00:05:53] [DATABASE ERROR] Debug PDO após binding: SQL: [29] SELECT * FROM unidades_medida
Params:  0

[2025-10-19 00:05:53] [DATABASE ERROR] Preparando query: SELECT * FROM fornecedores WHERE ativo = :value com parâmetros: {":value":1}
[2025-10-19 00:05:53] [DATABASE ERROR] Parâmetro associado: :value = 1 (tipo: 1)
[2025-10-19 00:05:53] [DATABASE ERROR] Debug PDO após binding: SQL: [47] SELECT * FROM fornecedores WHERE ativo = :value
Params:  1
Key: Name: [6] :value
paramno=0
name=[6] ":value"
is_param=1
param_type=1

[2025-10-19 00:05:53] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-10-19 00:05:53] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-10-19 00:05:53] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-10-19 00:05:53] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-10-19 00:05:53] [DATABASE ERROR] Parâmetro associado: :id = 1 (tipo: 1)
[2025-10-19 00:05:56] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-10-19 00:05:56] [DATABASE ERROR] Preparando query: 
                SELECT 
                    DATE_FORMAT(m.data_movimentacao, '%Y-%m') as periodo,
                    tm.tipo,
                    SUM(mi.quantidade) as total_quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                WHERE m.status = 'PROCESSADO'
                    AND mi.produto_id = :product_id
                    AND m.data_movimentacao BETWEEN :start_date AND :end_date
                GROUP BY periodo, tm.tipo
                ORDER BY periodo ASC com parâmetros: {":product_id":"3",":start_date":"2025-04-19",":end_date":"2025-10-19"}
[2025-10-19 00:05:56] [DATABASE ERROR] Parâmetro associado: :product_id = 3 (tipo: 2)
[2025-10-19 00:05:56] [DATABASE ERROR] Parâmetro associado: :start_date = 2025-04-19 (tipo: 2)
[2025-10-19 00:05:56] [DATABASE ERROR] Parâmetro associado: :end_date = 2025-10-19 (tipo: 2)
[2025-10-19 00:05:56] [DATABASE ERROR] Debug PDO após binding: SQL: [639] 
                SELECT 
                    DATE_FORMAT(m.data_movimentacao, '%Y-%m') as periodo,
                    tm.tipo,
                    SUM(mi.quantidade) as total_quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                WHERE m.status = 'PROCESSADO'
                    AND mi.produto_id = :product_id
                    AND m.data_movimentacao BETWEEN :start_date AND :end_date
                GROUP BY periodo, tm.tipo
                ORDER BY periodo ASC
Params:  3
Key: Name: [11] :product_id
paramno=0
name=[11] ":product_id"
is_param=1
param_type=2
Key: Name: [11] :start_date
paramno=1
name=[11] ":start_date"
is_param=1
param_type=2
Key: Name: [9] :end_date
paramno=2
name=[9] ":end_date"
is_param=1
param_type=2

[2025-10-19 00:05:56] [DATABASE ERROR] Preparando query: 
                SELECT m.documento_numero, m.data_movimentacao, u.nome_completo as usuario, mi.quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                JOIN usuarios u ON m.usuario_id = u.id
                WHERE tm.tipo = 'ENTRADA' 
                    AND mi.produto_id = :product_id
                    AND m.data_movimentacao BETWEEN :start_date AND :end_date
                ORDER BY m.data_movimentacao DESC com parâmetros: {":product_id":"3",":start_date":"2025-04-19",":end_date":"2025-10-19"}
[2025-10-19 00:05:56] [DATABASE ERROR] Parâmetro associado: :product_id = 3 (tipo: 2)
[2025-10-19 00:05:56] [DATABASE ERROR] Parâmetro associado: :start_date = 2025-04-19 (tipo: 2)
[2025-10-19 00:05:56] [DATABASE ERROR] Parâmetro associado: :end_date = 2025-10-19 (tipo: 2)
[2025-10-19 00:05:56] [DATABASE ERROR] Debug PDO após binding: SQL: [579] 
                SELECT m.documento_numero, m.data_movimentacao, u.nome_completo as usuario, mi.quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                JOIN usuarios u ON m.usuario_id = u.id
                WHERE tm.tipo = 'ENTRADA' 
                    AND mi.produto_id = :product_id
                    AND m.data_movimentacao BETWEEN :start_date AND :end_date
                ORDER BY m.data_movimentacao DESC
Params:  3
Key: Name: [11] :product_id
paramno=0
name=[11] ":product_id"
is_param=1
param_type=2
Key: Name: [11] :start_date
paramno=1
name=[11] ":start_date"
is_param=1
param_type=2
Key: Name: [9] :end_date
paramno=2
name=[9] ":end_date"
is_param=1
param_type=2

[2025-10-19 00:05:56] [DATABASE ERROR] Preparando query: 
                SELECT m.documento_numero, m.data_movimentacao, u.nome_completo as usuario, mi.quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                JOIN usuarios u ON m.usuario_id = u.id
                WHERE tm.tipo = 'SAIDA' 
                    AND mi.produto_id = :product_id
                    AND m.data_movimentacao BETWEEN :start_date AND :end_date
                ORDER BY m.data_movimentacao DESC com parâmetros: {":product_id":"3",":start_date":"2025-04-19",":end_date":"2025-10-19"}
[2025-10-19 00:05:56] [DATABASE ERROR] Parâmetro associado: :product_id = 3 (tipo: 2)
[2025-10-19 00:05:56] [DATABASE ERROR] Parâmetro associado: :start_date = 2025-04-19 (tipo: 2)
[2025-10-19 00:05:56] [DATABASE ERROR] Parâmetro associado: :end_date = 2025-10-19 (tipo: 2)
[2025-10-19 00:05:56] [DATABASE ERROR] Debug PDO após binding: SQL: [577] 
                SELECT m.documento_numero, m.data_movimentacao, u.nome_completo as usuario, mi.quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                JOIN usuarios u ON m.usuario_id = u.id
                WHERE tm.tipo = 'SAIDA' 
                    AND mi.produto_id = :product_id
                    AND m.data_movimentacao BETWEEN :start_date AND :end_date
                ORDER BY m.data_movimentacao DESC
Params:  3
Key: Name: [11] :product_id
paramno=0
name=[11] ":product_id"
is_param=1
param_type=2
Key: Name: [11] :start_date
paramno=1
name=[11] ":start_date"
is_param=1
param_type=2
Key: Name: [9] :end_date
paramno=2
name=[9] ":end_date"
is_param=1
param_type=2

[2025-10-19 00:06:10] [DATABASE ERROR] Preparando query: 
                SELECT 
                    DATE_FORMAT(m.data_movimentacao, '%Y-%m') as periodo,
                    tm.tipo,
                    SUM(mi.quantidade) as total_quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                WHERE m.status = 'PROCESSADO'
                    AND mi.produto_id = :product_id
                    AND m.data_movimentacao BETWEEN :start_date AND :end_date
                GROUP BY periodo, tm.tipo
                ORDER BY periodo ASC com parâmetros: {":product_id":"3",":start_date":"2025-10-01",":end_date":"2025-10-31"}
[2025-10-19 00:06:10] [DATABASE ERROR] Parâmetro associado: :product_id = 3 (tipo: 2)
[2025-10-19 00:06:10] [DATABASE ERROR] Parâmetro associado: :start_date = 2025-10-01 (tipo: 2)
[2025-10-19 00:06:10] [DATABASE ERROR] Parâmetro associado: :end_date = 2025-10-31 (tipo: 2)
[2025-10-19 00:06:10] [DATABASE ERROR] Debug PDO após binding: SQL: [639] 
                SELECT 
                    DATE_FORMAT(m.data_movimentacao, '%Y-%m') as periodo,
                    tm.tipo,
                    SUM(mi.quantidade) as total_quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                WHERE m.status = 'PROCESSADO'
                    AND mi.produto_id = :product_id
                    AND m.data_movimentacao BETWEEN :start_date AND :end_date
                GROUP BY periodo, tm.tipo
                ORDER BY periodo ASC
Params:  3
Key: Name: [11] :product_id
paramno=0
name=[11] ":product_id"
is_param=1
param_type=2
Key: Name: [11] :start_date
paramno=1
name=[11] ":start_date"
is_param=1
param_type=2
Key: Name: [9] :end_date
paramno=2
name=[9] ":end_date"
is_param=1
param_type=2

[2025-10-19 00:06:10] [DATABASE ERROR] Preparando query: 
                SELECT m.documento_numero, m.data_movimentacao, u.nome_completo as usuario, mi.quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                JOIN usuarios u ON m.usuario_id = u.id
                WHERE tm.tipo = 'ENTRADA' 
                    AND mi.produto_id = :product_id
                    AND m.data_movimentacao BETWEEN :start_date AND :end_date
                ORDER BY m.data_movimentacao DESC com parâmetros: {":product_id":"3",":start_date":"2025-10-01",":end_date":"2025-10-31"}
[2025-10-19 00:06:10] [DATABASE ERROR] Parâmetro associado: :product_id = 3 (tipo: 2)
[2025-10-19 00:06:10] [DATABASE ERROR] Parâmetro associado: :start_date = 2025-10-01 (tipo: 2)
[2025-10-19 00:06:10] [DATABASE ERROR] Parâmetro associado: :end_date = 2025-10-31 (tipo: 2)
[2025-10-19 00:06:10] [DATABASE ERROR] Debug PDO após binding: SQL: [579] 
                SELECT m.documento_numero, m.data_movimentacao, u.nome_completo as usuario, mi.quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                JOIN usuarios u ON m.usuario_id = u.id
                WHERE tm.tipo = 'ENTRADA' 
                    AND mi.produto_id = :product_id
                    AND m.data_movimentacao BETWEEN :start_date AND :end_date
                ORDER BY m.data_movimentacao DESC
Params:  3
Key: Name: [11] :product_id
paramno=0
name=[11] ":product_id"
is_param=1
param_type=2
Key: Name: [11] :start_date
paramno=1
name=[11] ":start_date"
is_param=1
param_type=2
Key: Name: [9] :end_date
paramno=2
name=[9] ":end_date"
is_param=1
param_type=2

[2025-10-19 00:06:10] [DATABASE ERROR] Preparando query: 
                SELECT m.documento_numero, m.data_movimentacao, u.nome_completo as usuario, mi.quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                JOIN usuarios u ON m.usuario_id = u.id
                WHERE tm.tipo = 'SAIDA' 
                    AND mi.produto_id = :product_id
                    AND m.data_movimentacao BETWEEN :start_date AND :end_date
                ORDER BY m.data_movimentacao DESC com parâmetros: {":product_id":"3",":start_date":"2025-10-01",":end_date":"2025-10-31"}
[2025-10-19 00:06:10] [DATABASE ERROR] Parâmetro associado: :product_id = 3 (tipo: 2)
[2025-10-19 00:06:10] [DATABASE ERROR] Parâmetro associado: :start_date = 2025-10-01 (tipo: 2)
[2025-10-19 00:06:10] [DATABASE ERROR] Parâmetro associado: :end_date = 2025-10-31 (tipo: 2)
[2025-10-19 00:06:10] [DATABASE ERROR] Debug PDO após binding: SQL: [577] 
                SELECT m.documento_numero, m.data_movimentacao, u.nome_completo as usuario, mi.quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                JOIN usuarios u ON m.usuario_id = u.id
                WHERE tm.tipo = 'SAIDA' 
                    AND mi.produto_id = :product_id
                    AND m.data_movimentacao BETWEEN :start_date AND :end_date
                ORDER BY m.data_movimentacao DESC
Params:  3
Key: Name: [11] :product_id
paramno=0
name=[11] ":product_id"
is_param=1
param_type=2
Key: Name: [11] :start_date
paramno=1
name=[11] ":start_date"
is_param=1
param_type=2
Key: Name: [9] :end_date
paramno=2
name=[9] ":end_date"
is_param=1
param_type=2

[2025-10-19 00:06:29] [DATABASE ERROR] Preparando query: 
                SELECT 
                    DATE_FORMAT(m.data_movimentacao, '%Y-%m') as periodo,
                    tm.tipo,
                    SUM(mi.quantidade) as total_quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                WHERE m.status = 'PROCESSADO'
                    AND mi.produto_id = :product_id
                    AND m.data_movimentacao BETWEEN :start_date AND :end_date
                GROUP BY periodo, tm.tipo
                ORDER BY periodo ASC com parâmetros: {":product_id":"3",":start_date":"2025-01-01",":end_date":"2025-10-31"}
[2025-10-19 00:06:29] [DATABASE ERROR] Parâmetro associado: :product_id = 3 (tipo: 2)
[2025-10-19 00:06:29] [DATABASE ERROR] Parâmetro associado: :start_date = 2025-01-01 (tipo: 2)
[2025-10-19 00:06:29] [DATABASE ERROR] Parâmetro associado: :end_date = 2025-10-31 (tipo: 2)
[2025-10-19 00:06:29] [DATABASE ERROR] Debug PDO após binding: SQL: [639] 
                SELECT 
                    DATE_FORMAT(m.data_movimentacao, '%Y-%m') as periodo,
                    tm.tipo,
                    SUM(mi.quantidade) as total_quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                WHERE m.status = 'PROCESSADO'
                    AND mi.produto_id = :product_id
                    AND m.data_movimentacao BETWEEN :start_date AND :end_date
                GROUP BY periodo, tm.tipo
                ORDER BY periodo ASC
Params:  3
Key: Name: [11] :product_id
paramno=0
name=[11] ":product_id"
is_param=1
param_type=2
Key: Name: [11] :start_date
paramno=1
name=[11] ":start_date"
is_param=1
param_type=2
Key: Name: [9] :end_date
paramno=2
name=[9] ":end_date"
is_param=1
param_type=2

[2025-10-19 00:06:29] [DATABASE ERROR] Preparando query: 
                SELECT m.documento_numero, m.data_movimentacao, u.nome_completo as usuario, mi.quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                JOIN usuarios u ON m.usuario_id = u.id
                WHERE tm.tipo = 'ENTRADA' 
                    AND mi.produto_id = :product_id
                    AND m.data_movimentacao BETWEEN :start_date AND :end_date
                ORDER BY m.data_movimentacao DESC com parâmetros: {":product_id":"3",":start_date":"2025-01-01",":end_date":"2025-10-31"}
[2025-10-19 00:06:29] [DATABASE ERROR] Parâmetro associado: :product_id = 3 (tipo: 2)
[2025-10-19 00:06:29] [DATABASE ERROR] Parâmetro associado: :start_date = 2025-01-01 (tipo: 2)
[2025-10-19 00:06:29] [DATABASE ERROR] Parâmetro associado: :end_date = 2025-10-31 (tipo: 2)
[2025-10-19 00:06:29] [DATABASE ERROR] Debug PDO após binding: SQL: [579] 
                SELECT m.documento_numero, m.data_movimentacao, u.nome_completo as usuario, mi.quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                JOIN usuarios u ON m.usuario_id = u.id
                WHERE tm.tipo = 'ENTRADA' 
                    AND mi.produto_id = :product_id
                    AND m.data_movimentacao BETWEEN :start_date AND :end_date
                ORDER BY m.data_movimentacao DESC
Params:  3
Key: Name: [11] :product_id
paramno=0
name=[11] ":product_id"
is_param=1
param_type=2
Key: Name: [11] :start_date
paramno=1
name=[11] ":start_date"
is_param=1
param_type=2
Key: Name: [9] :end_date
paramno=2
name=[9] ":end_date"
is_param=1
param_type=2

[2025-10-19 00:06:29] [DATABASE ERROR] Preparando query: 
                SELECT m.documento_numero, m.data_movimentacao, u.nome_completo as usuario, mi.quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                JOIN usuarios u ON m.usuario_id = u.id
                WHERE tm.tipo = 'SAIDA' 
                    AND mi.produto_id = :product_id
                    AND m.data_movimentacao BETWEEN :start_date AND :end_date
                ORDER BY m.data_movimentacao DESC com parâmetros: {":product_id":"3",":start_date":"2025-01-01",":end_date":"2025-10-31"}
[2025-10-19 00:06:29] [DATABASE ERROR] Parâmetro associado: :product_id = 3 (tipo: 2)
[2025-10-19 00:06:29] [DATABASE ERROR] Parâmetro associado: :start_date = 2025-01-01 (tipo: 2)
[2025-10-19 00:06:29] [DATABASE ERROR] Parâmetro associado: :end_date = 2025-10-31 (tipo: 2)
[2025-10-19 00:06:29] [DATABASE ERROR] Debug PDO após binding: SQL: [577] 
                SELECT m.documento_numero, m.data_movimentacao, u.nome_completo as usuario, mi.quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                JOIN usuarios u ON m.usuario_id = u.id
                WHERE tm.tipo = 'SAIDA' 
                    AND mi.produto_id = :product_id
                    AND m.data_movimentacao BETWEEN :start_date AND :end_date
                ORDER BY m.data_movimentacao DESC
Params:  3
Key: Name: [11] :product_id
paramno=0
name=[11] ":product_id"
is_param=1
param_type=2
Key: Name: [11] :start_date
paramno=1
name=[11] ":start_date"
is_param=1
param_type=2
Key: Name: [9] :end_date
paramno=2
name=[9] ":end_date"
is_param=1
param_type=2

[2025-10-19 00:07:15] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-10-19 00:07:16] [DATABASE ERROR] Preparando query: 
                SELECT 
                    DATE_FORMAT(m.data_movimentacao, '%Y-%m') as periodo,
                    tm.tipo,
                    SUM(mi.quantidade) as total_quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                WHERE m.status = 'PROCESSADO'
                    AND mi.produto_id = :product_id
                    AND m.data_movimentacao BETWEEN :start_date AND :end_date
                GROUP BY periodo, tm.tipo
                ORDER BY periodo ASC com parâmetros: {":product_id":"3",":start_date":"2025-04-19",":end_date":"2025-10-19"}
[2025-10-19 00:07:16] [DATABASE ERROR] Parâmetro associado: :product_id = 3 (tipo: 2)
[2025-10-19 00:07:16] [DATABASE ERROR] Parâmetro associado: :start_date = 2025-04-19 (tipo: 2)
[2025-10-19 00:07:16] [DATABASE ERROR] Parâmetro associado: :end_date = 2025-10-19 (tipo: 2)
[2025-10-19 00:07:16] [DATABASE ERROR] Debug PDO após binding: SQL: [639] 
                SELECT 
                    DATE_FORMAT(m.data_movimentacao, '%Y-%m') as periodo,
                    tm.tipo,
                    SUM(mi.quantidade) as total_quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                WHERE m.status = 'PROCESSADO'
                    AND mi.produto_id = :product_id
                    AND m.data_movimentacao BETWEEN :start_date AND :end_date
                GROUP BY periodo, tm.tipo
                ORDER BY periodo ASC
Params:  3
Key: Name: [11] :product_id
paramno=0
name=[11] ":product_id"
is_param=1
param_type=2
Key: Name: [11] :start_date
paramno=1
name=[11] ":start_date"
is_param=1
param_type=2
Key: Name: [9] :end_date
paramno=2
name=[9] ":end_date"
is_param=1
param_type=2

[2025-10-19 00:07:16] [DATABASE ERROR] Preparando query: 
                SELECT m.documento_numero, m.data_movimentacao, u.nome_completo as usuario, mi.quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                JOIN usuarios u ON m.usuario_id = u.id
                WHERE tm.tipo = 'ENTRADA' 
                    AND mi.produto_id = :product_id
                    AND m.data_movimentacao BETWEEN :start_date AND :end_date
                ORDER BY m.data_movimentacao DESC com parâmetros: {":product_id":"3",":start_date":"2025-04-19",":end_date":"2025-10-19"}
[2025-10-19 00:07:16] [DATABASE ERROR] Parâmetro associado: :product_id = 3 (tipo: 2)
[2025-10-19 00:07:16] [DATABASE ERROR] Parâmetro associado: :start_date = 2025-04-19 (tipo: 2)
[2025-10-19 00:07:16] [DATABASE ERROR] Parâmetro associado: :end_date = 2025-10-19 (tipo: 2)
[2025-10-19 00:07:16] [DATABASE ERROR] Debug PDO após binding: SQL: [579] 
                SELECT m.documento_numero, m.data_movimentacao, u.nome_completo as usuario, mi.quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                JOIN usuarios u ON m.usuario_id = u.id
                WHERE tm.tipo = 'ENTRADA' 
                    AND mi.produto_id = :product_id
                    AND m.data_movimentacao BETWEEN :start_date AND :end_date
                ORDER BY m.data_movimentacao DESC
Params:  3
Key: Name: [11] :product_id
paramno=0
name=[11] ":product_id"
is_param=1
param_type=2
Key: Name: [11] :start_date
paramno=1
name=[11] ":start_date"
is_param=1
param_type=2
Key: Name: [9] :end_date
paramno=2
name=[9] ":end_date"
is_param=1
param_type=2

[2025-10-19 00:07:16] [DATABASE ERROR] Preparando query: 
                SELECT m.documento_numero, m.data_movimentacao, u.nome_completo as usuario, mi.quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                JOIN usuarios u ON m.usuario_id = u.id
                WHERE tm.tipo = 'SAIDA' 
                    AND mi.produto_id = :product_id
                    AND m.data_movimentacao BETWEEN :start_date AND :end_date
                ORDER BY m.data_movimentacao DESC com parâmetros: {":product_id":"3",":start_date":"2025-04-19",":end_date":"2025-10-19"}
[2025-10-19 00:07:16] [DATABASE ERROR] Parâmetro associado: :product_id = 3 (tipo: 2)
[2025-10-19 00:07:16] [DATABASE ERROR] Parâmetro associado: :start_date = 2025-04-19 (tipo: 2)
[2025-10-19 00:07:16] [DATABASE ERROR] Parâmetro associado: :end_date = 2025-10-19 (tipo: 2)
[2025-10-19 00:07:16] [DATABASE ERROR] Debug PDO após binding: SQL: [577] 
                SELECT m.documento_numero, m.data_movimentacao, u.nome_completo as usuario, mi.quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                JOIN usuarios u ON m.usuario_id = u.id
                WHERE tm.tipo = 'SAIDA' 
                    AND mi.produto_id = :product_id
                    AND m.data_movimentacao BETWEEN :start_date AND :end_date
                ORDER BY m.data_movimentacao DESC
Params:  3
Key: Name: [11] :product_id
paramno=0
name=[11] ":product_id"
is_param=1
param_type=2
Key: Name: [11] :start_date
paramno=1
name=[11] ":start_date"
is_param=1
param_type=2
Key: Name: [9] :end_date
paramno=2
name=[9] ":end_date"
is_param=1
param_type=2

[2025-10-19 00:07:33] [DATABASE ERROR] Parâmetro associado: :usuario_id = 1 (tipo: 1)
[2025-10-19 00:07:34] [DATABASE ERROR] Preparando query: SELECT id, codigo, nome, estoque_atual, estoque_minimo, categoria, fornecedor 
                    FROM vw_produtos_estoque_critico 
                    ORDER BY estoque_atual ASC 
                    LIMIT 10 com parâmetros: []
[2025-10-19 00:07:34] [DATABASE ERROR] Debug PDO após binding: SQL: [212] SELECT id, codigo, nome, estoque_atual, estoque_minimo, categoria, fornecedor 
                    FROM vw_produtos_estoque_critico 
                    ORDER BY estoque_atual ASC 
                    LIMIT 10
Params:  0

[2025-10-19 00:07:34] [DATABASE ERROR] Preparando query: SELECT id, tipo, categoria, documento_numero, data_movimentacao, valor_total, fornecedor, usuario 
                    FROM vw_movimentacoes_recentes 
                    ORDER BY data_movimentacao DESC 
                    LIMIT 10 com parâmetros: []
[2025-10-19 00:07:34] [DATABASE ERROR] Debug PDO após binding: SQL: [235] SELECT id, tipo, categoria, documento_numero, data_movimentacao, valor_total, fornecedor, usuario 
                    FROM vw_movimentacoes_recentes 
                    ORDER BY data_movimentacao DESC 
                    LIMIT 10
Params:  0

[2025-10-19 00:07:34] [DATABASE ERROR] Preparando query: SELECT SUM(estoque_atual) as total_estoque FROM produtos WHERE ativo = TRUE com parâmetros: []
[2025-10-19 00:07:34] [DATABASE ERROR] Debug PDO após binding: SQL: [75] SELECT SUM(estoque_atual) as total_estoque FROM produtos WHERE ativo = TRUE
Params:  0

[2025-10-19 00:07:34] [DATABASE ERROR] Preparando query: SELECT id FROM produtos WHERE ativo = TRUE com parâmetros: []
[2025-10-19 00:07:34] [DATABASE ERROR] Debug PDO após binding: SQL: [42] SELECT id FROM produtos WHERE ativo = TRUE
Params:  0

[2025-10-19 00:07:34] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":2,":data_fim_a":null,":data_fim":null}
[2025-10-19 00:07:34] [DATABASE ERROR] Parâmetro associado: :produto_id = 2 (tipo: 1)
[2025-10-19 00:07:34] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-10-19 00:07:34] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-10-19 00:07:34] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-10-19 00:07:34] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":2}
[2025-10-19 00:07:34] [DATABASE ERROR] Parâmetro associado: :id = 2 (tipo: 1)
[2025-10-19 00:07:34] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-19 00:07:34] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":3,":data_fim_a":null,":data_fim":null}
[2025-10-19 00:07:34] [DATABASE ERROR] Parâmetro associado: :produto_id = 3 (tipo: 1)
[2025-10-19 00:07:34] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-10-19 00:07:34] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-10-19 00:07:34] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-10-19 00:07:34] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":3}
[2025-10-19 00:07:34] [DATABASE ERROR] Parâmetro associado: :id = 3 (tipo: 1)
[2025-10-19 00:07:34] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-19 00:07:34] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":4,":data_fim_a":null,":data_fim":null}
[2025-10-19 00:07:34] [DATABASE ERROR] Parâmetro associado: :produto_id = 4 (tipo: 1)
[2025-10-19 00:07:34] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-10-19 00:07:34] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-10-19 00:07:34] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-10-19 00:07:34] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":4}
[2025-10-19 00:07:34] [DATABASE ERROR] Parâmetro associado: :id = 4 (tipo: 1)
[2025-10-19 00:07:34] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-19 00:07:34] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":5,":data_fim_a":null,":data_fim":null}
[2025-10-19 00:07:34] [DATABASE ERROR] Parâmetro associado: :produto_id = 5 (tipo: 1)
[2025-10-19 00:07:34] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-10-19 00:07:34] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-10-19 00:07:34] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-10-19 00:07:34] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":5}
[2025-10-19 00:07:34] [DATABASE ERROR] Parâmetro associado: :id = 5 (tipo: 1)
[2025-10-19 00:07:34] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-19 00:07:34] [DATABASE ERROR] Preparando query: 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
         com parâmetros: {":produto_id":6,":data_fim_a":null,":data_fim":null}
[2025-10-19 00:07:34] [DATABASE ERROR] Parâmetro associado: :produto_id = 6 (tipo: 1)
[2025-10-19 00:07:34] [DATABASE ERROR] Parâmetro associado: :data_fim_a = NULL (tipo: 0)
[2025-10-19 00:07:34] [DATABASE ERROR] Parâmetro associado: :data_fim = NULL (tipo: 0)
[2025-10-19 00:07:34] [DATABASE ERROR] Debug PDO após binding: SQL: [539] 
            SELECT 
                mi.valor_unitario,
                mi.quantidade,
                m.criado_em,
                mi.id
            FROM movimentacao_itens mi
            JOIN movimentacoes m ON mi.movimentacao_id = m.id
            JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
            WHERE tm.tipo = 'ENTRADA'
                AND mi.produto_id = :produto_id
                AND (:data_fim_a IS NULL OR m.criado_em <= :data_fim)
            ORDER BY m.criado_em DESC, mi.id ASC;
        
Params:  3
Key: Name: [11] :produto_id
paramno=0
name=[11] ":produto_id"
is_param=1
param_type=1
Key: Name: [11] :data_fim_a
paramno=1
name=[11] ":data_fim_a"
is_param=1
param_type=0
Key: Name: [9] :data_fim
paramno=2
name=[9] ":data_fim"
is_param=1
param_type=0

[2025-10-19 00:07:34] [DATABASE ERROR] Preparando query: SELECT estoque_atual FROM produtos WHERE id = :id com parâmetros: {":id":6}
[2025-10-19 00:07:34] [DATABASE ERROR] Parâmetro associado: :id = 6 (tipo: 1)
[2025-10-19 00:07:34] [DATABASE ERROR] Debug PDO após binding: SQL: [49] SELECT estoque_atual FROM produtos WHERE id = :id
Params:  1
Key: Name: [3] :id
paramno=0
name=[3] ":id"
is_param=1
param_type=1

[2025-10-19 00:07:35] [DATABASE ERROR] Preparando query: 
                SELECT 
                    DATE_FORMAT(m.data_movimentacao, '%Y-%m') as periodo,
                    tm.tipo,
                    SUM(mi.quantidade) as total_quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                WHERE m.status = 'PROCESSADO'
                    AND m.data_movimentacao >= DATE_SUB(CURDATE(), INTERVAL 6 MONTH)
                GROUP BY periodo, tm.tipo
                ORDER BY periodo ASC com parâmetros: []
[2025-10-19 00:07:35] [DATABASE ERROR] Debug PDO após binding: SQL: [593] 
                SELECT 
                    DATE_FORMAT(m.data_movimentacao, '%Y-%m') as periodo,
                    tm.tipo,
                    SUM(mi.quantidade) as total_quantidade
                FROM movimentacoes m
                JOIN movimentacao_itens mi ON m.id = mi.movimentacao_id
                JOIN tipos_movimentacao tm ON m.tipo_movimentacao_id = tm.id
                WHERE m.status = 'PROCESSADO'
                    AND m.data_movimentacao >= DATE_SUB(CURDATE(), INTERVAL 6 MONTH)
                GROUP BY periodo, tm.tipo
                ORDER BY periodo ASC
Params:  0

